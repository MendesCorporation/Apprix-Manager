var mD=Object.defineProperty;var vD=(e,t,n)=>t in e?mD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Tt=(e,t,n)=>vD(e,typeof t!="symbol"?t+"":t,n);import{_ as nn,r as It,c as ne,o as X,b as qn,d as ye,w as Fn,e as lt,m as Yn,F as $o,f as Za,n as Yt,g as Et,h as Pv,i as _r,j as Z,p as Lp,k as De,l as st,q as ra,s as y3,v as CD,N as mc,t as Uo,u as In,x as lh,y as bC,z as bD,A as w3,B as Xs,E as yD,C as S3,D as wD,G as Gs,H as x3,I as ww,J as SD,K as xD,L as ED,M as kD,O as FD,P as w0,Q as TD,R as S0,S as AD,T as RD,U as E3,V as Sw,W as vc,X as k3,Y as F3,Z as jo,$ as T3,a0 as A3,a1 as Cc,a2 as yC,a3 as R3,a4 as D3,a5 as M3,a6 as DD,a7 as rc,a8 as wC,a9 as MD,aa as Np,ab as uh,ac as PD,ad as xw,ae as ID,af as OD,ag as LD,ah as ND,ai as BD,aj as Ew,ak as zD,al as HD,am as VD,an as _D,a as Ft}from"./main-NMbsWZXH.js";import{e as GD,a as WD}from"./wwElement-BPtqLf39.js";import{e as $D,a as UD,b as jD,c as qD,d as KD,f as YD,g as XD,s as JD}from"./wwSection-C_XdDeQh.js";import{e as ZD,a as QD}from"./wwElement-evdrtAz_.js";const eM={props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["trigger-event","update:content:effect"],setup(e,{emit:t}){const n=Et([]),i=Pv({label:"Uncategorized",value:null,items:[]});Lp("customHandler",(u,{stack:c,updatedStackItems:d})=>{u.moved&&t("trigger-event",{name:"item:moved",event:{item:u.moved.element,from:c,to:c,oldIndex:u.moved.oldIndex,newIndex:u.moved.newIndex,updatedList:d}}),u.added&&t("trigger-event",{name:"item:moved",event:{item:u.added.element,from:wwLib.resolveObjectPropertyPath(u.added.element,e.content.stackedBy),to:c,oldIndex:null,newIndex:u.added.newIndex,updatedList:d}})});const r=Pv({});Lp("customDragHandler",(u,{stack:c})=>r[c]=u);const{setValue:o}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"isDragging",type:"boolean",defaultValue:!1,readonly:!0});_r(r,u=>{o(Object.values(u).some(c=>c))},{deep:!0});const s=Z(()=>Object.values(r).some(u=>u)),a=Z(()=>`* { cursor: ${e.content.draggingCursor||"grabbing"} !important; }`),l=wwLib.getFrontDocument().createElement("style");return _r(s,u=>{u?(l.appendChild(wwLib.getFrontDocument().createTextNode(a.value)),wwLib.getFrontDocument().body.appendChild(l)):l.remove()},{deep:!0}),{internalStacks:n,uncategorizedStack:i}},computed:{stacks(){const e=wwLib.wwCollection.getCollectionData(this.content.stacks);return Array.isArray(e)?e:[]},items(){const e=wwLib.wwCollection.getCollectionData(this.content.items);return Array.isArray(e)?e:[]},stackConfig(){return{sortable:this.content.sortable,group:"kanban-"+this.uid,itemKey:this.content.itemKey,handle:this.content.customDragHandle?this.content.handleClass||"draggable":null,readonly:this.content.readonly}},kanbanStyle(){return{"--wrap-stacks":this.content.wrapStacks?"wrap":"nowrap"}},isReadonly(){return this.content.readonly}},watch:{"content.stackValue"(){this.refreshStacks()},"content.stackedBy"(){this.refreshStacks()},"content.sortedBy"(){this.refreshStacks()},"content.sortOrder"(){this.refreshStacks()},"content.stacks":{handler(){this.refreshStacks()},deep:!0},stacks(){this.refreshStacks()},items:{handler(){this.refreshStacks()},deep:!0},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}}},methods:{refreshStacks(){this.internalStacks=this.stacks.map(t=>({label:wwLib.resolveObjectPropertyPath(t,this.content.stackLabel||"label")??"",value:wwLib.resolveObjectPropertyPath(t,this.content.stackValue||"value")??""})).map(t=>({...t,items:this.items.filter(n=>wwLib.resolveObjectPropertyPath(n,this.content.stackedBy)===t.value).sort((n,i)=>{if(!this.content.sortedBy)return 0;const r=wwLib.resolveObjectPropertyPath(n,this.content.sortedBy),o=wwLib.resolveObjectPropertyPath(i,this.content.sortedBy);return this.content.sortOrder==="asc"?r>o?1:-1:r>o?-1:1})}));const e=this.stacks.map(t=>wwLib.resolveObjectPropertyPath(t,this.content.stackValue||"value"));this.uncategorizedStack.items=this.items.filter(t=>!e.includes(wwLib.resolveObjectPropertyPath(t,this.content.stackedBy)))}},created(){this.refreshStacks()}};function tM(e,t,n,i,r,o){const s=It("wwElement",!0),a=It("wwLayoutItemContext");return X(),ne("div",{class:"ww-kanban",style:Yt(o.kanbanStyle)},[n.content.uncategorizedStack?(X(),qn(a,{key:0,index:0,item:null,data:i.uncategorizedStack,"is-repeat":""},{default:Fn(()=>[lt(s,Yn(n.content.stackElement,{"ww-props":{...o.stackConfig,items:i.uncategorizedStack.items,stack:null},class:"ww-kanban-stack",states:e.isDragging?["dragging"]:[]}),null,16,["ww-props","states"])]),_:1},8,["data"])):ye("",!0),(X(!0),ne($o,null,Za(i.internalStacks,(l,u)=>(X(),qn(a,{key:"ww-stack-"+u,index:u,item:null,"is-repeat":"",data:l,"repeated-items":i.internalStacks},{default:Fn(()=>[lt(s,Yn({ref_for:!0},n.content.stackElement,{"ww-props":{...o.stackConfig,items:l.items,stack:l.value},class:"ww-kanban-stack",states:e.isDragging?["dragging"]:[]}),null,16,["ww-props","states"])]),_:2},1032,["index","data","repeated-items"]))),128))],4)}const nM=nn(eM,[["render",tM],["__scopeId","data-v-c356e104"]]),iM={props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content:effect","trigger-event","add-state","remove-state"],setup(e,{emit:t}){const{value:n,setValue:i}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"boolean",defaultValue:Z(()=>e.content.value===void 0?!1:e.content.value)}),r=ra("_wwForm:useForm",()=>{}),o=Z(()=>e.content.fieldName),s=Z(()=>e.content.validation),a=Z(()=>e.content.customValidation),l=Z(()=>e.content.required);return r(n,{fieldName:o,validation:s,customValidation:a,required:l,initialValue:Z(()=>e.content.value)},{elementState:e.wwElementState,emit:t,sidepanelFormPath:"form",setValue:i}),{variableValue:n,setValue:i}},computed:{isEditing(){return!1},value(){return!!this.variableValue},cssVariables(){const e=wwLib.wwUtils.getLengthUnit(this.content.selectorSize)[0],t=Math.min(Math.max(e,10),100),n=t/100,i=100-t;return{"--selector-size":n,"--transition-ajustement":`${i}%`,"--selector-color-off":this.content.selectorColorOff,"--selector-color-on":this.content.selectorColorOn,"--background-color":this.value?this.content.backgroundColorOn:this.content.backgroundColorOff}},isReadonly(){return this.wwElementState.props.readonly===void 0?this.content.readonly:this.wwElementState.props.readonly}},watch:{"content.value"(e){e=!!e,e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}))},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}}},methods:{handleManualInput(e){const t=!this.value;this.setValue(t),this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:t}})}}},rM=["aria-checked","disabled"],oM=["value","name","checked","required","disabled"];function sM(e,t,n,i,r,o){return X(),ne("button",{type:"button",class:st(["ww-webapp-toggle",{"-active":o.value}]),role:"switch","aria-checked":o.value,style:Yt(o.cssVariables),onClick:t[0]||(t[0]=s=>o.handleManualInput(s)),disabled:o.isReadonly},[De("div",{class:st(["selector",{"-active":o.value}])},null,2),De("input",{type:"checkbox",value:o.value,class:"ww-webapp-toggle__hidden",name:n.wwElementState.name,checked:o.value,required:n.content.required,disabled:o.isReadonly},null,8,oM)],14,rM)}const aM=nn(iM,[["render",sM],["__scopeId","data-v-11c067a6"]]),lM={props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},data(){return{editLayout:!1}},emits:["update:content:effect","trigger-event","add-state","remove-state"],setup(e){const{value:t,setValue:n}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"boolean",defaultValue:Z(()=>e.content.value===void 0?!1:e.content.value)});return{variableValue:t,setValue:n}},computed:{isEditing(){return!1},value(){return!!this.variableValue}},watch:{"content.value"(e){e=!!e,e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}))},isEditing(){this.editLayout=!1}},mounted(){this.editLayout=!1},beforeUnmount(){this.editLayout=!1},methods:{handleManualInput(e){if(this.isEditing)return;const t=!this.value;this.setValue(t),this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:t}})},toggleEdit(){this.editLayout=!this.editLayout}}},uM={class:"ww-expand"},cM={key:0,class:"unactive-toggle"},dM={key:0,class:"label unactive label-xs normal"},hM={key:1,class:"active-toggle"},pM={key:0,class:"label active label-xs normal"},fM={class:"content"},gM={key:0,class:"label content label-xs normal"};function mM(e,t,n,i,r,o){const s=It("wwLayout"),a=It("wwExpandTransition");return X(),ne("div",uM,[De("div",{class:"toggle-container",onClick:t[0]||(t[0]=l=>o.handleManualInput(l))},[!o.value||r.editLayout?(X(),ne("div",cM,[r.editLayout?(X(),ne("div",dM,"closed")):ye("",!0),lt(s,{class:"layout toggle-layout",path:"activeToggleLayout"})])):ye("",!0),o.value||r.editLayout?(X(),ne("div",hM,[r.editLayout?(X(),ne("div",pM,"opened")):ye("",!0),lt(s,{class:"layout toggle-layout",path:"toggleLayout"})])):ye("",!0)]),lt(a,null,{default:Fn(()=>[y3(De("div",fM,[r.editLayout?(X(),ne("div",gM,"content")):ye("",!0),lt(s,{class:"layout content-layout",path:"contentLayout"})],512),[[CD,o.value||o.isEditing]])]),_:1})])}const vM=nn(lM,[["render",mM],["__scopeId","data-v-7a0a385c"]]);function SC(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let fl=SC();function P3(e){fl=e}const I3=/[&<>"']/,CM=new RegExp(I3.source,"g"),O3=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,bM=new RegExp(O3.source,"g"),yM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},kw=e=>yM[e];function Ui(e,t){if(t){if(I3.test(e))return e.replace(CM,kw)}else if(O3.test(e))return e.replace(bM,kw);return e}const wM=/(^|[^\[])\^/g;function kt(e,t){let n=typeof e=="string"?e:e.source;t=t||"";const i={replace:(r,o)=>{let s=typeof o=="string"?o:o.source;return s=s.replace(wM,"$1"),n=n.replace(r,s),i},getRegex:()=>new RegExp(n,t)};return i}function Fw(e){try{e=encodeURI(e).replace(/%25/g,"%")}catch{return null}return e}const bc={exec:()=>null};function Tw(e,t){const n=e.replace(/\|/g,(o,s,a)=>{let l=!1,u=s;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),i=n.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i.length>0&&!i[i.length-1].trim()&&i.pop(),t)if(i.length>t)i.splice(t);else for(;i.length<t;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function Wu(e,t,n){const i=e.length;if(i===0)return"";let r=0;for(;r<i&&e.charAt(i-r-1)===t;)r++;return e.slice(0,i-r)}function SM(e,t){if(e.indexOf(t[1])===-1)return-1;let n=0;for(let i=0;i<e.length;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])n++;else if(e[i]===t[1]&&(n--,n<0))return i;return-1}function Aw(e,t,n,i){const r=t.href,o=t.title?Ui(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:n,href:r,title:o,text:s,tokens:i.inlineTokens(s)};return i.state.inLink=!1,a}return{type:"image",raw:n,href:r,title:o,text:Ui(s)}}function xM(e,t){const n=e.match(/^(\s+)(?:```)/);if(n===null)return t;const i=n[1];return t.split(`
`).map(r=>{const o=r.match(/^\s+/);if(o===null)return r;const[s]=o;return s.length>=i.length?r.slice(i.length):r}).join(`
`)}class Bp{constructor(t){Tt(this,"options");Tt(this,"rules");Tt(this,"lexer");this.options=t||fl}space(t){const n=this.rules.block.newline.exec(t);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(t){const n=this.rules.block.code.exec(t);if(n){const i=n[0].replace(/^(?: {1,4}| {0,3}\t)/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Wu(i,`
`)}}}fences(t){const n=this.rules.block.fences.exec(t);if(n){const i=n[0],r=xM(i,n[3]||"");return{type:"code",raw:i,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:r}}}heading(t){const n=this.rules.block.heading.exec(t);if(n){let i=n[2].trim();if(/#$/.test(i)){const r=Wu(i,"#");(this.options.pedantic||!r||/ $/.test(r))&&(i=r.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(t){const n=this.rules.block.hr.exec(t);if(n)return{type:"hr",raw:Wu(n[0],`
`)}}blockquote(t){const n=this.rules.block.blockquote.exec(t);if(n){let i=Wu(n[0],`
`).split(`
`),r="",o="";const s=[];for(;i.length>0;){let a=!1;const l=[];let u;for(u=0;u<i.length;u++)if(/^ {0,3}>/.test(i[u]))l.push(i[u]),a=!0;else if(!a)l.push(i[u]);else break;i=i.slice(u);const c=l.join(`
`),d=c.replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`).replace(/^ {0,3}>[ \t]?/gm,"");r=r?`${r}
${c}`:c,o=o?`${o}
${d}`:d;const h=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(d,s,!0),this.lexer.state.top=h,i.length===0)break;const p=s[s.length-1];if((p==null?void 0:p.type)==="code")break;if((p==null?void 0:p.type)==="blockquote"){const f=p,g=f.raw+`
`+i.join(`
`),m=this.blockquote(g);s[s.length-1]=m,r=r.substring(0,r.length-f.raw.length)+m.raw,o=o.substring(0,o.length-f.text.length)+m.text;break}else if((p==null?void 0:p.type)==="list"){const f=p,g=f.raw+`
`+i.join(`
`),m=this.list(g);s[s.length-1]=m,r=r.substring(0,r.length-p.raw.length)+m.raw,o=o.substring(0,o.length-f.raw.length)+m.raw,i=g.substring(s[s.length-1].raw.length).split(`
`);continue}}return{type:"blockquote",raw:r,tokens:s,text:o}}}list(t){let n=this.rules.block.list.exec(t);if(n){let i=n[1].trim();const r=i.length>1,o={type:"list",raw:"",ordered:r,start:r?+i.slice(0,-1):"",loose:!1,items:[]};i=r?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=r?i:"[*+-]");const s=new RegExp(`^( {0,3}${i})((?:[	 ][^\\n]*)?(?:\\n|$))`);let a=!1;for(;t;){let l=!1,u="",c="";if(!(n=s.exec(t))||this.rules.block.hr.test(t))break;u=n[0],t=t.substring(u.length);let d=n[2].split(`
`,1)[0].replace(/^\t+/,v=>" ".repeat(3*v.length)),h=t.split(`
`,1)[0],p=!d.trim(),f=0;if(this.options.pedantic?(f=2,c=d.trimStart()):p?f=n[1].length+1:(f=n[2].search(/[^ ]/),f=f>4?1:f,c=d.slice(f),f+=n[1].length),p&&/^[ \t]*$/.test(h)&&(u+=h+`
`,t=t.substring(h.length+1),l=!0),!l){const v=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,f-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),S=new RegExp(`^ {0,${Math.min(3,f-1)}}(?:\`\`\`|~~~)`),y=new RegExp(`^ {0,${Math.min(3,f-1)}}#`),x=new RegExp(`^ {0,${Math.min(3,f-1)}}<(?:[a-z].*>|!--)`,"i");for(;t;){const E=t.split(`
`,1)[0];let R;if(h=E,this.options.pedantic?(h=h.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  "),R=h):R=h.replace(/\t/g,"    "),S.test(h)||y.test(h)||x.test(h)||v.test(h)||b.test(h))break;if(R.search(/[^ ]/)>=f||!h.trim())c+=`
`+R.slice(f);else{if(p||d.replace(/\t/g,"    ").search(/[^ ]/)>=4||S.test(d)||y.test(d)||b.test(d))break;c+=`
`+h}!p&&!h.trim()&&(p=!0),u+=E+`
`,t=t.substring(E.length+1),d=R.slice(f)}}o.loose||(a?o.loose=!0:/\n[ \t]*\n[ \t]*$/.test(u)&&(a=!0));let g=null,m;this.options.gfm&&(g=/^\[[ xX]\] /.exec(c),g&&(m=g[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),o.items.push({type:"list_item",raw:u,task:!!g,checked:m,loose:!1,text:c,tokens:[]}),o.raw+=u}o.items[o.items.length-1].raw=o.items[o.items.length-1].raw.trimEnd(),o.items[o.items.length-1].text=o.items[o.items.length-1].text.trimEnd(),o.raw=o.raw.trimEnd();for(let l=0;l<o.items.length;l++)if(this.lexer.state.top=!1,o.items[l].tokens=this.lexer.blockTokens(o.items[l].text,[]),!o.loose){const u=o.items[l].tokens.filter(d=>d.type==="space"),c=u.length>0&&u.some(d=>/\n.*\n/.test(d.raw));o.loose=c}if(o.loose)for(let l=0;l<o.items.length;l++)o.items[l].loose=!0;return o}}html(t){const n=this.rules.block.html.exec(t);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(t){const n=this.rules.block.def.exec(t);if(n){const i=n[1].toLowerCase().replace(/\s+/g," "),r=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",o=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:i,raw:n[0],href:r,title:o}}}table(t){const n=this.rules.block.table.exec(t);if(!n||!/[:|]/.test(n[2]))return;const i=Tw(n[1]),r=n[2].replace(/^\||\| *$/g,"").split("|"),o=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],s={type:"table",raw:n[0],header:[],align:[],rows:[]};if(i.length===r.length){for(const a of r)/^ *-+: *$/.test(a)?s.align.push("right"):/^ *:-+: *$/.test(a)?s.align.push("center"):/^ *:-+ *$/.test(a)?s.align.push("left"):s.align.push(null);for(let a=0;a<i.length;a++)s.header.push({text:i[a],tokens:this.lexer.inline(i[a]),header:!0,align:s.align[a]});for(const a of o)s.rows.push(Tw(a,s.header.length).map((l,u)=>({text:l,tokens:this.lexer.inline(l),header:!1,align:s.align[u]})));return s}}lheading(t){const n=this.rules.block.lheading.exec(t);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(t){const n=this.rules.block.paragraph.exec(t);if(n){const i=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:i,tokens:this.lexer.inline(i)}}}text(t){const n=this.rules.block.text.exec(t);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(t){const n=this.rules.inline.escape.exec(t);if(n)return{type:"escape",raw:n[0],text:Ui(n[1])}}tag(t){const n=this.rules.inline.tag.exec(t);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(t){const n=this.rules.inline.link.exec(t);if(n){const i=n[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const s=Wu(i.slice(0,-1),"\\");if((i.length-s.length)%2===0)return}else{const s=SM(n[2],"()");if(s>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let r=n[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);s&&(r=s[1],o=s[3])}else o=n[3]?n[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),Aw(n,{href:r&&r.replace(this.rules.inline.anyPunctuation,"$1"),title:o&&o.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(t,n){let i;if((i=this.rules.inline.reflink.exec(t))||(i=this.rules.inline.nolink.exec(t))){const r=(i[2]||i[1]).replace(/\s+/g," "),o=n[r.toLowerCase()];if(!o){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return Aw(i,o,i[0],this.lexer)}}emStrong(t,n,i=""){let r=this.rules.inline.emStrongLDelim.exec(t);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;if(!(r[1]||r[2]||"")||!i||this.rules.inline.punctuation.exec(i)){const s=[...r[0]].length-1;let a,l,u=s,c=0;const d=r[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(d.lastIndex=0,n=n.slice(-1*t.length+s);(r=d.exec(n))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=[...a].length,r[3]||r[4]){u+=l;continue}else if((r[5]||r[6])&&s%3&&!((s+l)%3)){c+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+c);const h=[...r[0]][0].length,p=t.slice(0,s+r.index+h+l);if(Math.min(s,l)%2){const g=p.slice(1,-1);return{type:"em",raw:p,text:g,tokens:this.lexer.inlineTokens(g)}}const f=p.slice(2,-2);return{type:"strong",raw:p,text:f,tokens:this.lexer.inlineTokens(f)}}}}codespan(t){const n=this.rules.inline.code.exec(t);if(n){let i=n[2].replace(/\n/g," ");const r=/[^ ]/.test(i),o=/^ /.test(i)&&/ $/.test(i);return r&&o&&(i=i.substring(1,i.length-1)),i=Ui(i,!0),{type:"codespan",raw:n[0],text:i}}}br(t){const n=this.rules.inline.br.exec(t);if(n)return{type:"br",raw:n[0]}}del(t){const n=this.rules.inline.del.exec(t);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(t){const n=this.rules.inline.autolink.exec(t);if(n){let i,r;return n[2]==="@"?(i=Ui(n[1]),r="mailto:"+i):(i=Ui(n[1]),r=i),{type:"link",raw:n[0],text:i,href:r,tokens:[{type:"text",raw:i,text:i}]}}}url(t){var i;let n;if(n=this.rules.inline.url.exec(t)){let r,o;if(n[2]==="@")r=Ui(n[0]),o="mailto:"+r;else{let s;do s=n[0],n[0]=((i=this.rules.inline._backpedal.exec(n[0]))==null?void 0:i[0])??"";while(s!==n[0]);r=Ui(n[0]),n[1]==="www."?o="http://"+n[0]:o=n[0]}return{type:"link",raw:n[0],text:r,href:o,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(t){const n=this.rules.inline.text.exec(t);if(n){let i;return this.lexer.state.inRawBlock?i=n[0]:i=Ui(n[0]),{type:"text",raw:n[0],text:i}}}}const EM=/^(?:[ \t]*(?:\n|$))+/,kM=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,FM=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Nd=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,TM=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,L3=/(?:[*+-]|\d{1,9}[.)])/,N3=kt(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,L3).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),xC=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,AM=/^[^\n]+/,EC=/(?!\s*\])(?:\\.|[^\[\]\\])+/,RM=kt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",EC).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),DM=kt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,L3).getRegex(),x0="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",kC=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,MM=kt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",kC).replace("tag",x0).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),B3=kt(xC).replace("hr",Nd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0).getRegex(),PM=kt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",B3).getRegex(),FC={blockquote:PM,code:kM,def:RM,fences:FM,heading:TM,hr:Nd,html:MM,lheading:N3,list:DM,newline:EM,paragraph:B3,table:bc,text:AM},Rw=kt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Nd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0).getRegex(),IM={...FC,table:Rw,paragraph:kt(xC).replace("hr",Nd).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Rw).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",x0).getRegex()},OM={...FC,html:kt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",kC).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:bc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:kt(xC).replace("hr",Nd).replace("heading",` *#{1,6} *[^
]`).replace("lheading",N3).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},z3=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,LM=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,H3=/^( {2,}|\\)\n(?!\s*$)/,NM=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Bd="\\p{P}\\p{S}",BM=kt(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Bd).getRegex(),zM=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,HM=kt(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Bd).getRegex(),VM=kt("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Bd).getRegex(),_M=kt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Bd).getRegex(),GM=kt(/\\([punct])/,"gu").replace(/punct/g,Bd).getRegex(),WM=kt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),$M=kt(kC).replace("(?:-->|$)","-->").getRegex(),UM=kt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",$M).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),zp=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,jM=kt(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",zp).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),V3=kt(/^!?\[(label)\]\[(ref)\]/).replace("label",zp).replace("ref",EC).getRegex(),_3=kt(/^!?\[(ref)\](?:\[\])?/).replace("ref",EC).getRegex(),qM=kt("reflink|nolink(?!\\()","g").replace("reflink",V3).replace("nolink",_3).getRegex(),TC={_backpedal:bc,anyPunctuation:GM,autolink:WM,blockSkip:zM,br:H3,code:LM,del:bc,emStrongLDelim:HM,emStrongRDelimAst:VM,emStrongRDelimUnd:_M,escape:z3,link:jM,nolink:_3,punctuation:BM,reflink:V3,reflinkSearch:qM,tag:UM,text:NM,url:bc},KM={...TC,link:kt(/^!?\[(label)\]\((.*?)\)/).replace("label",zp).getRegex(),reflink:kt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",zp).getRegex()},Iv={...TC,escape:kt(z3).replace("])","~|])").getRegex(),url:kt(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},YM={...Iv,br:kt(H3).replace("{2,}","*").getRegex(),text:kt(Iv.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},ch={normal:FC,gfm:IM,pedantic:OM},$u={normal:TC,gfm:Iv,breaks:YM,pedantic:KM};class gr{constructor(t){Tt(this,"tokens");Tt(this,"options");Tt(this,"state");Tt(this,"tokenizer");Tt(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=t||fl,this.options.tokenizer=this.options.tokenizer||new Bp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:ch.normal,inline:$u.normal};this.options.pedantic?(n.block=ch.pedantic,n.inline=$u.pedantic):this.options.gfm&&(n.block=ch.gfm,this.options.breaks?n.inline=$u.breaks:n.inline=$u.gfm),this.tokenizer.rules=n}static get rules(){return{block:ch,inline:$u}}static lex(t,n){return new gr(n).lex(t)}static lexInline(t,n){return new gr(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const i=this.inlineQueue[n];this.inlineTokens(i.src,i.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(t,n=[],i=!1){this.options.pedantic&&(t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""));let r,o,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},t,n))?(t=t.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(t)){t=t.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(r=this.tokenizer.fences(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&(o.type==="paragraph"||o.type==="text")?(o.raw+=`
`+r.raw,o.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=o.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(t)){t=t.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(t)){t=t.substring(r.raw.length),n.push(r);continue}if(s=t,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=t.slice(1);let u;this.options.extensions.startBlock.forEach(c=>{u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(s=t.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){o=n[n.length-1],i&&(o==null?void 0:o.type)==="paragraph"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r),i=s.length!==t.length,t=t.substring(r.raw.length);continue}if(r=this.tokenizer.text(t)){t=t.substring(r.raw.length),o=n[n.length-1],o&&o.type==="text"?(o.raw+=`
`+r.raw,o.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=o.text):n.push(r);continue}if(t){const a="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let i,r,o,s=t,a,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+"a".repeat(a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;t;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(i=c.call({lexer:this},t,n))?(t=t.substring(i.raw.length),n.push(i),!0):!1))){if(i=this.tokenizer.escape(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.tag(t)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.link(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(i.raw.length),r=n[n.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(i=this.tokenizer.emStrong(t,s,u)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.codespan(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.br(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.del(t)){t=t.substring(i.raw.length),n.push(i);continue}if(i=this.tokenizer.autolink(t)){t=t.substring(i.raw.length),n.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(t))){t=t.substring(i.raw.length),n.push(i);continue}if(o=t,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const d=t.slice(1);let h;this.options.extensions.startInline.forEach(p=>{h=p.call({lexer:this},d),typeof h=="number"&&h>=0&&(c=Math.min(c,h))}),c<1/0&&c>=0&&(o=t.substring(0,c+1))}if(i=this.tokenizer.inlineText(o)){t=t.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(u=i.raw.slice(-1)),l=!0,r=n[n.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):n.push(i);continue}if(t){const c="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class Hp{constructor(t){Tt(this,"options");Tt(this,"parser");this.options=t||fl}space(t){return""}code({text:t,lang:n,escaped:i}){var s;const r=(s=(n||"").match(/^\S*/))==null?void 0:s[0],o=t.replace(/\n$/,"")+`
`;return r?'<pre><code class="language-'+Ui(r)+'">'+(i?o:Ui(o,!0))+`</code></pre>
`:"<pre><code>"+(i?o:Ui(o,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}heading({tokens:t,depth:n}){return`<h${n}>${this.parser.parseInline(t)}</h${n}>
`}hr(t){return`<hr>
`}list(t){const n=t.ordered,i=t.start;let r="";for(let a=0;a<t.items.length;a++){const l=t.items[a];r+=this.listitem(l)}const o=n?"ol":"ul",s=n&&i!==1?' start="'+i+'"':"";return"<"+o+s+`>
`+r+"</"+o+`>
`}listitem(t){let n="";if(t.task){const i=this.checkbox({checked:!!t.checked});t.loose?t.tokens.length>0&&t.tokens[0].type==="paragraph"?(t.tokens[0].text=i+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=i+" "+t.tokens[0].tokens[0].text)):t.tokens.unshift({type:"text",raw:i+" ",text:i+" "}):n+=i+" "}return n+=this.parser.parse(t.tokens,!!t.loose),`<li>${n}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let n="",i="";for(let o=0;o<t.header.length;o++)i+=this.tablecell(t.header[o]);n+=this.tablerow({text:i});let r="";for(let o=0;o<t.rows.length;o++){const s=t.rows[o];i="";for(let a=0;a<s.length;a++)i+=this.tablecell(s[a]);r+=this.tablerow({text:i})}return r&&(r=`<tbody>${r}</tbody>`),`<table>
<thead>
`+n+`</thead>
`+r+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){const n=this.parser.parseInline(t.tokens),i=t.header?"th":"td";return(t.align?`<${i} align="${t.align}">`:`<${i}>`)+n+`</${i}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${t}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:n,tokens:i}){const r=this.parser.parseInline(i),o=Fw(t);if(o===null)return r;t=o;let s='<a href="'+t+'"';return n&&(s+=' title="'+n+'"'),s+=">"+r+"</a>",s}image({href:t,title:n,text:i}){const r=Fw(t);if(r===null)return i;t=r;let o=`<img src="${t}" alt="${i}"`;return n&&(o+=` title="${n}"`),o+=">",o}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):t.text}}class AC{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}}class mr{constructor(t){Tt(this,"options");Tt(this,"renderer");Tt(this,"textRenderer");this.options=t||fl,this.options.renderer=this.options.renderer||new Hp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new AC}static parse(t,n){return new mr(n).parse(t)}static parseInline(t,n){return new mr(n).parseInline(t)}parse(t,n=!0){let i="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=o,l=this.options.extensions.renderers[a.type].call({parser:this},a);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){i+=l||"";continue}}const s=o;switch(s.type){case"space":{i+=this.renderer.space(s);continue}case"hr":{i+=this.renderer.hr(s);continue}case"heading":{i+=this.renderer.heading(s);continue}case"code":{i+=this.renderer.code(s);continue}case"table":{i+=this.renderer.table(s);continue}case"blockquote":{i+=this.renderer.blockquote(s);continue}case"list":{i+=this.renderer.list(s);continue}case"html":{i+=this.renderer.html(s);continue}case"paragraph":{i+=this.renderer.paragraph(s);continue}case"text":{let a=s,l=this.renderer.text(a);for(;r+1<t.length&&t[r+1].type==="text";)a=t[++r],l+=`
`+this.renderer.text(a);n?i+=this.renderer.paragraph({type:"paragraph",raw:l,text:l,tokens:[{type:"text",raw:l,text:l}]}):i+=l;continue}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}parseInline(t,n){n=n||this.renderer;let i="";for(let r=0;r<t.length;r++){const o=t[r];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]){const a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type)){i+=a||"";continue}}const s=o;switch(s.type){case"escape":{i+=n.text(s);break}case"html":{i+=n.html(s);break}case"link":{i+=n.link(s);break}case"image":{i+=n.image(s);break}case"strong":{i+=n.strong(s);break}case"em":{i+=n.em(s);break}case"codespan":{i+=n.codespan(s);break}case"br":{i+=n.br(s);break}case"del":{i+=n.del(s);break}case"text":{i+=n.text(s);break}default:{const a='Token with "'+s.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return i}}class yc{constructor(t){Tt(this,"options");Tt(this,"block");this.options=t||fl}preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}provideLexer(){return this.block?gr.lex:gr.lexInline}provideParser(){return this.block?mr.parse:mr.parseInline}}Tt(yc,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));class XM{constructor(...t){Tt(this,"defaults",SC());Tt(this,"options",this.setOptions);Tt(this,"parse",this.parseMarkdown(!0));Tt(this,"parseInline",this.parseMarkdown(!1));Tt(this,"Parser",mr);Tt(this,"Renderer",Hp);Tt(this,"TextRenderer",AC);Tt(this,"Lexer",gr);Tt(this,"Tokenizer",Bp);Tt(this,"Hooks",yc);this.use(...t)}walkTokens(t,n){var r,o;let i=[];for(const s of t)switch(i=i.concat(n.call(this,s)),s.type){case"table":{const a=s;for(const l of a.header)i=i.concat(this.walkTokens(l.tokens,n));for(const l of a.rows)for(const u of l)i=i.concat(this.walkTokens(u.tokens,n));break}case"list":{const a=s;i=i.concat(this.walkTokens(a.items,n));break}default:{const a=s;(o=(r=this.defaults.extensions)==null?void 0:r.childTokens)!=null&&o[a.type]?this.defaults.extensions.childTokens[a.type].forEach(l=>{const u=a[l].flat(1/0);i=i.concat(this.walkTokens(u,n))}):a.tokens&&(i=i.concat(this.walkTokens(a.tokens,n)))}}return i}use(...t){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(i=>{const r={...i};if(r.async=this.defaults.async||r.async||!1,i.extensions&&(i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if("renderer"in o){const s=n.renderers[o.name];s?n.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:n.renderers[o.name]=o.renderer}if("tokenizer"in o){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const s=n[o.level];s?s.unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}"childTokens"in o&&o.childTokens&&(n.childTokens[o.name]=o.childTokens)}),r.extensions=n),i.renderer){const o=this.defaults.renderer||new Hp(this.defaults);for(const s in i.renderer){if(!(s in o))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;const a=s,l=i.renderer[a],u=o[a];o[a]=(...c)=>{let d=l.apply(o,c);return d===!1&&(d=u.apply(o,c)),d||""}}r.renderer=o}if(i.tokenizer){const o=this.defaults.tokenizer||new Bp(this.defaults);for(const s in i.tokenizer){if(!(s in o))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;const a=s,l=i.tokenizer[a],u=o[a];o[a]=(...c)=>{let d=l.apply(o,c);return d===!1&&(d=u.apply(o,c)),d}}r.tokenizer=o}if(i.hooks){const o=this.defaults.hooks||new yc;for(const s in i.hooks){if(!(s in o))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;const a=s,l=i.hooks[a],u=o[a];yc.passThroughHooks.has(s)?o[a]=c=>{if(this.defaults.async)return Promise.resolve(l.call(o,c)).then(h=>u.call(o,h));const d=l.call(o,c);return u.call(o,d)}:o[a]=(...c)=>{let d=l.apply(o,c);return d===!1&&(d=u.apply(o,c)),d}}r.hooks=o}if(i.walkTokens){const o=this.defaults.walkTokens,s=i.walkTokens;r.walkTokens=function(a){let l=[];return l.push(s.call(this,a)),o&&(l=l.concat(o.call(this,a))),l}}this.defaults={...this.defaults,...r}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,n){return gr.lex(t,n??this.defaults)}parser(t,n){return mr.parse(t,n??this.defaults)}parseMarkdown(t){return(i,r)=>{const o={...r},s={...this.defaults,...o},a=this.onError(!!s.silent,!!s.async);if(this.defaults.async===!0&&o.async===!1)return a(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof i>"u"||i===null)return a(new Error("marked(): input parameter is undefined or null"));if(typeof i!="string")return a(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(i)+", string expected"));s.hooks&&(s.hooks.options=s,s.hooks.block=t);const l=s.hooks?s.hooks.provideLexer():t?gr.lex:gr.lexInline,u=s.hooks?s.hooks.provideParser():t?mr.parse:mr.parseInline;if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(i):i).then(c=>l(c,s)).then(c=>s.hooks?s.hooks.processAllTokens(c):c).then(c=>s.walkTokens?Promise.all(this.walkTokens(c,s.walkTokens)).then(()=>c):c).then(c=>u(c,s)).then(c=>s.hooks?s.hooks.postprocess(c):c).catch(a);try{s.hooks&&(i=s.hooks.preprocess(i));let c=l(i,s);s.hooks&&(c=s.hooks.processAllTokens(c)),s.walkTokens&&this.walkTokens(c,s.walkTokens);let d=u(c,s);return s.hooks&&(d=s.hooks.postprocess(d)),d}catch(c){return a(c)}}}onError(t,n){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t){const r="<p>An error occurred:</p><pre>"+Ui(i.message+"",!0)+"</pre>";return n?Promise.resolve(r):r}if(n)return Promise.reject(i);throw i}}}const Qa=new XM;function xt(e,t){return Qa.parse(e,t)}xt.options=xt.setOptions=function(e){return Qa.setOptions(e),xt.defaults=Qa.defaults,P3(xt.defaults),xt};xt.getDefaults=SC;xt.defaults=fl;xt.use=function(...e){return Qa.use(...e),xt.defaults=Qa.defaults,P3(xt.defaults),xt};xt.walkTokens=function(e,t){return Qa.walkTokens(e,t)};xt.parseInline=Qa.parseInline;xt.Parser=mr;xt.parser=mr.parse;xt.Renderer=Hp;xt.TextRenderer=AC;xt.Lexer=gr;xt.lexer=gr.lex;xt.Tokenizer=Bp;xt.Hooks=yc;xt.parse=xt;xt.options;xt.setOptions;xt.use;xt.walkTokens;xt.parseInline;mr.parse;gr.lex;/*! medium-zoom 1.1.0 | MIT License | https://github.com/francoischalifour/medium-zoom */var xa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},dh=function(t){return t.tagName==="IMG"},JM=function(t){return NodeList.prototype.isPrototypeOf(t)},op=function(t){return t&&t.nodeType===1},Dw=function(t){var n=t.currentSrc||t.src;return n.substr(-4).toLowerCase()===".svg"},Mw=function(t){try{return Array.isArray(t)?t.filter(dh):JM(t)?[].slice.call(t).filter(dh):op(t)?[t].filter(dh):typeof t=="string"?[].slice.call(document.querySelectorAll(t)).filter(dh):[]}catch{throw new TypeError(`The provided selector is invalid.
Expects a CSS selector, a Node element, a NodeList or an array.
See: https://github.com/francoischalifour/medium-zoom`)}},ZM=function(t){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=t,n},QM=function(t){var n=t.getBoundingClientRect(),i=n.top,r=n.left,o=n.width,s=n.height,a=t.cloneNode(),l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,u=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return a.removeAttribute("id"),a.style.position="absolute",a.style.top=i+l+"px",a.style.left=r+u+"px",a.style.width=o+"px",a.style.height=s+"px",a.style.transform="",a},El=function(t,n){var i=xa({bubbles:!1,cancelable:!1,detail:void 0},n);if(typeof window.CustomEvent=="function")return new CustomEvent(t,i);var r=document.createEvent("CustomEvent");return r.initCustomEvent(t,i.bubbles,i.cancelable,i.detail),r},Bg=function e(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=window.Promise||function(L){function I(){}L(I,I)},r=function(L){var I=L.target;if(I===F){f();return}S.indexOf(I)!==-1&&g({target:I})},o=function(){if(!(x||!T.original)){var L=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;Math.abs(E-L)>R.scrollOffset&&setTimeout(f,150)}},s=function(L){var I=L.key||L.keyCode;(I==="Escape"||I==="Esc"||I===27)&&f()},a=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=L;if(L.background&&(F.style.background=L.background),L.container&&L.container instanceof Object&&(I.container=xa({},R.container,L.container)),L.template){var B=op(L.template)?L.template:document.querySelector(L.template);I.template=B}return R=xa({},R,I),S.forEach(function(U){U.dispatchEvent(El("medium-zoom:update",{detail:{zoom:D}}))}),D},l=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e(xa({},R,L))},u=function(){for(var L=arguments.length,I=Array(L),B=0;B<L;B++)I[B]=arguments[B];var U=I.reduce(function(V,Y){return[].concat(V,Mw(Y))},[]);return U.filter(function(V){return S.indexOf(V)===-1}).forEach(function(V){S.push(V),V.classList.add("medium-zoom-image")}),y.forEach(function(V){var Y=V.type,oe=V.listener,ke=V.options;U.forEach(function(we){we.addEventListener(Y,oe,ke)})}),D},c=function(){for(var L=arguments.length,I=Array(L),B=0;B<L;B++)I[B]=arguments[B];T.zoomed&&f();var U=I.length>0?I.reduce(function(V,Y){return[].concat(V,Mw(Y))},[]):S;return U.forEach(function(V){V.classList.remove("medium-zoom-image"),V.dispatchEvent(El("medium-zoom:detach",{detail:{zoom:D}}))}),S=S.filter(function(V){return U.indexOf(V)===-1}),D},d=function(L,I){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return S.forEach(function(U){U.addEventListener("medium-zoom:"+L,I,B)}),y.push({type:"medium-zoom:"+L,listener:I,options:B}),D},h=function(L,I){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return S.forEach(function(U){U.removeEventListener("medium-zoom:"+L,I,B)}),y=y.filter(function(U){return!(U.type==="medium-zoom:"+L&&U.listener.toString()===I.toString())}),D},p=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=L.target,B=function(){var V={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},Y=void 0,oe=void 0;if(R.container)if(R.container instanceof Object)V=xa({},V,R.container),Y=V.width-V.left-V.right-R.margin*2,oe=V.height-V.top-V.bottom-R.margin*2;else{var ke=op(R.container)?R.container:document.querySelector(R.container),we=ke.getBoundingClientRect(),Ae=we.width,ve=we.height,Ve=we.left,Xe=we.top;V=xa({},V,{width:Ae,height:ve,left:Ve,top:Xe})}Y=Y||V.width-R.margin*2,oe=oe||V.height-R.margin*2;var Te=T.zoomedHd||T.original,$e=Dw(Te)?Y:Te.naturalWidth||Y,Ze=Dw(Te)?oe:Te.naturalHeight||oe,ot=Te.getBoundingClientRect(),gt=ot.top,Rt=ot.left,on=ot.width,vn=ot.height,mt=Math.min(Math.max(on,$e),Y)/on,Ct=Math.min(Math.max(vn,Ze),oe)/vn,Cn=Math.min(mt,Ct),Jt=(-Rt+(Y-on)/2+R.margin+V.left)/Cn,Wt=(-gt+(oe-vn)/2+R.margin+V.top)/Cn,Rn="scale("+Cn+") translate3d("+Jt+"px, "+Wt+"px, 0)";T.zoomed.style.transform=Rn,T.zoomedHd&&(T.zoomedHd.style.transform=Rn)};return new i(function(U){if(I&&S.indexOf(I)===-1){U(D);return}var V=function Ae(){x=!1,T.zoomed.removeEventListener("transitionend",Ae),T.original.dispatchEvent(El("medium-zoom:opened",{detail:{zoom:D}})),U(D)};if(T.zoomed){U(D);return}if(I)T.original=I;else if(S.length>0){var Y=S;T.original=Y[0]}else{U(D);return}if(T.original.dispatchEvent(El("medium-zoom:open",{detail:{zoom:D}})),E=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,x=!0,T.zoomed=QM(T.original),document.body.appendChild(F),R.template){var oe=op(R.template)?R.template:document.querySelector(R.template);T.template=document.createElement("div"),T.template.appendChild(oe.content.cloneNode(!0)),document.body.appendChild(T.template)}if(T.original.parentElement&&T.original.parentElement.tagName==="PICTURE"&&T.original.currentSrc&&(T.zoomed.src=T.original.currentSrc),document.body.appendChild(T.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),T.original.classList.add("medium-zoom-image--hidden"),T.zoomed.classList.add("medium-zoom-image--opened"),T.zoomed.addEventListener("click",f),T.zoomed.addEventListener("transitionend",V),T.original.getAttribute("data-zoom-src")){T.zoomedHd=T.zoomed.cloneNode(),T.zoomedHd.removeAttribute("srcset"),T.zoomedHd.removeAttribute("sizes"),T.zoomedHd.removeAttribute("loading"),T.zoomedHd.src=T.zoomed.getAttribute("data-zoom-src"),T.zoomedHd.onerror=function(){clearInterval(ke),console.warn("Unable to reach the zoom image target "+T.zoomedHd.src),T.zoomedHd=null,B()};var ke=setInterval(function(){T.zoomedHd.complete&&(clearInterval(ke),T.zoomedHd.classList.add("medium-zoom-image--opened"),T.zoomedHd.addEventListener("click",f),document.body.appendChild(T.zoomedHd),B())},10)}else if(T.original.hasAttribute("srcset")){T.zoomedHd=T.zoomed.cloneNode(),T.zoomedHd.removeAttribute("sizes"),T.zoomedHd.removeAttribute("loading");var we=T.zoomedHd.addEventListener("load",function(){T.zoomedHd.removeEventListener("load",we),T.zoomedHd.classList.add("medium-zoom-image--opened"),T.zoomedHd.addEventListener("click",f),document.body.appendChild(T.zoomedHd),B()})}else B()})},f=function(){return new i(function(L){if(x||!T.original){L(D);return}var I=function B(){T.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(T.zoomed),T.zoomedHd&&document.body.removeChild(T.zoomedHd),document.body.removeChild(F),T.zoomed.classList.remove("medium-zoom-image--opened"),T.template&&document.body.removeChild(T.template),x=!1,T.zoomed.removeEventListener("transitionend",B),T.original.dispatchEvent(El("medium-zoom:closed",{detail:{zoom:D}})),T.original=null,T.zoomed=null,T.zoomedHd=null,T.template=null,L(D)};x=!0,document.body.classList.remove("medium-zoom--opened"),T.zoomed.style.transform="",T.zoomedHd&&(T.zoomedHd.style.transform=""),T.template&&(T.template.style.transition="opacity 150ms",T.template.style.opacity=0),T.original.dispatchEvent(El("medium-zoom:close",{detail:{zoom:D}})),T.zoomed.addEventListener("transitionend",I)})},g=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=L.target;return T.original?f():p({target:I})},m=function(){return R},v=function(){return S},b=function(){return T.original},S=[],y=[],x=!1,E=0,R=n,T={original:null,zoomed:null,zoomedHd:null,template:null};Object.prototype.toString.call(t)==="[object Object]"?R=t:(t||typeof t=="string")&&u(t),R=xa({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},R);var F=ZM(R.background);document.addEventListener("click",r),document.addEventListener("keyup",s),document.addEventListener("scroll",o),window.addEventListener("resize",f);var D={open:p,close:f,toggle:g,update:a,clone:l,attach:u,detach:c,on:d,off:h,getOptions:m,getImages:v,getZoomedImage:b};return D};function e8(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(typeof document>"u")){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",n==="top"&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}var t8=".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}";e8(t8);const n8={props:{content:{type:Object,required:!0}},data(){return{figures:[],isZoomed:!1,zoomInstance:null}},computed:{isEditing(){return!1},html(){return xt.parse(wwLib.wwLang.getText(this.content.text))},hasContent(){const e=wwLib.wwLang.getText(this.content.text);return e&&e.length},richTextStyle(){return{"--h1-fontSize":this.content.h1.fontSize,"--h1-fontFamily":this.content.h1.fontFamily,"--h1-fontWeight":this.content.h1.fontWeight,"--h1-textAlign":this.content.h1.textAlign,"--h1-color":this.content.h1.color,"--h1-lineHeight":this.content.h1.lineHeight,"--h1-margin-top":this.content.h1.marginTop,"--h1-margin-bottom":this.content.h1.marginBottom,"--h2-fontSize":this.content.h2.fontSize,"--h2-fontFamily":this.content.h2.fontFamily,"--h2-fontWeight":this.content.h2.fontWeight,"--h2-textAlign":this.content.h2.textAlign,"--h2-color":this.content.h2.color,"--h2-lineHeight":this.content.h2.lineHeight,"--h2-margin-top":this.content.h2.marginTop,"--h2-margin-bottom":this.content.h2.marginBottom,"--h3-fontSize":this.content.h3.fontSize,"--h3-fontFamily":this.content.h3.fontFamily,"--h3-fontWeight":this.content.h3.fontWeight,"--h3-textAlign":this.content.h3.textAlign,"--h3-color":this.content.h3.color,"--h3-lineHeight":this.content.h3.lineHeight,"--h3-margin-top":this.content.h3.marginTop,"--h3-margin-bottom":this.content.h3.marginBottom,"--h4-fontSize":this.content.h4.fontSize,"--h4-fontFamily":this.content.h4.fontFamily,"--h4-fontWeight":this.content.h4.fontWeight,"--h4-textAlign":this.content.h4.textAlign,"--h4-color":this.content.h4.color,"--h4-lineHeight":this.content.h4.lineHeight,"--h4-margin-top":this.content.h4.marginTop,"--h4-margin-bottom":this.content.h4.marginBottom,"--p-fontSize":this.content.p.fontSize,"--p-fontFamily":this.content.p.fontFamily,"--p-fontWeight":this.content.p.fontWeight,"--p-textAlign":this.content.p.textAlign,"--p-color":this.content.p.color,"--p-lineHeight":this.content.p.lineHeight,"--p-margin-top":this.content.p.marginTop,"--p-margin-bottom":this.content.p.marginBottom,"--a-fontSize":this.content.a.fontSize,"--a-fontFamily":this.content.a.fontFamily,"--a-fontWeight":this.content.a.fontWeight,"--a-textAlign":this.content.a.textAlign,"--a-color":this.content.a.color,"--a-lineHeight":this.content.a.lineHeight,"--a-underline":this.content.a.isUnderline?"underline":"none","--blockquote-color":this.content.blockquote.color,"--blockquote-borderColor":this.content.blockquote.borderColor,"--blockquote-margin-top":this.content.blockquote.marginTop,"--blockquote-margin-bottom":this.content.blockquote.marginBottom,"--img-width":this.content.img.width,"--img-margin-top":this.content.img.marginTop,"--img-margin-bottom":this.content.img.marginBottom,"--iframe-width":this.content.iframe.width,"--iframe-height":this.content.iframe.height,"--iframe-margin-top":this.content.iframe.marginTop,"--iframe-margin-bottom":this.content.iframe.marginBottom}}},watch:{"content.text"(){this.init()},"content.zoomEffect"(){this.content.zoomEffect||(this.zoomInstance&&this.zoomInstance.detach(),this.zoomInstance=null)},"content.zoomBackgroundColor"(){this.zoomInstance&&this.zoomInstance.detach();const e=parseInt(this.content.zoomMargin.slice(0,-2)),t=this.content.zoomBackgroundColor;this.zoomInstance=Bg("[img-zoomable]",{margin:e,background:t})},"content.zoomMargin"(){this.zoomInstance&&this.zoomInstance.detach();const e=parseInt(this.content.zoomMargin.slice(0,-2)),t=this.content.zoomBackgroundColor;this.zoomInstance=Bg("[img-zoomable]",{margin:e,background:t})}},mounted(){this.content.zoomEffect&&this.init()},methods:{init(){if(this.content.zoomEffect){this.figures=this.$el.querySelectorAll("img");for(let e of this.figures)e.setAttribute("img-zoomable","");this.zoomInstance&&this.zoomInstance.detach(),this.zoomInstance=Bg("[img-zoomable]",{margin:parseInt(this.content.zoomMargin.slice(0,-2)),background:this.content.zoomBackgroundColor})}}}},i8={class:"ww-rich-text-temp"},r8=["innerHTML"];function o8(e,t,n,i,r,o){return X(),ne("div",i8,[o.hasContent?(X(),ne("div",{key:0,class:"ww-rich-text-temp",style:Yt(o.richTextStyle),"ww-responsive":"richtext",innerHTML:o.html},null,12,r8)):ye("",!0)])}const s8=nn(n8,[["render",o8],["__scopeId","data-v-8101d53d"]]);var sp={exports:{}},zg={exports:{}},Hg={};/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const ou=Symbol(""),jl=Symbol(""),E0=Symbol(""),Jc=Symbol(""),RC=Symbol(""),oa=Symbol(""),DC=Symbol(""),MC=Symbol(""),k0=Symbol(""),F0=Symbol(""),Iu=Symbol(""),T0=Symbol(""),PC=Symbol(""),A0=Symbol(""),R0=Symbol(""),D0=Symbol(""),M0=Symbol(""),P0=Symbol(""),I0=Symbol(""),IC=Symbol(""),OC=Symbol(""),zd=Symbol(""),Zc=Symbol(""),O0=Symbol(""),L0=Symbol(""),su=Symbol(""),Ou=Symbol(""),N0=Symbol(""),Vp=Symbol(""),G3=Symbol(""),_p=Symbol(""),Qc=Symbol(""),W3=Symbol(""),$3=Symbol(""),B0=Symbol(""),U3=Symbol(""),j3=Symbol(""),z0=Symbol(""),LC=Symbol(""),el={[ou]:"Fragment",[jl]:"Teleport",[E0]:"Suspense",[Jc]:"KeepAlive",[RC]:"BaseTransition",[oa]:"openBlock",[DC]:"createBlock",[MC]:"createElementBlock",[k0]:"createVNode",[F0]:"createElementVNode",[Iu]:"createCommentVNode",[T0]:"createTextVNode",[PC]:"createStaticVNode",[A0]:"resolveComponent",[R0]:"resolveDynamicComponent",[D0]:"resolveDirective",[M0]:"resolveFilter",[P0]:"withDirectives",[I0]:"renderList",[IC]:"renderSlot",[OC]:"createSlots",[zd]:"toDisplayString",[Zc]:"mergeProps",[O0]:"normalizeClass",[L0]:"normalizeStyle",[su]:"normalizeProps",[Ou]:"guardReactiveProps",[N0]:"toHandlers",[Vp]:"camelize",[G3]:"capitalize",[_p]:"toHandlerKey",[Qc]:"setBlockTracking",[W3]:"pushScopeId",[$3]:"popScopeId",[B0]:"withCtx",[U3]:"unref",[j3]:"isRef",[z0]:"withMemo",[LC]:"isMemoSame"};function q3(e){Object.getOwnPropertySymbols(e).forEach(t=>{el[t]=e[t]})}const a8={HTML:0,0:"HTML",SVG:1,1:"SVG",MATH_ML:2,2:"MATH_ML"},l8={ROOT:0,0:"ROOT",ELEMENT:1,1:"ELEMENT",TEXT:2,2:"TEXT",COMMENT:3,3:"COMMENT",SIMPLE_EXPRESSION:4,4:"SIMPLE_EXPRESSION",INTERPOLATION:5,5:"INTERPOLATION",ATTRIBUTE:6,6:"ATTRIBUTE",DIRECTIVE:7,7:"DIRECTIVE",COMPOUND_EXPRESSION:8,8:"COMPOUND_EXPRESSION",IF:9,9:"IF",IF_BRANCH:10,10:"IF_BRANCH",FOR:11,11:"FOR",TEXT_CALL:12,12:"TEXT_CALL",VNODE_CALL:13,13:"VNODE_CALL",JS_CALL_EXPRESSION:14,14:"JS_CALL_EXPRESSION",JS_OBJECT_EXPRESSION:15,15:"JS_OBJECT_EXPRESSION",JS_PROPERTY:16,16:"JS_PROPERTY",JS_ARRAY_EXPRESSION:17,17:"JS_ARRAY_EXPRESSION",JS_FUNCTION_EXPRESSION:18,18:"JS_FUNCTION_EXPRESSION",JS_CONDITIONAL_EXPRESSION:19,19:"JS_CONDITIONAL_EXPRESSION",JS_CACHE_EXPRESSION:20,20:"JS_CACHE_EXPRESSION",JS_BLOCK_STATEMENT:21,21:"JS_BLOCK_STATEMENT",JS_TEMPLATE_LITERAL:22,22:"JS_TEMPLATE_LITERAL",JS_IF_STATEMENT:23,23:"JS_IF_STATEMENT",JS_ASSIGNMENT_EXPRESSION:24,24:"JS_ASSIGNMENT_EXPRESSION",JS_SEQUENCE_EXPRESSION:25,25:"JS_SEQUENCE_EXPRESSION",JS_RETURN_STATEMENT:26,26:"JS_RETURN_STATEMENT"},u8={ELEMENT:0,0:"ELEMENT",COMPONENT:1,1:"COMPONENT",SLOT:2,2:"SLOT",TEMPLATE:3,3:"TEMPLATE"},c8={NOT_CONSTANT:0,0:"NOT_CONSTANT",CAN_SKIP_PATCH:1,1:"CAN_SKIP_PATCH",CAN_CACHE:2,2:"CAN_CACHE",CAN_STRINGIFY:3,3:"CAN_STRINGIFY"},Ln={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function K3(e,t=""){return{type:0,source:t,children:e,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:Ln}}function au(e,t,n,i,r,o,s,a=!1,l=!1,u=!1,c=Ln){return e&&(a?(e.helper(oa),e.helper(il(e.inSSR,u))):e.helper(nl(e.inSSR,u)),s&&e.helper(P0)),{type:13,tag:t,props:n,children:i,patchFlag:r,dynamicProps:o,directives:s,isBlock:a,disableTracking:l,isComponent:u,loc:c}}function Js(e,t=Ln){return{type:17,loc:t,elements:e}}function Qi(e,t=Ln){return{type:15,loc:t,properties:e}}function fn(e,t){return{type:16,loc:Ln,key:In(e)?Ye(e,!0):e,value:t}}function Ye(e,t=!1,n=Ln,i=0){return{type:4,loc:n,content:e,isStatic:t,constType:t?3:i}}function d8(e,t){return{type:5,loc:t,content:In(e)?Ye(e,!1,t):e}}function yr(e,t=Ln){return{type:8,loc:t,children:e}}function kn(e,t=[],n=Ln){return{type:14,loc:n,callee:e,arguments:t}}function tl(e,t=void 0,n=!1,i=!1,r=Ln){return{type:18,params:e,returns:t,newline:n,isSlot:i,loc:r}}function Gp(e,t,n,i=!0){return{type:19,test:e,consequent:t,alternate:n,newline:i,loc:Ln}}function Y3(e,t,n=!1,i=!1){return{type:20,index:e,value:t,needPauseTracking:n,inVOnce:i,needArraySpread:!1,loc:Ln}}function X3(e){return{type:21,body:e,loc:Ln}}function h8(e){return{type:22,elements:e,loc:Ln}}function p8(e,t,n){return{type:23,test:e,consequent:t,alternate:n,loc:Ln}}function f8(e,t){return{type:24,left:e,right:t,loc:Ln}}function g8(e){return{type:25,expressions:e,loc:Ln}}function m8(e){return{type:26,returns:e,loc:Ln}}function nl(e,t){return e||t?k0:F0}function il(e,t){return e||t?DC:MC}function H0(e,{helper:t,removeHelper:n,inSSR:i}){e.isBlock||(e.isBlock=!0,n(nl(i,e.isComponent)),t(oa),t(il(i,e.isComponent)))}const Pw=new Uint8Array([123,123]),Iw=new Uint8Array([125,125]);function Ow(e){return e>=97&&e<=122||e>=65&&e<=90}function $i(e){return e===32||e===10||e===9||e===12||e===13}function Ss(e){return e===47||e===62||$i(e)}function Wp(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}const Qn={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class v8{constructor(t,n){this.stack=t,this.cbs=n,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=Pw,this.delimiterClose=Iw,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=Pw,this.delimiterClose=Iw}getPos(t){let n=1,i=t+1;for(let r=this.newlines.length-1;r>=0;r--){const o=this.newlines[r];if(t>o){n=r+2,i=t-o;break}}return{column:i,line:n,offset:t}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(t){t===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t))}stateInterpolationOpen(t){if(t===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const n=this.index+1-this.delimiterOpen.length;n>this.sectionStart&&this.cbs.ontext(this.sectionStart,n),this.state=3,this.sectionStart=n}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(t)):(this.state=1,this.stateText(t))}stateInterpolation(t){t===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(t))}stateInterpolationClose(t){t===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(t))}stateSpecialStartSequence(t){const n=this.sequenceIndex===this.currentSequence.length;if(!(n?Ss(t):(t|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!n){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(t)}stateInRCDATA(t){if(this.sequenceIndex===this.currentSequence.length){if(t===62||$i(t)){const n=this.index-this.currentSequence.length;if(this.sectionStart<n){const i=this.index;this.index=n,this.cbs.ontext(this.sectionStart,n),this.index=i}this.sectionStart=n+2,this.stateInClosingTagName(t),this.inRCDATA=!1;return}this.sequenceIndex=0}(t|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===Qn.TitleEnd||this.currentSequence===Qn.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&t===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(t)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(t===60)}stateCDATASequence(t){t===Qn.Cdata[this.sequenceIndex]?++this.sequenceIndex===Qn.Cdata.length&&(this.state=28,this.currentSequence=Qn.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(t))}fastForwardTo(t){for(;++this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);if(n===10&&this.newlines.push(this.index),n===t)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(t){t===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===Qn.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):t!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(t,n){this.enterRCDATA(t,n),this.state=31}enterRCDATA(t,n){this.inRCDATA=!0,this.currentSequence=t,this.sequenceIndex=n}stateBeforeTagName(t){t===33?(this.state=22,this.sectionStart=this.index+1):t===63?(this.state=24,this.sectionStart=this.index+1):Ow(t)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:t===116?this.state=30:this.state=t===115?29:6):t===47?this.state=8:(this.state=1,this.stateText(t))}stateInTagName(t){Ss(t)&&this.handleTagName(t)}stateInSFCRootTagName(t){if(Ss(t)){const n=this.buffer.slice(this.sectionStart,this.index);n!=="template"&&this.enterRCDATA(Wp("</"+n),0),this.handleTagName(t)}}handleTagName(t){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)}stateBeforeClosingTagName(t){$i(t)||(t===62?(this.state=1,this.sectionStart=this.index+1):(this.state=Ow(t)?9:27,this.sectionStart=this.index))}stateInClosingTagName(t){(t===62||$i(t))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(t))}stateAfterClosingTagName(t){t===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(t){t===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):t===47?this.state=7:t===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):$i(t)||this.handleAttrStart(t)}handleAttrStart(t){t===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):t===46||t===58||t===64||t===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(t){t===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):$i(t)||(this.state=11,this.stateBeforeAttrName(t))}stateInAttrName(t){(t===61||Ss(t))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(t))}stateInDirName(t){t===61||Ss(t)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):t===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(t){t===61||Ss(t)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===91?this.state=15:t===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(t){t===93?this.state=14:(t===61||Ss(t))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(t))}stateInDirModifier(t){t===61||Ss(t)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(t)):t===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(t){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(t)}stateAfterAttrName(t){t===61?this.state=18:t===47||t===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(t)):$i(t)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(t))}stateBeforeAttrValue(t){t===34?(this.state=19,this.sectionStart=this.index+1):t===39?(this.state=20,this.sectionStart=this.index+1):$i(t)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(t))}handleInAttrValue(t,n){(t===n||this.fastForwardTo(n))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(n===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(t){this.handleInAttrValue(t,34)}stateInAttrValueSingleQuotes(t){this.handleInAttrValue(t,39)}stateInAttrValueNoQuotes(t){$i(t)||t===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(t)):(t===39||t===60||t===61||t===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(t){t===91?(this.state=26,this.sequenceIndex=0):this.state=t===45?25:23}stateInDeclaration(t){(t===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(t){(t===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(t){t===45?(this.state=28,this.currentSequence=Qn.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(t){(t===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(t){t===Qn.ScriptEnd[3]?this.startSpecial(Qn.ScriptEnd,4):t===Qn.StyleEnd[3]?this.startSpecial(Qn.StyleEnd,4):(this.state=6,this.stateInTagName(t))}stateBeforeSpecialT(t){t===Qn.TitleEnd[3]?this.startSpecial(Qn.TitleEnd,4):t===Qn.TextareaEnd[3]?this.startSpecial(Qn.TextareaEnd,4):(this.state=6,this.stateInTagName(t))}startEntity(){}stateInEntity(){}parse(t){for(this.buffer=t;this.index<this.buffer.length;){const n=this.buffer.charCodeAt(this.index);switch(n===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(n);break}case 2:{this.stateInterpolationOpen(n);break}case 3:{this.stateInterpolation(n);break}case 4:{this.stateInterpolationClose(n);break}case 31:{this.stateSpecialStartSequence(n);break}case 32:{this.stateInRCDATA(n);break}case 26:{this.stateCDATASequence(n);break}case 19:{this.stateInAttrValueDoubleQuotes(n);break}case 12:{this.stateInAttrName(n);break}case 13:{this.stateInDirName(n);break}case 14:{this.stateInDirArg(n);break}case 15:{this.stateInDynamicDirArg(n);break}case 16:{this.stateInDirModifier(n);break}case 28:{this.stateInCommentLike(n);break}case 27:{this.stateInSpecialComment(n);break}case 11:{this.stateBeforeAttrName(n);break}case 6:{this.stateInTagName(n);break}case 34:{this.stateInSFCRootTagName(n);break}case 9:{this.stateInClosingTagName(n);break}case 5:{this.stateBeforeTagName(n);break}case 17:{this.stateAfterAttrName(n);break}case 20:{this.stateInAttrValueSingleQuotes(n);break}case 18:{this.stateBeforeAttrValue(n);break}case 8:{this.stateBeforeClosingTagName(n);break}case 10:{this.stateAfterClosingTagName(n);break}case 29:{this.stateBeforeSpecialS(n);break}case 30:{this.stateBeforeSpecialT(n);break}case 21:{this.stateInAttrValueNoQuotes(n);break}case 7:{this.stateInSelfClosingTag(n);break}case 23:{this.stateInDeclaration(n);break}case 22:{this.stateBeforeDeclaration(n);break}case 25:{this.stateBeforeComment(n);break}case 24:{this.stateInProcessingInstruction(n);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const t=this.buffer.length;this.sectionStart>=t||(this.state===28?this.currentSequence===Qn.CdataEnd?this.cbs.oncdata(this.sectionStart,t):this.cbs.oncomment(this.sectionStart,t):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,t))}emitCodePoint(t,n){}}const C8={COMPILER_IS_ON_ELEMENT:"COMPILER_IS_ON_ELEMENT",COMPILER_V_BIND_SYNC:"COMPILER_V_BIND_SYNC",COMPILER_V_BIND_OBJECT_ORDER:"COMPILER_V_BIND_OBJECT_ORDER",COMPILER_V_ON_NATIVE:"COMPILER_V_ON_NATIVE",COMPILER_V_IF_V_FOR_PRECEDENCE:"COMPILER_V_IF_V_FOR_PRECEDENCE",COMPILER_NATIVE_TEMPLATE:"COMPILER_NATIVE_TEMPLATE",COMPILER_INLINE_TEMPLATE:"COMPILER_INLINE_TEMPLATE",COMPILER_FILTERS:"COMPILER_FILTERS"},b8={COMPILER_IS_ON_ELEMENT:{message:'Platform-native elements with "is" prop will no longer be treated as components in Vue 3 unless the "is" value is explicitly prefixed with "vue:".',link:"https://v3-migration.vuejs.org/breaking-changes/custom-elements-interop.html"},COMPILER_V_BIND_SYNC:{message:e=>`.sync modifier for v-bind has been removed. Use v-model with argument instead. \`v-bind:${e}.sync\` should be changed to \`v-model:${e}\`.`,link:"https://v3-migration.vuejs.org/breaking-changes/v-model.html"},COMPILER_V_BIND_OBJECT_ORDER:{message:'v-bind="obj" usage is now order sensitive and behaves like JavaScript object spread: it will now overwrite an existing non-mergeable attribute that appears before v-bind in the case of conflict. To retain 2.x behavior, move v-bind to make it the first attribute. You can also suppress this warning if the usage is intended.',link:"https://v3-migration.vuejs.org/breaking-changes/v-bind.html"},COMPILER_V_ON_NATIVE:{message:".native modifier for v-on has been removed as is no longer necessary.",link:"https://v3-migration.vuejs.org/breaking-changes/v-on-native-modifier-removed.html"},COMPILER_V_IF_V_FOR_PRECEDENCE:{message:"v-if / v-for precedence when used on the same element has changed in Vue 3: v-if now takes higher precedence and will no longer have access to v-for scope variables. It is best to avoid the ambiguity with <template> tags or use a computed property that filters v-for data source.",link:"https://v3-migration.vuejs.org/breaking-changes/v-if-v-for.html"},COMPILER_NATIVE_TEMPLATE:{message:"<template> with no special directives will render as a native template element instead of its inner content in Vue 3."},COMPILER_INLINE_TEMPLATE:{message:'"inline-template" has been removed in Vue 3.',link:"https://v3-migration.vuejs.org/breaking-changes/inline-template-attribute.html"},COMPILER_FILTERS:{message:'filters have been removed in Vue 3. The "|" symbol will be treated as native JavaScript bitwise OR operator. Use method calls or computed properties instead.',link:"https://v3-migration.vuejs.org/breaking-changes/filters.html"}};function Ov(e,{compatConfig:t}){const n=t&&t[e];return e==="MODE"?n||3:n}function Ba(e,t){const n=Ov("MODE",t),i=Ov(e,t);return n===3?i===!0:i!==!1}function lu(e,t,n,...i){return Ba(e,t)}function y8(e,t,n,...i){if(Ov(e,t)==="suppress-warning")return;const{message:o,link:s}=b8[e],a=`(deprecation ${e}) ${typeof o=="function"?o(...i):o}${s?`
  Details: ${s}`:""}`,l=new SyntaxError(a);l.code=e,n&&(l.loc=n),t.onWarn(l)}function NC(e){throw e}function J3(e){}function Vt(e,t,n,i){const r=`https://vuejs.org/error-reference/#compiler-${e}`,o=new SyntaxError(String(r));return o.code=e,o.loc=t,o}const w8={ABRUPT_CLOSING_OF_EMPTY_COMMENT:0,0:"ABRUPT_CLOSING_OF_EMPTY_COMMENT",CDATA_IN_HTML_CONTENT:1,1:"CDATA_IN_HTML_CONTENT",DUPLICATE_ATTRIBUTE:2,2:"DUPLICATE_ATTRIBUTE",END_TAG_WITH_ATTRIBUTES:3,3:"END_TAG_WITH_ATTRIBUTES",END_TAG_WITH_TRAILING_SOLIDUS:4,4:"END_TAG_WITH_TRAILING_SOLIDUS",EOF_BEFORE_TAG_NAME:5,5:"EOF_BEFORE_TAG_NAME",EOF_IN_CDATA:6,6:"EOF_IN_CDATA",EOF_IN_COMMENT:7,7:"EOF_IN_COMMENT",EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT:8,8:"EOF_IN_SCRIPT_HTML_COMMENT_LIKE_TEXT",EOF_IN_TAG:9,9:"EOF_IN_TAG",INCORRECTLY_CLOSED_COMMENT:10,10:"INCORRECTLY_CLOSED_COMMENT",INCORRECTLY_OPENED_COMMENT:11,11:"INCORRECTLY_OPENED_COMMENT",INVALID_FIRST_CHARACTER_OF_TAG_NAME:12,12:"INVALID_FIRST_CHARACTER_OF_TAG_NAME",MISSING_ATTRIBUTE_VALUE:13,13:"MISSING_ATTRIBUTE_VALUE",MISSING_END_TAG_NAME:14,14:"MISSING_END_TAG_NAME",MISSING_WHITESPACE_BETWEEN_ATTRIBUTES:15,15:"MISSING_WHITESPACE_BETWEEN_ATTRIBUTES",NESTED_COMMENT:16,16:"NESTED_COMMENT",UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME:17,17:"UNEXPECTED_CHARACTER_IN_ATTRIBUTE_NAME",UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE:18,18:"UNEXPECTED_CHARACTER_IN_UNQUOTED_ATTRIBUTE_VALUE",UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME:19,19:"UNEXPECTED_EQUALS_SIGN_BEFORE_ATTRIBUTE_NAME",UNEXPECTED_NULL_CHARACTER:20,20:"UNEXPECTED_NULL_CHARACTER",UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME:21,21:"UNEXPECTED_QUESTION_MARK_INSTEAD_OF_TAG_NAME",UNEXPECTED_SOLIDUS_IN_TAG:22,22:"UNEXPECTED_SOLIDUS_IN_TAG",X_INVALID_END_TAG:23,23:"X_INVALID_END_TAG",X_MISSING_END_TAG:24,24:"X_MISSING_END_TAG",X_MISSING_INTERPOLATION_END:25,25:"X_MISSING_INTERPOLATION_END",X_MISSING_DIRECTIVE_NAME:26,26:"X_MISSING_DIRECTIVE_NAME",X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END:27,27:"X_MISSING_DYNAMIC_DIRECTIVE_ARGUMENT_END",X_V_IF_NO_EXPRESSION:28,28:"X_V_IF_NO_EXPRESSION",X_V_IF_SAME_KEY:29,29:"X_V_IF_SAME_KEY",X_V_ELSE_NO_ADJACENT_IF:30,30:"X_V_ELSE_NO_ADJACENT_IF",X_V_FOR_NO_EXPRESSION:31,31:"X_V_FOR_NO_EXPRESSION",X_V_FOR_MALFORMED_EXPRESSION:32,32:"X_V_FOR_MALFORMED_EXPRESSION",X_V_FOR_TEMPLATE_KEY_PLACEMENT:33,33:"X_V_FOR_TEMPLATE_KEY_PLACEMENT",X_V_BIND_NO_EXPRESSION:34,34:"X_V_BIND_NO_EXPRESSION",X_V_ON_NO_EXPRESSION:35,35:"X_V_ON_NO_EXPRESSION",X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET:36,36:"X_V_SLOT_UNEXPECTED_DIRECTIVE_ON_SLOT_OUTLET",X_V_SLOT_MIXED_SLOT_USAGE:37,37:"X_V_SLOT_MIXED_SLOT_USAGE",X_V_SLOT_DUPLICATE_SLOT_NAMES:38,38:"X_V_SLOT_DUPLICATE_SLOT_NAMES",X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN:39,39:"X_V_SLOT_EXTRANEOUS_DEFAULT_SLOT_CHILDREN",X_V_SLOT_MISPLACED:40,40:"X_V_SLOT_MISPLACED",X_V_MODEL_NO_EXPRESSION:41,41:"X_V_MODEL_NO_EXPRESSION",X_V_MODEL_MALFORMED_EXPRESSION:42,42:"X_V_MODEL_MALFORMED_EXPRESSION",X_V_MODEL_ON_SCOPE_VARIABLE:43,43:"X_V_MODEL_ON_SCOPE_VARIABLE",X_V_MODEL_ON_PROPS:44,44:"X_V_MODEL_ON_PROPS",X_INVALID_EXPRESSION:45,45:"X_INVALID_EXPRESSION",X_KEEP_ALIVE_INVALID_CHILDREN:46,46:"X_KEEP_ALIVE_INVALID_CHILDREN",X_PREFIX_ID_NOT_SUPPORTED:47,47:"X_PREFIX_ID_NOT_SUPPORTED",X_MODULE_MODE_NOT_SUPPORTED:48,48:"X_MODULE_MODE_NOT_SUPPORTED",X_CACHE_HANDLER_NOT_SUPPORTED:49,49:"X_CACHE_HANDLER_NOT_SUPPORTED",X_SCOPE_ID_NOT_SUPPORTED:50,50:"X_SCOPE_ID_NOT_SUPPORTED",X_VNODE_HOOKS:51,51:"X_VNODE_HOOKS",X_V_BIND_INVALID_SAME_NAME_ARGUMENT:52,52:"X_V_BIND_INVALID_SAME_NAME_ARGUMENT",__EXTEND_POINT__:53,53:"__EXTEND_POINT__"},S8={0:"Illegal comment.",1:"CDATA section is allowed only in XML context.",2:"Duplicate attribute.",3:"End tag cannot have attributes.",4:"Illegal '/' in tags.",5:"Unexpected EOF in tag.",6:"Unexpected EOF in CDATA section.",7:"Unexpected EOF in comment.",8:"Unexpected EOF in script.",9:"Unexpected EOF in tag.",10:"Incorrectly closed comment.",11:"Incorrectly opened comment.",12:"Illegal tag name. Use '&lt;' to print '<'.",13:"Attribute value was expected.",14:"End tag name was expected.",15:"Whitespace was expected.",16:"Unexpected '<!--' in comment.",17:`Attribute name cannot contain U+0022 ("), U+0027 ('), and U+003C (<).`,18:"Unquoted attribute value cannot contain U+0022 (\"), U+0027 ('), U+003C (<), U+003D (=), and U+0060 (`).",19:"Attribute name cannot start with '='.",21:"'<?' is allowed only in XML context.",20:"Unexpected null character.",22:"Illegal '/' in tags.",23:"Invalid end tag.",24:"Element is missing end tag.",25:"Interpolation end sign was not found.",27:"End bracket for dynamic directive argument was not found. Note that dynamic directive argument cannot contain spaces.",26:"Legal directive name was expected.",28:"v-if/v-else-if is missing expression.",29:"v-if/else branches must use unique keys.",30:"v-else/v-else-if has no adjacent v-if or v-else-if.",31:"v-for is missing expression.",32:"v-for has invalid expression.",33:"<template v-for> key should be placed on the <template> tag.",34:"v-bind is missing expression.",52:"v-bind with same-name shorthand only allows static argument.",35:"v-on is missing expression.",36:"Unexpected custom directive on <slot> outlet.",37:"Mixed v-slot usage on both the component and nested <template>. When there are multiple named slots, all slots should use <template> syntax to avoid scope ambiguity.",38:"Duplicate slot names found. ",39:"Extraneous children found when component already has explicitly named default slot. These children will be ignored.",40:"v-slot can only be used on components or <template> tags.",41:"v-model is missing expression.",42:"v-model value must be a valid JavaScript member expression.",43:"v-model cannot be used on v-for or v-slot scope variables because they are not writable.",44:`v-model cannot be used on a prop, because local prop bindings are not writable.
Use a v-bind binding combined with a v-on listener that emits update:x event instead.`,45:"Error parsing JavaScript expression: ",46:"<KeepAlive> expects exactly one child component.",51:"@vnode-* hooks in templates are no longer supported. Use the vue: prefix instead. For example, @vnode-mounted should be changed to @vue:mounted. @vnode-* hooks support has been removed in 3.4.",47:'"prefixIdentifiers" option is not supported in this build of compiler.',48:"ES module mode is not supported in this build of compiler.",49:'"cacheHandlers" option is only supported when the "prefixIdentifiers" option is enabled.',50:'"scopeId" option is only supported in module mode.',53:""};function x8(e,t,n=!1,i=[],r=Object.create(null)){}function E8(e,t,n){return!1}function k8(e,t){if(e&&(e.type==="ObjectProperty"||e.type==="ArrayPattern")){let n=t.length;for(;n--;){const i=t[n];if(i.type==="AssignmentExpression")return!0;if(i.type!=="ObjectProperty"&&!i.type.endsWith("Pattern"))break}}return!1}function F8(e){let t=e.length;for(;t--;){const n=e[t];if(n.type==="NewExpression")return!0;if(n.type!=="MemberExpression")break}return!1}function T8(e,t){for(const n of e.params)for(const i of _o(n))t(i)}function A8(e,t){for(const n of e.body)if(n.type==="VariableDeclaration"){if(n.declare)continue;for(const i of n.declarations)for(const r of _o(i.id))t(r)}else if(n.type==="FunctionDeclaration"||n.type==="ClassDeclaration"){if(n.declare||!n.id)continue;t(n.id)}else R8(n)&&D8(n,!0,t)}function R8(e){return e.type==="ForOfStatement"||e.type==="ForInStatement"||e.type==="ForStatement"}function D8(e,t,n){const i=e.type==="ForStatement"?e.init:e.left;if(i&&i.type==="VariableDeclaration"&&(i.kind==="var"?t:!t))for(const r of i.declarations)for(const o of _o(r.id))n(o)}function _o(e,t=[]){switch(e.type){case"Identifier":t.push(e);break;case"MemberExpression":let n=e;for(;n.type==="MemberExpression";)n=n.object;t.push(n);break;case"ObjectPattern":for(const i of e.properties)i.type==="RestElement"?_o(i.argument,t):_o(i.value,t);break;case"ArrayPattern":e.elements.forEach(i=>{i&&_o(i,t)});break;case"RestElement":_o(e.argument,t);break;case"AssignmentPattern":_o(e.left,t);break}return t}const M8=e=>/Function(?:Expression|Declaration)$|Method$/.test(e.type),Z3=e=>e&&(e.type==="ObjectProperty"||e.type==="ObjectMethod")&&!e.computed,P8=(e,t)=>Z3(t)&&t.key===e,Q3=["TSAsExpression","TSTypeAssertion","TSNonNullExpression","TSInstantiationExpression","TSSatisfiesExpression"];function eE(e){return Q3.includes(e.type)?eE(e.expression):e}const yi=e=>e.type===4&&e.isStatic;function BC(e){switch(e){case"Teleport":case"teleport":return jl;case"Suspense":case"suspense":return E0;case"KeepAlive":case"keep-alive":return Jc;case"BaseTransition":case"base-transition":return RC}}const I8=/^\d|[^\$\w\xA0-\uFFFF]/,Hd=e=>!I8.test(e),O8=/[A-Za-z_$\xA0-\uFFFF]/,L8=/[\.\?\w$\xA0-\uFFFF]/,N8=/\s+[.[]\s*|\s*[.[]\s+/g,tE=e=>e.type===4?e.content:e.loc.source,nE=e=>{const t=tE(e).trim().replace(N8,a=>a.trim());let n=0,i=[],r=0,o=0,s=null;for(let a=0;a<t.length;a++){const l=t.charAt(a);switch(n){case 0:if(l==="[")i.push(n),n=1,r++;else if(l==="(")i.push(n),n=2,o++;else if(!(a===0?O8:L8).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(i.push(n),n=3,s=l):l==="["?r++:l==="]"&&(--r||(n=i.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")i.push(n),n=3,s=l;else if(l==="(")o++;else if(l===")"){if(a===t.length-1)return!1;--o||(n=i.pop())}break;case 3:l===s&&(n=i.pop(),s=null);break}}return!r&&!o},B8=mc,zC=nE,z8=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,iE=e=>z8.test(tE(e)),H8=mc,rE=iE;function V8(e,t,n=t.length){return oE({offset:e.offset,line:e.line,column:e.column},t,n)}function oE(e,t,n=t.length){let i=0,r=-1;for(let o=0;o<n;o++)t.charCodeAt(o)===10&&(i++,r=o);return e.offset+=n,e.line+=i,e.column=r===-1?e.column+n:n-r,e}function _8(e,t){if(!e)throw new Error(t||"unexpected compiler condition")}function vi(e,t,n=!1){for(let i=0;i<e.props.length;i++){const r=e.props[i];if(r.type===7&&(n||r.exp)&&(In(t)?r.name===t:t.test(r.name)))return r}}function Vd(e,t,n=!1,i=!1){for(let r=0;r<e.props.length;r++){const o=e.props[r];if(o.type===6){if(n)continue;if(o.name===t&&(o.value||i))return o}else if(o.name==="bind"&&(o.exp||i)&&Ws(o.arg,t))return o}}function Ws(e,t){return!!(e&&yi(e)&&e.content===t)}function sE(e){return e.props.some(t=>t.type===7&&t.name==="bind"&&(!t.arg||t.arg.type!==4||!t.arg.isStatic))}function ap(e){return e.type===5||e.type===2}function HC(e){return e.type===7&&e.name==="slot"}function uu(e){return e.type===1&&e.tagType===3}function ed(e){return e.type===1&&e.tagType===2}const G8=new Set([su,Ou]);function aE(e,t=[]){if(e&&!In(e)&&e.type===14){const n=e.callee;if(!In(n)&&G8.has(n))return aE(e.arguments[0],t.concat(e))}return[e,t]}function td(e,t,n){let i,r=e.type===13?e.props:e.arguments[2],o=[],s;if(r&&!In(r)&&r.type===14){const a=aE(r);r=a[0],o=a[1],s=o[o.length-1]}if(r==null||In(r))i=Qi([t]);else if(r.type===14){const a=r.arguments[0];!In(a)&&a.type===15?Lw(t,a)||a.properties.unshift(t):r.callee===N0?i=kn(n.helper(Zc),[Qi([t]),r]):r.arguments.unshift(Qi([t])),!i&&(i=r)}else r.type===15?(Lw(t,r)||r.properties.unshift(t),i=r):(i=kn(n.helper(Zc),[Qi([t]),r]),s&&s.callee===Ou&&(s=o[o.length-2]));e.type===13?s?s.arguments[0]=i:e.props=i:s?s.arguments[0]=i:e.arguments[2]=i}function Lw(e,t){let n=!1;if(e.key.type===4){const i=e.key.content;n=t.properties.some(r=>r.key.type===4&&r.key.content===i)}return n}function cu(e,t){return`_${t}_${e.replace(/[^\w]/g,(n,i)=>n==="-"?"_":e.charCodeAt(i).toString())}`}function Lr(e,t){if(!e||Object.keys(t).length===0)return!1;switch(e.type){case 1:for(let n=0;n<e.props.length;n++){const i=e.props[n];if(i.type===7&&(Lr(i.arg,t)||Lr(i.exp,t)))return!0}return e.children.some(n=>Lr(n,t));case 11:return Lr(e.source,t)?!0:e.children.some(n=>Lr(n,t));case 9:return e.branches.some(n=>Lr(n,t));case 10:return Lr(e.condition,t)?!0:e.children.some(n=>Lr(n,t));case 4:return!e.isStatic&&Hd(e.content)&&!!t[e.content];case 8:return e.children.some(n=>S3(n)&&Lr(n,t));case 5:case 12:return Lr(e.content,t);case 2:case 3:case 20:return!1;default:return!1}}function lE(e){return e.type===14&&e.callee===z0?e.arguments[1].returns:e}const uE=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,cE={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:lh,isPreTag:lh,isIgnoreNewlineTag:lh,isCustomElement:lh,onError:NC,onWarn:J3,comments:!1,prefixIdentifiers:!1};let vt=cE,nd=null,qo="",ni=null,ut=null,Di="",Lo=-1,Ea=-1,VC=0,Rs=!1,Lv=null;const qt=[],hn=new v8(qt,{onerr:Do,ontext(e,t){hh(Wn(e,t),e,t)},ontextentity(e,t,n){hh(e,t,n)},oninterpolation(e,t){if(Rs)return hh(Wn(e,t),e,t);let n=e+hn.delimiterOpen.length,i=t-hn.delimiterClose.length;for(;$i(qo.charCodeAt(n));)n++;for(;$i(qo.charCodeAt(i-1));)i--;let r=Wn(n,i);r.includes("&")&&(r=vt.decodeEntities(r,!1)),Nv({type:5,content:up(r,!1,yn(n,i)),loc:yn(e,t)})},onopentagname(e,t){const n=Wn(e,t);ni={type:1,tag:n,ns:vt.getNamespace(n,qt[0],vt.ns),tagType:0,props:[],children:[],loc:yn(e-1,t),codegenNode:void 0}},onopentagend(e){Bw(e)},onclosetag(e,t){const n=Wn(e,t);if(!vt.isVoidTag(n)){let i=!1;for(let r=0;r<qt.length;r++)if(qt[r].tag.toLowerCase()===n.toLowerCase()){i=!0,r>0&&Do(24,qt[0].loc.start.offset);for(let s=0;s<=r;s++){const a=qt.shift();lp(a,t,s<r)}break}i||Do(23,dE(e,60))}},onselfclosingtag(e){const t=ni.tag;ni.isSelfClosing=!0,Bw(e),qt[0]&&qt[0].tag===t&&lp(qt.shift(),e)},onattribname(e,t){ut={type:6,name:Wn(e,t),nameLoc:yn(e,t),value:void 0,loc:yn(e)}},ondirname(e,t){const n=Wn(e,t),i=n==="."||n===":"?"bind":n==="@"?"on":n==="#"?"slot":n.slice(2);if(!Rs&&i===""&&Do(26,e),Rs||i==="")ut={type:6,name:n,nameLoc:yn(e,t),value:void 0,loc:yn(e)};else if(ut={type:7,name:i,rawName:n,exp:void 0,arg:void 0,modifiers:n==="."?[Ye("prop")]:[],loc:yn(e)},i==="pre"){Rs=hn.inVPre=!0,Lv=ni;const r=ni.props;for(let o=0;o<r.length;o++)r[o].type===7&&(r[o]=Q8(r[o]))}},ondirarg(e,t){if(e===t)return;const n=Wn(e,t);if(Rs)ut.name+=n,Da(ut.nameLoc,t);else{const i=n[0]!=="[";ut.arg=up(i?n:n.slice(1,-1),i,yn(e,t),i?3:0)}},ondirmodifier(e,t){const n=Wn(e,t);if(Rs)ut.name+="."+n,Da(ut.nameLoc,t);else if(ut.name==="slot"){const i=ut.arg;i&&(i.content+="."+n,Da(i.loc,t))}else{const i=Ye(n,!0,yn(e,t));ut.modifiers.push(i)}},onattribdata(e,t){Di+=Wn(e,t),Lo<0&&(Lo=e),Ea=t},onattribentity(e,t,n){Di+=e,Lo<0&&(Lo=t),Ea=n},onattribnameend(e){const t=ut.loc.start.offset,n=Wn(t,e);ut.type===7&&(ut.rawName=n),ni.props.some(i=>(i.type===7?i.rawName:i.name)===n)&&Do(2,t)},onattribend(e,t){if(ni&&ut){if(Da(ut.loc,t),e!==0)if(Di.includes("&")&&(Di=vt.decodeEntities(Di,!0)),ut.type===6)ut.name==="class"&&(Di=pE(Di).trim()),e===1&&!Di&&Do(13,t),ut.value={type:2,content:Di,loc:e===1?yn(Lo,Ea):yn(Lo-1,Ea+1)},hn.inSFCRoot&&ni.tag==="template"&&ut.name==="lang"&&Di&&Di!=="html"&&hn.enterRCDATA(Wp("</template"),0);else{let n=0;ut.exp=up(Di,!1,yn(Lo,Ea),0,n),ut.name==="for"&&(ut.forParseResult=$8(ut.exp));let i=-1;ut.name==="bind"&&(i=ut.modifiers.findIndex(r=>r.content==="sync"))>-1&&lu("COMPILER_V_BIND_SYNC",vt,ut.loc,ut.rawName)&&(ut.name="model",ut.modifiers.splice(i,1))}(ut.type!==7||ut.name!=="pre")&&ni.props.push(ut)}Di="",Lo=Ea=-1},oncomment(e,t){vt.comments&&Nv({type:3,content:Wn(e,t),loc:yn(e-4,t+3)})},onend(){const e=qo.length;for(let t=0;t<qt.length;t++)lp(qt[t],e-1),Do(24,qt[t].loc.start.offset)},oncdata(e,t){qt[0].ns!==0?hh(Wn(e,t),e,t):Do(1,e-9)},onprocessinginstruction(e){(qt[0]?qt[0].ns:vt.ns)===0&&Do(21,e-1)}}),Nw=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,W8=/^\(|\)$/g;function $8(e){const t=e.loc,n=e.content,i=n.match(uE);if(!i)return;const[,r,o]=i,s=(d,h,p=!1)=>{const f=t.start.offset+h,g=f+d.length;return up(d,!1,yn(f,g),0,p?1:0)},a={source:s(o.trim(),n.indexOf(o,r.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=r.trim().replace(W8,"").trim();const u=r.indexOf(l),c=l.match(Nw);if(c){l=l.replace(Nw,"").trim();const d=c[1].trim();let h;if(d&&(h=n.indexOf(d,u+l.length),a.key=s(d,h,!0)),c[2]){const p=c[2].trim();p&&(a.index=s(p,n.indexOf(p,a.key?h+d.length:u+l.length),!0))}}return l&&(a.value=s(l,u,!0)),a}function Wn(e,t){return qo.slice(e,t)}function Bw(e){hn.inSFCRoot&&(ni.innerLoc=yn(e+1,e+1)),Nv(ni);const{tag:t,ns:n}=ni;n===0&&vt.isPreTag(t)&&VC++,vt.isVoidTag(t)?lp(ni,e):(qt.unshift(ni),(n===1||n===2)&&(hn.inXML=!0)),ni=null}function hh(e,t,n){{const o=qt[0]&&qt[0].tag;o!=="script"&&o!=="style"&&e.includes("&")&&(e=vt.decodeEntities(e,!1))}const i=qt[0]||nd,r=i.children[i.children.length-1];r&&r.type===2?(r.content+=e,Da(r.loc,n)):i.children.push({type:2,content:e,loc:yn(t,n)})}function lp(e,t,n=!1){n?Da(e.loc,dE(t,60)):Da(e.loc,U8(t,62)+1),hn.inSFCRoot&&(e.children.length?e.innerLoc.end=Uo({},e.children[e.children.length-1].loc.end):e.innerLoc.end=Uo({},e.innerLoc.start),e.innerLoc.source=Wn(e.innerLoc.start.offset,e.innerLoc.end.offset));const{tag:i,ns:r,children:o}=e;if(Rs||(i==="slot"?e.tagType=2:zw(e)?e.tagType=3:q8(e)&&(e.tagType=1)),hn.inRCDATA||(e.children=hE(o)),r===0&&vt.isIgnoreNewlineTag(i)){const s=o[0];s&&s.type===2&&(s.content=s.content.replace(/^\r?\n/,""))}r===0&&vt.isPreTag(i)&&VC--,Lv===e&&(Rs=hn.inVPre=!1,Lv=null),hn.inXML&&(qt[0]?qt[0].ns:vt.ns)===0&&(hn.inXML=!1);{const s=e.props;if(!hn.inSFCRoot&&Ba("COMPILER_NATIVE_TEMPLATE",vt)&&e.tag==="template"&&!zw(e)){const l=qt[0]||nd,u=l.children.indexOf(e);l.children.splice(u,1,...e.children)}const a=s.find(l=>l.type===6&&l.name==="inline-template");a&&lu("COMPILER_INLINE_TEMPLATE",vt,a.loc)&&e.children.length&&(a.value={type:2,content:Wn(e.children[0].loc.start.offset,e.children[e.children.length-1].loc.end.offset),loc:a.loc})}}function U8(e,t){let n=e;for(;qo.charCodeAt(n)!==t&&n<qo.length-1;)n++;return n}function dE(e,t){let n=e;for(;qo.charCodeAt(n)!==t&&n>=0;)n--;return n}const j8=new Set(["if","else","else-if","for","slot"]);function zw({tag:e,props:t}){if(e==="template"){for(let n=0;n<t.length;n++)if(t[n].type===7&&j8.has(t[n].name))return!0}return!1}function q8({tag:e,props:t}){if(vt.isCustomElement(e))return!1;if(e==="component"||K8(e.charCodeAt(0))||BC(e)||vt.isBuiltInComponent&&vt.isBuiltInComponent(e)||vt.isNativeTag&&!vt.isNativeTag(e))return!0;for(let n=0;n<t.length;n++){const i=t[n];if(i.type===6){if(i.name==="is"&&i.value){if(i.value.content.startsWith("vue:"))return!0;if(lu("COMPILER_IS_ON_ELEMENT",vt,i.loc))return!0}}else if(i.name==="bind"&&Ws(i.arg,"is")&&lu("COMPILER_IS_ON_ELEMENT",vt,i.loc))return!0}return!1}function K8(e){return e>64&&e<91}const Y8=/\r\n/g;function hE(e,t){const n=vt.whitespace!=="preserve";let i=!1;for(let r=0;r<e.length;r++){const o=e[r];if(o.type===2)if(VC)o.content=o.content.replace(Y8,`
`);else if(X8(o.content)){const s=e[r-1]&&e[r-1].type,a=e[r+1]&&e[r+1].type;!s||!a||n&&(s===3&&(a===3||a===1)||s===1&&(a===3||a===1&&J8(o.content)))?(i=!0,e[r]=null):o.content=" "}else n&&(o.content=pE(o.content))}return i?e.filter(Boolean):e}function X8(e){for(let t=0;t<e.length;t++)if(!$i(e.charCodeAt(t)))return!1;return!0}function J8(e){for(let t=0;t<e.length;t++){const n=e.charCodeAt(t);if(n===10||n===13)return!0}return!1}function pE(e){let t="",n=!1;for(let i=0;i<e.length;i++)$i(e.charCodeAt(i))?n||(t+=" ",n=!0):(t+=e[i],n=!1);return t}function Nv(e){(qt[0]||nd).children.push(e)}function yn(e,t){return{start:hn.getPos(e),end:t==null?t:hn.getPos(t),source:t==null?t:Wn(e,t)}}function Z8(e){return yn(e.start.offset,e.end.offset)}function Da(e,t){e.end=hn.getPos(t),e.source=Wn(e.start.offset,t)}function Q8(e){const t={type:6,name:e.rawName,nameLoc:yn(e.loc.start.offset,e.loc.start.offset+e.rawName.length),value:void 0,loc:e.loc};if(e.exp){const n=e.exp.loc;n.end.offset<e.loc.end.offset&&(n.start.offset--,n.start.column--,n.end.offset++,n.end.column++),t.value={type:2,content:e.exp.content,loc:n}}return t}function up(e,t=!1,n,i=0,r=0){return Ye(e,t,n,i)}function Do(e,t,n){vt.onError(Vt(e,yn(t,t)))}function e7(){hn.reset(),ni=null,ut=null,Di="",Lo=-1,Ea=-1,qt.length=0}function _C(e,t){if(e7(),qo=e,vt=Uo({},cE),t){let r;for(r in t)t[r]!=null&&(vt[r]=t[r])}hn.mode=vt.parseMode==="html"?1:vt.parseMode==="sfc"?2:0,hn.inXML=vt.ns===1||vt.ns===2;const n=t&&t.delimiters;n&&(hn.delimiterOpen=Wp(n[0]),hn.delimiterClose=Wp(n[1]));const i=nd=K3([],e);return hn.parse(qo),i.loc=yn(0,e.length),i.children=hE(i.children),nd=null,i}function t7(e,t){cp(e,void 0,t,fE(e,e.children[0]))}function fE(e,t){const{children:n}=e;return n.length===1&&t.type===1&&!ed(t)}function cp(e,t,n,i=!1,r=!1){const{children:o}=e,s=[];for(let c=0;c<o.length;c++){const d=o[c];if(d.type===1&&d.tagType===0){const h=i?0:Ii(d,n);if(h>0){if(h>=2){d.codegenNode.patchFlag=-1,s.push(d);continue}}else{const p=d.codegenNode;if(p.type===13){const f=p.patchFlag;if((f===void 0||f===512||f===1)&&mE(d,n)>=2){const g=vE(d);g&&(p.props=n.hoist(g))}p.dynamicProps&&(p.dynamicProps=n.hoist(p.dynamicProps))}}}else if(d.type===12&&(i?0:Ii(d,n))>=2){s.push(d);continue}if(d.type===1){const h=d.tagType===1;h&&n.scopes.vSlot++,cp(d,e,n,!1,r),h&&n.scopes.vSlot--}else if(d.type===11)cp(d,e,n,d.children.length===1,!0);else if(d.type===9)for(let h=0;h<d.branches.length;h++)cp(d.branches[h],e,n,d.branches[h].children.length===1,r)}let a=!1;if(s.length===o.length&&e.type===1){if(e.tagType===0&&e.codegenNode&&e.codegenNode.type===13&&Gs(e.codegenNode.children))e.codegenNode.children=l(Js(e.codegenNode.children)),a=!0;else if(e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!Gs(e.codegenNode.children)&&e.codegenNode.children.type===15){const c=u(e.codegenNode,"default");c&&(c.returns=l(Js(c.returns)),a=!0)}else if(e.tagType===3&&t&&t.type===1&&t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!Gs(t.codegenNode.children)&&t.codegenNode.children.type===15){const c=vi(e,"slot",!0),d=c&&c.arg&&u(t.codegenNode,c.arg);d&&(d.returns=l(Js(d.returns)),a=!0)}}if(!a)for(const c of s)c.codegenNode=n.cache(c.codegenNode);function l(c){const d=n.cache(c);return r&&n.hmr&&(d.needArraySpread=!0),d}function u(c,d){if(c.children&&!Gs(c.children)&&c.children.type===15){const h=c.children.properties.find(p=>p.key===d||p.key.content===d);return h&&h.value}}s.length&&n.transformHoist&&n.transformHoist(o,n,e)}function Ii(e,t){const{constantCache:n}=t;switch(e.type){case 1:if(e.tagType!==0)return 0;const i=n.get(e);if(i!==void 0)return i;const r=e.codegenNode;if(r.type!==13||r.isBlock&&e.tag!=="svg"&&e.tag!=="foreignObject"&&e.tag!=="math")return 0;if(r.patchFlag===void 0){let s=3;const a=mE(e,t);if(a===0)return n.set(e,0),0;a<s&&(s=a);for(let l=0;l<e.children.length;l++){const u=Ii(e.children[l],t);if(u===0)return n.set(e,0),0;u<s&&(s=u)}if(s>1)for(let l=0;l<e.props.length;l++){const u=e.props[l];if(u.type===7&&u.name==="bind"&&u.exp){const c=Ii(u.exp,t);if(c===0)return n.set(e,0),0;c<s&&(s=c)}}if(r.isBlock){for(let l=0;l<e.props.length;l++)if(e.props[l].type===7)return n.set(e,0),0;t.removeHelper(oa),t.removeHelper(il(t.inSSR,r.isComponent)),r.isBlock=!1,t.helper(nl(t.inSSR,r.isComponent))}return n.set(e,s),s}else return n.set(e,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Ii(e.content,t);case 4:return e.constType;case 8:let o=3;for(let s=0;s<e.children.length;s++){const a=e.children[s];if(In(a)||bC(a))continue;const l=Ii(a,t);if(l===0)return 0;l<o&&(o=l)}return o;case 20:return 2;default:return 0}}const n7=new Set([O0,L0,su,Ou]);function gE(e,t){if(e.type===14&&!In(e.callee)&&n7.has(e.callee)){const n=e.arguments[0];if(n.type===4)return Ii(n,t);if(n.type===14)return gE(n,t)}return 0}function mE(e,t){let n=3;const i=vE(e);if(i&&i.type===15){const{properties:r}=i;for(let o=0;o<r.length;o++){const{key:s,value:a}=r[o],l=Ii(s,t);if(l===0)return l;l<n&&(n=l);let u;if(a.type===4?u=Ii(a,t):a.type===14?u=gE(a,t):u=0,u===0)return u;u<n&&(n=u)}}return n}function vE(e){const t=e.codegenNode;if(t.type===13)return t.props}function CE(e,{filename:t="",prefixIdentifiers:n=!1,hoistStatic:i=!1,hmr:r=!1,cacheHandlers:o=!1,nodeTransforms:s=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:u=mc,isCustomElement:c=mc,expressionPlugins:d=[],scopeId:h=null,slotted:p=!0,ssr:f=!1,inSSR:g=!1,ssrCssVars:m="",bindingMetadata:v=yD,inline:b=!1,isTS:S=!1,onError:y=NC,onWarn:x=J3,compatConfig:E}){const R=t.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),T={filename:t,selfName:R&&w3(Xs(R[1])),prefixIdentifiers:n,hoistStatic:i,hmr:r,cacheHandlers:o,nodeTransforms:s,directiveTransforms:a,transformHoist:l,isBuiltInComponent:u,isCustomElement:c,expressionPlugins:d,scopeId:h,slotted:p,ssr:f,inSSR:g,ssrCssVars:m,bindingMetadata:v,inline:b,isTS:S,onError:y,onWarn:x,compatConfig:E,root:e,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:e,childIndex:0,inVOnce:!1,helper(F){const D=T.helpers.get(F)||0;return T.helpers.set(F,D+1),F},removeHelper(F){const D=T.helpers.get(F);if(D){const O=D-1;O?T.helpers.set(F,O):T.helpers.delete(F)}},helperString(F){return`_${el[T.helper(F)]}`},replaceNode(F){T.parent.children[T.childIndex]=T.currentNode=F},removeNode(F){const D=T.parent.children,O=F?D.indexOf(F):T.currentNode?T.childIndex:-1;!F||F===T.currentNode?(T.currentNode=null,T.onNodeRemoved()):T.childIndex>O&&(T.childIndex--,T.onNodeRemoved()),T.parent.children.splice(O,1)},onNodeRemoved:mc,addIdentifiers(F){},removeIdentifiers(F){},hoist(F){In(F)&&(F=Ye(F)),T.hoists.push(F);const D=Ye(`_hoisted_${T.hoists.length}`,!1,F.loc,2);return D.hoisted=F,D},cache(F,D=!1,O=!1){const L=Y3(T.cached.length,F,D,O);return T.cached.push(L),L}};return T.filters=new Set,T}function bE(e,t){const n=CE(e,t);_d(e,n),t.hoistStatic&&t7(e,n),t.ssr||i7(e,n),e.helpers=new Set([...n.helpers.keys()]),e.components=[...n.components],e.directives=[...n.directives],e.imports=n.imports,e.hoists=n.hoists,e.temps=n.temps,e.cached=n.cached,e.transformed=!0,e.filters=[...n.filters]}function i7(e,t){const{helper:n}=t,{children:i}=e;if(i.length===1){const r=i[0];if(fE(e,r)&&r.codegenNode){const o=r.codegenNode;o.type===13&&H0(o,t),e.codegenNode=o}else e.codegenNode=r}else if(i.length>1){let r=64;e.codegenNode=au(t,n(ou),void 0,e.children,r,void 0,void 0,!0,void 0,!1)}}function r7(e,t){let n=0;const i=()=>{n--};for(;n<e.children.length;n++){const r=e.children[n];In(r)||(t.grandParent=t.parent,t.parent=e,t.childIndex=n,t.onNodeRemoved=i,_d(r,t))}}function _d(e,t){t.currentNode=e;const{nodeTransforms:n}=t,i=[];for(let o=0;o<n.length;o++){const s=n[o](e,t);if(s&&(Gs(s)?i.push(...s):i.push(s)),t.currentNode)e=t.currentNode;else return}switch(e.type){case 3:t.ssr||t.helper(Iu);break;case 5:t.ssr||t.helper(zd);break;case 9:for(let o=0;o<e.branches.length;o++)_d(e.branches[o],t);break;case 10:case 11:case 1:case 0:r7(e,t);break}t.currentNode=e;let r=i.length;for(;r--;)i[r]()}function GC(e,t){const n=In(e)?i=>i===e:i=>e.test(i);return(i,r)=>{if(i.type===1){const{props:o}=i;if(i.tagType===3&&o.some(HC))return;const s=[];for(let a=0;a<o.length;a++){const l=o[a];if(l.type===7&&n(l.name)){o.splice(a,1),a--;const u=t(i,l,r);u&&s.push(u)}}return s}}}const V0="/*@__PURE__*/",yE=e=>`${el[e]}: _${el[e]}`;function o7(e,{mode:t="function",prefixIdentifiers:n=t==="module",sourceMap:i=!1,filename:r="template.vue.html",scopeId:o=null,optimizeImports:s=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:u="vue/server-renderer",ssr:c=!1,isTS:d=!1,inSSR:h=!1}){const p={mode:t,prefixIdentifiers:n,sourceMap:i,filename:r,scopeId:o,optimizeImports:s,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:u,ssr:c,isTS:d,inSSR:h,source:e.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(g){return`_${el[g]}`},push(g,m=-2,v){p.code+=g},indent(){f(++p.indentLevel)},deindent(g=!1){g?--p.indentLevel:f(--p.indentLevel)},newline(){f(p.indentLevel)}};function f(g){p.push(`
`+"  ".repeat(g),0)}return p}function wE(e,t={}){const n=o7(e,t);t.onContextCreated&&t.onContextCreated(n);const{mode:i,push:r,prefixIdentifiers:o,indent:s,deindent:a,newline:l,scopeId:u,ssr:c}=n,d=Array.from(e.helpers),h=d.length>0,p=!o&&i!=="module";s7(e,n);const g=c?"ssrRender":"render",v=(c?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(r(`function ${g}(${v}) {`),s(),p&&(r("with (_ctx) {"),s(),h&&(r(`const { ${d.map(yE).join(", ")} } = _Vue
`,-1),l())),e.components.length&&(Vg(e.components,"component",n),(e.directives.length||e.temps>0)&&l()),e.directives.length&&(Vg(e.directives,"directive",n),e.temps>0&&l()),e.filters&&e.filters.length&&(l(),Vg(e.filters,"filter",n),l()),e.temps>0){r("let ");for(let b=0;b<e.temps;b++)r(`${b>0?", ":""}_temp${b}`)}return(e.components.length||e.directives.length||e.temps)&&(r(`
`,0),l()),c||r("return "),e.codegenNode?oi(e.codegenNode,n):r("null"),p&&(a(),r("}")),a(),r("}"),{ast:e,code:n.code,preamble:"",map:n.map?n.map.toJSON():void 0}}function s7(e,t){const{ssr:n,prefixIdentifiers:i,push:r,newline:o,runtimeModuleName:s,runtimeGlobalName:a,ssrRuntimeModuleName:l}=t,u=a,c=Array.from(e.helpers);if(c.length>0&&(r(`const _Vue = ${u}
`,-1),e.hoists.length)){const d=[k0,F0,Iu,T0,PC].filter(h=>c.includes(h)).map(yE).join(", ");r(`const { ${d} } = _Vue
`,-1)}a7(e.hoists,t),o(),r("return ")}function Vg(e,t,{helper:n,push:i,newline:r,isTS:o}){const s=n(t==="filter"?M0:t==="component"?A0:D0);for(let a=0;a<e.length;a++){let l=e[a];const u=l.endsWith("__self");u&&(l=l.slice(0,-6)),i(`const ${cu(l,t)} = ${s}(${JSON.stringify(l)}${u?", true":""})${o?"!":""}`),a<e.length-1&&r()}}function a7(e,t){if(!e.length)return;t.pure=!0;const{push:n,newline:i}=t;i();for(let r=0;r<e.length;r++){const o=e[r];o&&(n(`const _hoisted_${r+1} = `),oi(o,t),i())}t.pure=!1}function WC(e,t){const n=e.length>3||!1;t.push("["),n&&t.indent(),Gd(e,t,n),n&&t.deindent(),t.push("]")}function Gd(e,t,n=!1,i=!0){const{push:r,newline:o}=t;for(let s=0;s<e.length;s++){const a=e[s];In(a)?r(a,-3):Gs(a)?WC(a,t):oi(a,t),s<e.length-1&&(n?(i&&r(","),o()):i&&r(", "))}}function oi(e,t){if(In(e)){t.push(e,-3);return}if(bC(e)){t.push(t.helper(e));return}switch(e.type){case 1:case 9:case 11:oi(e.codegenNode,t);break;case 2:l7(e,t);break;case 4:SE(e,t);break;case 5:u7(e,t);break;case 12:oi(e.codegenNode,t);break;case 8:xE(e,t);break;case 3:d7(e,t);break;case 13:h7(e,t);break;case 14:f7(e,t);break;case 15:g7(e,t);break;case 17:m7(e,t);break;case 18:v7(e,t);break;case 19:C7(e,t);break;case 20:b7(e,t);break;case 21:Gd(e.body,t,!0,!1);break}}function l7(e,t){t.push(JSON.stringify(e.content),-3,e)}function SE(e,t){const{content:n,isStatic:i}=e;t.push(i?JSON.stringify(n):n,-3,e)}function u7(e,t){const{push:n,helper:i,pure:r}=t;r&&n(V0),n(`${i(zd)}(`),oi(e.content,t),n(")")}function xE(e,t){for(let n=0;n<e.children.length;n++){const i=e.children[n];In(i)?t.push(i,-3):oi(i,t)}}function c7(e,t){const{push:n}=t;if(e.type===8)n("["),xE(e,t),n("]");else if(e.isStatic){const i=Hd(e.content)?e.content:JSON.stringify(e.content);n(i,-2,e)}else n(`[${e.content}]`,-3,e)}function d7(e,t){const{push:n,helper:i,pure:r}=t;r&&n(V0),n(`${i(Iu)}(${JSON.stringify(e.content)})`,-3,e)}function h7(e,t){const{push:n,helper:i,pure:r}=t,{tag:o,props:s,children:a,patchFlag:l,dynamicProps:u,directives:c,isBlock:d,disableTracking:h,isComponent:p}=e;let f;l&&(f=String(l)),c&&n(i(P0)+"("),d&&n(`(${i(oa)}(${h?"true":""}), `),r&&n(V0);const g=d?il(t.inSSR,p):nl(t.inSSR,p);n(i(g)+"(",-2,e),Gd(p7([o,s,a,f,u]),t),n(")"),d&&n(")"),c&&(n(", "),oi(c,t),n(")"))}function p7(e){let t=e.length;for(;t--&&e[t]==null;);return e.slice(0,t+1).map(n=>n||"null")}function f7(e,t){const{push:n,helper:i,pure:r}=t,o=In(e.callee)?e.callee:i(e.callee);r&&n(V0),n(o+"(",-2,e),Gd(e.arguments,t),n(")")}function g7(e,t){const{push:n,indent:i,deindent:r,newline:o}=t,{properties:s}=e;if(!s.length){n("{}",-2,e);return}const a=s.length>1||!1;n(a?"{":"{ "),a&&i();for(let l=0;l<s.length;l++){const{key:u,value:c}=s[l];c7(u,t),n(": "),oi(c,t),l<s.length-1&&(n(","),o())}a&&r(),n(a?"}":" }")}function m7(e,t){WC(e.elements,t)}function v7(e,t){const{push:n,indent:i,deindent:r}=t,{params:o,returns:s,body:a,newline:l,isSlot:u}=e;u&&n(`_${el[B0]}(`),n("(",-2,e),Gs(o)?Gd(o,t):o&&oi(o,t),n(") => "),(l||a)&&(n("{"),i()),s?(l&&n("return "),Gs(s)?WC(s,t):oi(s,t)):a&&oi(a,t),(l||a)&&(r(),n("}")),u&&(e.isNonScopedSlot&&n(", undefined, true"),n(")"))}function C7(e,t){const{test:n,consequent:i,alternate:r,newline:o}=e,{push:s,indent:a,deindent:l,newline:u}=t;if(n.type===4){const d=!Hd(n.content);d&&s("("),SE(n,t),d&&s(")")}else s("("),oi(n,t),s(")");o&&a(),t.indentLevel++,o||s(" "),s("? "),oi(i,t),t.indentLevel--,o&&u(),o||s(" "),s(": ");const c=r.type===19;c||t.indentLevel++,oi(r,t),c||t.indentLevel--,o&&l(!0)}function b7(e,t){const{push:n,helper:i,indent:r,deindent:o,newline:s}=t,{needPauseTracking:a,needArraySpread:l}=e;l&&n("[...("),n(`_cache[${e.index}] || (`),a&&(r(),n(`${i(Qc)}(-1`),e.inVOnce&&n(", true"),n("),"),s(),n("(")),n(`_cache[${e.index}] = `),oi(e.value,t),a&&(n(`).cacheIndex = ${e.index},`),s(),n(`${i(Qc)}(1),`),s(),n(`_cache[${e.index}]`),o()),n(")"),l&&n(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const y7=(e,t)=>{if(e.type===5)e.content=dp(e.content,t);else if(e.type===1){const n=vi(e,"memo");for(let i=0;i<e.props.length;i++){const r=e.props[i];if(r.type===7&&r.name!=="for"){const o=r.exp,s=r.arg;o&&o.type===4&&!(r.name==="on"&&s)&&!(n&&s&&s.type===4&&s.content==="key")&&(r.exp=dp(o,t,r.name==="slot")),s&&s.type===4&&!s.isStatic&&(r.arg=dp(s,t))}}}};function dp(e,t,n=!1,i=!1,r=Object.create(t.identifiers)){return e}function EE(e){return In(e)?e:e.type===4?e.content:e.children.map(EE).join("")}const w7=GC(/^(if|else|else-if)$/,(e,t,n)=>kE(e,t,n,(i,r,o)=>{const s=n.parent.children;let a=s.indexOf(i),l=0;for(;a-->=0;){const u=s[a];u&&u.type===9&&(l+=u.branches.length)}return()=>{if(o)i.codegenNode=Vw(r,l,n);else{const u=S7(i.codegenNode);u.alternate=Vw(r,l+i.branches.length-1,n)}}}));function kE(e,t,n,i){if(t.name!=="else"&&(!t.exp||!t.exp.content.trim())){const r=t.exp?t.exp.loc:e.loc;n.onError(Vt(28,t.loc)),t.exp=Ye("true",!1,r)}if(t.name==="if"){const r=Hw(e,t),o={type:9,loc:Z8(e.loc),branches:[r]};if(n.replaceNode(o),i)return i(o,r,!0)}else{const r=n.parent.children;let o=r.indexOf(e);for(;o-->=-1;){const s=r[o];if(s&&s.type===3){n.removeNode(s);continue}if(s&&s.type===2&&!s.content.trim().length){n.removeNode(s);continue}if(s&&s.type===9){t.name==="else-if"&&s.branches[s.branches.length-1].condition===void 0&&n.onError(Vt(30,e.loc)),n.removeNode();const a=Hw(e,t);s.branches.push(a);const l=i&&i(s,a,!1);_d(a,n),l&&l(),n.currentNode=null}else n.onError(Vt(30,e.loc));break}}}function Hw(e,t){const n=e.tagType===3;return{type:10,loc:e.loc,condition:t.name==="else"?void 0:t.exp,children:n&&!vi(e,"for")?e.children:[e],userKey:Vd(e,"key"),isTemplateIf:n}}function Vw(e,t,n){return e.condition?Gp(e.condition,_w(e,t,n),kn(n.helper(Iu),['""',"true"])):_w(e,t,n)}function _w(e,t,n){const{helper:i}=n,r=fn("key",Ye(`${t}`,!1,Ln,2)),{children:o}=e,s=o[0];if(o.length!==1||s.type!==1)if(o.length===1&&s.type===11){const l=s.codegenNode;return td(l,r,n),l}else return au(n,i(ou),Qi([r]),o,64,void 0,void 0,!0,!1,!1,e.loc);else{const l=s.codegenNode,u=lE(l);return u.type===13&&H0(u,n),td(u,r,n),l}}function S7(e){for(;;)if(e.type===19)if(e.alternate.type===19)e=e.alternate;else return e;else e.type===20&&(e=e.value)}const FE=(e,t,n)=>{const{modifiers:i,loc:r}=e,o=e.arg;let{exp:s}=e;if(s&&s.type===4&&!s.content.trim()&&(s=void 0),!s){if(o.type!==4||!o.isStatic)return n.onError(Vt(52,o.loc)),{props:[fn(o,Ye("",!0,r))]};TE(e),s=e.exp}return o.type!==4?(o.children.unshift("("),o.children.push(') || ""')):o.isStatic||(o.content=`${o.content} || ""`),i.some(a=>a.content==="camel")&&(o.type===4?o.isStatic?o.content=Xs(o.content):o.content=`${n.helperString(Vp)}(${o.content})`:(o.children.unshift(`${n.helperString(Vp)}(`),o.children.push(")"))),n.inSSR||(i.some(a=>a.content==="prop")&&Gw(o,"."),i.some(a=>a.content==="attr")&&Gw(o,"^")),{props:[fn(o,s)]}},TE=(e,t)=>{const n=e.arg,i=Xs(n.content);e.exp=Ye(i,!1,n.loc)},Gw=(e,t)=>{e.type===4?e.isStatic?e.content=t+e.content:e.content=`\`${t}\${${e.content}}\``:(e.children.unshift(`'${t}' + (`),e.children.push(")"))},x7=GC("for",(e,t,n)=>{const{helper:i,removeHelper:r}=n;return AE(e,t,n,o=>{const s=kn(i(I0),[o.source]),a=uu(e),l=vi(e,"memo"),u=Vd(e,"key",!1,!0);u&&u.type===7&&!u.exp&&TE(u);let d=u&&(u.type===6?u.value?Ye(u.value.content,!0):void 0:u.exp);const h=u&&d?fn("key",d):null,p=o.source.type===4&&o.source.constType>0,f=p?64:u?128:256;return o.codegenNode=au(n,i(ou),void 0,s,f,void 0,void 0,!0,!p,!1,e.loc),()=>{let g;const{children:m}=o,v=m.length!==1||m[0].type!==1,b=ed(e)?e:a&&e.children.length===1&&ed(e.children[0])?e.children[0]:null;if(b?(g=b.codegenNode,a&&h&&td(g,h,n)):v?g=au(n,i(ou),h?Qi([h]):void 0,e.children,64,void 0,void 0,!0,void 0,!1):(g=m[0].codegenNode,a&&h&&td(g,h,n),g.isBlock!==!p&&(g.isBlock?(r(oa),r(il(n.inSSR,g.isComponent))):r(nl(n.inSSR,g.isComponent))),g.isBlock=!p,g.isBlock?(i(oa),i(il(n.inSSR,g.isComponent))):i(nl(n.inSSR,g.isComponent))),l){const S=tl($p(o.parseResult,[Ye("_cached")]));S.body=X3([yr(["const _memo = (",l.exp,")"]),yr(["if (_cached",...d?[" && _cached.key === ",d]:[],` && ${n.helperString(LC)}(_cached, _memo)) return _cached`]),yr(["const _item = ",g]),Ye("_item.memo = _memo"),Ye("return _item")]),s.arguments.push(S,Ye("_cache"),Ye(String(n.cached.length))),n.cached.push(null)}else s.arguments.push(tl($p(o.parseResult),g,!0))}})});function AE(e,t,n,i){if(!t.exp){n.onError(Vt(31,t.loc));return}const r=t.forParseResult;if(!r){n.onError(Vt(32,t.loc));return}$C(r);const{addIdentifiers:o,removeIdentifiers:s,scopes:a}=n,{source:l,value:u,key:c,index:d}=r,h={type:11,loc:t.loc,source:l,valueAlias:u,keyAlias:c,objectIndexAlias:d,parseResult:r,children:uu(e)?e.children:[e]};n.replaceNode(h),a.vFor++;const p=i&&i(h);return()=>{a.vFor--,p&&p()}}function $C(e,t){e.finalized||(e.finalized=!0)}function $p({value:e,key:t,index:n},i=[]){return E7([e,t,n,...i])}function E7(e){let t=e.length;for(;t--&&!e[t];);return e.slice(0,t+1).map((n,i)=>n||Ye("_".repeat(i+1),!1))}const Ww=Ye("undefined",!1),RE=(e,t)=>{if(e.type===1&&(e.tagType===1||e.tagType===3)){const n=vi(e,"slot");if(n)return n.exp,t.scopes.vSlot++,()=>{t.scopes.vSlot--}}},k7=(e,t)=>{let n;if(uu(e)&&e.props.some(HC)&&(n=vi(e,"for"))){const i=n.forParseResult;if(i){$C(i);const{value:r,key:o,index:s}=i,{addIdentifiers:a,removeIdentifiers:l}=t;return r&&a(r),o&&a(o),s&&a(s),()=>{r&&l(r),o&&l(o),s&&l(s)}}}},F7=(e,t,n,i)=>tl(e,n,!1,!0,n.length?n[0].loc:i);function DE(e,t,n=F7){t.helper(B0);const{children:i,loc:r}=e,o=[],s=[];let a=t.scopes.vSlot>0||t.scopes.vFor>0;const l=vi(e,"slot",!0);if(l){const{arg:m,exp:v}=l;m&&!yi(m)&&(a=!0),o.push(fn(m||Ye("default",!0),n(v,void 0,i,r)))}let u=!1,c=!1;const d=[],h=new Set;let p=0;for(let m=0;m<i.length;m++){const v=i[m];let b;if(!uu(v)||!(b=vi(v,"slot",!0))){v.type!==3&&d.push(v);continue}if(l){t.onError(Vt(37,b.loc));break}u=!0;const{children:S,loc:y}=v,{arg:x=Ye("default",!0),exp:E,loc:R}=b;let T;yi(x)?T=x?x.content:"default":a=!0;const F=vi(v,"for"),D=n(E,F,S,y);let O,L;if(O=vi(v,"if"))a=!0,s.push(Gp(O.exp,ph(x,D,p++),Ww));else if(L=vi(v,/^else(-if)?$/,!0)){let I=m,B;for(;I--&&(B=i[I],B.type===3););if(B&&uu(B)&&vi(B,/^(else-)?if$/)){let U=s[s.length-1];for(;U.alternate.type===19;)U=U.alternate;U.alternate=L.exp?Gp(L.exp,ph(x,D,p++),Ww):ph(x,D,p++)}else t.onError(Vt(30,L.loc))}else if(F){a=!0;const I=F.forParseResult;I?($C(I),s.push(kn(t.helper(I0),[I.source,tl($p(I),ph(x,D),!0)]))):t.onError(Vt(32,F.loc))}else{if(T){if(h.has(T)){t.onError(Vt(38,R));continue}h.add(T),T==="default"&&(c=!0)}o.push(fn(x,D))}}if(!l){const m=(v,b)=>{const S=n(v,void 0,b,r);return t.compatConfig&&(S.isNonScopedSlot=!0),fn("default",S)};u?d.length&&d.some(v=>ME(v))&&(c?t.onError(Vt(39,d[0].loc)):o.push(m(void 0,d))):o.push(m(void 0,i))}const f=a?2:hp(e.children)?3:1;let g=Qi(o.concat(fn("_",Ye(f+"",!1))),r);return s.length&&(g=kn(t.helper(OC),[g,Js(s)])),{slots:g,hasDynamicSlots:a}}function ph(e,t,n){const i=[fn("name",e),fn("fn",t)];return n!=null&&i.push(fn("key",Ye(String(n),!0))),Qi(i)}function hp(e){for(let t=0;t<e.length;t++){const n=e[t];switch(n.type){case 1:if(n.tagType===2||hp(n.children))return!0;break;case 9:if(hp(n.branches))return!0;break;case 10:case 11:if(hp(n.children))return!0;break}}return!1}function ME(e){return e.type!==2&&e.type!==12?!0:e.type===2?!!e.content.trim():ME(e.content)}const PE=new WeakMap,IE=(e,t)=>function(){if(e=t.currentNode,!(e.type===1&&(e.tagType===0||e.tagType===1)))return;const{tag:i,props:r}=e,o=e.tagType===1;let s=o?OE(e,t):`"${i}"`;const a=S3(s)&&s.callee===R0;let l,u,c=0,d,h,p,f=a||s===jl||s===E0||!o&&(i==="svg"||i==="foreignObject"||i==="math");if(r.length>0){const g=UC(e,t,void 0,o,a);l=g.props,c=g.patchFlag,h=g.dynamicPropNames;const m=g.directives;p=m&&m.length?Js(m.map(v=>LE(v,t))):void 0,g.shouldUseBlock&&(f=!0)}if(e.children.length>0)if(s===Jc&&(f=!0,c|=1024),o&&s!==jl&&s!==Jc){const{slots:m,hasDynamicSlots:v}=DE(e,t);u=m,v&&(c|=1024)}else if(e.children.length===1&&s!==jl){const m=e.children[0],v=m.type,b=v===5||v===8;b&&Ii(m,t)===0&&(c|=1),b||v===2?u=m:u=e.children}else u=e.children;h&&h.length&&(d=A7(h)),e.codegenNode=au(t,s,l,u,c===0?void 0:c,d,p,!!f,!1,o,e.loc)};function OE(e,t,n=!1){let{tag:i}=e;const r=Bv(i),o=Vd(e,"is",!1,!0);if(o)if(r||Ba("COMPILER_IS_ON_ELEMENT",t)){let a;if(o.type===6?a=o.value&&Ye(o.value.content,!0):(a=o.exp,a||(a=Ye("is",!1,o.arg.loc))),a)return kn(t.helper(R0),[a])}else o.type===6&&o.value.content.startsWith("vue:")&&(i=o.value.content.slice(4));const s=BC(i)||t.isBuiltInComponent(i);return s?(n||t.helper(s),s):(t.helper(A0),t.components.add(i),cu(i,"component"))}function UC(e,t,n=e.props,i,r,o=!1){const{tag:s,loc:a,children:l}=e;let u=[];const c=[],d=[],h=l.length>0;let p=!1,f=0,g=!1,m=!1,v=!1,b=!1,S=!1,y=!1;const x=[],E=D=>{u.length&&(c.push(Qi($w(u),a)),u=[]),D&&c.push(D)},R=()=>{t.scopes.vFor>0&&u.push(fn(Ye("ref_for",!0),Ye("true")))},T=({key:D,value:O})=>{if(yi(D)){const L=D.content,I=x3(L);if(I&&(!i||r)&&L.toLowerCase()!=="onclick"&&L!=="onUpdate:modelValue"&&!ww(L)&&(b=!0),I&&ww(L)&&(y=!0),I&&O.type===14&&(O=O.arguments[0]),O.type===20||(O.type===4||O.type===8)&&Ii(O,t)>0)return;L==="ref"?g=!0:L==="class"?m=!0:L==="style"?v=!0:L!=="key"&&!x.includes(L)&&x.push(L),i&&(L==="class"||L==="style")&&!x.includes(L)&&x.push(L)}else S=!0};for(let D=0;D<n.length;D++){const O=n[D];if(O.type===6){const{loc:L,name:I,nameLoc:B,value:U}=O;let V=!0;if(I==="ref"&&(g=!0,R()),I==="is"&&(Bv(s)||U&&U.content.startsWith("vue:")||Ba("COMPILER_IS_ON_ELEMENT",t)))continue;u.push(fn(Ye(I,!0,B),Ye(U?U.content:"",V,U?U.loc:L)))}else{const{name:L,arg:I,exp:B,loc:U,modifiers:V}=O,Y=L==="bind",oe=L==="on";if(L==="slot"){i||t.onError(Vt(40,U));continue}if(L==="once"||L==="memo"||L==="is"||Y&&Ws(I,"is")&&(Bv(s)||Ba("COMPILER_IS_ON_ELEMENT",t))||oe&&o)continue;if((Y&&Ws(I,"key")||oe&&h&&Ws(I,"vue:before-update"))&&(p=!0),Y&&Ws(I,"ref")&&R(),!I&&(Y||oe)){if(S=!0,B)if(Y){if(R(),E(),Ba("COMPILER_V_BIND_OBJECT_ORDER",t)){c.unshift(B);continue}c.push(B)}else E({type:14,loc:U,callee:t.helper(N0),arguments:i?[B]:[B,"true"]});else t.onError(Vt(Y?34:35,U));continue}Y&&V.some(we=>we.content==="prop")&&(f|=32);const ke=t.directiveTransforms[L];if(ke){const{props:we,needRuntime:Ae}=ke(O,e,t);!o&&we.forEach(T),oe&&I&&!yi(I)?E(Qi(we,a)):u.push(...we),Ae&&(d.push(O),bC(Ae)&&PE.set(O,Ae))}else bD(L)||(d.push(O),h&&(p=!0))}}let F;if(c.length?(E(),c.length>1?F=kn(t.helper(Zc),c,a):F=c[0]):u.length&&(F=Qi($w(u),a)),S?f|=16:(m&&!i&&(f|=2),v&&!i&&(f|=4),x.length&&(f|=8),b&&(f|=32)),!p&&(f===0||f===32)&&(g||y||d.length>0)&&(f|=512),!t.inSSR&&F)switch(F.type){case 15:let D=-1,O=-1,L=!1;for(let U=0;U<F.properties.length;U++){const V=F.properties[U].key;yi(V)?V.content==="class"?D=U:V.content==="style"&&(O=U):V.isHandlerKey||(L=!0)}const I=F.properties[D],B=F.properties[O];L?F=kn(t.helper(su),[F]):(I&&!yi(I.value)&&(I.value=kn(t.helper(O0),[I.value])),B&&(v||B.value.type===4&&B.value.content.trim()[0]==="["||B.value.type===17)&&(B.value=kn(t.helper(L0),[B.value])));break;case 14:break;default:F=kn(t.helper(su),[kn(t.helper(Ou),[F])]);break}return{props:F,directives:d,patchFlag:f,dynamicPropNames:x,shouldUseBlock:p}}function $w(e){const t=new Map,n=[];for(let i=0;i<e.length;i++){const r=e[i];if(r.key.type===8||!r.key.isStatic){n.push(r);continue}const o=r.key.content,s=t.get(o);s?(o==="style"||o==="class"||x3(o))&&T7(s,r):(t.set(o,r),n.push(r))}return n}function T7(e,t){e.value.type===17?e.value.elements.push(t.value):e.value=Js([e.value,t.value],e.loc)}function LE(e,t){const n=[],i=PE.get(e);i?n.push(t.helperString(i)):(t.helper(D0),t.directives.add(e.name),n.push(cu(e.name,"directive")));const{loc:r}=e;if(e.exp&&n.push(e.exp),e.arg&&(e.exp||n.push("void 0"),n.push(e.arg)),Object.keys(e.modifiers).length){e.arg||(e.exp||n.push("void 0"),n.push("void 0"));const o=Ye("true",!1,r);n.push(Qi(e.modifiers.map(s=>fn(s,o)),r))}return Js(n,e.loc)}function A7(e){let t="[";for(let n=0,i=e.length;n<i;n++)t+=JSON.stringify(e[n]),n<i-1&&(t+=", ");return t+"]"}function Bv(e){return e==="component"||e==="Component"}const R7=(e,t)=>{if(ed(e)){const{children:n,loc:i}=e,{slotName:r,slotProps:o}=NE(e,t),s=[t.prefixIdentifiers?"_ctx.$slots":"$slots",r,"{}","undefined","true"];let a=2;o&&(s[2]=o,a=3),n.length&&(s[3]=tl([],n,!1,!1,i),a=4),t.scopeId&&!t.slotted&&(a=5),s.splice(a),e.codegenNode=kn(t.helper(IC),s,i)}};function NE(e,t){let n='"default"',i;const r=[];for(let o=0;o<e.props.length;o++){const s=e.props[o];if(s.type===6)s.value&&(s.name==="name"?n=JSON.stringify(s.value.content):(s.name=Xs(s.name),r.push(s)));else if(s.name==="bind"&&Ws(s.arg,"name")){if(s.exp)n=s.exp;else if(s.arg&&s.arg.type===4){const a=Xs(s.arg.content);n=s.exp=Ye(a,!1,s.arg.loc)}}else s.name==="bind"&&s.arg&&yi(s.arg)&&(s.arg.content=Xs(s.arg.content)),r.push(s)}if(r.length>0){const{props:o,directives:s}=UC(e,t,r,!1,!1);i=o,s.length&&t.onError(Vt(36,s[0].loc))}return{slotName:n,slotProps:i}}const jC=(e,t,n,i)=>{const{loc:r,modifiers:o,arg:s}=e;!e.exp&&!o.length&&n.onError(Vt(35,r));let a;if(s.type===4)if(s.isStatic){let d=s.content;d.startsWith("vue:")&&(d=`vnode-${d.slice(4)}`);const h=t.tagType!==0||d.startsWith("vnode")||!/[A-Z]/.test(d)?wD(Xs(d)):`on:${d}`;a=Ye(h,!0,s.loc)}else a=yr([`${n.helperString(_p)}(`,s,")"]);else a=s,a.children.unshift(`${n.helperString(_p)}(`),a.children.push(")");let l=e.exp;l&&!l.content.trim()&&(l=void 0);let u=n.cacheHandlers&&!l&&!n.inVOnce;if(l){const d=zC(l),h=!(d||rE(l)),p=l.content.includes(";");(h||u&&d)&&(l=yr([`${h?"$event":"(...args)"} => ${p?"{":"("}`,l,p?"}":")"]))}let c={props:[fn(a,l||Ye("() => {}",!1,r))]};return i&&(c=i(c)),u&&(c.props[0].value=n.cache(c.props[0].value)),c.props.forEach(d=>d.key.isHandlerKey=!0),c},D7=(e,t)=>{if(e.type===0||e.type===1||e.type===11||e.type===10)return()=>{const n=e.children;let i,r=!1;for(let o=0;o<n.length;o++){const s=n[o];if(ap(s)){r=!0;for(let a=o+1;a<n.length;a++){const l=n[a];if(ap(l))i||(i=n[o]=yr([s],s.loc)),i.children.push(" + ",l),n.splice(a,1),a--;else{i=void 0;break}}}}if(!(!r||n.length===1&&(e.type===0||e.type===1&&e.tagType===0&&!e.props.find(o=>o.type===7&&!t.directiveTransforms[o.name])&&e.tag!=="template")))for(let o=0;o<n.length;o++){const s=n[o];if(ap(s)||s.type===8){const a=[];(s.type!==2||s.content!==" ")&&a.push(s),!t.ssr&&Ii(s,t)===0&&a.push("1"),n[o]={type:12,content:s,loc:s.loc,codegenNode:kn(t.helper(T0),a)}}}}},Uw=new WeakSet,M7=(e,t)=>{if(e.type===1&&vi(e,"once",!0))return Uw.has(e)||t.inVOnce||t.inSSR?void 0:(Uw.add(e),t.inVOnce=!0,t.helper(Qc),()=>{t.inVOnce=!1;const n=t.currentNode;n.codegenNode&&(n.codegenNode=t.cache(n.codegenNode,!0,!0))})},qC=(e,t,n)=>{const{exp:i,arg:r}=e;if(!i)return n.onError(Vt(41,e.loc)),fh();const o=i.loc.source.trim(),s=i.type===4?i.content:o,a=n.bindingMetadata[o];if(a==="props"||a==="props-aliased")return n.onError(Vt(44,i.loc)),fh();if(!s.trim()||!zC(i))return n.onError(Vt(42,i.loc)),fh();const l=r||Ye("modelValue",!0),u=r?yi(r)?`onUpdate:${Xs(r.content)}`:yr(['"onUpdate:" + ',r]):"onUpdate:modelValue";let c;const d=n.isTS?"($event: any)":"$event";c=yr([`${d} => ((`,i,") = $event)"]);const h=[fn(l,e.exp),fn(u,c)];if(e.modifiers.length&&t.tagType===1){const p=e.modifiers.map(g=>g.content).map(g=>(Hd(g)?g:JSON.stringify(g))+": true").join(", "),f=r?yi(r)?`${r.content}Modifiers`:yr([r,' + "Modifiers"']):"modelModifiers";h.push(fn(f,Ye(`{ ${p} }`,!1,e.loc,2)))}return fh(h)};function fh(e=[]){return{props:e}}const P7=/[\w).+\-_$\]]/,I7=(e,t)=>{Ba("COMPILER_FILTERS",t)&&(e.type===5?Up(e.content,t):e.type===1&&e.props.forEach(n=>{n.type===7&&n.name!=="for"&&n.exp&&Up(n.exp,t)}))};function Up(e,t){if(e.type===4)jw(e,t);else for(let n=0;n<e.children.length;n++){const i=e.children[n];typeof i=="object"&&(i.type===4?jw(i,t):i.type===8?Up(e,t):i.type===5&&Up(i.content,t))}}function jw(e,t){const n=e.content;let i=!1,r=!1,o=!1,s=!1,a=0,l=0,u=0,c=0,d,h,p,f,g=[];for(p=0;p<n.length;p++)if(h=d,d=n.charCodeAt(p),i)d===39&&h!==92&&(i=!1);else if(r)d===34&&h!==92&&(r=!1);else if(o)d===96&&h!==92&&(o=!1);else if(s)d===47&&h!==92&&(s=!1);else if(d===124&&n.charCodeAt(p+1)!==124&&n.charCodeAt(p-1)!==124&&!a&&!l&&!u)f===void 0?(c=p+1,f=n.slice(0,p).trim()):m();else{switch(d){case 34:r=!0;break;case 39:i=!0;break;case 96:o=!0;break;case 40:u++;break;case 41:u--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(d===47){let v=p-1,b;for(;v>=0&&(b=n.charAt(v),b===" ");v--);(!b||!P7.test(b))&&(s=!0)}}f===void 0?f=n.slice(0,p).trim():c!==0&&m();function m(){g.push(n.slice(c,p).trim()),c=p+1}if(g.length){for(p=0;p<g.length;p++)f=O7(f,g[p],t);e.content=f,e.ast=void 0}}function O7(e,t,n){n.helper(M0);const i=t.indexOf("(");if(i<0)return n.filters.add(t),`${cu(t,"filter")}(${e})`;{const r=t.slice(0,i),o=t.slice(i+1);return n.filters.add(r),`${cu(r,"filter")}(${e}${o!==")"?","+o:o}`}}const qw=new WeakSet,L7=(e,t)=>{if(e.type===1){const n=vi(e,"memo");return!n||qw.has(e)?void 0:(qw.add(e),()=>{const i=e.codegenNode||t.currentNode.codegenNode;i&&i.type===13&&(e.tagType!==1&&H0(i,t),e.codegenNode=kn(t.helper(z0),[n.exp,tl(void 0,i),"_cache",String(t.cached.length)]),t.cached.push(null))})}};function BE(e){return[[M7,w7,L7,x7,I7,R7,IE,RE,D7],{on:jC,bind:FE,model:qC}]}function zE(e,t={}){const n=t.onError||NC,i=t.mode==="module";t.prefixIdentifiers===!0?n(Vt(47)):i&&n(Vt(48));const r=!1;t.cacheHandlers&&n(Vt(49)),t.scopeId&&!i&&n(Vt(50));const o=Uo({},t,{prefixIdentifiers:r}),s=In(e)?_C(e,o):e,[a,l]=BE();return bE(s,Uo({},o,{nodeTransforms:[...a,...t.nodeTransforms||[]],directiveTransforms:Uo({},l,t.directiveTransforms||{})})),wE(s,o)}const N7={DATA:"data",PROPS:"props",PROPS_ALIASED:"props-aliased",SETUP_LET:"setup-let",SETUP_CONST:"setup-const",SETUP_REACTIVE_CONST:"setup-reactive-const",SETUP_MAYBE_REF:"setup-maybe-ref",SETUP_REF:"setup-ref",OPTIONS:"options",LITERAL_CONST:"literal-const"},HE=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const KC=Symbol(""),YC=Symbol(""),XC=Symbol(""),JC=Symbol(""),jp=Symbol(""),ZC=Symbol(""),QC=Symbol(""),eb=Symbol(""),tb=Symbol(""),nb=Symbol("");q3({[KC]:"vModelRadio",[YC]:"vModelCheckbox",[XC]:"vModelText",[JC]:"vModelSelect",[jp]:"vModelDynamic",[ZC]:"withModifiers",[QC]:"withKeys",[eb]:"vShow",[tb]:"Transition",[nb]:"TransitionGroup"});let kl;function B7(e,t=!1){return kl||(kl=document.createElement("div")),t?(kl.innerHTML=`<div foo="${e.replace(/"/g,"&quot;")}">`,kl.children[0].getAttribute("foo")):(kl.innerHTML=e,kl.textContent)}const ib={parseMode:"html",isVoidTag:kD,isNativeTag:e=>SD(e)||xD(e)||ED(e),isPreTag:e=>e==="pre",isIgnoreNewlineTag:e=>e==="pre"||e==="textarea",decodeEntities:B7,isBuiltInComponent:e=>{if(e==="Transition"||e==="transition")return tb;if(e==="TransitionGroup"||e==="transition-group")return nb},getNamespace(e,t,n){let i=t?t.ns:n;if(t&&i===2)if(t.tag==="annotation-xml"){if(e==="svg")return 1;t.props.some(r=>r.type===6&&r.name==="encoding"&&r.value!=null&&(r.value.content==="text/html"||r.value.content==="application/xhtml+xml"))&&(i=0)}else/^m(?:[ions]|text)$/.test(t.tag)&&e!=="mglyph"&&e!=="malignmark"&&(i=0);else t&&i===1&&(t.tag==="foreignObject"||t.tag==="desc"||t.tag==="title")&&(i=0);if(i===0){if(e==="svg")return 1;if(e==="math")return 2}return i}},VE=e=>{e.type===1&&e.props.forEach((t,n)=>{t.type===6&&t.name==="style"&&t.value&&(e.props[n]={type:7,name:"bind",arg:Ye("style",!0,t.loc),exp:z7(t.value.content,t.loc),modifiers:[],loc:t.loc})})},z7=(e,t)=>{const n=FD(e);return Ye(JSON.stringify(n),!1,t,3)};function Ko(e,t){return Vt(e,t)}const H7={X_V_HTML_NO_EXPRESSION:53,53:"X_V_HTML_NO_EXPRESSION",X_V_HTML_WITH_CHILDREN:54,54:"X_V_HTML_WITH_CHILDREN",X_V_TEXT_NO_EXPRESSION:55,55:"X_V_TEXT_NO_EXPRESSION",X_V_TEXT_WITH_CHILDREN:56,56:"X_V_TEXT_WITH_CHILDREN",X_V_MODEL_ON_INVALID_ELEMENT:57,57:"X_V_MODEL_ON_INVALID_ELEMENT",X_V_MODEL_ARG_ON_ELEMENT:58,58:"X_V_MODEL_ARG_ON_ELEMENT",X_V_MODEL_ON_FILE_INPUT_ELEMENT:59,59:"X_V_MODEL_ON_FILE_INPUT_ELEMENT",X_V_MODEL_UNNECESSARY_VALUE:60,60:"X_V_MODEL_UNNECESSARY_VALUE",X_V_SHOW_NO_EXPRESSION:61,61:"X_V_SHOW_NO_EXPRESSION",X_TRANSITION_INVALID_CHILDREN:62,62:"X_TRANSITION_INVALID_CHILDREN",X_IGNORED_SIDE_EFFECT_TAG:63,63:"X_IGNORED_SIDE_EFFECT_TAG",__EXTEND_POINT__:64,64:"__EXTEND_POINT__"},V7={53:"v-html is missing expression.",54:"v-html will override element children.",55:"v-text is missing expression.",56:"v-text will override element children.",57:"v-model can only be used on <input>, <textarea> and <select> elements.",58:"v-model argument is not supported on plain elements.",59:"v-model cannot be used on file inputs since they are read-only. Use a v-on:change listener instead.",60:"Unnecessary value binding used alongside v-model. It will interfere with v-model's behavior.",61:"v-show is missing expression.",62:"<Transition> expects exactly one child element or component.",63:"Tags with side effect (<script> and <style>) are ignored in client component templates."},_7=(e,t,n)=>{const{exp:i,loc:r}=e;return i||n.onError(Ko(53,r)),t.children.length&&(n.onError(Ko(54,r)),t.children.length=0),{props:[fn(Ye("innerHTML",!0,r),i||Ye("",!0))]}},G7=(e,t,n)=>{const{exp:i,loc:r}=e;return i||n.onError(Ko(55,r)),t.children.length&&(n.onError(Ko(56,r)),t.children.length=0),{props:[fn(Ye("textContent",!0),i?Ii(i,n)>0?i:kn(n.helperString(zd),[i],r):Ye("",!0))]}},W7=(e,t,n)=>{const i=qC(e,t,n);if(!i.props.length||t.tagType===1)return i;e.arg&&n.onError(Ko(58,e.arg.loc));const{tag:r}=t,o=n.isCustomElement(r);if(r==="input"||r==="textarea"||r==="select"||o){let s=XC,a=!1;if(r==="input"||o){const l=Vd(t,"type");if(l){if(l.type===7)s=jp;else if(l.value)switch(l.value.content){case"radio":s=KC;break;case"checkbox":s=YC;break;case"file":a=!0,n.onError(Ko(59,e.loc));break}}else sE(t)&&(s=jp)}else r==="select"&&(s=JC);a||(i.needRuntime=n.helper(s))}else n.onError(Ko(57,e.loc));return i.props=i.props.filter(s=>!(s.key.type===4&&s.key.content==="modelValue")),i},$7=w0("passive,once,capture"),U7=w0("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),j7=w0("left,right"),_E=w0("onkeyup,onkeydown,onkeypress"),q7=(e,t,n,i)=>{const r=[],o=[],s=[];for(let a=0;a<t.length;a++){const l=t[a].content;l==="native"&&lu("COMPILER_V_ON_NATIVE",n)||$7(l)?s.push(l):j7(l)?yi(e)?_E(e.content.toLowerCase())?r.push(l):o.push(l):(r.push(l),o.push(l)):U7(l)?o.push(l):r.push(l)}return{keyModifiers:r,nonKeyModifiers:o,eventOptionModifiers:s}},Kw=(e,t)=>yi(e)&&e.content.toLowerCase()==="onclick"?Ye(t,!0):e.type!==4?yr(["(",e,`) === "onClick" ? "${t}" : (`,e,")"]):e,K7=(e,t,n)=>jC(e,t,n,i=>{const{modifiers:r}=e;if(!r.length)return i;let{key:o,value:s}=i.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:u}=q7(o,r,n,e.loc);if(l.includes("right")&&(o=Kw(o,"onContextmenu")),l.includes("middle")&&(o=Kw(o,"onMouseup")),l.length&&(s=kn(n.helper(ZC),[s,JSON.stringify(l)])),a.length&&(!yi(o)||_E(o.content.toLowerCase()))&&(s=kn(n.helper(QC),[s,JSON.stringify(a)])),u.length){const c=u.map(w3).join("");o=yi(o)?Ye(`${o.content}${c}`,!0):yr(["(",o,`) + "${c}"`])}return{props:[fn(o,s)]}}),Y7=(e,t,n)=>{const{exp:i,loc:r}=e;return i||n.onError(Ko(61,r)),{props:[],needRuntime:n.helper(eb)}},X7=(e,t)=>{e.type===1&&e.tagType===0&&(e.tag==="script"||e.tag==="style")&&t.removeNode()},GE=[VE],WE={cloak:HE,html:_7,text:G7,model:W7,on:K7,show:Y7};function J7(e,t={}){return zE(e,Uo({},ib,t,{nodeTransforms:[X7,...GE,...t.nodeTransforms||[]],directiveTransforms:Uo({},WE,t.directiveTransforms||{}),transformHoist:null}))}function Z7(e,t={}){return _C(e,Uo({},ib,t))}const Q7=Object.freeze(Object.defineProperty({__proto__:null,BASE_TRANSITION:RC,BindingTypes:N7,CAMELIZE:Vp,CAPITALIZE:G3,CREATE_BLOCK:DC,CREATE_COMMENT:Iu,CREATE_ELEMENT_BLOCK:MC,CREATE_ELEMENT_VNODE:F0,CREATE_SLOTS:OC,CREATE_STATIC:PC,CREATE_TEXT:T0,CREATE_VNODE:k0,CompilerDeprecationTypes:C8,ConstantTypes:c8,DOMDirectiveTransforms:WE,DOMErrorCodes:H7,DOMErrorMessages:V7,DOMNodeTransforms:GE,ElementTypes:u8,ErrorCodes:w8,FRAGMENT:ou,GUARD_REACTIVE_PROPS:Ou,IS_MEMO_SAME:LC,IS_REF:j3,KEEP_ALIVE:Jc,MERGE_PROPS:Zc,NORMALIZE_CLASS:O0,NORMALIZE_PROPS:su,NORMALIZE_STYLE:L0,Namespaces:a8,NodeTypes:l8,OPEN_BLOCK:oa,POP_SCOPE_ID:$3,PUSH_SCOPE_ID:W3,RENDER_LIST:I0,RENDER_SLOT:IC,RESOLVE_COMPONENT:A0,RESOLVE_DIRECTIVE:D0,RESOLVE_DYNAMIC_COMPONENT:R0,RESOLVE_FILTER:M0,SET_BLOCK_TRACKING:Qc,SUSPENSE:E0,TELEPORT:jl,TO_DISPLAY_STRING:zd,TO_HANDLERS:N0,TO_HANDLER_KEY:_p,TRANSITION:tb,TRANSITION_GROUP:nb,TS_NODE_TYPES:Q3,UNREF:U3,V_MODEL_CHECKBOX:YC,V_MODEL_DYNAMIC:jp,V_MODEL_RADIO:KC,V_MODEL_SELECT:JC,V_MODEL_TEXT:XC,V_ON_WITH_KEYS:QC,V_ON_WITH_MODIFIERS:ZC,V_SHOW:eb,WITH_CTX:B0,WITH_DIRECTIVES:P0,WITH_MEMO:z0,advancePositionWithClone:V8,advancePositionWithMutation:oE,assert:_8,baseCompile:zE,baseParse:_C,buildDirectiveArgs:LE,buildProps:UC,buildSlots:DE,checkCompatEnabled:lu,compile:J7,convertToBlock:H0,createArrayExpression:Js,createAssignmentExpression:f8,createBlockStatement:X3,createCacheExpression:Y3,createCallExpression:kn,createCompilerError:Vt,createCompoundExpression:yr,createConditionalExpression:Gp,createDOMCompilerError:Ko,createForLoopParams:$p,createFunctionExpression:tl,createIfStatement:p8,createInterpolation:d8,createObjectExpression:Qi,createObjectProperty:fn,createReturnStatement:m8,createRoot:K3,createSequenceExpression:g8,createSimpleExpression:Ye,createStructuralDirectiveTransform:GC,createTemplateLiteral:h8,createTransformContext:CE,createVNodeCall:au,errorMessages:S8,extractIdentifiers:_o,findDir:vi,findProp:Vd,forAliasRE:uE,generate:wE,generateCodeFrame:TD,getBaseTransformPreset:BE,getConstantType:Ii,getMemoedVNodeCall:lE,getVNodeBlockHelper:il,getVNodeHelper:nl,hasDynamicKeyVBind:sE,hasScopeRef:Lr,helperNameMap:el,injectProp:td,isCoreComponent:BC,isFnExpression:rE,isFnExpressionBrowser:iE,isFnExpressionNode:H8,isFunctionType:M8,isInDestructureAssignment:k8,isInNewExpression:F8,isMemberExpression:zC,isMemberExpressionBrowser:nE,isMemberExpressionNode:B8,isReferencedIdentifier:E8,isSimpleIdentifier:Hd,isSlotOutlet:ed,isStaticArgOf:Ws,isStaticExp:yi,isStaticProperty:Z3,isStaticPropertyKey:P8,isTemplateNode:uu,isText:ap,isVSlot:HC,locStub:Ln,noopDirectiveTransform:HE,parse:Z7,parserOptions:ib,processExpression:dp,processFor:AE,processIf:kE,processSlotOutlet:NE,registerRuntimeHelpers:q3,resolveComponentType:OE,stringifyExpression:EE,toValidAssetId:cu,trackSlotScopes:RE,trackVForSlotScopes:k7,transform:bE,transformBind:FE,transformElement:IE,transformExpression:y7,transformModel:qC,transformOn:jC,transformStyle:VE,traverseNode:_d,unwrapTSNode:eE,walkBlockDeclarations:A8,walkFunctionParams:T8,walkIdentifiers:x8,warnDeprecation:y8},Symbol.toStringTag,{value:"Module"})),eP=S0(Q7),tP=S0(AD),nP=S0(RD);/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/var Yw;function iP(){return Yw||(Yw=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=eP,n=tP,i=nP;function r(l){var u=Object.create(null);if(l)for(var c in l)u[c]=l[c];return u.default=l,Object.freeze(u)}var o=r(n);const s=Object.create(null);function a(l,u){if(!i.isString(l))if(l.nodeType)l=l.innerHTML;else return i.NOOP;const c=i.genCacheKey(l,u),d=s[c];if(d)return d;if(l[0]==="#"){const g=document.querySelector(l);l=g?g.innerHTML:""}const h=i.extend({hoistStatic:!0,onError:void 0,onWarn:i.NOOP},u);!h.isCustomElement&&typeof customElements<"u"&&(h.isCustomElement=g=>!!customElements.get(g));const{code:p}=t.compile(l,h),f=new Function("Vue",p)(o);return f._rc=!0,s[c]=f}n.registerRuntimeCompiler(a),e.compile=a,Object.keys(n).forEach(function(l){l!=="default"&&!Object.prototype.hasOwnProperty.call(e,l)&&(e[l]=n[l])})})(Hg)),Hg}var Xw;function rP(){return Xw||(Xw=1,zg.exports=iP()),zg.exports}/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Jw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),n.push.apply(n,i)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jw(Object(n),!0).forEach(function(i){oP(e,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jw(Object(n)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(n,i))})}return e}function pp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?pp=function(t){return typeof t}:pp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pp(e)}function oP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fr(){return Fr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Fr.apply(this,arguments)}function sP(e,t){if(e==null)return{};var n={},i=Object.keys(e),r,o;for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&(n[r]=e[r]);return n}function aP(e,t){if(e==null)return{};var n=sP(e,t),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)i=o[r],!(t.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(e,i)&&(n[i]=e[i])}return n}function lP(e){return uP(e)||cP(e)||dP(e)||hP()}function uP(e){if(Array.isArray(e))return zv(e)}function cP(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function dP(e,t){if(e){if(typeof e=="string")return zv(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zv(e,t)}}function zv(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function hP(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pP="1.14.0";function Yo(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var vs=Yo(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Wd=Yo(/Edge/i),Zw=Yo(/firefox/i),wc=Yo(/safari/i)&&!Yo(/chrome/i)&&!Yo(/android/i),$E=Yo(/iP(ad|od|hone)/i),fP=Yo(/chrome/i)&&Yo(/android/i),UE={capture:!1,passive:!1};function at(e,t,n){e.addEventListener(t,n,!vs&&UE)}function rt(e,t,n){e.removeEventListener(t,n,!vs&&UE)}function qp(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function gP(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Nr(e,t,n,i){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&qp(e,t):qp(e,t))||i&&e===n)return e;if(e===n)break}while(e=gP(e))}return null}var Qw=/\s+/g;function Qt(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var i=(" "+e.className+" ").replace(Qw," ").replace(" "+t+" "," ");e.className=(i+(n?" "+t:"")).replace(Qw," ")}}function Fe(e,t,n){var i=e&&e.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in i)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),i[t]=n+(typeof n=="string"?"":"px")}}function za(e,t){var n="";if(typeof e=="string")n=e;else do{var i=Fe(e,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!t&&(e=e.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function jE(e,t,n){if(e){var i=e.getElementsByTagName(t),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function ho(){var e=document.scrollingElement;return e||document.documentElement}function Kt(e,t,n,i,r){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,a,l,u,c,d;if(e!==window&&e.parentNode&&e!==ho()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,u=o.right,c=o.height,d=o.width):(s=0,a=0,l=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(r=r||e.parentNode,!vs))do if(r&&r.getBoundingClientRect&&(Fe(r,"transform")!=="none"||n&&Fe(r,"position")!=="static")){var h=r.getBoundingClientRect();s-=h.top+parseInt(Fe(r,"border-top-width")),a-=h.left+parseInt(Fe(r,"border-left-width")),l=s+o.height,u=a+o.width;break}while(r=r.parentNode);if(i&&e!==window){var p=za(r||e),f=p&&p.a,g=p&&p.d;p&&(s/=g,a/=f,d/=f,c/=g,l=s+c,u=a+d)}return{top:s,left:a,bottom:l,right:u,width:d,height:c}}}function eS(e,t,n){for(var i=$s(e,!0),r=Kt(e)[t];i;){var o=Kt(i)[n],s=void 0;if(s=r>=o,!s)return i;if(i===ho())break;i=$s(i,!1)}return!1}function du(e,t,n,i){for(var r=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==_e.ghost&&(i||s[o]!==_e.dragged)&&Nr(s[o],n.draggable,e,!1)){if(r===t)return s[o];r++}o++}return null}function rb(e,t){for(var n=e.lastElementChild;n&&(n===_e.ghost||Fe(n,"display")==="none"||t&&!qp(n,t));)n=n.previousElementSibling;return n||null}function cn(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==_e.clone&&(!t||qp(e,t))&&n++;return n}function tS(e){var t=0,n=0,i=ho();if(e)do{var r=za(e),o=r.a,s=r.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==i&&(e=e.parentNode));return[t,n]}function mP(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var i in t)if(t.hasOwnProperty(i)&&t[i]===e[n][i])return Number(n)}return-1}function $s(e,t){if(!e||!e.getBoundingClientRect)return ho();var n=e,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Fe(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ho();if(i||t)return n;i=!0}}while(n=n.parentNode);return ho()}function vP(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function _g(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Sc;function qE(e,t){return function(){if(!Sc){var n=arguments,i=this;n.length===1?e.call(i,n[0]):e.apply(i,n),Sc=setTimeout(function(){Sc=void 0},t)}}}function CP(){clearTimeout(Sc),Sc=void 0}function KE(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function ob(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function nS(e,t){Fe(e,"position","absolute"),Fe(e,"top",t.top),Fe(e,"left",t.left),Fe(e,"width",t.width),Fe(e,"height",t.height)}function Gg(e){Fe(e,"position",""),Fe(e,"top",""),Fe(e,"left",""),Fe(e,"width",""),Fe(e,"height","")}var ii="Sortable"+new Date().getTime();function bP(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(Fe(r,"display")==="none"||r===_e.ghost)){e.push({target:r,rect:Kt(r)});var o=mo({},e[e.length-1].rect);if(r.thisAnimationDuration){var s=za(r,!0);s&&(o.top-=s.f,o.left-=s.e)}r.fromRect=o}})}},addAnimationState:function(i){e.push(i)},removeAnimationState:function(i){e.splice(mP(e,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(t),typeof i=="function"&&i();return}var o=!1,s=0;e.forEach(function(a){var l=0,u=a.target,c=u.fromRect,d=Kt(u),h=u.prevFromRect,p=u.prevToRect,f=a.rect,g=za(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&_g(h,d)&&!_g(c,d)&&(f.top-d.top)/(f.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(l=wP(f,h,p,r.options)),_g(d,c)||(u.prevFromRect=c,u.prevToRect=d,l||(l=r.options.animation),r.animate(u,f,d,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},l),u.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof i=="function"&&i()},s):typeof i=="function"&&i(),e=[]},animate:function(i,r,o,s){if(s){Fe(i,"transition",""),Fe(i,"transform","");var a=za(this.el),l=a&&a.a,u=a&&a.d,c=(r.left-o.left)/(l||1),d=(r.top-o.top)/(u||1);i.animatingX=!!c,i.animatingY=!!d,Fe(i,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=yP(i),Fe(i,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),Fe(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){Fe(i,"transition",""),Fe(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},s)}}}}function yP(e){return e.offsetWidth}function wP(e,t,n,i){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*i.animation}var Fl=[],Wg={initializeByDefault:!0},$d={mount:function(t){for(var n in Wg)Wg.hasOwnProperty(n)&&!(n in t)&&(t[n]=Wg[n]);Fl.forEach(function(i){if(i.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Fl.push(t)},pluginEvent:function(t,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=t+"Global";Fl.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](mo({sortable:n},i)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](mo({sortable:n},i)))})},initializePlugins:function(t,n,i,r){Fl.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var u=new a(t,n,t.options);u.sortable=t,u.options=t.options,t[l]=u,Fr(i,u.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,n){var i={};return Fl.forEach(function(r){typeof r.eventProperties=="function"&&Fr(i,r.eventProperties.call(n[r.pluginName],t))}),i},modifyOption:function(t,n,i){var r;return Fl.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(r=o.optionListeners[n].call(t[o.pluginName],i))}),r}};function oc(e){var t=e.sortable,n=e.rootEl,i=e.name,r=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,h=e.originalEvent,p=e.putSortable,f=e.extraEventProperties;if(t=t||n&&n[ii],!!t){var g,m=t.options,v="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!vs&&!Wd?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=s||n,g.from=a||n,g.item=r||n,g.clone=o,g.oldIndex=l,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=h,g.pullMode=p?p.lastPutMode:void 0;var b=mo(mo({},f),$d.getEventProperties(i,t));for(var S in b)g[S]=b[S];n&&n.dispatchEvent(g),m[v]&&m[v].call(t,g)}}var SP=["evt"],Ti=function(t,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=aP(i,SP);$d.pluginEvent.bind(_e)(t,n,mo({dragEl:he,parentEl:ln,ghostEl:Je,rootEl:jt,nextEl:ka,lastDownEl:fp,cloneEl:un,cloneHidden:Ns,dragStarted:sc,putSortable:Gn,activeSortable:_e.active,originalEvent:r,oldIndex:_l,oldDraggableIndex:xc,newIndex:Wi,newDraggableIndex:Ds,hideGhostForTarget:ZE,unhideGhostForTarget:QE,cloneNowHidden:function(){Ns=!0},cloneNowShown:function(){Ns=!1},dispatchSortableEvent:function(a){gi({sortable:n,name:a,originalEvent:r})}},o))};function gi(e){oc(mo({putSortable:Gn,cloneEl:un,targetEl:he,rootEl:jt,oldIndex:_l,oldDraggableIndex:xc,newIndex:Wi,newDraggableIndex:Ds},e))}var he,ln,Je,jt,ka,fp,un,Ns,_l,Wi,xc,Ds,gh,Gn,Ll=!1,Kp=!1,Yp=[],ba,Ir,$g,Ug,iS,rS,sc,Tl,Ec,kc=!1,mh=!1,gp,ei,jg=[],Hv=!1,Xp=[],_0=typeof document<"u",vh=$E,oS=Wd||vs?"cssFloat":"float",xP=_0&&!fP&&!$E&&"draggable"in document.createElement("div"),YE=(function(){if(_0){if(vs)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}})(),XE=function(t,n){var i=Fe(t),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=du(t,0,n),s=du(t,1,n),a=o&&Fe(o),l=s&&Fe(s),u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Kt(o).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+Kt(s).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var d=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===d)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||u>=r&&i[oS]==="none"||s&&i[oS]==="none"&&u+c>r)?"vertical":"horizontal"},EP=function(t,n,i){var r=i?t.left:t.top,o=i?t.right:t.bottom,s=i?t.width:t.height,a=i?n.left:n.top,l=i?n.right:n.bottom,u=i?n.width:n.height;return r===a||o===l||r+s/2===a+u/2},kP=function(t,n){var i;return Yp.some(function(r){var o=r[ii].options.emptyInsertThreshold;if(!(!o||rb(r))){var s=Kt(r),a=t>=s.left-o&&t<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return i=r}}),i},JE=function(t){function n(o,s){return function(a,l,u,c){var d=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||d))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,u,c),s)(a,l,u,c);var h=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===h||o.join&&o.indexOf(h)>-1}}var i={},r=t.group;(!r||pp(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,t.group=i},ZE=function(){!YE&&Je&&Fe(Je,"display","none")},QE=function(){!YE&&Je&&Fe(Je,"display","")};_0&&document.addEventListener("click",function(e){if(Kp)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Kp=!1,!1},!0);var ya=function(t){if(he){t=t.touches?t.touches[0]:t;var n=kP(t.clientX,t.clientY);if(n){var i={};for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[ii]._onDragOver(i)}}},FP=function(t){he&&he.parentNode[ii]._isOutsideThisEl(t.target)};function _e(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Fr({},t),e[ii]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return XE(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:_e.supportPointer!==!1&&"PointerEvent"in window&&!wc,emptyInsertThreshold:5};$d.initializePlugins(this,e,n);for(var i in n)!(i in t)&&(t[i]=n[i]);JE(t);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=t.forceFallback?!1:xP,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?at(e,"pointerdown",this._onTapStart):(at(e,"mousedown",this._onTapStart),at(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(at(e,"dragover",this),at(e,"dragenter",this)),Yp.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Fr(this,bP())}_e.prototype={constructor:_e,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Tl=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,he):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,i=this.el,r=this.options,o=r.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,c=r.filter;if(OP(i),!he&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&wc&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Nr(l,r.draggable,i,!1),!(l&&l.animated)&&fp!==l)){if(_l=cn(l),xc=cn(l,r.draggable),typeof c=="function"){if(c.call(this,t,l,this)){gi({sortable:n,rootEl:u,name:"filter",targetEl:l,toEl:i,fromEl:i}),Ti("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Nr(u,d.trim(),i,!1),d)return gi({sortable:n,rootEl:d,name:"filter",targetEl:l,fromEl:i,toEl:i}),Ti("filter",n,{evt:t}),!0}),c)){o&&t.cancelable&&t.preventDefault();return}r.handle&&!Nr(u,r.handle,i,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,i){var r=this,o=r.el,s=r.options,a=o.ownerDocument,l;if(i&&!he&&i.parentNode===o){var u=Kt(i);if(jt=o,he=i,ln=he.parentNode,ka=he.nextSibling,fp=i,gh=s.group,_e.dragged=he,ba={target:he,clientX:(n||t).clientX,clientY:(n||t).clientY},iS=ba.clientX-u.left,rS=ba.clientY-u.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,he.style["will-change"]="all",l=function(){if(Ti("delayEnded",r,{evt:t}),_e.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Zw&&r.nativeDraggable&&(he.draggable=!0),r._triggerDragStart(t,n),gi({sortable:r,name:"choose",originalEvent:t}),Qt(he,s.chosenClass,!0)},s.ignore.split(",").forEach(function(c){jE(he,c.trim(),qg)}),at(a,"dragover",ya),at(a,"mousemove",ya),at(a,"touchmove",ya),at(a,"mouseup",r._onDrop),at(a,"touchend",r._onDrop),at(a,"touchcancel",r._onDrop),Zw&&this.nativeDraggable&&(this.options.touchStartThreshold=4,he.draggable=!0),Ti("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Wd||vs))){if(_e.eventCanceled){this._onDrop();return}at(a,"mouseup",r._disableDelayedDrag),at(a,"touchend",r._disableDelayedDrag),at(a,"touchcancel",r._disableDelayedDrag),at(a,"mousemove",r._delayedDragTouchMoveHandler),at(a,"touchmove",r._delayedDragTouchMoveHandler),s.supportPointer&&at(a,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){he&&qg(he),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;rt(t,"mouseup",this._disableDelayedDrag),rt(t,"touchend",this._disableDelayedDrag),rt(t,"touchcancel",this._disableDelayedDrag),rt(t,"mousemove",this._delayedDragTouchMoveHandler),rt(t,"touchmove",this._delayedDragTouchMoveHandler),rt(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?at(document,"pointermove",this._onTouchMove):n?at(document,"touchmove",this._onTouchMove):at(document,"mousemove",this._onTouchMove):(at(he,"dragend",this),at(jt,"dragstart",this._onDragStart));try{document.selection?mp(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ll=!1,jt&&he){Ti("dragStarted",this,{evt:n}),this.nativeDraggable&&at(document,"dragover",FP);var i=this.options;!t&&Qt(he,i.dragClass,!1),Qt(he,i.ghostClass,!0),_e.active=this,t&&this._appendGhost(),gi({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ir){this._lastX=Ir.clientX,this._lastY=Ir.clientY,ZE();for(var t=document.elementFromPoint(Ir.clientX,Ir.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ir.clientX,Ir.clientY),t!==n);)n=t;if(he.parentNode[ii]._isOutsideThisEl(t),n)do{if(n[ii]){var i=void 0;if(i=n[ii]._onDragOver({clientX:Ir.clientX,clientY:Ir.clientY,target:t,rootEl:n}),i&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);QE()}},_onTouchMove:function(t){if(ba){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=Je&&za(Je,!0),a=Je&&s&&s.a,l=Je&&s&&s.d,u=vh&&ei&&tS(ei),c=(o.clientX-ba.clientX+r.x)/(a||1)+(u?u[0]-jg[0]:0)/(a||1),d=(o.clientY-ba.clientY+r.y)/(l||1)+(u?u[1]-jg[1]:0)/(l||1);if(!_e.active&&!Ll){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(t,!0)}if(Je){s?(s.e+=c-($g||0),s.f+=d-(Ug||0)):s={a:1,b:0,c:0,d:1,e:c,f:d};var h="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");Fe(Je,"webkitTransform",h),Fe(Je,"mozTransform",h),Fe(Je,"msTransform",h),Fe(Je,"transform",h),$g=c,Ug=d,Ir=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Je){var t=this.options.fallbackOnBody?document.body:jt,n=Kt(he,!0,vh,!0,t),i=this.options;if(vh){for(ei=t;Fe(ei,"position")==="static"&&Fe(ei,"transform")==="none"&&ei!==document;)ei=ei.parentNode;ei!==document.body&&ei!==document.documentElement?(ei===document&&(ei=ho()),n.top+=ei.scrollTop,n.left+=ei.scrollLeft):ei=ho(),jg=tS(ei)}Je=he.cloneNode(!0),Qt(Je,i.ghostClass,!1),Qt(Je,i.fallbackClass,!0),Qt(Je,i.dragClass,!0),Fe(Je,"transition",""),Fe(Je,"transform",""),Fe(Je,"box-sizing","border-box"),Fe(Je,"margin",0),Fe(Je,"top",n.top),Fe(Je,"left",n.left),Fe(Je,"width",n.width),Fe(Je,"height",n.height),Fe(Je,"opacity","0.8"),Fe(Je,"position",vh?"absolute":"fixed"),Fe(Je,"zIndex","100000"),Fe(Je,"pointerEvents","none"),_e.ghost=Je,t.appendChild(Je),Fe(Je,"transform-origin",iS/parseInt(Je.style.width)*100+"% "+rS/parseInt(Je.style.height)*100+"%")}},_onDragStart:function(t,n){var i=this,r=t.dataTransfer,o=i.options;if(Ti("dragStart",this,{evt:t}),_e.eventCanceled){this._onDrop();return}Ti("setupClone",this),_e.eventCanceled||(un=ob(he),un.draggable=!1,un.style["will-change"]="",this._hideClone(),Qt(un,this.options.chosenClass,!1),_e.clone=un),i.cloneId=mp(function(){Ti("clone",i),!_e.eventCanceled&&(i.options.removeCloneOnHide||jt.insertBefore(un,he),i._hideClone(),gi({sortable:i,name:"clone"}))}),!n&&Qt(he,o.dragClass,!0),n?(Kp=!0,i._loopId=setInterval(i._emulateDragOver,50)):(rt(document,"mouseup",i._onDrop),rt(document,"touchend",i._onDrop),rt(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,he)),at(document,"drop",i),Fe(he,"transform","translateZ(0)")),Ll=!0,i._dragStartId=mp(i._dragStarted.bind(i,n,t)),at(document,"selectstart",i),sc=!0,wc&&Fe(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,i=t.target,r,o,s,a=this.options,l=a.group,u=_e.active,c=gh===l,d=a.sort,h=Gn||u,p,f=this,g=!1;if(Hv)return;function m(oe,ke){Ti(oe,f,mo({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:s,dragRect:r,targetRect:o,canSort:d,fromSortable:h,target:i,completed:b,onMove:function(Ae,ve){return Ch(jt,n,he,r,Ae,Kt(Ae),t,ve)},changed:S},ke))}function v(){m("dragOverAnimationCapture"),f.captureAnimationState(),f!==h&&h.captureAnimationState()}function b(oe){return m("dragOverCompleted",{insertion:oe}),oe&&(c?u._hideClone():u._showClone(f),f!==h&&(Qt(he,Gn?Gn.options.ghostClass:u.options.ghostClass,!1),Qt(he,a.ghostClass,!0)),Gn!==f&&f!==_e.active?Gn=f:f===_e.active&&Gn&&(Gn=null),h===f&&(f._ignoreWhileAnimating=i),f.animateAll(function(){m("dragOverAnimationComplete"),f._ignoreWhileAnimating=null}),f!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(i===he&&!he.animated||i===n&&!i.animated)&&(Tl=null),!a.dragoverBubble&&!t.rootEl&&i!==document&&(he.parentNode[ii]._isOutsideThisEl(t.target),!oe&&ya(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),g=!0}function S(){Wi=cn(he),Ds=cn(he,a.draggable),gi({sortable:f,name:"change",toEl:n,newIndex:Wi,newDraggableIndex:Ds,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),i=Nr(i,a.draggable,n,!0),m("dragOver"),_e.eventCanceled)return g;if(he.contains(t.target)||i.animated&&i.animatingX&&i.animatingY||f._ignoreWhileAnimating===i)return b(!1);if(Kp=!1,u&&!a.disabled&&(c?d||(s=ln!==jt):Gn===this||(this.lastPutMode=gh.checkPull(this,u,he,t))&&l.checkPut(this,u,he,t))){if(p=this._getDirection(t,i)==="vertical",r=Kt(he),m("dragOverValid"),_e.eventCanceled)return g;if(s)return ln=jt,v(),this._hideClone(),m("revert"),_e.eventCanceled||(ka?jt.insertBefore(he,ka):jt.appendChild(he)),b(!0);var y=rb(n,a.draggable);if(!y||DP(t,p,this)&&!y.animated){if(y===he)return b(!1);if(y&&n===t.target&&(i=y),i&&(o=Kt(i)),Ch(jt,n,he,r,i,o,t,!!i)!==!1)return v(),n.appendChild(he),ln=n,S(),b(!0)}else if(y&&RP(t,p,this)){var x=du(n,0,a,!0);if(x===he)return b(!1);if(i=x,o=Kt(i),Ch(jt,n,he,r,i,o,t,!1)!==!1)return v(),n.insertBefore(he,x),ln=n,S(),b(!0)}else if(i.parentNode===n){o=Kt(i);var E=0,R,T=he.parentNode!==n,F=!EP(he.animated&&he.toRect||r,i.animated&&i.toRect||o,p),D=p?"top":"left",O=eS(i,"top","top")||eS(he,"top","top"),L=O?O.scrollTop:void 0;Tl!==i&&(R=o[D],kc=!1,mh=!F&&a.invertSwap||T),E=MP(t,i,o,p,F?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,mh,Tl===i);var I;if(E!==0){var B=cn(he);do B-=E,I=ln.children[B];while(I&&(Fe(I,"display")==="none"||I===Je))}if(E===0||I===i)return b(!1);Tl=i,Ec=E;var U=i.nextElementSibling,V=!1;V=E===1;var Y=Ch(jt,n,he,r,i,o,t,V);if(Y!==!1)return(Y===1||Y===-1)&&(V=Y===1),Hv=!0,setTimeout(AP,30),v(),V&&!U?n.appendChild(he):i.parentNode.insertBefore(he,V?U:i),O&&KE(O,0,L-O.scrollTop),ln=he.parentNode,R!==void 0&&!mh&&(gp=Math.abs(R-Kt(i)[D])),S(),b(!0)}if(n.contains(he))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){rt(document,"mousemove",this._onTouchMove),rt(document,"touchmove",this._onTouchMove),rt(document,"pointermove",this._onTouchMove),rt(document,"dragover",ya),rt(document,"mousemove",ya),rt(document,"touchmove",ya)},_offUpEvents:function(){var t=this.el.ownerDocument;rt(t,"mouseup",this._onDrop),rt(t,"touchend",this._onDrop),rt(t,"pointerup",this._onDrop),rt(t,"touchcancel",this._onDrop),rt(document,"selectstart",this)},_onDrop:function(t){var n=this.el,i=this.options;if(Wi=cn(he),Ds=cn(he,i.draggable),Ti("drop",this,{evt:t}),ln=he&&he.parentNode,Wi=cn(he),Ds=cn(he,i.draggable),_e.eventCanceled){this._nulling();return}Ll=!1,mh=!1,kc=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Vv(this.cloneId),Vv(this._dragStartId),this.nativeDraggable&&(rt(document,"drop",this),rt(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),wc&&Fe(document.body,"user-select",""),Fe(he,"transform",""),t&&(sc&&(t.cancelable&&t.preventDefault(),!i.dropBubble&&t.stopPropagation()),Je&&Je.parentNode&&Je.parentNode.removeChild(Je),(jt===ln||Gn&&Gn.lastPutMode!=="clone")&&un&&un.parentNode&&un.parentNode.removeChild(un),he&&(this.nativeDraggable&&rt(he,"dragend",this),qg(he),he.style["will-change"]="",sc&&!Ll&&Qt(he,Gn?Gn.options.ghostClass:this.options.ghostClass,!1),Qt(he,this.options.chosenClass,!1),gi({sortable:this,name:"unchoose",toEl:ln,newIndex:null,newDraggableIndex:null,originalEvent:t}),jt!==ln?(Wi>=0&&(gi({rootEl:ln,name:"add",toEl:ln,fromEl:jt,originalEvent:t}),gi({sortable:this,name:"remove",toEl:ln,originalEvent:t}),gi({rootEl:ln,name:"sort",toEl:ln,fromEl:jt,originalEvent:t}),gi({sortable:this,name:"sort",toEl:ln,originalEvent:t})),Gn&&Gn.save()):Wi!==_l&&Wi>=0&&(gi({sortable:this,name:"update",toEl:ln,originalEvent:t}),gi({sortable:this,name:"sort",toEl:ln,originalEvent:t})),_e.active&&((Wi==null||Wi===-1)&&(Wi=_l,Ds=xc),gi({sortable:this,name:"end",toEl:ln,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ti("nulling",this),jt=he=ln=Je=ka=un=fp=Ns=ba=Ir=sc=Wi=Ds=_l=xc=Tl=Ec=Gn=gh=_e.dragged=_e.ghost=_e.clone=_e.active=null,Xp.forEach(function(t){t.checked=!0}),Xp.length=$g=Ug=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":he&&(this._onDragOver(t),TP(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,i=this.el.children,r=0,o=i.length,s=this.options;r<o;r++)n=i[r],Nr(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||IP(n));return t},sort:function(t,n){var i={},r=this.el;this.toArray().forEach(function(o,s){var a=r.children[s];Nr(a,this.options.draggable,r,!1)&&(i[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Nr(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var i=this.options;if(n===void 0)return i[t];var r=$d.modifyOption(this,t,n);typeof r<"u"?i[t]=r:i[t]=n,t==="group"&&JE(i)},destroy:function(){Ti("destroy",this);var t=this.el;t[ii]=null,rt(t,"mousedown",this._onTapStart),rt(t,"touchstart",this._onTapStart),rt(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(rt(t,"dragover",this),rt(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Yp.splice(Yp.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ns){if(Ti("hideClone",this),_e.eventCanceled)return;Fe(un,"display","none"),this.options.removeCloneOnHide&&un.parentNode&&un.parentNode.removeChild(un),Ns=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ns){if(Ti("showClone",this),_e.eventCanceled)return;he.parentNode==jt&&!this.options.group.revertClone?jt.insertBefore(un,he):ka?jt.insertBefore(un,ka):jt.appendChild(un),this.options.group.revertClone&&this.animate(he,un),Fe(un,"display",""),Ns=!1}}};function TP(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ch(e,t,n,i,r,o,s,a){var l,u=e[ii],c=u.options.onMove,d;return window.CustomEvent&&!vs&&!Wd?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=i,l.related=r||t,l.relatedRect=o||Kt(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),c&&(d=c.call(u,l,s)),d}function qg(e){e.draggable=!1}function AP(){Hv=!1}function RP(e,t,n){var i=Kt(du(n.el,0,n.options,!0)),r=10;return t?e.clientX<i.left-r||e.clientY<i.top&&e.clientX<i.right:e.clientY<i.top-r||e.clientY<i.bottom&&e.clientX<i.left}function DP(e,t,n){var i=Kt(rb(n.el,n.options.draggable)),r=10;return t?e.clientX>i.right+r||e.clientX<=i.right&&e.clientY>i.bottom&&e.clientX>=i.left:e.clientX>i.right&&e.clientY>i.top||e.clientX<=i.right&&e.clientY>i.bottom+r}function MP(e,t,n,i,r,o,s,a){var l=i?e.clientY:e.clientX,u=i?n.height:n.width,c=i?n.top:n.left,d=i?n.bottom:n.right,h=!1;if(!s){if(a&&gp<u*r){if(!kc&&(Ec===1?l>c+u*o/2:l<d-u*o/2)&&(kc=!0),kc)h=!0;else if(Ec===1?l<c+gp:l>d-gp)return-Ec}else if(l>c+u*(1-r)/2&&l<d-u*(1-r)/2)return PP(t)}return h=h||s,h&&(l<c+u*o/2||l>d-u*o/2)?l>c+u/2?1:-1:0}function PP(e){return cn(he)<cn(e)?1:-1}function IP(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,i=0;n--;)i+=t.charCodeAt(n);return i.toString(36)}function OP(e){Xp.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var i=t[n];i.checked&&Xp.push(i)}}function mp(e){return setTimeout(e,0)}function Vv(e){return clearTimeout(e)}_0&&at(document,"touchmove",function(e){(_e.active||Ll)&&e.cancelable&&e.preventDefault()});_e.utils={on:at,off:rt,css:Fe,find:jE,is:function(t,n){return!!Nr(t,n,t,!1)},extend:vP,throttle:qE,closest:Nr,toggleClass:Qt,clone:ob,index:cn,nextTick:mp,cancelNextTick:Vv,detectDirection:XE,getChild:du};_e.get=function(e){return e[ii]};_e.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(_e.utils=mo(mo({},_e.utils),i.utils)),$d.mount(i)})};_e.create=function(e,t){return new _e(e,t)};_e.version=pP;var En=[],ac,_v,Gv=!1,Kg,Yg,Jp,lc;function LP(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?at(document,"dragover",this._handleAutoScroll):this.options.supportPointer?at(document,"pointermove",this._handleFallbackAutoScroll):i.touches?at(document,"touchmove",this._handleFallbackAutoScroll):at(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?rt(document,"dragover",this._handleAutoScroll):(rt(document,"pointermove",this._handleFallbackAutoScroll),rt(document,"touchmove",this._handleFallbackAutoScroll),rt(document,"mousemove",this._handleFallbackAutoScroll)),sS(),vp(),CP()},nulling:function(){Jp=_v=ac=Gv=lc=Kg=Yg=null,En.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(Jp=n,i||this.options.forceAutoScrollFallback||Wd||vs||wc){Xg(n,this.options,a,i);var l=$s(a,!0);Gv&&(!lc||o!==Kg||s!==Yg)&&(lc&&sS(),lc=setInterval(function(){var u=$s(document.elementFromPoint(o,s),!0);u!==l&&(l=u,vp()),Xg(n,r.options,u,i)},10),Kg=o,Yg=s)}else{if(!this.options.bubbleScroll||$s(a,!0)===ho()){vp();return}Xg(n,this.options,$s(a,!1),!1)}}},Fr(e,{pluginName:"scroll",initializeByDefault:!0})}function vp(){En.forEach(function(e){clearInterval(e.pid)}),En=[]}function sS(){clearInterval(lc)}var Xg=qE(function(e,t,n,i){if(t.scroll){var r=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=ho(),u=!1,c;_v!==n&&(_v=n,vp(),ac=t.scroll,c=t.scrollFn,ac===!0&&(ac=$s(n,!0)));var d=0,h=ac;do{var p=h,f=Kt(p),g=f.top,m=f.bottom,v=f.left,b=f.right,S=f.width,y=f.height,x=void 0,E=void 0,R=p.scrollWidth,T=p.scrollHeight,F=Fe(p),D=p.scrollLeft,O=p.scrollTop;p===l?(x=S<R&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),E=y<T&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(x=S<R&&(F.overflowX==="auto"||F.overflowX==="scroll"),E=y<T&&(F.overflowY==="auto"||F.overflowY==="scroll"));var L=x&&(Math.abs(b-r)<=s&&D+S<R)-(Math.abs(v-r)<=s&&!!D),I=E&&(Math.abs(m-o)<=s&&O+y<T)-(Math.abs(g-o)<=s&&!!O);if(!En[d])for(var B=0;B<=d;B++)En[B]||(En[B]={});(En[d].vx!=L||En[d].vy!=I||En[d].el!==p)&&(En[d].el=p,En[d].vx=L,En[d].vy=I,clearInterval(En[d].pid),(L!=0||I!=0)&&(u=!0,En[d].pid=setInterval((function(){i&&this.layer===0&&_e.active._onTouchMove(Jp);var U=En[this.layer].vy?En[this.layer].vy*a:0,V=En[this.layer].vx?En[this.layer].vx*a:0;typeof c=="function"&&c.call(_e.dragged.parentNode[ii],V,U,e,Jp,En[this.layer].el)!=="continue"||KE(En[this.layer].el,V,U)}).bind({layer:d}),24))),d++}while(t.bubbleScroll&&h!==l&&(h=$s(h,!1)));Gv=u}},30),e6=function(t){var n=t.originalEvent,i=t.putSortable,r=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var u=i||o;a();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);l(),u&&!u.el.contains(d)&&(s("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function sb(){}sb.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,i=t.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=du(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:e6};Fr(sb,{pluginName:"revertOnSpill"});function ab(){}ab.prototype={onSpill:function(t){var n=t.dragEl,i=t.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:e6};Fr(ab,{pluginName:"removeOnSpill"});var ur;function NP(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var i=n.dragEl;ur=i},dragOverValid:function(n){var i=n.completed,r=n.target,o=n.onMove,s=n.activeSortable,a=n.changed,l=n.cancel;if(s.options.swap){var u=this.sortable.el,c=this.options;if(r&&r!==u){var d=ur;o(r)!==!1?(Qt(r,c.swapClass,!0),ur=r):ur=null,d&&d!==ur&&Qt(d,c.swapClass,!1)}a(),i(!0),l()}},drop:function(n){var i=n.activeSortable,r=n.putSortable,o=n.dragEl,s=r||this.sortable,a=this.options;ur&&Qt(ur,a.swapClass,!1),ur&&(a.swap||r&&r.options.swap)&&o!==ur&&(s.captureAnimationState(),s!==i&&i.captureAnimationState(),BP(o,ur),s.animateAll(),s!==i&&i.animateAll())},nulling:function(){ur=null}},Fr(e,{pluginName:"swap",eventProperties:function(){return{swapItem:ur}}})}function BP(e,t){var n=e.parentNode,i=t.parentNode,r,o;!n||!i||n.isEqualNode(t)||i.isEqualNode(e)||(r=cn(e),o=cn(t),n.isEqualNode(i)&&r<o&&o++,n.insertBefore(t,n.children[r]),i.insertBefore(e,i.children[o]))}var qe=[],Gi=[],Uu,Or,ju=!1,Ai=!1,Al=!1,Mt,qu,bh;function zP(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?at(document,"pointerup",this._deselectMultiDrag):(at(document,"mouseup",this._deselectMultiDrag),at(document,"touchend",this._deselectMultiDrag)),at(document,"keydown",this._checkKeyDown),at(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(r,o){var s="";qe.length&&Or===t?qe.forEach(function(a,l){s+=(l?", ":"")+a.textContent}):s=o.textContent,r.setData("Text",s)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var i=n.dragEl;Mt=i},delayEnded:function(){this.isMultiDrag=~qe.indexOf(Mt)},setupClone:function(n){var i=n.sortable,r=n.cancel;if(this.isMultiDrag){for(var o=0;o<qe.length;o++)Gi.push(ob(qe[o])),Gi[o].sortableIndex=qe[o].sortableIndex,Gi[o].draggable=!1,Gi[o].style["will-change"]="",Qt(Gi[o],this.options.selectedClass,!1),qe[o]===Mt&&Qt(Gi[o],this.options.chosenClass,!1);i._hideClone(),r()}},clone:function(n){var i=n.sortable,r=n.rootEl,o=n.dispatchSortableEvent,s=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||qe.length&&Or===i&&(aS(!0,r),o("clone"),s()))},showClone:function(n){var i=n.cloneNowShown,r=n.rootEl,o=n.cancel;this.isMultiDrag&&(aS(!1,r),Gi.forEach(function(s){Fe(s,"display","")}),i(),bh=!1,o())},hideClone:function(n){var i=this;n.sortable;var r=n.cloneNowHidden,o=n.cancel;this.isMultiDrag&&(Gi.forEach(function(s){Fe(s,"display","none"),i.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),r(),bh=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Or&&Or.multiDrag._deselectMultiDrag(),qe.forEach(function(i){i.sortableIndex=cn(i)}),qe=qe.sort(function(i,r){return i.sortableIndex-r.sortableIndex}),Al=!0},dragStarted:function(n){var i=this,r=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(r.captureAnimationState(),this.options.animation)){qe.forEach(function(s){s!==Mt&&Fe(s,"position","absolute")});var o=Kt(Mt,!1,!0,!0);qe.forEach(function(s){s!==Mt&&nS(s,o)}),Ai=!0,ju=!0}r.animateAll(function(){Ai=!1,ju=!1,i.options.animation&&qe.forEach(function(s){Gg(s)}),i.options.sort&&yh()})}},dragOver:function(n){var i=n.target,r=n.completed,o=n.cancel;Ai&&~qe.indexOf(i)&&(r(!1),o())},revert:function(n){var i=n.fromSortable,r=n.rootEl,o=n.sortable,s=n.dragRect;qe.length>1&&(qe.forEach(function(a){o.addAnimationState({target:a,rect:Ai?Kt(a):s}),Gg(a),a.fromRect=s,i.removeAnimationState(a)}),Ai=!1,HP(!this.options.removeCloneOnHide,r))},dragOverCompleted:function(n){var i=n.sortable,r=n.isOwner,o=n.insertion,s=n.activeSortable,a=n.parentEl,l=n.putSortable,u=this.options;if(o){if(r&&s._hideClone(),ju=!1,u.animation&&qe.length>1&&(Ai||!r&&!s.options.sort&&!l)){var c=Kt(Mt,!1,!0,!0);qe.forEach(function(h){h!==Mt&&(nS(h,c),a.appendChild(h))}),Ai=!0}if(!r)if(Ai||yh(),qe.length>1){var d=bh;s._showClone(i),s.options.animation&&!bh&&d&&Gi.forEach(function(h){s.addAnimationState({target:h,rect:qu}),h.fromRect=qu,h.thisAnimationDuration=null})}else s._showClone(i)}},dragOverAnimationCapture:function(n){var i=n.dragRect,r=n.isOwner,o=n.activeSortable;if(qe.forEach(function(a){a.thisAnimationDuration=null}),o.options.animation&&!r&&o.multiDrag.isMultiDrag){qu=Fr({},i);var s=za(Mt,!0);qu.top-=s.f,qu.left-=s.e}},dragOverAnimationComplete:function(){Ai&&(Ai=!1,yh())},drop:function(n){var i=n.originalEvent,r=n.rootEl,o=n.parentEl,s=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,u=n.putSortable,c=u||this.sortable;if(i){var d=this.options,h=o.children;if(!Al)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Qt(Mt,d.selectedClass,!~qe.indexOf(Mt)),~qe.indexOf(Mt))qe.splice(qe.indexOf(Mt),1),Uu=null,oc({sortable:s,rootEl:r,name:"deselect",targetEl:Mt});else{if(qe.push(Mt),oc({sortable:s,rootEl:r,name:"select",targetEl:Mt}),i.shiftKey&&Uu&&s.el.contains(Uu)){var p=cn(Uu),f=cn(Mt);if(~p&&~f&&p!==f){var g,m;for(f>p?(m=p,g=f):(m=f,g=p+1);m<g;m++)~qe.indexOf(h[m])||(Qt(h[m],d.selectedClass,!0),qe.push(h[m]),oc({sortable:s,rootEl:r,name:"select",targetEl:h[m]}))}}else Uu=Mt;Or=c}if(Al&&this.isMultiDrag){if(Ai=!1,(o[ii].options.sort||o!==r)&&qe.length>1){var v=Kt(Mt),b=cn(Mt,":not(."+this.options.selectedClass+")");if(!ju&&d.animation&&(Mt.thisAnimationDuration=null),c.captureAnimationState(),!ju&&(d.animation&&(Mt.fromRect=v,qe.forEach(function(y){if(y.thisAnimationDuration=null,y!==Mt){var x=Ai?Kt(y):v;y.fromRect=x,c.addAnimationState({target:y,rect:x})}})),yh(),qe.forEach(function(y){h[b]?o.insertBefore(y,h[b]):o.appendChild(y),b++}),l===cn(Mt))){var S=!1;qe.forEach(function(y){if(y.sortableIndex!==cn(y)){S=!0;return}}),S&&a("update")}qe.forEach(function(y){Gg(y)}),c.animateAll()}Or=c}(r===o||u&&u.lastPutMode!=="clone")&&Gi.forEach(function(y){y.parentNode&&y.parentNode.removeChild(y)})}},nullingGlobal:function(){this.isMultiDrag=Al=!1,Gi.length=0},destroyGlobal:function(){this._deselectMultiDrag(),rt(document,"pointerup",this._deselectMultiDrag),rt(document,"mouseup",this._deselectMultiDrag),rt(document,"touchend",this._deselectMultiDrag),rt(document,"keydown",this._checkKeyDown),rt(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Al<"u"&&Al)&&Or===this.sortable&&!(n&&Nr(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;qe.length;){var i=qe[0];Qt(i,this.options.selectedClass,!1),qe.shift(),oc({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:i})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Fr(e,{pluginName:"multiDrag",utils:{select:function(n){var i=n.parentNode[ii];!i||!i.options.multiDrag||~qe.indexOf(n)||(Or&&Or!==i&&(Or.multiDrag._deselectMultiDrag(),Or=i),Qt(n,i.options.selectedClass,!0),qe.push(n))},deselect:function(n){var i=n.parentNode[ii],r=qe.indexOf(n);!i||!i.options.multiDrag||!~r||(Qt(n,i.options.selectedClass,!1),qe.splice(r,1))}},eventProperties:function(){var n=this,i=[],r=[];return qe.forEach(function(o){i.push({multiDragElement:o,index:o.sortableIndex});var s;Ai&&o!==Mt?s=-1:Ai?s=cn(o,":not(."+n.options.selectedClass+")"):s=cn(o),r.push({multiDragElement:o,index:s})}),{items:lP(qe),clones:[].concat(Gi),oldIndicies:i,newIndicies:r}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function HP(e,t){qe.forEach(function(n,i){var r=t.children[n.sortableIndex+(e?Number(i):0)];r?t.insertBefore(n,r):t.appendChild(n)})}function aS(e,t){Gi.forEach(function(n,i){var r=t.children[n.sortableIndex+(e?Number(i):0)];r?t.insertBefore(n,r):t.appendChild(n)})}function yh(){qe.forEach(function(e){e!==Mt&&e.parentNode&&e.parentNode.removeChild(e)})}_e.mount(new LP);_e.mount(ab,sb);const VP=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:zP,Sortable:_e,Swap:NP,default:_e},Symbol.toStringTag,{value:"Module"})),_P=S0(VP);var GP=sp.exports,lS;function WP(){return lS||(lS=1,(function(e,t){(function(i,r){e.exports=r(rP(),_P)})(typeof self<"u"?self:GP,function(n,i){return(function(r){var o={};function s(a){if(o[a])return o[a].exports;var l=o[a]={i:a,l:!1,exports:{}};return r[a].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=r,s.c=o,s.d=function(a,l,u){s.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:u})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,l){if(l&1&&(a=s(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var u=Object.create(null);if(s.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var c in a)s.d(u,c,(function(d){return a[d]}).bind(null,c));return u},s.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(l,"a",l),l},s.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},s.p="",s(s.s="fb15")})({"00ee":(function(r,o,s){var a=s("b622"),l=a("toStringTag"),u={};u[l]="z",r.exports=String(u)==="[object z]"}),"0366":(function(r,o,s){var a=s("1c0b");r.exports=function(l,u,c){if(a(l),u===void 0)return l;switch(c){case 0:return function(){return l.call(u)};case 1:return function(d){return l.call(u,d)};case 2:return function(d,h){return l.call(u,d,h)};case 3:return function(d,h,p){return l.call(u,d,h,p)}}return function(){return l.apply(u,arguments)}}}),"057f":(function(r,o,s){var a=s("fc6a"),l=s("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(h){try{return l(h)}catch{return c.slice()}};r.exports.f=function(p){return c&&u.call(p)=="[object Window]"?d(p):l(a(p))}}),"06cf":(function(r,o,s){var a=s("83ab"),l=s("d1e7"),u=s("5c6c"),c=s("fc6a"),d=s("c04e"),h=s("5135"),p=s("0cfb"),f=Object.getOwnPropertyDescriptor;o.f=a?f:function(m,v){if(m=c(m),v=d(v,!0),p)try{return f(m,v)}catch{}if(h(m,v))return u(!l.f.call(m,v),m[v])}}),"0cfb":(function(r,o,s){var a=s("83ab"),l=s("d039"),u=s("cc12");r.exports=!a&&!l(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})}),"13d5":(function(r,o,s){var a=s("23e7"),l=s("d58f").left,u=s("a640"),c=s("ae40"),d=u("reduce"),h=c("reduce",{1:0});a({target:"Array",proto:!0,forced:!d||!h},{reduce:function(f){return l(this,f,arguments.length,arguments.length>1?arguments[1]:void 0)}})}),"14c3":(function(r,o,s){var a=s("c6b6"),l=s("9263");r.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var h=d.call(u,c);if(typeof h!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return h}if(a(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(u,c)}}),"159b":(function(r,o,s){var a=s("da84"),l=s("fdbc"),u=s("17c2"),c=s("9112");for(var d in l){var h=a[d],p=h&&h.prototype;if(p&&p.forEach!==u)try{c(p,"forEach",u)}catch{p.forEach=u}}}),"17c2":(function(r,o,s){var a=s("b727").forEach,l=s("a640"),u=s("ae40"),c=l("forEach"),d=u("forEach");r.exports=!c||!d?function(p){return a(this,p,arguments.length>1?arguments[1]:void 0)}:[].forEach}),"1be4":(function(r,o,s){var a=s("d066");r.exports=a("document","documentElement")}),"1c0b":(function(r,o){r.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}}),"1c7e":(function(r,o,s){var a=s("b622"),l=a("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[l]=function(){return this},Array.from(d,function(){throw 2})}catch{}r.exports=function(h,p){if(!p&&!u)return!1;var f=!1;try{var g={};g[l]=function(){return{next:function(){return{done:f=!0}}}},h(g)}catch{}return f}}),"1d80":(function(r,o){r.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}}),"1dde":(function(r,o,s){var a=s("d039"),l=s("b622"),u=s("2d00"),c=l("species");r.exports=function(d){return u>=51||!a(function(){var h=[],p=h.constructor={};return p[c]=function(){return{foo:1}},h[d](Boolean).foo!==1})}}),"23cb":(function(r,o,s){var a=s("a691"),l=Math.max,u=Math.min;r.exports=function(c,d){var h=a(c);return h<0?l(h+d,0):u(h,d)}}),"23e7":(function(r,o,s){var a=s("da84"),l=s("06cf").f,u=s("9112"),c=s("6eeb"),d=s("ce4e"),h=s("e893"),p=s("94ca");r.exports=function(f,g){var m=f.target,v=f.global,b=f.stat,S,y,x,E,R,T;if(v?y=a:b?y=a[m]||d(m,{}):y=(a[m]||{}).prototype,y)for(x in g){if(R=g[x],f.noTargetGet?(T=l(y,x),E=T&&T.value):E=y[x],S=p(v?x:m+(b?".":"#")+x,f.forced),!S&&E!==void 0){if(typeof R==typeof E)continue;h(R,E)}(f.sham||E&&E.sham)&&u(R,"sham",!0),c(y,x,R,f)}}}),"241c":(function(r,o,s){var a=s("ca84"),l=s("7839"),u=l.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(d){return a(d,u)}}),"25f0":(function(r,o,s){var a=s("6eeb"),l=s("825a"),u=s("d039"),c=s("ad6d"),d="toString",h=RegExp.prototype,p=h[d],f=u(function(){return p.call({source:"a",flags:"b"})!="/a/b"}),g=p.name!=d;(f||g)&&a(RegExp.prototype,d,function(){var v=l(this),b=String(v.source),S=v.flags,y=String(S===void 0&&v instanceof RegExp&&!("flags"in h)?c.call(v):S);return"/"+b+"/"+y},{unsafe:!0})}),"2ca0":(function(r,o,s){var a=s("23e7"),l=s("06cf").f,u=s("50c4"),c=s("5a34"),d=s("1d80"),h=s("ab13"),p=s("c430"),f="".startsWith,g=Math.min,m=h("startsWith"),v=!p&&!m&&!!(function(){var b=l(String.prototype,"startsWith");return b&&!b.writable})();a({target:"String",proto:!0,forced:!v&&!m},{startsWith:function(S){var y=String(d(this));c(S);var x=u(g(arguments.length>1?arguments[1]:void 0,y.length)),E=String(S);return f?f.call(y,E,x):y.slice(x,x+E.length)===E}})}),"2d00":(function(r,o,s){var a=s("da84"),l=s("342f"),u=a.process,c=u&&u.versions,d=c&&c.v8,h,p;d?(h=d.split("."),p=h[0]+h[1]):l&&(h=l.match(/Edge\/(\d+)/),(!h||h[1]>=74)&&(h=l.match(/Chrome\/(\d+)/),h&&(p=h[1]))),r.exports=p&&+p}),"342f":(function(r,o,s){var a=s("d066");r.exports=a("navigator","userAgent")||""}),"35a1":(function(r,o,s){var a=s("f5df"),l=s("3f8c"),u=s("b622"),c=u("iterator");r.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||l[a(d)]}}),"37e8":(function(r,o,s){var a=s("83ab"),l=s("9bf2"),u=s("825a"),c=s("df75");r.exports=a?Object.defineProperties:function(h,p){u(h);for(var f=c(p),g=f.length,m=0,v;g>m;)l.f(h,v=f[m++],p[v]);return h}}),"3bbe":(function(r,o,s){var a=s("861d");r.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}}),"3ca3":(function(r,o,s){var a=s("6547").charAt,l=s("69f3"),u=s("7dd0"),c="String Iterator",d=l.set,h=l.getterFor(c);u(String,"String",function(p){d(this,{type:c,string:String(p),index:0})},function(){var f=h(this),g=f.string,m=f.index,v;return m>=g.length?{value:void 0,done:!0}:(v=a(g,m),f.index+=v.length,{value:v,done:!1})})}),"3f8c":(function(r,o){r.exports={}}),4160:(function(r,o,s){var a=s("23e7"),l=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})}),"428f":(function(r,o,s){var a=s("da84");r.exports=a}),"44ad":(function(r,o,s){var a=s("d039"),l=s("c6b6"),u="".split;r.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return l(c)=="String"?u.call(c,""):Object(c)}:Object}),"44d2":(function(r,o,s){var a=s("b622"),l=s("7c73"),u=s("9bf2"),c=a("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:l(null)}),r.exports=function(h){d[c][h]=!0}}),"44e7":(function(r,o,s){var a=s("861d"),l=s("c6b6"),u=s("b622"),c=u("match");r.exports=function(d){var h;return a(d)&&((h=d[c])!==void 0?!!h:l(d)=="RegExp")}}),4930:(function(r,o,s){var a=s("d039");r.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})}),"4d64":(function(r,o,s){var a=s("fc6a"),l=s("50c4"),u=s("23cb"),c=function(d){return function(h,p,f){var g=a(h),m=l(g.length),v=u(f,m),b;if(d&&p!=p){for(;m>v;)if(b=g[v++],b!=b)return!0}else for(;m>v;v++)if((d||v in g)&&g[v]===p)return d||v||0;return!d&&-1}};r.exports={includes:c(!0),indexOf:c(!1)}}),"4de4":(function(r,o,s){var a=s("23e7"),l=s("b727").filter,u=s("1dde"),c=s("ae40"),d=u("filter"),h=c("filter");a({target:"Array",proto:!0,forced:!d||!h},{filter:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}})}),"4df4":(function(r,o,s){var a=s("0366"),l=s("7b0b"),u=s("9bdd"),c=s("e95a"),d=s("50c4"),h=s("8418"),p=s("35a1");r.exports=function(g){var m=l(g),v=typeof this=="function"?this:Array,b=arguments.length,S=b>1?arguments[1]:void 0,y=S!==void 0,x=p(m),E=0,R,T,F,D,O,L;if(y&&(S=a(S,b>2?arguments[2]:void 0,2)),x!=null&&!(v==Array&&c(x)))for(D=x.call(m),O=D.next,T=new v;!(F=O.call(D)).done;E++)L=y?u(D,S,[F.value,E],!0):F.value,h(T,E,L);else for(R=d(m.length),T=new v(R);R>E;E++)L=y?S(m[E],E):m[E],h(T,E,L);return T.length=E,T}}),"4fad":(function(r,o,s){var a=s("23e7"),l=s("6f53").entries;a({target:"Object",stat:!0},{entries:function(c){return l(c)}})}),"50c4":(function(r,o,s){var a=s("a691"),l=Math.min;r.exports=function(u){return u>0?l(a(u),9007199254740991):0}}),5135:(function(r,o){var s={}.hasOwnProperty;r.exports=function(a,l){return s.call(a,l)}}),5319:(function(r,o,s){var a=s("d784"),l=s("825a"),u=s("7b0b"),c=s("50c4"),d=s("a691"),h=s("1d80"),p=s("8aa5"),f=s("14c3"),g=Math.max,m=Math.min,v=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,S=/\$([$&'`]|\d\d?)/g,y=function(x){return x===void 0?x:String(x)};a("replace",2,function(x,E,R,T){var F=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,D=T.REPLACE_KEEPS_$0,O=F?"$":"$0";return[function(B,U){var V=h(this),Y=B==null?void 0:B[x];return Y!==void 0?Y.call(B,V,U):E.call(String(V),B,U)},function(I,B){if(!F&&D||typeof B=="string"&&B.indexOf(O)===-1){var U=R(E,I,this,B);if(U.done)return U.value}var V=l(I),Y=String(this),oe=typeof B=="function";oe||(B=String(B));var ke=V.global;if(ke){var we=V.unicode;V.lastIndex=0}for(var Ae=[];;){var ve=f(V,Y);if(ve===null||(Ae.push(ve),!ke))break;var Ve=String(ve[0]);Ve===""&&(V.lastIndex=p(Y,c(V.lastIndex),we))}for(var Xe="",Te=0,$e=0;$e<Ae.length;$e++){ve=Ae[$e];for(var Ze=String(ve[0]),ot=g(m(d(ve.index),Y.length),0),gt=[],Rt=1;Rt<ve.length;Rt++)gt.push(y(ve[Rt]));var on=ve.groups;if(oe){var vn=[Ze].concat(gt,ot,Y);on!==void 0&&vn.push(on);var mt=String(B.apply(void 0,vn))}else mt=L(Ze,Y,ot,gt,on,B);ot>=Te&&(Xe+=Y.slice(Te,ot)+mt,Te=ot+Ze.length)}return Xe+Y.slice(Te)}];function L(I,B,U,V,Y,oe){var ke=U+I.length,we=V.length,Ae=S;return Y!==void 0&&(Y=u(Y),Ae=b),E.call(oe,Ae,function(ve,Ve){var Xe;switch(Ve.charAt(0)){case"$":return"$";case"&":return I;case"`":return B.slice(0,U);case"'":return B.slice(ke);case"<":Xe=Y[Ve.slice(1,-1)];break;default:var Te=+Ve;if(Te===0)return ve;if(Te>we){var $e=v(Te/10);return $e===0?ve:$e<=we?V[$e-1]===void 0?Ve.charAt(1):V[$e-1]+Ve.charAt(1):ve}Xe=V[Te-1]}return Xe===void 0?"":Xe})}})}),5692:(function(r,o,s){var a=s("c430"),l=s("c6cd");(r.exports=function(u,c){return l[u]||(l[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})}),"56ef":(function(r,o,s){var a=s("d066"),l=s("241c"),u=s("7418"),c=s("825a");r.exports=a("Reflect","ownKeys")||function(h){var p=l.f(c(h)),f=u.f;return f?p.concat(f(h)):p}}),"5a34":(function(r,o,s){var a=s("44e7");r.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}}),"5c6c":(function(r,o){r.exports=function(s,a){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:a}}}),"5db7":(function(r,o,s){var a=s("23e7"),l=s("a2bf"),u=s("7b0b"),c=s("50c4"),d=s("1c0b"),h=s("65f0");a({target:"Array",proto:!0},{flatMap:function(f){var g=u(this),m=c(g.length),v;return d(f),v=h(g,0),v.length=l(v,g,g,m,0,1,f,arguments.length>1?arguments[1]:void 0),v}})}),6547:(function(r,o,s){var a=s("a691"),l=s("1d80"),u=function(c){return function(d,h){var p=String(l(d)),f=a(h),g=p.length,m,v;return f<0||f>=g?c?"":void 0:(m=p.charCodeAt(f),m<55296||m>56319||f+1===g||(v=p.charCodeAt(f+1))<56320||v>57343?c?p.charAt(f):m:c?p.slice(f,f+2):(m-55296<<10)+(v-56320)+65536)}};r.exports={codeAt:u(!1),charAt:u(!0)}}),"65f0":(function(r,o,s){var a=s("861d"),l=s("e8b5"),u=s("b622"),c=u("species");r.exports=function(d,h){var p;return l(d)&&(p=d.constructor,typeof p=="function"&&(p===Array||l(p.prototype))?p=void 0:a(p)&&(p=p[c],p===null&&(p=void 0))),new(p===void 0?Array:p)(h===0?0:h)}}),"69f3":(function(r,o,s){var a=s("7f9a"),l=s("da84"),u=s("861d"),c=s("9112"),d=s("5135"),h=s("f772"),p=s("d012"),f=l.WeakMap,g,m,v,b=function(F){return v(F)?m(F):g(F,{})},S=function(F){return function(D){var O;if(!u(D)||(O=m(D)).type!==F)throw TypeError("Incompatible receiver, "+F+" required");return O}};if(a){var y=new f,x=y.get,E=y.has,R=y.set;g=function(F,D){return R.call(y,F,D),D},m=function(F){return x.call(y,F)||{}},v=function(F){return E.call(y,F)}}else{var T=h("state");p[T]=!0,g=function(F,D){return c(F,T,D),D},m=function(F){return d(F,T)?F[T]:{}},v=function(F){return d(F,T)}}r.exports={set:g,get:m,has:v,enforce:b,getterFor:S}}),"6eeb":(function(r,o,s){var a=s("da84"),l=s("9112"),u=s("5135"),c=s("ce4e"),d=s("8925"),h=s("69f3"),p=h.get,f=h.enforce,g=String(String).split("String");(r.exports=function(m,v,b,S){var y=S?!!S.unsafe:!1,x=S?!!S.enumerable:!1,E=S?!!S.noTargetGet:!1;if(typeof b=="function"&&(typeof v=="string"&&!u(b,"name")&&l(b,"name",v),f(b).source=g.join(typeof v=="string"?v:"")),m===a){x?m[v]=b:c(v,b);return}else y?!E&&m[v]&&(x=!0):delete m[v];x?m[v]=b:l(m,v,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&p(this).source||d(this)})}),"6f53":(function(r,o,s){var a=s("83ab"),l=s("df75"),u=s("fc6a"),c=s("d1e7").f,d=function(h){return function(p){for(var f=u(p),g=l(f),m=g.length,v=0,b=[],S;m>v;)S=g[v++],(!a||c.call(f,S))&&b.push(h?[S,f[S]]:f[S]);return b}};r.exports={entries:d(!0),values:d(!1)}}),"73d9":(function(r,o,s){var a=s("44d2");a("flatMap")}),7418:(function(r,o){o.f=Object.getOwnPropertySymbols}),"746f":(function(r,o,s){var a=s("428f"),l=s("5135"),u=s("e538"),c=s("9bf2").f;r.exports=function(d){var h=a.Symbol||(a.Symbol={});l(h,d)||c(h,d,{value:u.f(d)})}}),7839:(function(r,o){r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),"7b0b":(function(r,o,s){var a=s("1d80");r.exports=function(l){return Object(a(l))}}),"7c73":(function(r,o,s){var a=s("825a"),l=s("37e8"),u=s("7839"),c=s("d012"),d=s("1be4"),h=s("cc12"),p=s("f772"),f=">",g="<",m="prototype",v="script",b=p("IE_PROTO"),S=function(){},y=function(F){return g+v+f+F+g+"/"+v+f},x=function(F){F.write(y("")),F.close();var D=F.parentWindow.Object;return F=null,D},E=function(){var F=h("iframe"),D="java"+v+":",O;return F.style.display="none",d.appendChild(F),F.src=String(D),O=F.contentWindow.document,O.open(),O.write(y("document.F=Object")),O.close(),O.F},R,T=function(){try{R=document.domain&&new ActiveXObject("htmlfile")}catch{}T=R?x(R):E();for(var F=u.length;F--;)delete T[m][u[F]];return T()};c[b]=!0,r.exports=Object.create||function(D,O){var L;return D!==null?(S[m]=a(D),L=new S,S[m]=null,L[b]=D):L=T(),O===void 0?L:l(L,O)}}),"7dd0":(function(r,o,s){var a=s("23e7"),l=s("9ed3"),u=s("e163"),c=s("d2bb"),d=s("d44e"),h=s("9112"),p=s("6eeb"),f=s("b622"),g=s("c430"),m=s("3f8c"),v=s("ae93"),b=v.IteratorPrototype,S=v.BUGGY_SAFARI_ITERATORS,y=f("iterator"),x="keys",E="values",R="entries",T=function(){return this};r.exports=function(F,D,O,L,I,B,U){l(O,D,L);var V=function($e){if($e===I&&Ae)return Ae;if(!S&&$e in ke)return ke[$e];switch($e){case x:return function(){return new O(this,$e)};case E:return function(){return new O(this,$e)};case R:return function(){return new O(this,$e)}}return function(){return new O(this)}},Y=D+" Iterator",oe=!1,ke=F.prototype,we=ke[y]||ke["@@iterator"]||I&&ke[I],Ae=!S&&we||V(I),ve=D=="Array"&&ke.entries||we,Ve,Xe,Te;if(ve&&(Ve=u(ve.call(new F)),b!==Object.prototype&&Ve.next&&(!g&&u(Ve)!==b&&(c?c(Ve,b):typeof Ve[y]!="function"&&h(Ve,y,T)),d(Ve,Y,!0,!0),g&&(m[Y]=T))),I==E&&we&&we.name!==E&&(oe=!0,Ae=function(){return we.call(this)}),(!g||U)&&ke[y]!==Ae&&h(ke,y,Ae),m[D]=Ae,I)if(Xe={values:V(E),keys:B?Ae:V(x),entries:V(R)},U)for(Te in Xe)(S||oe||!(Te in ke))&&p(ke,Te,Xe[Te]);else a({target:D,proto:!0,forced:S||oe},Xe);return Xe}}),"7f9a":(function(r,o,s){var a=s("da84"),l=s("8925"),u=a.WeakMap;r.exports=typeof u=="function"&&/native code/.test(l(u))}),"825a":(function(r,o,s){var a=s("861d");r.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}}),"83ab":(function(r,o,s){var a=s("d039");r.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),8418:(function(r,o,s){var a=s("c04e"),l=s("9bf2"),u=s("5c6c");r.exports=function(c,d,h){var p=a(d);p in c?l.f(c,p,u(0,h)):c[p]=h}}),"861d":(function(r,o){r.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}}),8875:(function(r,o,s){var a,l,u;(function(c,d){l=[],a=d,u=typeof a=="function"?a.apply(o,l):a,u!==void 0&&(r.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(R){var h=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,p=/@([^@]*):(\d+):(\d+)\s*$/ig,f=h.exec(R.stack)||p.exec(R.stack),g=f&&f[1]||!1,m=f&&f[2]||!1,v=document.location.href.replace(document.location.hash,""),b,S,y,x=document.getElementsByTagName("script");g===v&&(b=document.documentElement.outerHTML,S=new RegExp("(?:[^\\n]+?\\n){0,"+(m-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),y=b.replace(S,"$1").trim());for(var E=0;E<x.length;E++)if(x[E].readyState==="interactive"||x[E].src===g||g===v&&x[E].innerHTML&&x[E].innerHTML.trim()===y)return x[E];return null}}return c})}),8925:(function(r,o,s){var a=s("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(u){return l.call(u)}),r.exports=a.inspectSource}),"8aa5":(function(r,o,s){var a=s("6547").charAt;r.exports=function(l,u,c){return u+(c?a(l,u).length:1)}}),"8bbf":(function(r,o){r.exports=n}),"90e3":(function(r,o){var s=0,a=Math.random();r.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++s+a).toString(36)}}),9112:(function(r,o,s){var a=s("83ab"),l=s("9bf2"),u=s("5c6c");r.exports=a?function(c,d,h){return l.f(c,d,u(1,h))}:function(c,d,h){return c[d]=h,c}}),9263:(function(r,o,s){var a=s("ad6d"),l=s("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,h=(function(){var m=/a/,v=/b*/g;return u.call(m,"a"),u.call(v,"a"),m.lastIndex!==0||v.lastIndex!==0})(),p=l.UNSUPPORTED_Y||l.BROKEN_CARET,f=/()??/.exec("")[1]!==void 0,g=h||f||p;g&&(d=function(v){var b=this,S,y,x,E,R=p&&b.sticky,T=a.call(b),F=b.source,D=0,O=v;return R&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),O=String(v).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&v[b.lastIndex-1]!==`
`)&&(F="(?: "+F+")",O=" "+O,D++),y=new RegExp("^(?:"+F+")",T)),f&&(y=new RegExp("^"+F+"$(?!\\s)",T)),h&&(S=b.lastIndex),x=u.call(R?y:b,O),R?x?(x.input=x.input.slice(D),x[0]=x[0].slice(D),x.index=b.lastIndex,b.lastIndex+=x[0].length):b.lastIndex=0:h&&x&&(b.lastIndex=b.global?x.index+x[0].length:S),f&&x&&x.length>1&&c.call(x[0],y,function(){for(E=1;E<arguments.length-2;E++)arguments[E]===void 0&&(x[E]=void 0)}),x}),r.exports=d}),"94ca":(function(r,o,s){var a=s("d039"),l=/#|\.prototype\./,u=function(f,g){var m=d[c(f)];return m==p?!0:m==h?!1:typeof g=="function"?a(g):!!g},c=u.normalize=function(f){return String(f).replace(l,".").toLowerCase()},d=u.data={},h=u.NATIVE="N",p=u.POLYFILL="P";r.exports=u}),"99af":(function(r,o,s){var a=s("23e7"),l=s("d039"),u=s("e8b5"),c=s("861d"),d=s("7b0b"),h=s("50c4"),p=s("8418"),f=s("65f0"),g=s("1dde"),m=s("b622"),v=s("2d00"),b=m("isConcatSpreadable"),S=9007199254740991,y="Maximum allowed index exceeded",x=v>=51||!l(function(){var F=[];return F[b]=!1,F.concat()[0]!==F}),E=g("concat"),R=function(F){if(!c(F))return!1;var D=F[b];return D!==void 0?!!D:u(F)},T=!x||!E;a({target:"Array",proto:!0,forced:T},{concat:function(D){var O=d(this),L=f(O,0),I=0,B,U,V,Y,oe;for(B=-1,V=arguments.length;B<V;B++)if(oe=B===-1?O:arguments[B],R(oe)){if(Y=h(oe.length),I+Y>S)throw TypeError(y);for(U=0;U<Y;U++,I++)U in oe&&p(L,I,oe[U])}else{if(I>=S)throw TypeError(y);p(L,I++,oe)}return L.length=I,L}})}),"9bdd":(function(r,o,s){var a=s("825a");r.exports=function(l,u,c,d){try{return d?u(a(c)[0],c[1]):u(c)}catch(p){var h=l.return;throw h!==void 0&&a(h.call(l)),p}}}),"9bf2":(function(r,o,s){var a=s("83ab"),l=s("0cfb"),u=s("825a"),c=s("c04e"),d=Object.defineProperty;o.f=a?d:function(p,f,g){if(u(p),f=c(f,!0),u(g),l)try{return d(p,f,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(p[f]=g.value),p}}),"9ed3":(function(r,o,s){var a=s("ae93").IteratorPrototype,l=s("7c73"),u=s("5c6c"),c=s("d44e"),d=s("3f8c"),h=function(){return this};r.exports=function(p,f,g){var m=f+" Iterator";return p.prototype=l(a,{next:u(1,g)}),c(p,m,!1,!0),d[m]=h,p}}),"9f7f":(function(r,o,s){var a=s("d039");function l(u,c){return RegExp(u,c)}o.UNSUPPORTED_Y=a(function(){var u=l("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),o.BROKEN_CARET=a(function(){var u=l("^r","gy");return u.lastIndex=2,u.exec("str")!=null})}),a2bf:(function(r,o,s){var a=s("e8b5"),l=s("50c4"),u=s("0366"),c=function(d,h,p,f,g,m,v,b){for(var S=g,y=0,x=v?u(v,b,3):!1,E;y<f;){if(y in p){if(E=x?x(p[y],y,h):p[y],m>0&&a(E))S=c(d,h,E,l(E.length),S,m-1)-1;else{if(S>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[S]=E}S++}y++}return S};r.exports=c}),a352:(function(r,o){r.exports=i}),a434:(function(r,o,s){var a=s("23e7"),l=s("23cb"),u=s("a691"),c=s("50c4"),d=s("7b0b"),h=s("65f0"),p=s("8418"),f=s("1dde"),g=s("ae40"),m=f("splice"),v=g("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,S=Math.min,y=9007199254740991,x="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!m||!v},{splice:function(R,T){var F=d(this),D=c(F.length),O=l(R,D),L=arguments.length,I,B,U,V,Y,oe;if(L===0?I=B=0:L===1?(I=0,B=D-O):(I=L-2,B=S(b(u(T),0),D-O)),D+I-B>y)throw TypeError(x);for(U=h(F,B),V=0;V<B;V++)Y=O+V,Y in F&&p(U,V,F[Y]);if(U.length=B,I<B){for(V=O;V<D-B;V++)Y=V+B,oe=V+I,Y in F?F[oe]=F[Y]:delete F[oe];for(V=D;V>D-B+I;V--)delete F[V-1]}else if(I>B)for(V=D-B;V>O;V--)Y=V+B-1,oe=V+I-1,Y in F?F[oe]=F[Y]:delete F[oe];for(V=0;V<I;V++)F[V+O]=arguments[V+2];return F.length=D-B+I,U}})}),a4d3:(function(r,o,s){var a=s("23e7"),l=s("da84"),u=s("d066"),c=s("c430"),d=s("83ab"),h=s("4930"),p=s("fdbf"),f=s("d039"),g=s("5135"),m=s("e8b5"),v=s("861d"),b=s("825a"),S=s("7b0b"),y=s("fc6a"),x=s("c04e"),E=s("5c6c"),R=s("7c73"),T=s("df75"),F=s("241c"),D=s("057f"),O=s("7418"),L=s("06cf"),I=s("9bf2"),B=s("d1e7"),U=s("9112"),V=s("6eeb"),Y=s("5692"),oe=s("f772"),ke=s("d012"),we=s("90e3"),Ae=s("b622"),ve=s("e538"),Ve=s("746f"),Xe=s("d44e"),Te=s("69f3"),$e=s("b727").forEach,Ze=oe("hidden"),ot="Symbol",gt="prototype",Rt=Ae("toPrimitive"),on=Te.set,vn=Te.getterFor(ot),mt=Object[gt],Ct=l.Symbol,Cn=u("JSON","stringify"),Jt=L.f,Wt=I.f,Rn=D.f,di=B.f,bt=Y("symbols"),Dt=Y("op-symbols"),$t=Y("string-to-symbol-registry"),bn=Y("symbol-to-string-registry"),Zn=Y("wks"),or=l.QObject,sr=!or||!or[gt]||!or[gt].findChild,ar=d&&f(function(){return R(Wt({},"a",{get:function(){return Wt(this,"a",{value:7}).a}})).a!=7})?function(de,me,xe){var Ue=Jt(mt,me);Ue&&delete mt[me],Wt(de,me,xe),Ue&&de!==mt&&Wt(mt,me,Ue)}:Wt,lr=function(de,me){var xe=bt[de]=R(Ct[gt]);return on(xe,{type:ot,tag:de,description:me}),d||(xe.description=me),xe},$=p?function(de){return typeof de=="symbol"}:function(de){return Object(de)instanceof Ct},G=function(me,xe,Ue){me===mt&&G(Dt,xe,Ue),b(me);var it=x(xe,!0);return b(Ue),g(bt,it)?(Ue.enumerable?(g(me,Ze)&&me[Ze][it]&&(me[Ze][it]=!1),Ue=R(Ue,{enumerable:E(0,!1)})):(g(me,Ze)||Wt(me,Ze,E(1,{})),me[Ze][it]=!0),ar(me,it,Ue)):Wt(me,it,Ue)},q=function(me,xe){b(me);var Ue=y(xe),it=T(Ue).concat(fe(Ue));return $e(it,function(Ut){(!d||Se.call(Ue,Ut))&&G(me,Ut,Ue[Ut])}),me},te=function(me,xe){return xe===void 0?R(me):q(R(me),xe)},Se=function(me){var xe=x(me,!0),Ue=di.call(this,xe);return this===mt&&g(bt,xe)&&!g(Dt,xe)?!1:Ue||!g(this,xe)||!g(bt,xe)||g(this,Ze)&&this[Ze][xe]?Ue:!0},H=function(me,xe){var Ue=y(me),it=x(xe,!0);if(!(Ue===mt&&g(bt,it)&&!g(Dt,it))){var Ut=Jt(Ue,it);return Ut&&g(bt,it)&&!(g(Ue,Ze)&&Ue[Ze][it])&&(Ut.enumerable=!0),Ut}},Q=function(me){var xe=Rn(y(me)),Ue=[];return $e(xe,function(it){!g(bt,it)&&!g(ke,it)&&Ue.push(it)}),Ue},fe=function(me){var xe=me===mt,Ue=Rn(xe?Dt:y(me)),it=[];return $e(Ue,function(Ut){g(bt,Ut)&&(!xe||g(mt,Ut))&&it.push(bt[Ut])}),it};if(h||(Ct=function(){if(this instanceof Ct)throw TypeError("Symbol is not a constructor");var me=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),xe=we(me),Ue=function(it){this===mt&&Ue.call(Dt,it),g(this,Ze)&&g(this[Ze],xe)&&(this[Ze][xe]=!1),ar(this,xe,E(1,it))};return d&&sr&&ar(mt,xe,{configurable:!0,set:Ue}),lr(xe,me)},V(Ct[gt],"toString",function(){return vn(this).tag}),V(Ct,"withoutSetter",function(de){return lr(we(de),de)}),B.f=Se,I.f=G,L.f=H,F.f=D.f=Q,O.f=fe,ve.f=function(de){return lr(Ae(de),de)},d&&(Wt(Ct[gt],"description",{configurable:!0,get:function(){return vn(this).description}}),c||V(mt,"propertyIsEnumerable",Se,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:Ct}),$e(T(Zn),function(de){Ve(de)}),a({target:ot,stat:!0,forced:!h},{for:function(de){var me=String(de);if(g($t,me))return $t[me];var xe=Ct(me);return $t[me]=xe,bn[xe]=me,xe},keyFor:function(me){if(!$(me))throw TypeError(me+" is not a symbol");if(g(bn,me))return bn[me]},useSetter:function(){sr=!0},useSimple:function(){sr=!1}}),a({target:"Object",stat:!0,forced:!h,sham:!d},{create:te,defineProperty:G,defineProperties:q,getOwnPropertyDescriptor:H}),a({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Q,getOwnPropertySymbols:fe}),a({target:"Object",stat:!0,forced:f(function(){O.f(1)})},{getOwnPropertySymbols:function(me){return O.f(S(me))}}),Cn){var Oe=!h||f(function(){var de=Ct();return Cn([de])!="[null]"||Cn({a:de})!="{}"||Cn(Object(de))!="{}"});a({target:"JSON",stat:!0,forced:Oe},{stringify:function(me,xe,Ue){for(var it=[me],Ut=1,Ro;arguments.length>Ut;)it.push(arguments[Ut++]);if(Ro=xe,!(!v(xe)&&me===void 0||$(me)))return m(xe)||(xe=function(ws,_i){if(typeof Ro=="function"&&(_i=Ro.call(this,ws,_i)),!$(_i))return _i}),it[1]=xe,Cn.apply(null,it)}})}Ct[gt][Rt]||U(Ct[gt],Rt,Ct[gt].valueOf),Xe(Ct,ot),ke[Ze]=!0}),a630:(function(r,o,s){var a=s("23e7"),l=s("4df4"),u=s("1c7e"),c=!u(function(d){Array.from(d)});a({target:"Array",stat:!0,forced:c},{from:l})}),a640:(function(r,o,s){var a=s("d039");r.exports=function(l,u){var c=[][l];return!!c&&a(function(){c.call(null,u||function(){throw 1},1)})}}),a691:(function(r,o){var s=Math.ceil,a=Math.floor;r.exports=function(l){return isNaN(l=+l)?0:(l>0?a:s)(l)}}),ab13:(function(r,o,s){var a=s("b622"),l=a("match");r.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[l]=!1,"/./"[u](c)}catch{}}return!1}}),ac1f:(function(r,o,s){var a=s("23e7"),l=s("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})}),ad6d:(function(r,o,s){var a=s("825a");r.exports=function(){var l=a(this),u="";return l.global&&(u+="g"),l.ignoreCase&&(u+="i"),l.multiline&&(u+="m"),l.dotAll&&(u+="s"),l.unicode&&(u+="u"),l.sticky&&(u+="y"),u}}),ae40:(function(r,o,s){var a=s("83ab"),l=s("d039"),u=s("5135"),c=Object.defineProperty,d={},h=function(p){throw p};r.exports=function(p,f){if(u(d,p))return d[p];f||(f={});var g=[][p],m=u(f,"ACCESSORS")?f.ACCESSORS:!1,v=u(f,0)?f[0]:h,b=u(f,1)?f[1]:void 0;return d[p]=!!g&&!l(function(){if(m&&!a)return!0;var S={length:-1};m?c(S,1,{enumerable:!0,get:h}):S[1]=1,g.call(S,v,b)})}}),ae93:(function(r,o,s){var a=s("e163"),l=s("9112"),u=s("5135"),c=s("b622"),d=s("c430"),h=c("iterator"),p=!1,f=function(){return this},g,m,v;[].keys&&(v=[].keys(),"next"in v?(m=a(a(v)),m!==Object.prototype&&(g=m)):p=!0),g==null&&(g={}),!d&&!u(g,h)&&l(g,h,f),r.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:p}}),b041:(function(r,o,s){var a=s("00ee"),l=s("f5df");r.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}}),b0c0:(function(r,o,s){var a=s("83ab"),l=s("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,h="name";a&&!(h in u)&&l(u,h,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})}),b622:(function(r,o,s){var a=s("da84"),l=s("5692"),u=s("5135"),c=s("90e3"),d=s("4930"),h=s("fdbf"),p=l("wks"),f=a.Symbol,g=h?f:f&&f.withoutSetter||c;r.exports=function(m){return u(p,m)||(d&&u(f,m)?p[m]=f[m]:p[m]=g("Symbol."+m)),p[m]}}),b64b:(function(r,o,s){var a=s("23e7"),l=s("7b0b"),u=s("df75"),c=s("d039"),d=c(function(){u(1)});a({target:"Object",stat:!0,forced:d},{keys:function(p){return u(l(p))}})}),b727:(function(r,o,s){var a=s("0366"),l=s("44ad"),u=s("7b0b"),c=s("50c4"),d=s("65f0"),h=[].push,p=function(f){var g=f==1,m=f==2,v=f==3,b=f==4,S=f==6,y=f==5||S;return function(x,E,R,T){for(var F=u(x),D=l(F),O=a(E,R,3),L=c(D.length),I=0,B=T||d,U=g?B(x,L):m?B(x,0):void 0,V,Y;L>I;I++)if((y||I in D)&&(V=D[I],Y=O(V,I,F),f)){if(g)U[I]=Y;else if(Y)switch(f){case 3:return!0;case 5:return V;case 6:return I;case 2:h.call(U,V)}else if(b)return!1}return S?-1:v||b?b:U}};r.exports={forEach:p(0),map:p(1),filter:p(2),some:p(3),every:p(4),find:p(5),findIndex:p(6)}}),c04e:(function(r,o,s){var a=s("861d");r.exports=function(l,u){if(!a(l))return l;var c,d;if(u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l))||typeof(c=l.valueOf)=="function"&&!a(d=c.call(l))||!u&&typeof(c=l.toString)=="function"&&!a(d=c.call(l)))return d;throw TypeError("Can't convert object to primitive value")}}),c430:(function(r,o){r.exports=!1}),c6b6:(function(r,o){var s={}.toString;r.exports=function(a){return s.call(a).slice(8,-1)}}),c6cd:(function(r,o,s){var a=s("da84"),l=s("ce4e"),u="__core-js_shared__",c=a[u]||l(u,{});r.exports=c}),c740:(function(r,o,s){var a=s("23e7"),l=s("b727").findIndex,u=s("44d2"),c=s("ae40"),d="findIndex",h=!0,p=c(d);d in[]&&Array(1)[d](function(){h=!1}),a({target:"Array",proto:!0,forced:h||!p},{findIndex:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}}),u(d)}),c8ba:(function(r,o){var s;s=(function(){return this})();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}r.exports=s}),c975:(function(r,o,s){var a=s("23e7"),l=s("4d64").indexOf,u=s("a640"),c=s("ae40"),d=[].indexOf,h=!!d&&1/[1].indexOf(1,-0)<0,p=u("indexOf"),f=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:h||!p||!f},{indexOf:function(m){return h?d.apply(this,arguments)||0:l(this,m,arguments.length>1?arguments[1]:void 0)}})}),ca84:(function(r,o,s){var a=s("5135"),l=s("fc6a"),u=s("4d64").indexOf,c=s("d012");r.exports=function(d,h){var p=l(d),f=0,g=[],m;for(m in p)!a(c,m)&&a(p,m)&&g.push(m);for(;h.length>f;)a(p,m=h[f++])&&(~u(g,m)||g.push(m));return g}}),caad:(function(r,o,s){var a=s("23e7"),l=s("4d64").includes,u=s("44d2"),c=s("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!d},{includes:function(p){return l(this,p,arguments.length>1?arguments[1]:void 0)}}),u("includes")}),cc12:(function(r,o,s){var a=s("da84"),l=s("861d"),u=a.document,c=l(u)&&l(u.createElement);r.exports=function(d){return c?u.createElement(d):{}}}),ce4e:(function(r,o,s){var a=s("da84"),l=s("9112");r.exports=function(u,c){try{l(a,u,c)}catch{a[u]=c}return c}}),d012:(function(r,o){r.exports={}}),d039:(function(r,o){r.exports=function(s){try{return!!s()}catch{return!0}}}),d066:(function(r,o,s){var a=s("428f"),l=s("da84"),u=function(c){return typeof c=="function"?c:void 0};r.exports=function(c,d){return arguments.length<2?u(a[c])||u(l[c]):a[c]&&a[c][d]||l[c]&&l[c][d]}}),d1e7:(function(r,o,s){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,u=l&&!a.call({1:2},1);o.f=u?function(d){var h=l(this,d);return!!h&&h.enumerable}:a}),d28b:(function(r,o,s){var a=s("746f");a("iterator")}),d2bb:(function(r,o,s){var a=s("825a"),l=s("3bbe");r.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(p,f){return a(p),l(f),u?d.call(p,f):p.__proto__=f,p}})():void 0)}),d3b7:(function(r,o,s){var a=s("00ee"),l=s("6eeb"),u=s("b041");a||l(Object.prototype,"toString",u,{unsafe:!0})}),d44e:(function(r,o,s){var a=s("9bf2").f,l=s("5135"),u=s("b622"),c=u("toStringTag");r.exports=function(d,h,p){d&&!l(d=p?d:d.prototype,c)&&a(d,c,{configurable:!0,value:h})}}),d58f:(function(r,o,s){var a=s("1c0b"),l=s("7b0b"),u=s("44ad"),c=s("50c4"),d=function(h){return function(p,f,g,m){a(f);var v=l(p),b=u(v),S=c(v.length),y=h?S-1:0,x=h?-1:1;if(g<2)for(;;){if(y in b){m=b[y],y+=x;break}if(y+=x,h?y<0:S<=y)throw TypeError("Reduce of empty array with no initial value")}for(;h?y>=0:S>y;y+=x)y in b&&(m=f(m,b[y],y,v));return m}};r.exports={left:d(!1),right:d(!0)}}),d784:(function(r,o,s){s("ac1f");var a=s("6eeb"),l=s("d039"),u=s("b622"),c=s("9263"),d=s("9112"),h=u("species"),p=!l(function(){var b=/./;return b.exec=function(){var S=[];return S.groups={a:"7"},S},"".replace(b,"$<a>")!=="7"}),f=(function(){return"a".replace(/./,"$0")==="$0"})(),g=u("replace"),m=(function(){return/./[g]?/./[g]("a","$0")==="":!1})(),v=!l(function(){var b=/(?:)/,S=b.exec;b.exec=function(){return S.apply(this,arguments)};var y="ab".split(b);return y.length!==2||y[0]!=="a"||y[1]!=="b"});r.exports=function(b,S,y,x){var E=u(b),R=!l(function(){var I={};return I[E]=function(){return 7},""[b](I)!=7}),T=R&&!l(function(){var I=!1,B=/a/;return b==="split"&&(B={},B.constructor={},B.constructor[h]=function(){return B},B.flags="",B[E]=/./[E]),B.exec=function(){return I=!0,null},B[E](""),!I});if(!R||!T||b==="replace"&&!(p&&f&&!m)||b==="split"&&!v){var F=/./[E],D=y(E,""[b],function(I,B,U,V,Y){return B.exec===c?R&&!Y?{done:!0,value:F.call(B,U,V)}:{done:!0,value:I.call(U,B,V)}:{done:!1}},{REPLACE_KEEPS_$0:f,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:m}),O=D[0],L=D[1];a(String.prototype,b,O),a(RegExp.prototype,E,S==2?function(I,B){return L.call(I,this,B)}:function(I){return L.call(I,this)})}x&&d(RegExp.prototype[E],"sham",!0)}}),d81d:(function(r,o,s){var a=s("23e7"),l=s("b727").map,u=s("1dde"),c=s("ae40"),d=u("map"),h=c("map");a({target:"Array",proto:!0,forced:!d||!h},{map:function(f){return l(this,f,arguments.length>1?arguments[1]:void 0)}})}),da84:(function(r,o,s){(function(a){var l=function(u){return u&&u.Math==Math&&u};r.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,s("c8ba"))}),dbb4:(function(r,o,s){var a=s("23e7"),l=s("83ab"),u=s("56ef"),c=s("fc6a"),d=s("06cf"),h=s("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(f){for(var g=c(f),m=d.f,v=u(g),b={},S=0,y,x;v.length>S;)x=m(g,y=v[S++]),x!==void 0&&h(b,y,x);return b}})}),dbf1:(function(r,o,s){(function(a){s.d(o,"a",function(){return u});function l(){return typeof window<"u"?window.console:a.console}var u=l()}).call(this,s("c8ba"))}),ddb0:(function(r,o,s){var a=s("da84"),l=s("fdbc"),u=s("e260"),c=s("9112"),d=s("b622"),h=d("iterator"),p=d("toStringTag"),f=u.values;for(var g in l){var m=a[g],v=m&&m.prototype;if(v){if(v[h]!==f)try{c(v,h,f)}catch{v[h]=f}if(v[p]||c(v,p,g),l[g]){for(var b in u)if(v[b]!==u[b])try{c(v,b,u[b])}catch{v[b]=u[b]}}}}}),df75:(function(r,o,s){var a=s("ca84"),l=s("7839");r.exports=Object.keys||function(c){return a(c,l)}}),e01a:(function(r,o,s){var a=s("23e7"),l=s("83ab"),u=s("da84"),c=s("5135"),d=s("861d"),h=s("9bf2").f,p=s("e893"),f=u.Symbol;if(l&&typeof f=="function"&&(!("description"in f.prototype)||f().description!==void 0)){var g={},m=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),R=this instanceof m?new f(E):E===void 0?f():f(E);return E===""&&(g[R]=!0),R};p(m,f);var v=m.prototype=f.prototype;v.constructor=m;var b=v.toString,S=String(f("test"))=="Symbol(test)",y=/^Symbol\((.*)\)[^)]+$/;h(v,"description",{configurable:!0,get:function(){var E=d(this)?this.valueOf():this,R=b.call(E);if(c(g,E))return"";var T=S?R.slice(7,-1):R.replace(y,"$1");return T===""?void 0:T}}),a({global:!0,forced:!0},{Symbol:m})}}),e163:(function(r,o,s){var a=s("5135"),l=s("7b0b"),u=s("f772"),c=s("e177"),d=u("IE_PROTO"),h=Object.prototype;r.exports=c?Object.getPrototypeOf:function(p){return p=l(p),a(p,d)?p[d]:typeof p.constructor=="function"&&p instanceof p.constructor?p.constructor.prototype:p instanceof Object?h:null}}),e177:(function(r,o,s){var a=s("d039");r.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})}),e260:(function(r,o,s){var a=s("fc6a"),l=s("44d2"),u=s("3f8c"),c=s("69f3"),d=s("7dd0"),h="Array Iterator",p=c.set,f=c.getterFor(h);r.exports=d(Array,"Array",function(g,m){p(this,{type:h,target:a(g),index:0,kind:m})},function(){var g=f(this),m=g.target,v=g.kind,b=g.index++;return!m||b>=m.length?(g.target=void 0,{value:void 0,done:!0}):v=="keys"?{value:b,done:!1}:v=="values"?{value:m[b],done:!1}:{value:[b,m[b]],done:!1}},"values"),u.Arguments=u.Array,l("keys"),l("values"),l("entries")}),e439:(function(r,o,s){var a=s("23e7"),l=s("d039"),u=s("fc6a"),c=s("06cf").f,d=s("83ab"),h=l(function(){c(1)}),p=!d||h;a({target:"Object",stat:!0,forced:p,sham:!d},{getOwnPropertyDescriptor:function(g,m){return c(u(g),m)}})}),e538:(function(r,o,s){var a=s("b622");o.f=a}),e893:(function(r,o,s){var a=s("5135"),l=s("56ef"),u=s("06cf"),c=s("9bf2");r.exports=function(d,h){for(var p=l(h),f=c.f,g=u.f,m=0;m<p.length;m++){var v=p[m];a(d,v)||f(d,v,g(h,v))}}}),e8b5:(function(r,o,s){var a=s("c6b6");r.exports=Array.isArray||function(u){return a(u)=="Array"}}),e95a:(function(r,o,s){var a=s("b622"),l=s("3f8c"),u=a("iterator"),c=Array.prototype;r.exports=function(d){return d!==void 0&&(l.Array===d||c[u]===d)}}),f5df:(function(r,o,s){var a=s("00ee"),l=s("c6b6"),u=s("b622"),c=u("toStringTag"),d=l((function(){return arguments})())=="Arguments",h=function(p,f){try{return p[f]}catch{}};r.exports=a?l:function(p){var f,g,m;return p===void 0?"Undefined":p===null?"Null":typeof(g=h(f=Object(p),c))=="string"?g:d?l(f):(m=l(f))=="Object"&&typeof f.callee=="function"?"Arguments":m}}),f772:(function(r,o,s){var a=s("5692"),l=s("90e3"),u=a("keys");r.exports=function(c){return u[c]||(u[c]=l(c))}}),fb15:(function(r,o,s){if(s.r(o),typeof window<"u"){var a=window.document.currentScript;{var l=s("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var u=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(s.p=u[1])}s("99af"),s("4de4"),s("4160"),s("c975"),s("d81d"),s("a434"),s("159b"),s("a4d3"),s("e439"),s("dbb4"),s("b64b");function c($,G,q){return G in $?Object.defineProperty($,G,{value:q,enumerable:!0,configurable:!0,writable:!0}):$[G]=q,$}function d($,G){var q=Object.keys($);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols($);G&&(te=te.filter(function(Se){return Object.getOwnPropertyDescriptor($,Se).enumerable})),q.push.apply(q,te)}return q}function h($){for(var G=1;G<arguments.length;G++){var q=arguments[G]!=null?arguments[G]:{};G%2?d(Object(q),!0).forEach(function(te){c($,te,q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(q)):d(Object(q)).forEach(function(te){Object.defineProperty($,te,Object.getOwnPropertyDescriptor(q,te))})}return $}function p($){if(Array.isArray($))return $}s("e01a"),s("d28b"),s("e260"),s("d3b7"),s("3ca3"),s("ddb0");function f($,G){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object($)))){var q=[],te=!0,Se=!1,H=void 0;try{for(var Q=$[Symbol.iterator](),fe;!(te=(fe=Q.next()).done)&&(q.push(fe.value),!(G&&q.length===G));te=!0);}catch(Oe){Se=!0,H=Oe}finally{try{!te&&Q.return!=null&&Q.return()}finally{if(Se)throw H}}return q}}s("a630"),s("fb6a"),s("b0c0"),s("25f0");function g($,G){(G==null||G>$.length)&&(G=$.length);for(var q=0,te=new Array(G);q<G;q++)te[q]=$[q];return te}function m($,G){if($){if(typeof $=="string")return g($,G);var q=Object.prototype.toString.call($).slice(8,-1);if(q==="Object"&&$.constructor&&(q=$.constructor.name),q==="Map"||q==="Set")return Array.from($);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return g($,G)}}function v(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b($,G){return p($)||f($,G)||m($,G)||v()}function S($){if(Array.isArray($))return g($)}function y($){if(typeof Symbol<"u"&&Symbol.iterator in Object($))return Array.from($)}function x(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E($){return S($)||y($)||m($)||x()}var R=s("a352"),T=s.n(R);function F($){$.parentElement!==null&&$.parentElement.removeChild($)}function D($,G,q){var te=q===0?$.children[0]:$.children[q-1].nextSibling;$.insertBefore(G,te)}var O=s("dbf1");s("13d5"),s("4fad"),s("ac1f"),s("5319");function L($){var G=Object.create(null);return function(te){var Se=G[te];return Se||(G[te]=$(te))}}var I=/-(\w)/g,B=L(function($){return $.replace(I,function(G,q){return q.toUpperCase()})});s("5db7"),s("73d9");var U=["Start","Add","Remove","Update","End"],V=["Choose","Unchoose","Sort","Filter","Clone"],Y=["Move"],oe=[Y,U,V].flatMap(function($){return $}).map(function($){return"on".concat($)}),ke={manage:Y,manageAndEmit:U,emit:V};function we($){return oe.indexOf($)!==-1}s("caad"),s("2ca0");var Ae=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ve($){return Ae.includes($)}function Ve($){return["transition-group","TransitionGroup"].includes($)}function Xe($){return["id","class","role","style"].includes($)||$.startsWith("data-")||$.startsWith("aria-")||$.startsWith("on")}function Te($){return $.reduce(function(G,q){var te=b(q,2),Se=te[0],H=te[1];return G[Se]=H,G},{})}function $e($){var G=$.$attrs,q=$.componentData,te=q===void 0?{}:q,Se=Te(Object.entries(G).filter(function(H){var Q=b(H,2),fe=Q[0];return Q[1],Xe(fe)}));return h(h({},Se),te)}function Ze($){var G=$.$attrs,q=$.callBackBuilder,te=Te(ot(G));Object.entries(q).forEach(function(H){var Q=b(H,2),fe=Q[0],Oe=Q[1];ke[fe].forEach(function(de){te["on".concat(de)]=Oe(de)})});var Se="[data-draggable]".concat(te.draggable||"");return h(h({},te),{},{draggable:Se})}function ot($){return Object.entries($).filter(function(G){var q=b(G,2),te=q[0];return q[1],!Xe(te)}).map(function(G){var q=b(G,2),te=q[0],Se=q[1];return[B(te),Se]}).filter(function(G){var q=b(G,2),te=q[0];return q[1],!we(te)})}s("c740");function gt($,G){if(!($ instanceof G))throw new TypeError("Cannot call a class as a function")}function Rt($,G){for(var q=0;q<G.length;q++){var te=G[q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty($,te.key,te)}}function on($,G,q){return G&&Rt($.prototype,G),$}var vn=function(G){var q=G.el;return q},mt=function(G,q){return G.__draggable_context=q},Ct=function(G){return G.__draggable_context},Cn=(function(){function $(G){var q=G.nodes,te=q.header,Se=q.default,H=q.footer,Q=G.root,fe=G.realList;gt(this,$),this.defaultNodes=Se,this.children=[].concat(E(te),E(Se),E(H)),this.externalComponent=Q.externalComponent,this.rootTransition=Q.transition,this.tag=Q.tag,this.realList=fe}return on($,[{key:"render",value:function(q,te){var Se=this.tag,H=this.children,Q=this._isRootComponent,fe=Q?{default:function(){return H}}:H;return q(Se,te,fe)}},{key:"updated",value:function(){var q=this.defaultNodes,te=this.realList;q.forEach(function(Se,H){mt(vn(Se),{element:te[H],index:H})})}},{key:"getUnderlyingVm",value:function(q){return Ct(q)}},{key:"getVmIndexFromDomIndex",value:function(q,te){var Se=this.defaultNodes,H=Se.length,Q=te.children,fe=Q.item(q);if(fe===null)return H;var Oe=Ct(fe);if(Oe)return Oe.index;if(H===0)return 0;var de=vn(Se[0]),me=E(Q).findIndex(function(xe){return xe===de});return q<me?0:H}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),$})(),Jt=s("8bbf");function Wt($,G){var q=$[G];return q?q():[]}function Rn($){var G=$.$slots,q=$.realList,te=$.getKey,Se=q||[],H=["header","footer"].map(function(xe){return Wt(G,xe)}),Q=b(H,2),fe=Q[0],Oe=Q[1],de=G.item;if(!de)throw new Error("draggable element must have an item slot");var me=Se.flatMap(function(xe,Ue){return de({element:xe,index:Ue}).map(function(it){return it.key=te(xe),it.props=h(h({},it.props||{}),{},{"data-draggable":!0}),it})});if(me.length!==Se.length)throw new Error("Item slot must have only one child");return{header:fe,footer:Oe,default:me}}function di($){var G=Ve($),q=!ve($)&&!G;return{transition:G,externalComponent:q,tag:q?Object(Jt.resolveComponent)($):G?Jt.TransitionGroup:$}}function bt($){var G=$.$slots,q=$.tag,te=$.realList,Se=$.getKey,H=Rn({$slots:G,realList:te,getKey:Se}),Q=di(q);return new Cn({nodes:H,root:Q,realList:te})}function Dt($,G){var q=this;Object(Jt.nextTick)(function(){return q.$emit($.toLowerCase(),G)})}function $t($){var G=this;return function(q,te){if(G.realList!==null)return G["onDrag".concat($)](q,te)}}function bn($){var G=this,q=$t.call(this,$);return function(te,Se){q.call(G,te,Se),Dt.call(G,$,te)}}var Zn=null,or={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(G){return G}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},sr=["update:modelValue","change"].concat(E([].concat(E(ke.manageAndEmit),E(ke.emit)).map(function($){return $.toLowerCase()}))),ar=Object(Jt.defineComponent)({name:"draggable",inheritAttrs:!1,props:or,emits:sr,data:function(){return{error:!1}},render:function(){try{this.error=!1;var G=this.$slots,q=this.$attrs,te=this.tag,Se=this.componentData,H=this.realList,Q=this.getKey,fe=bt({$slots:G,tag:te,realList:H,getKey:Q});this.componentStructure=fe;var Oe=$e({$attrs:q,componentData:Se});return fe.render(Jt.h,Oe)}catch(de){return this.error=!0,Object(Jt.h)("pre",{style:{color:"red"}},de.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&O.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var G=this;if(!this.error){var q=this.$attrs,te=this.$el,Se=this.componentStructure;Se.updated();var H=Ze({$attrs:q,callBackBuilder:{manageAndEmit:function(Oe){return bn.call(G,Oe)},emit:function(Oe){return Dt.bind(G,Oe)},manage:function(Oe){return $t.call(G,Oe)}}}),Q=te.nodeType===1?te:te.parentElement;this._sortable=new T.a(Q,H),this.targetDomElement=Q,Q.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var G=this.list;return G||this.modelValue},getKey:function(){var G=this.itemKey;return typeof G=="function"?G:function(q){return q[G]}}},watch:{$attrs:{handler:function(G){var q=this._sortable;q&&ot(G).forEach(function(te){var Se=b(te,2),H=Se[0],Q=Se[1];q.option(H,Q)})},deep:!0}},methods:{getUnderlyingVm:function(G){return this.componentStructure.getUnderlyingVm(G)||null},getUnderlyingPotencialDraggableComponent:function(G){return G.__draggable_component__},emitChanges:function(G){var q=this;Object(Jt.nextTick)(function(){return q.$emit("change",G)})},alterList:function(G){if(this.list){G(this.list);return}var q=E(this.modelValue);G(q),this.$emit("update:modelValue",q)},spliceList:function(){var G=arguments,q=function(Se){return Se.splice.apply(Se,E(G))};this.alterList(q)},updatePosition:function(G,q){var te=function(H){return H.splice(q,0,H.splice(G,1)[0])};this.alterList(te)},getRelatedContextFromMoveEvent:function(G){var q=G.to,te=G.related,Se=this.getUnderlyingPotencialDraggableComponent(q);if(!Se)return{component:Se};var H=Se.realList,Q={list:H,component:Se};if(q!==te&&H){var fe=Se.getUnderlyingVm(te)||{};return h(h({},fe),Q)}return Q},getVmIndexFromDomIndex:function(G){return this.componentStructure.getVmIndexFromDomIndex(G,this.targetDomElement)},onDragStart:function(G){this.context=this.getUnderlyingVm(G.item),G.item._underlying_vm_=this.clone(this.context.element),Zn=G.item},onDragAdd:function(G){var q=G.item._underlying_vm_;if(q!==void 0){F(G.item);var te=this.getVmIndexFromDomIndex(G.newIndex);this.spliceList(te,0,q);var Se={element:q,newIndex:te};this.emitChanges({added:Se})}},onDragRemove:function(G){if(D(this.$el,G.item,G.oldIndex),G.pullMode==="clone"){F(G.clone);return}var q=this.context,te=q.index,Se=q.element;this.spliceList(te,1);var H={element:Se,oldIndex:te};this.emitChanges({removed:H})},onDragUpdate:function(G){F(G.item),D(G.from,G.item,G.oldIndex);var q=this.context.index,te=this.getVmIndexFromDomIndex(G.newIndex);this.updatePosition(q,te);var Se={element:this.context.element,oldIndex:q,newIndex:te};this.emitChanges({moved:Se})},computeFutureIndex:function(G,q){if(!G.element)return 0;var te=E(q.to.children).filter(function(fe){return fe.style.display!=="none"}),Se=te.indexOf(q.related),H=G.component.getVmIndexFromDomIndex(Se),Q=te.indexOf(Zn)!==-1;return Q||!q.willInsertAfter?H:H+1},onDragMove:function(G,q){var te=this.move,Se=this.realList;if(!te||!Se)return!0;var H=this.getRelatedContextFromMoveEvent(G),Q=this.computeFutureIndex(H,G),fe=h(h({},this.context),{},{futureIndex:Q}),Oe=h(h({},G),{},{relatedContext:H,draggedContext:fe});return te(Oe,q)},onDragEnd:function(){Zn=null}}}),lr=ar;o.default=lr}),fb6a:(function(r,o,s){var a=s("23e7"),l=s("861d"),u=s("e8b5"),c=s("23cb"),d=s("50c4"),h=s("fc6a"),p=s("8418"),f=s("b622"),g=s("1dde"),m=s("ae40"),v=g("slice"),b=m("slice",{ACCESSORS:!0,0:0,1:2}),S=f("species"),y=[].slice,x=Math.max;a({target:"Array",proto:!0,forced:!v||!b},{slice:function(R,T){var F=h(this),D=d(F.length),O=c(R,D),L=c(T===void 0?D:T,D),I,B,U;if(u(F)&&(I=F.constructor,typeof I=="function"&&(I===Array||u(I.prototype))?I=void 0:l(I)&&(I=I[S],I===null&&(I=void 0)),I===Array||I===void 0))return y.call(F,O,L);for(B=new(I===void 0?Array:I)(x(L-O,0)),U=0;O<L;O++,U++)O in F&&p(B,U,F[O]);return B.length=U,B}})}),fc6a:(function(r,o,s){var a=s("44ad"),l=s("1d80");r.exports=function(u){return a(l(u))}}),fdbc:(function(r,o){r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),fdbf:(function(r,o,s){var a=s("4930");r.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"})}).default})})(sp)),sp.exports}var $P=WP();const UP=E3($P),jP={components:{draggable:UP},inject:{customHandler:{defaultValue:null},customDragHandler:{defaultValue:null}},props:{wwElementState:{type:Object,required:!0},content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["trigger-event"],setup(e){const{value:t,setValue:n}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"isDragging",type:"boolean",defaultValue:!1,readonly:!0});return{isDragging:t,setDrag:n}},data:()=>({internalItems:[]}),methods:{onChange(e){this.customHandler&&this.customHandler(e,{...this.wwElementState.props,updatedStackItems:this.internalItems}),e.moved&&this.$emit("trigger-event",{name:"item:moved",event:{item:e.moved.element,oldIndex:e.moved.oldIndex,newIndex:e.moved.newIndex,updatedList:this.internalItems}}),e.added&&this.$emit("trigger-event",{name:"item:added",event:{item:e.added.element,newIndex:e.added.newIndex,updatedList:this.internalItems}}),e.removed&&this.$emit("trigger-event",{name:"item:removed",event:{item:e.removed.element,oldIndex:e.removed.oldIndex,updatedList:this.internalItems}})}},computed:{isEditing(){return!1},items(){const e=this.wwElementState.props.items?this.wwElementState.props.items:this.content.items,t=wwLib.wwCollection.getCollectionData(e);return Array.isArray(t)?t:[]},group(){return this.wwElementState.props.group?this.wwElementState.props.group:this.content.group},sortable(){return this.wwElementState.props.sortable?this.wwElementState.props.sortable:this.content.sortable},itemKey(){return this.wwElementState.props.itemKey||"id"},handle(){var e;return(e=this.wwElementState.props.handle)!=null&&e.length?this.wwElementState.props.handle:this.content.customDragHandle?this.content.handleClass||"draggable":null},isReadonly(){return!!(this.wwElementState.props.readonly||this.content.readonly)}},watch:{items:{immediate:!0,deep:!0,handler:function(e){this.internalItems=[...e]}},isDragging(e){this.customDragHandler&&this.customDragHandler(e,{...this.wwElementState.props})},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}}}},qP={class:"draggable-item"};function KP(e,t,n,i,r,o){var u;const s=It("wwLayout"),a=It("wwLayoutItemContext"),l=It("draggable");return X(),qn(l,{modelValue:e.internalItems,"onUpdate:modelValue":t[0]||(t[0]=c=>e.internalItems=c),"item-key":o.itemKey,clone:c=>c,group:o.group,sort:o.sortable,handle:(u=o.handle)!=null&&u.length?`.${o.handle}`:null,disabled:o.isEditing||o.isReadonly,onChange:o.onChange,onStart:t[1]||(t[1]=c=>i.setDrag(!0)),onEnd:t[2]||(t[2]=c=>i.setDrag(!1))},{header:Fn(()=>[lt(s,{path:"headerElement"})]),item:Fn(({element:c,index:d})=>[De("div",qP,[lt(a,{index:d,item:null,"is-repeat":"",data:c,"repeated-items":e.internalItems},{default:Fn(()=>[lt(s,{path:"itemElement"})]),_:2},1032,["index","data","repeated-items"])])]),footer:Fn(()=>[lt(s,{path:"footerElement"})]),_:1},8,["modelValue","item-key","clone","group","sort","handle","disabled","onChange"])}const YP=nn(jP,[["render",KP],["__scopeId","data-v-233935b9"]]),XP={props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0},wwFrontState:{type:Object,required:!0}},emits:["update:content:effect","trigger-event"],setup(e){const{value:t,setValue:n}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"number",defaultValue:Z(()=>{let i=parseInt(e.content.value);return isNaN(i)&&(i=0),i===void 0?0:i})});return{variableValue:t,setValue:n}},computed:{value(){let e=parseInt(this.variableValue);return isNaN(e)?0:e},cssVariables(){return{"--progression":`${this.value}%`,"--selector-color":`${this.content.progressBarColor}`}}},watch:{"content.value"(e){e!==void 0&&(e=parseInt(this.content.value),isNaN(e)&&(e=0),e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"change",event:{value:e}})))}}},JP={class:"progression"};function ZP(e,t,n,i,r,o){const s=It("wwElement",!0);return X(),ne("div",{class:"ww-progress-bar",style:Yt(o.cssVariables)},[De("div",JP,[n.content.label==="progress"?(X(),qn(s,Yn({key:0},n.content.progressionLabel,{"ww-props":{text:`${o.value}%`}}),null,16,["ww-props"])):ye("",!0)]),n.content.label==="element"?(X(),qn(s,Yn({key:0},n.content.progressionLabel,{"ww-props":{text:`${o.value}%`}}),null,16,["ww-props"])):ye("",!0)],4)}const QP=nn(XP,[["render",ZP],["__scopeId","data-v-a2fe58ef"]]),eI={props:{content:{type:Object,required:!0}},emits:["update:content"],data(){return{reset:!1}},computed:{isEditing(){return!1},source(){return this.content.source?this.isValidHttpUrl?this.content.source:`data:text/html;charset=utf-8,${encodeURIComponent(this.content.source)}`:!1},isValidHttpUrl(){let e;try{e=new URL(this.content.source)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"||e.protocol==="data:"}}},tI=["src"];function nI(e,t,n,i,r,o){return X(),ne("div",{ref:"iframe",class:st(["ww-iframe",{isEditing:o.isEditing}])},[o.source?(X(),ne("iframe",{key:0,class:"iframe-holder",src:o.source},null,8,tI)):ye("",!0)],2)}const iI=nn(eI,[["render",nI],["__scopeId","data-v-b9430811"]]),rI={center:"center",right:"flex-end",left:"flex-start",justify:"center"},oI={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content","update:content:effect","change-menu-visibility","change-borders-style","add-state","remove-state","trigger-event"],setup(e){const{hasLink:t,tag:n,properties:i}=wwLib.wwElement.useLink({isDisabled:Z(()=>e.content.disabled)});return{hasLink:t,linkTag:n,properties:i}},data(){return{isReallyFocused:!1}},computed:{buttonStyle(){return{justifyContent:rI[this.content["_ww-text_textAlign"]]||"center"}},isEditing(){return!1},tag(){return this.isEditing?"div":this.hasLink?this.linkTag:this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?"button":"div"},buttonType(){return this.isEditing||this.hasLink?"":this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?this.content.buttonType:""},text(){return this.wwElementState.props.text},isFocused(){return this.isReallyFocused}},watch:{"content.disabled":{immediate:!0,handler(e){e?this.$emit("add-state","disabled"):this.$emit("remove-state","disabled")}},isReallyFocused(e,t){e&&!t?this.$emit("trigger-event",{name:"focus"}):!e&&t&&this.$emit("trigger-event",{name:"blur"})},isFocused:{immediate:!0,handler(e){e?this.$emit("add-state","focus"):this.$emit("remove-state","focus")}}},methods:{onBlur(){this.isReallyFocused=!1}}};function sI(e,t,n,i,r,o){const s=It("wwElement",!0),a=It("wwText");return X(),qn(vc(o.tag),Yn({class:["ww-button",{button:o.tag,"-link":i.hasLink&&!o.isEditing}],type:o.buttonType,style:o.buttonStyle,"data-ww-flag":"btn-"+n.content.buttonType,disabled:n.content.disabled},i.properties,{onFocus:t[0]||(t[0]=l=>r.isReallyFocused=!0),onBlur:t[1]||(t[1]=l=>o.onBlur(l))}),{default:Fn(()=>[n.content.hasLeftIcon&&n.content.leftIcon?(X(),qn(s,Sw(Yn({key:0},n.content.leftIcon)),null,16)):ye("",!0),lt(a,{tag:"span",text:o.text},null,8,["text"]),n.content.hasRightIcon&&n.content.rightIcon?(X(),qn(s,Sw(Yn({key:1},n.content.rightIcon)),null,16)):ye("",!0)]),_:1},16,["class","type","style","data-ww-flag","disabled"])}const aI=nn(oI,[["render",sI],["__scopeId","data-v-b91f172c"]]),lI={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["trigger-event","update:content:effect","update:sidepanel-content"],setup(e){const{value:t,setValue:n}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",defaultValue:Z(()=>e.content.value===void 0?"":e.content.value)});return{variableValue:t,setValue:n,uniqueId:Et(null)}},mounted(){this.uniqueId=this.$el.getAttribute("id")||this.$el.getAttribute("data-ww-radio-id")||wwLib.wwUtils.getUid()},computed:{isEditing(){return!1},value(){return this.options.some(e=>e.value===this.variableValue)?this.variableValue:null},options(){if(!this.content.options)return[];let e=wwLib.wwCollection.getCollectionData(this.content.options)||[];if(e&&!Array.isArray(e)&&typeof e=="object")e=new Array(e);else if(e&&!Array.isArray(e)||typeof e!="object")return[];return e.filter(t=>!!t).map(t=>typeof t!="object"?{label:t,value:t}:{label:wwLib.wwLang.getText(_.get(t,this.content.labelField||"label")||""),value:_.get(t,this.content.valueField||"value")})},style(){return{flexDirection:this.content.direction,justifyContent:this.content.justifyContent,alignItems:this.content.alignItems,rowGap:this.content.rowGap,columnGap:this.content.columnGap,flexWrap:this.content.direction==="column"||this.content.flexWrap===!1?"nowrap":"wrap"}}},watch:{"content.value"(e){e=`${e}`,e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}))}},methods:{handleManualInput(e){const t=e.target.value;t!==this.value&&(this.setValue(t),this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:t}}))}}},uI=["data-ww-radio-id"],cI=["id","value","checked","name","required","readonly"];function dI(e,t,n,i,r,o){const s=It("wwElement",!0),a=It("wwLayoutItemContext");return X(),ne("div",{class:"ww-input-radio",style:Yt(o.style),"ww-responsive":"ww-input-radio","data-ww-radio-id":i.uniqueId},[(X(!0),ne($o,null,Za(o.options,(l,u)=>(X(),ne("div",{key:`${n.wwElementState.name}-${i.uniqueId}-${l.label}`,class:"ww-input-radio__container"},[l?(X(),qn(a,{key:0,index:u,"is-repeat":""},{default:Fn(()=>[De("input",{id:`${n.wwElementState.name}-${i.uniqueId}-${l.label}`,value:l.value,checked:l.value===o.value,class:st(["ww-input-radio__radio",{editing:o.isEditing}]),type:"radio",name:`${n.wwElementState.name}-${i.uniqueId}`,required:n.content.required,readonly:o.isEditing,onInput:t[0]||(t[0]=c=>o.handleManualInput(c))},null,42,cI),(X(),qn(vc(o.isEditing?"div":"label"),{for:`${n.wwElementState.name}-${i.uniqueId}-${l.label}`},{default:Fn(()=>[lt(s,Yn({ref_for:!0},n.content.choicesElement,{"ww-props":{text:l.label}}),null,16,["ww-props"])]),_:2},1032,["for"]))]),_:2},1032,["index"])):ye("",!0)]))),128))],12,uI)}const hI=nn(lI,[["render",dI],["__scopeId","data-v-dc1f040d"]]),pI={props:{content:{type:Object,required:!0},states:{type:Array,default:()=>[]}},emits:["add-state","remove-state"],setup(e,{emit:t}){const{getIcon:n}=wwLib.useIcons(),i=Et(null),r=Z(()=>e.content.icon);_r(r,async s=>{try{i.value=await n(s)}catch{i.value=null}},{immediate:!0});const o=ra("checkboxStates",Et([]));return _r(()=>o.value.includes("checked"),s=>{t(s?"add-state":"remove-state","checked")},{immediate:!0}),_r(()=>o.value.includes("readonly"),s=>{t(s?"add-state":"remove-state","readonly")},{immediate:!0}),{iconText:i,injectedStates:o}},computed:{isChecked(){return this.injectedStates.includes("checked")},iconHTML(){return this.isChecked,this.iconText},style(){return{color:this.content.color}}}},fI=["innerHTML"];function gI(e,t,n,i,r,o){return X(),ne("div",{class:"ww-checkbox",style:Yt(o.style),innerHTML:o.iconHTML},null,12,fI)}const mI=nn(pI,[["render",gI],["__scopeId","data-v-1e9e62d9"]]),vI={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["update:content","trigger-event","update:sidepanel-content"],setup(e,{emit:t}){const n=Z(()=>e.content.tabsList.length),{value:i,setValue:r}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"currentTab",type:"number",defaultValue:Z(()=>e.content.value===void 0?0:Math.max(0,Math.min(e.content.value,n.value-1)))}),o=Z({get(){const a=i.value;return Math.max(0,Math.min(a,n.value-1))},set(a){a=Math.max(0,Math.min(a,n.value-1)),a!==o.value&&(r(a),t("trigger-event",{name:"change",event:{value:a}}))}});return{variableValue:i,setValue:r,nbOfTabs:n,currentTabIndex:o,setCurrentTabIndex:a=>{a=Math.max(0,Math.min(a,n.value-1)),a!==o.value&&r(a)}}},data(){return{order:null,activeTransition:"fade"}},computed:{isEditing(){return!1},tabsObjectStyle(){const e={"--tab-transition-duration":this.content.transitionDuration+"s"};switch(this.content.tabsPosition){case"top":e["flex-direction"]="column";break;case"bottom":e["flex-direction"]="column-reverse";break;case"left":e["flex-direction"]="row";break;case"right":e["flex-direction"]="row-reverse";break}return e},getSublayoutHeight(){const e=wwLib.getFrontDocument().querySelectorAll(".tabs-sublayout-container");return e&&e.length&&e[this.currentTabIndex]?`${e[this.currentTabIndex].offsetHeight}px`:"24px"},tabsContainerStyle(){const e=this.content.tabsPosition==="top"||this.content.tabsPosition==="bottom",t={justifyContent:e?this.content.horizontalAlignment:this.content.verticalAlignment,alignItems:e?this.content.verticalAlignment:this.content.horizontalAlignment};return(this.content.tabsPosition==="left"||this.content.tabsPosition==="right")&&(t["flex-direction"]="column",t.width="auto",t["min-width"]="10px"),t}},watch:{"content.value"(e){const t=Math.max(0,Math.min(e,this.nbOfTabs-1));t!==this.currentTabIndex&&(this.currentTabIndex=t,this.$emit("trigger-event",{name:"initValueChange",event:{value:t}}))}},methods:{switchToTab(e){e=Math.max(0,Math.min(e,this.nbOfTabs-1)),e!==this.currentTabIndex&&(this.order=e>this.currentTabIndex?"after":"before",this.handleTransition(this.order),this.currentTabIndex=e)},handleTransition(e){switch(this.content.transition){case"fade":this.activeTransition="fade";break;case"none":this.activeTransition="";break;case"fadeTopBottom":this.activeTransition=e==="after"?"fadeTop":"fadeBottom";break;case"fadeLeftRight":this.activeTransition=e==="after"?"fadeLeft":"fadeRight";break;default:this.activeTransition="fade"}}}},CI=["onClick"],bI={class:"layout-sublayout"},yI={class:"tab-contents"};function wI(e,t,n,i,r,o){const s=It("wwElement",!0),a=It("wwLayoutItem"),l=It("wwLayout"),u=It("wwLocalContext");return X(),ne("div",{class:st(["tabs-object",{editing:o.isEditing}]),style:Yt(o.tabsObjectStyle),"ww-responsive":"tabs-object"},[n.content.tabsList?(X(),ne("div",{key:0,class:"tabs-container",style:Yt(o.tabsContainerStyle),"ww-responsive":"tabs-container"},[(X(!0),ne($o,null,Za(i.nbOfTabs,c=>{var d;return X(),ne("div",{key:c,class:"layout-container",onClick:h=>o.switchToTab(c-1)},[lt(u,{elementKey:"tab",data:{tabIndex:c-1,tabLabel:((d=n.content.tabLabels)==null?void 0:d[c-1])||`Tab ${c}`,isActive:c-1===i.currentTabIndex,totalTabs:i.nbOfTabs,tabPosition:n.content.tabsPosition}},{default:Fn(()=>[De("div",bI,[lt(l,{class:"layout -layout",path:`tabsList[${c-1}]`},{default:Fn(({item:h})=>[lt(a,null,{default:Fn(()=>[lt(s,Yn({ref_for:!0},h,{states:c-1===i.currentTabIndex?["active"]:[]}),null,16,["states"])]),_:2},1024)]),_:2},1032,["path"])])]),_:2},1032,["data"])],8,CI)}),128))],4)):ye("",!0),De("div",yI,[lt(k3,{name:r.activeTransition,mode:"out-in",tag:"div"},{default:Fn(()=>[(X(!0),ne($o,null,Za(i.nbOfTabs,c=>{var d;return X(),ne($o,null,[i.currentTabIndex===c-1?(X(),ne("div",{key:c,class:"tab-content"},[lt(u,{elementKey:"tab",data:{tabIndex:c-1,tabLabel:((d=n.content.tabLabels)==null?void 0:d[c-1])||`Tab ${c}`,isActive:!0,totalTabs:i.nbOfTabs,tabPosition:n.content.tabsPosition}},{default:Fn(()=>[lt(l,{class:st(["layout -layout",{isEditing:o.isEditing}]),path:`tabsContent[${c-1}]`},null,8,["class","path"])]),_:2},1032,["data"])])):ye("",!0)],64)}),256))]),_:1},8,["name"])])],6)}const SI=nn(vI,[["render",wI],["__scopeId","data-v-319171db"]]),lb={props:{file:{type:Object,required:!0},status:{type:Object,required:!0},index:{type:Number,required:!0},isReadonly:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},emits:["remove"],setup(e){const t=ra("_wwFileUpload",{files:Z(()=>[]),content:Z(()=>({})),isDisabled:Z(()=>!1),isReadonly:Z(()=>!1),isSingleMode:Z(()=>!0),acceptedTypes:Z(()=>"")}),n=Z(()=>t.files.value.length),i=Z(()=>{var h;return((h=t.content)==null?void 0:h.value)||{}}),r=Z(()=>{var h;return(h=i.value)==null?void 0:h.showFileInfo}),o=Z(()=>{var h,p,f,g,m,v;return{backgroundColor:((h=i.value)==null?void 0:h.fileItemBackground)||"#fff",borderColor:((p=i.value)==null?void 0:p.fileItemBorderColor)||"#eee",borderRadius:((f=i.value)==null?void 0:f.fileItemBorderRadius)||"6px",padding:((g=i.value)==null?void 0:g.fileItemPadding)||"12px",margin:((m=i.value)==null?void 0:m.fileItemMargin)||"0 0 8px 0",boxShadow:((v=i.value)==null?void 0:v.fileItemShadow)||"0 2px 4px rgba(0, 0, 0, 0.05)",position:"relative",overflow:"hidden"}}),s=Z(()=>{var h,p,f,g;return{fontFamily:((h=i.value)==null?void 0:h.fileNameFontFamily)||"inherit",fontSize:((p=i.value)==null?void 0:p.fileNameFontSize)||"14px",fontWeight:((f=i.value)==null?void 0:f.fileNameFontWeight)||500,color:((g=i.value)==null?void 0:g.fileNameColor)||"inherit"}}),a=Z(()=>{var h,p,f,g;return{fontFamily:((h=i.value)==null?void 0:h.fileDetailsFontFamily)||"inherit",fontSize:((p=i.value)==null?void 0:p.fileDetailsFontSize)||"12px",fontWeight:((f=i.value)==null?void 0:f.fileDetailsFontWeight)||"normal",color:((g=i.value)==null?void 0:g.fileDetailsColor)||"#888"}}),l=Z(()=>{var h,p,f,g,m,v;return{width:((h=i.value)==null?void 0:h.actionButtonSize)||"28px",height:((p=i.value)==null?void 0:p.actionButtonSize)||"28px",backgroundColor:((f=i.value)==null?void 0:f.actionButtonBackground)||"#fff",color:((g=i.value)==null?void 0:g.actionButtonColor)||"#666",borderRadius:((m=i.value)==null?void 0:m.actionButtonBorderRadius)||"4px",margin:((v=i.value)==null?void 0:v.actionButtonMargin)||"0 0 0 4px"}}),u=Z(()=>{const h=e.file.size||0;if(h===0)return"0 B";const p=["B","KB","MB","GB","TB"],f=Math.floor(Math.log(h)/Math.log(1024));return`${(h/Math.pow(1024,f)).toFixed(2)} ${p[f]}`}),{getIcon:c}=wwLib.useIcons(),d=Et(null);return F3(async()=>{try{d.value=await c("lucide/trash")}catch{d.value=null}}),{formattedSize:u,filesCount:n,fileItemStyles:o,fileNameStyles:s,fileDetailsStyles:a,actionButtonStyles:l,content:i,showFileInfo:r,removeIcon:d}}},uS=()=>{T3(e=>{var t,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m,v,b,S,y,x,E,R,T,F,D,O,L;return{"7b1dfa1a":((t=e.content)==null?void 0:t.fileItemPadding)||"12px","9aaaea80":((n=e.content)==null?void 0:n.fileItemBorderColor)||"#eee",b98e495a:((i=e.content)==null?void 0:i.fileItemBorderRadius)||"6px",cf48deaa:(((r=e.content)==null?void 0:r.fileItemMargin)||"0 0 8px 0").split(" ")[2]||"8px","197e2fc0":((o=e.content)==null?void 0:o.fileItemBackground)||"#fff",c930e7e2:((s=e.content)==null?void 0:s.fileItemHoverBorderColor)||((a=e.content)==null?void 0:a.fileItemBorderColor)||"#ddd","02d0e7a6":((l=e.content)==null?void 0:l.fileItemHoverBackground)||((u=e.content)==null?void 0:u.fileItemBackground)||"#fff","321b2138":((c=e.content)==null?void 0:c.fileItemHoverShadow)||((d=e.content)==null?void 0:d.fileItemShadow)||"0 2px 4px rgba(0, 0, 0, 0.05)","42482b5c":((h=e.content)==null?void 0:h.fileNameFontSize)||"14px",dc1d08be:((p=e.content)==null?void 0:p.fileNameFontWeight)||500,d417b15a:((f=e.content)==null?void 0:f.fileNameColor)||"inherit","768162c7":((g=e.content)==null?void 0:g.fileDetailsFontSize)||"12px","68cc3a24":((m=e.content)==null?void 0:m.fileDetailsColor)||"#888","5ecc39c1":((v=e.content)==null?void 0:v.actionButtonSize)||"28px","2ebba648":((b=e.content)==null?void 0:b.actionButtonBorderRadius)||"4px","3d925ae7":((S=e.content)==null?void 0:S.actionButtonBorderColor)||((y=e.content)==null?void 0:y.fileItemBorderColor)||"#eee","4812c8f9":((x=e.content)==null?void 0:x.actionButtonBackground)||"#fff","1f68a8c2":((E=e.content)==null?void 0:E.actionButtonColor)||"#666","20e437bb":(((R=e.content)==null?void 0:R.actionButtonMargin)||"0 0 0 4px").split(" ")[3]||"4px","26a1da30":((T=e.content)==null?void 0:T.actionButtonHoverBorderColor)||((F=e.content)==null?void 0:F.fileItemHoverBorderColor)||"#ddd","66897d62":((D=e.content)==null?void 0:D.actionButtonHoverBackground)||"#f8f8f8","1f1a1df6":((O=e.content)==null?void 0:O.actionButtonRemoveHoverColor)||((L=e.content)==null?void 0:L.progressBarColor)||"#999"}})},cS=lb.setup;lb.setup=cS?(e,t)=>(uS(),cS(e,t)):uS;const xI=["aria-label"],EI={class:"ww-file-item__info"},kI={key:0},FI={class:"ww-file-item__actions"},TI=["disabled"],AI=["innerHTML"];function RI(e,t,n,i,r,o){return X(),ne("li",{class:st(["ww-file-item",{"ww-file-item--disabled":n.isDisabled}]),style:Yt(i.fileItemStyles),role:"listitem","aria-label":`File: ${n.file.name}, Size: ${i.formattedSize}`},[n.status&&n.status.uploadProgress!==void 0?(X(),ne("div",{key:0,class:"ww-file-item__progress",style:Yt({width:`${Math.min(100,Math.round(n.status.uploadProgress))}%`,backgroundColor:i.content.progressBarColor||"#EEEEEE"})},null,4)):ye("",!0),De("div",EI,[De("div",{class:"ww-file-item__name",style:Yt(i.fileNameStyles)},jo(n.file.name),5),i.showFileInfo?(X(),ne("div",{key:0,class:"ww-file-item__details",style:Yt(i.fileDetailsStyles)},[De("span",null,jo(i.formattedSize),1),n.status&&n.status.uploadProgress!==void 0?(X(),ne("span",kI," • "+jo(`${Math.round(n.status.uploadProgress)}%`),1)):ye("",!0)],4)):ye("",!0)]),De("div",FI,[n.isReadonly?ye("",!0):(X(),ne("button",{key:0,type:"button",class:"ww-file-item__btn ww-file-item__btn--remove",disabled:n.isDisabled||n.isReadonly,onClick:t[0]||(t[0]=s=>e.$emit("remove")),style:Yt(i.actionButtonStyles),"aria-label":"Remove file"},[De("div",{class:"icon",innerHTML:i.removeIcon},null,8,AI)],12,TI))])],14,xI)}const DI=nn(lb,[["render",RI],["__scopeId","data-v-d4438dc4"]]),MI={name:"FileList",components:{FileItem:DI},props:{files:{type:Array,required:!0},status:{type:Object,required:!0},type:{type:String,default:"single",validator:e=>["single","multi"].includes(e)},isReadonly:{type:Boolean,default:!1},isDisabled:{type:Boolean,default:!1}},emits:["remove"],setup(e){return{getFileStatus:n=>!(n!=null&&n.name)||!e.status?{}:e.status[n.name]||{}}}},PI={class:"ww-file-list",role:"list","aria-label":"Uploaded files"};function II(e,t,n,i,r,o){const s=It("FileItem");return X(),ne("div",PI,[lt(k3,{name:"file-list-transition",tag:"div",class:"ww-file-list__inner"},{default:Fn(()=>[(X(!0),ne($o,null,Za(n.files,(a,l)=>(X(),qn(s,{key:a.id||`file-${l}-${a.name}-${a.size}`,file:a,status:i.getFileStatus(a),index:l,"is-readonly":n.isReadonly,"is-disabled":n.isDisabled,onRemove:u=>e.$emit("remove",l)},null,8,["file","status","index","is-readonly","is-disabled","onRemove"]))),128))]),_:1})])}const OI=nn(MI,[["render",II],["__scopeId","data-v-b4350705"]]);function LI(e,t={}){const{maxFileSize:n,minFileSize:i,maxTotalFileSize:r,currentTotalSize:o=0,acceptedTypes:s=""}=t,a=e.size/(1024*1024),l=o/(1024*1024);return i&&a<i?{valid:!1,reason:`File size (${a.toFixed(2)} MB) is less than the minimum allowed size (${i} MB)`,constraint:"MIN_SIZE",details:{minSize:i,actualSize:a}}:n&&a>n?{valid:!1,reason:`File size (${a.toFixed(2)} MB) exceeds the maximum allowed size (${n} MB)`,constraint:"MAX_SIZE",details:{maxSize:n,actualSize:a}}:r&&r>0&&l+a>r?{valid:!1,reason:`Total file size (${(l+a).toFixed(2)} MB) would exceed the maximum allowed (${r} MB)`,constraint:"MAX_TOTAL_SIZE",details:{maxTotalSize:r,currentTotalSize:l,newFileSize:a,resultingTotalSize:l+a}}:s&&!NI(e,s)?{valid:!1,reason:`File type "${e.type}" is not accepted. Allowed types: ${s}`,constraint:"INVALID_TYPE",details:{allowedTypes:s,fileType:e.type,fileExtension:BI(e.name,e.type)}}:{valid:!0}}function NI(e,t){if(!t||!e||!e.type)return!t;const n=t.split(",").map(o=>o.trim().toLowerCase()),i=e.type.split("/")[0]+"/*";if(n.includes(i)||n.includes(e.type.toLowerCase()))return!0;const r="."+e.name.split(".").pop().toLowerCase();return n.includes(r)}function BI(e,t){return e&&e.includes(".")?e.split(".").pop().toLowerCase():t?{"image/jpeg":"jpg","image/png":"png","image/gif":"gif","image/webp":"webp","application/pdf":"pdf","text/csv":"csv","application/vnd.ms-excel":"xls","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet":"xlsx","application/msword":"doc","application/vnd.openxmlformats-officedocument.wordprocessingml.document":"docx","application/json":"json","text/plain":"txt"}[t]||t.split("/").pop():""}function zI(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>n(new Error("Failed to convert file to Base64")),i.readAsDataURL(e)})}function HI(e){return new Promise((t,n)=>{const i=new FileReader;i.onload=()=>t(i.result),i.onerror=()=>n(new Error("Failed to convert file to binary")),i.readAsArrayBuffer(e)})}var t6={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0},ub={duration:1e3,delay:0,endDelay:0,easing:"easeOutElastic(1, .5)",round:0},VI=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],Zp={CSS:{},springs:{}};function no(e,t,n){return Math.min(Math.max(e,t),n)}function Fc(e,t){return e.indexOf(t)>-1}function Jg(e,t){return e.apply(null,t)}var Me={arr:function(e){return Array.isArray(e)},obj:function(e){return Fc(Object.prototype.toString.call(e),"Object")},pth:function(e){return Me.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return e.nodeType||Me.svg(e)},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},nil:function(e){return Me.und(e)||e===null},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return Me.hex(e)||Me.rgb(e)||Me.hsl(e)},key:function(e){return!t6.hasOwnProperty(e)&&!ub.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function n6(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(n){return parseFloat(n)}):[]}function i6(e,t){var n=n6(e),i=no(Me.und(n[0])?1:n[0],.1,100),r=no(Me.und(n[1])?100:n[1],.1,100),o=no(Me.und(n[2])?10:n[2],.1,100),s=no(Me.und(n[3])?0:n[3],.1,100),a=Math.sqrt(r/i),l=o/(2*Math.sqrt(r*i)),u=l<1?a*Math.sqrt(1-l*l):0,c=1,d=l<1?(l*a+-s)/u:-s+a;function h(f){var g=t?t*f/1e3:f;return l<1?g=Math.exp(-g*l*a)*(c*Math.cos(u*g)+d*Math.sin(u*g)):g=(c+d*g)*Math.exp(-g*a),f===0||f===1?f:1-g}function p(){var f=Zp.springs[e];if(f)return f;for(var g=1/6,m=0,v=0;;)if(m+=g,h(m)===1){if(v++,v>=16)break}else v=0;var b=m*g*1e3;return Zp.springs[e]=b,b}return t?h:p}function _I(e){return e===void 0&&(e=10),function(t){return Math.ceil(no(t,1e-6,1)*e)*(1/e)}}var GI=(function(){var e=11,t=1/(e-1);function n(c,d){return 1-3*d+3*c}function i(c,d){return 3*d-6*c}function r(c){return 3*c}function o(c,d,h){return((n(d,h)*c+i(d,h))*c+r(d))*c}function s(c,d,h){return 3*n(d,h)*c*c+2*i(d,h)*c+r(d)}function a(c,d,h,p,f){var g,m,v=0;do m=d+(h-d)/2,g=o(m,p,f)-c,g>0?h=m:d=m;while(Math.abs(g)>1e-7&&++v<10);return m}function l(c,d,h,p){for(var f=0;f<4;++f){var g=s(d,h,p);if(g===0)return d;var m=o(d,h,p)-c;d-=m/g}return d}function u(c,d,h,p){if(!(0<=c&&c<=1&&0<=h&&h<=1))return;var f=new Float32Array(e);if(c!==d||h!==p)for(var g=0;g<e;++g)f[g]=o(g*t,c,h);function m(v){for(var b=0,S=1,y=e-1;S!==y&&f[S]<=v;++S)b+=t;--S;var x=(v-f[S])/(f[S+1]-f[S]),E=b+x*t,R=s(E,c,h);return R>=.001?l(v,E,c,h):R===0?E:a(v,b,b+t,c,h)}return function(v){return c===d&&h===p||v===0||v===1?v:o(m(v),d,p)}}return u})(),r6=(function(){var e={linear:function(){return function(i){return i}}},t={Sine:function(){return function(i){return 1-Math.cos(i*Math.PI/2)}},Expo:function(){return function(i){return i?Math.pow(2,10*i-10):0}},Circ:function(){return function(i){return 1-Math.sqrt(1-i*i)}},Back:function(){return function(i){return i*i*(3*i-2)}},Bounce:function(){return function(i){for(var r,o=4;i<((r=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((r*3-2)/22-i,2)}},Elastic:function(i,r){i===void 0&&(i=1),r===void 0&&(r=.5);var o=no(i,1,10),s=no(r,.1,2);return function(a){return a===0||a===1?a:-o*Math.pow(2,10*(a-1))*Math.sin((a-1-s/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/s)}}},n=["Quad","Cubic","Quart","Quint"];return n.forEach(function(i,r){t[i]=function(){return function(o){return Math.pow(o,r+2)}}}),Object.keys(t).forEach(function(i){var r=t[i];e["easeIn"+i]=r,e["easeOut"+i]=function(o,s){return function(a){return 1-r(o,s)(1-a)}},e["easeInOut"+i]=function(o,s){return function(a){return a<.5?r(o,s)(a*2)/2:1-r(o,s)(a*-2+2)/2}},e["easeOutIn"+i]=function(o,s){return function(a){return a<.5?(1-r(o,s)(1-a*2))/2:(r(o,s)(a*2-1)+1)/2}}}),e})();function cb(e,t){if(Me.fnc(e))return e;var n=e.split("(")[0],i=r6[n],r=n6(e);switch(n){case"spring":return i6(e,t);case"cubicBezier":return Jg(GI,r);case"steps":return Jg(_I,r);default:return Jg(i,r)}}function o6(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function G0(e,t){for(var n=e.length,i=arguments.length>=2?arguments[1]:void 0,r=[],o=0;o<n;o++)if(o in e){var s=e[o];t.call(i,s,o,e)&&r.push(s)}return r}function W0(e){return e.reduce(function(t,n){return t.concat(Me.arr(n)?W0(n):n)},[])}function dS(e){return Me.arr(e)?e:(Me.str(e)&&(e=o6(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function db(e,t){return e.some(function(n){return n===t})}function hb(e){var t={};for(var n in e)t[n]=e[n];return t}function Wv(e,t){var n=hb(e);for(var i in e)n[i]=t.hasOwnProperty(i)?t[i]:e[i];return n}function $0(e,t){var n=hb(e);for(var i in t)n[i]=Me.und(e[i])?t[i]:e[i];return n}function WI(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function $I(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=e.replace(t,function(a,l,u,c){return l+l+u+u+c+c}),i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(n),r=parseInt(i[1],16),o=parseInt(i[2],16),s=parseInt(i[3],16);return"rgba("+r+","+o+","+s+",1)"}function UI(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),n=parseInt(t[1],10)/360,i=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100,o=t[4]||1;function s(h,p,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?h+(p-h)*6*f:f<1/2?p:f<2/3?h+(p-h)*(2/3-f)*6:h}var a,l,u;if(i==0)a=l=u=r;else{var c=r<.5?r*(1+i):r+i-r*i,d=2*r-c;a=s(d,c,n+1/3),l=s(d,c,n),u=s(d,c,n-1/3)}return"rgba("+a*255+","+l*255+","+u*255+","+o+")"}function jI(e){if(Me.rgb(e))return WI(e);if(Me.hex(e))return $I(e);if(Me.hsl(e))return UI(e)}function Xo(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function qI(e){if(Fc(e,"translate")||e==="perspective")return"px";if(Fc(e,"rotate")||Fc(e,"skew"))return"deg"}function $v(e,t){return Me.fnc(e)?e(t.target,t.id,t.total):e}function io(e,t){return e.getAttribute(t)}function pb(e,t,n){var i=Xo(t);if(db([n,"deg","rad","turn"],i))return t;var r=Zp.CSS[t+n];if(!Me.und(r))return r;var o=100,s=document.createElement(e.tagName),a=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;a.appendChild(s),s.style.position="absolute",s.style.width=o+n;var l=o/s.offsetWidth;a.removeChild(s);var u=l*parseFloat(t);return Zp.CSS[t+n]=u,u}function s6(e,t,n){if(t in e.style){var i=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),r=e.style[t]||getComputedStyle(e).getPropertyValue(i)||"0";return n?pb(e,r,n):r}}function fb(e,t){if(Me.dom(e)&&!Me.inp(e)&&(!Me.nil(io(e,t))||Me.svg(e)&&e[t]))return"attribute";if(Me.dom(e)&&db(VI,t))return"transform";if(Me.dom(e)&&t!=="transform"&&s6(e,t))return"css";if(e[t]!=null)return"object"}function a6(e){if(Me.dom(e)){for(var t=e.style.transform||"",n=/(\w+)\(([^)]*)\)/g,i=new Map,r;r=n.exec(t);)i.set(r[1],r[2]);return i}}function KI(e,t,n,i){var r=Fc(t,"scale")?1:0+qI(t),o=a6(e).get(t)||r;return n&&(n.transforms.list.set(t,o),n.transforms.last=t),i?pb(e,o,i):o}function gb(e,t,n,i){switch(fb(e,t)){case"transform":return KI(e,t,i,n);case"css":return s6(e,t,n);case"attribute":return io(e,t);default:return e[t]||0}}function mb(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=Xo(e)||0,r=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return r+o+i;case"-":return r-o+i;case"*":return r*o+i}}function l6(e,t){if(Me.col(e))return jI(e);if(/\s/g.test(e))return e;var n=Xo(e),i=n?e.substr(0,e.length-n.length):e;return t?i+t:i}function vb(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function YI(e){return Math.PI*2*io(e,"r")}function XI(e){return io(e,"width")*2+io(e,"height")*2}function JI(e){return vb({x:io(e,"x1"),y:io(e,"y1")},{x:io(e,"x2"),y:io(e,"y2")})}function u6(e){for(var t=e.points,n=0,i,r=0;r<t.numberOfItems;r++){var o=t.getItem(r);r>0&&(n+=vb(i,o)),i=o}return n}function ZI(e){var t=e.points;return u6(e)+vb(t.getItem(t.numberOfItems-1),t.getItem(0))}function c6(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return YI(e);case"rect":return XI(e);case"line":return JI(e);case"polyline":return u6(e);case"polygon":return ZI(e)}}function QI(e){var t=c6(e);return e.setAttribute("stroke-dasharray",t),t}function e9(e){for(var t=e.parentNode;Me.svg(t)&&Me.svg(t.parentNode);)t=t.parentNode;return t}function d6(e,t){var n=t||{},i=n.el||e9(e),r=i.getBoundingClientRect(),o=io(i,"viewBox"),s=r.width,a=r.height,l=n.viewBox||(o?o.split(" "):[0,0,s,a]);return{el:i,viewBox:l,x:l[0]/1,y:l[1]/1,w:s,h:a,vW:l[2],vH:l[3]}}function t9(e,t){var n=Me.str(e)?o6(e)[0]:e,i=t||100;return function(r){return{property:r,el:n,svg:d6(n),totalLength:c6(n)*(i/100)}}}function n9(e,t,n){function i(c){c===void 0&&(c=0);var d=t+c>=1?t+c:0;return e.el.getPointAtLength(d)}var r=d6(e.el,e.svg),o=i(),s=i(-1),a=i(1),l=n?1:r.w/r.vW,u=n?1:r.h/r.vH;switch(e.property){case"x":return(o.x-r.x)*l;case"y":return(o.y-r.y)*u;case"angle":return Math.atan2(a.y-s.y,a.x-s.x)*180/Math.PI}}function hS(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,i=l6(Me.pth(e)?e.totalLength:e,t)+"";return{original:i,numbers:i.match(n)?i.match(n).map(Number):[0],strings:Me.str(e)||t?i.split(n):[]}}function Cb(e){var t=e?W0(Me.arr(e)?e.map(dS):dS(e)):[];return G0(t,function(n,i,r){return r.indexOf(n)===i})}function h6(e){var t=Cb(e);return t.map(function(n,i){return{target:n,id:i,total:t.length,transforms:{list:a6(n)}}})}function i9(e,t){var n=hb(t);if(/^spring/.test(n.easing)&&(n.duration=i6(n.easing)),Me.arr(e)){var i=e.length,r=i===2&&!Me.obj(e[0]);r?e={value:e}:Me.fnc(t.duration)||(n.duration=t.duration/i)}var o=Me.arr(e)?e:[e];return o.map(function(s,a){var l=Me.obj(s)&&!Me.pth(s)?s:{value:s};return Me.und(l.delay)&&(l.delay=a?0:t.delay),Me.und(l.endDelay)&&(l.endDelay=a===o.length-1?t.endDelay:0),l}).map(function(s){return $0(s,n)})}function r9(e){for(var t=G0(W0(e.map(function(o){return Object.keys(o)})),function(o){return Me.key(o)}).reduce(function(o,s){return o.indexOf(s)<0&&o.push(s),o},[]),n={},i=function(o){var s=t[o];n[s]=e.map(function(a){var l={};for(var u in a)Me.key(u)?u==s&&(l.value=a[u]):l[u]=a[u];return l})},r=0;r<t.length;r++)i(r);return n}function o9(e,t){var n=[],i=t.keyframes;i&&(t=$0(r9(i),t));for(var r in t)Me.key(r)&&n.push({name:r,tweens:i9(t[r],e)});return n}function s9(e,t){var n={};for(var i in e){var r=$v(e[i],t);Me.arr(r)&&(r=r.map(function(o){return $v(o,t)}),r.length===1&&(r=r[0])),n[i]=r}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function a9(e,t){var n;return e.tweens.map(function(i){var r=s9(i,t),o=r.value,s=Me.arr(o)?o[1]:o,a=Xo(s),l=gb(t.target,e.name,a,t),u=n?n.to.original:l,c=Me.arr(o)?o[0]:u,d=Xo(c)||Xo(l),h=a||d;return Me.und(s)&&(s=u),r.from=hS(c,h),r.to=hS(mb(s,c),h),r.start=n?n.end:0,r.end=r.start+r.delay+r.duration+r.endDelay,r.easing=cb(r.easing,r.duration),r.isPath=Me.pth(o),r.isPathTargetInsideSVG=r.isPath&&Me.svg(t.target),r.isColor=Me.col(r.from.original),r.isColor&&(r.round=1),n=r,r})}var p6={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,r){if(i.list.set(t,n),t===i.last||r){var o="";i.list.forEach(function(s,a){o+=a+"("+s+") "}),e.style.transform=o}}};function f6(e,t){var n=h6(e);n.forEach(function(i){for(var r in t){var o=$v(t[r],i),s=i.target,a=Xo(o),l=gb(s,r,a,i),u=a||Xo(l),c=mb(l6(o,u),l),d=fb(s,r);p6[d](s,r,c,i.transforms,!0)}})}function l9(e,t){var n=fb(e.target,t.name);if(n){var i=a9(t,e),r=i[i.length-1];return{type:n,property:t.name,animatable:e,tweens:i,duration:r.end,delay:i[0].delay,endDelay:r.endDelay}}}function u9(e,t){return G0(W0(e.map(function(n){return t.map(function(i){return l9(n,i)})})),function(n){return!Me.und(n)})}function g6(e,t){var n=e.length,i=function(o){return o.timelineOffset?o.timelineOffset:0},r={};return r.duration=n?Math.max.apply(Math,e.map(function(o){return i(o)+o.duration})):t.duration,r.delay=n?Math.min.apply(Math,e.map(function(o){return i(o)+o.delay})):t.delay,r.endDelay=n?r.duration-Math.max.apply(Math,e.map(function(o){return i(o)+o.duration-o.endDelay})):t.endDelay,r}var pS=0;function c9(e){var t=Wv(t6,e),n=Wv(ub,e),i=o9(n,e),r=h6(e.targets),o=u9(r,i),s=g6(o,n),a=pS;return pS++,$0(t,{id:a,children:[],animatables:r,animations:o,duration:s.duration,delay:s.delay,endDelay:s.endDelay})}var Hr=[],m6=(function(){var e;function t(){!e&&(!fS()||!_t.suspendWhenDocumentHidden)&&Hr.length>0&&(e=requestAnimationFrame(n))}function n(r){for(var o=Hr.length,s=0;s<o;){var a=Hr[s];a.paused?(Hr.splice(s,1),o--):(a.tick(r),s++)}e=s>0?requestAnimationFrame(n):void 0}function i(){_t.suspendWhenDocumentHidden&&(fS()?e=cancelAnimationFrame(e):(Hr.forEach(function(r){return r._onDocumentVisibility()}),m6()))}return typeof document<"u"&&document.addEventListener("visibilitychange",i),t})();function fS(){return!!document&&document.hidden}function _t(e){e===void 0&&(e={});var t=0,n=0,i=0,r,o=0,s=null;function a(b){var S=window.Promise&&new Promise(function(y){return s=y});return b.finished=S,S}var l=c9(e);a(l);function u(){var b=l.direction;b!=="alternate"&&(l.direction=b!=="normal"?"normal":"reverse"),l.reversed=!l.reversed,r.forEach(function(S){return S.reversed=l.reversed})}function c(b){return l.reversed?l.duration-b:b}function d(){t=0,n=c(l.currentTime)*(1/_t.speed)}function h(b,S){S&&S.seek(b-S.timelineOffset)}function p(b){if(l.reversePlayback)for(var y=o;y--;)h(b,r[y]);else for(var S=0;S<o;S++)h(b,r[S])}function f(b){for(var S=0,y=l.animations,x=y.length;S<x;){var E=y[S],R=E.animatable,T=E.tweens,F=T.length-1,D=T[F];F&&(D=G0(T,function($e){return b<$e.end})[0]||D);for(var O=no(b-D.start-D.delay,0,D.duration)/D.duration,L=isNaN(O)?1:D.easing(O),I=D.to.strings,B=D.round,U=[],V=D.to.numbers.length,Y=void 0,oe=0;oe<V;oe++){var ke=void 0,we=D.to.numbers[oe],Ae=D.from.numbers[oe]||0;D.isPath?ke=n9(D.value,L*we,D.isPathTargetInsideSVG):ke=Ae+L*(we-Ae),B&&(D.isColor&&oe>2||(ke=Math.round(ke*B)/B)),U.push(ke)}var ve=I.length;if(!ve)Y=U[0];else{Y=I[0];for(var Ve=0;Ve<ve;Ve++){I[Ve];var Xe=I[Ve+1],Te=U[Ve];isNaN(Te)||(Xe?Y+=Te+Xe:Y+=Te+" ")}}p6[E.type](R.target,E.property,Y,R.transforms),E.currentValue=Y,S++}}function g(b){l[b]&&!l.passThrough&&l[b](l)}function m(){l.remaining&&l.remaining!==!0&&l.remaining--}function v(b){var S=l.duration,y=l.delay,x=S-l.endDelay,E=c(b);l.progress=no(E/S*100,0,100),l.reversePlayback=E<l.currentTime,r&&p(E),!l.began&&l.currentTime>0&&(l.began=!0,g("begin")),!l.loopBegan&&l.currentTime>0&&(l.loopBegan=!0,g("loopBegin")),E<=y&&l.currentTime!==0&&f(0),(E>=x&&l.currentTime!==S||!S)&&f(S),E>y&&E<x?(l.changeBegan||(l.changeBegan=!0,l.changeCompleted=!1,g("changeBegin")),g("change"),f(E)):l.changeBegan&&(l.changeCompleted=!0,l.changeBegan=!1,g("changeComplete")),l.currentTime=no(E,0,S),l.began&&g("update"),b>=S&&(n=0,m(),l.remaining?(t=i,g("loopComplete"),l.loopBegan=!1,l.direction==="alternate"&&u()):(l.paused=!0,l.completed||(l.completed=!0,g("loopComplete"),g("complete"),!l.passThrough&&"Promise"in window&&(s(),a(l)))))}return l.reset=function(){var b=l.direction;l.passThrough=!1,l.currentTime=0,l.progress=0,l.paused=!0,l.began=!1,l.loopBegan=!1,l.changeBegan=!1,l.completed=!1,l.changeCompleted=!1,l.reversePlayback=!1,l.reversed=b==="reverse",l.remaining=l.loop,r=l.children,o=r.length;for(var S=o;S--;)l.children[S].reset();(l.reversed&&l.loop!==!0||b==="alternate"&&l.loop===1)&&l.remaining++,f(l.reversed?l.duration:0)},l._onDocumentVisibility=d,l.set=function(b,S){return f6(b,S),l},l.tick=function(b){i=b,t||(t=i),v((i+(n-t))*_t.speed)},l.seek=function(b){v(c(b))},l.pause=function(){l.paused=!0,d()},l.play=function(){l.paused&&(l.completed&&l.reset(),l.paused=!1,Hr.push(l),d(),m6())},l.reverse=function(){u(),l.completed=!l.reversed,d()},l.restart=function(){l.reset(),l.play()},l.remove=function(b){var S=Cb(b);v6(S,l)},l.reset(),l.autoplay&&l.play(),l}function gS(e,t){for(var n=t.length;n--;)db(e,t[n].animatable.target)&&t.splice(n,1)}function v6(e,t){var n=t.animations,i=t.children;gS(e,n);for(var r=i.length;r--;){var o=i[r],s=o.animations;gS(e,s),!s.length&&!o.children.length&&i.splice(r,1)}!n.length&&!i.length&&t.pause()}function d9(e){for(var t=Cb(e),n=Hr.length;n--;){var i=Hr[n];v6(t,i)}}function h9(e,t){t===void 0&&(t={});var n=t.direction||"normal",i=t.easing?cb(t.easing):null,r=t.grid,o=t.axis,s=t.from||0,a=s==="first",l=s==="center",u=s==="last",c=Me.arr(e),d=parseFloat(c?e[0]:e),h=c?parseFloat(e[1]):0,p=Xo(c?e[1]:e)||0,f=t.start||0+(c?d:0),g=[],m=0;return function(v,b,S){if(a&&(s=0),l&&(s=(S-1)/2),u&&(s=S-1),!g.length){for(var y=0;y<S;y++){if(!r)g.push(Math.abs(s-y));else{var x=l?(r[0]-1)/2:s%r[0],E=l?(r[1]-1)/2:Math.floor(s/r[0]),R=y%r[0],T=Math.floor(y/r[0]),F=x-R,D=E-T,O=Math.sqrt(F*F+D*D);o==="x"&&(O=-F),o==="y"&&(O=-D),g.push(O)}m=Math.max.apply(Math,g)}i&&(g=g.map(function(I){return i(I/m)*m})),n==="reverse"&&(g=g.map(function(I){return o?I<0?I*-1:-I:Math.abs(m-I)}))}var L=c?(h-d)/m:d;return f+L*(Math.round(g[b]*100)/100)+p}}function p9(e){e===void 0&&(e={});var t=_t(e);return t.duration=0,t.add=function(n,i){var r=Hr.indexOf(t),o=t.children;r>-1&&Hr.splice(r,1);function s(h){h.passThrough=!0}for(var a=0;a<o.length;a++)s(o[a]);var l=$0(n,Wv(ub,e));l.targets=l.targets||e.targets;var u=t.duration;l.autoplay=!1,l.direction=t.direction,l.timelineOffset=Me.und(i)?u:mb(i,u),s(t),t.seek(l.timelineOffset);var c=_t(l);s(c),o.push(c);var d=g6(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}_t.version="3.2.1";_t.speed=1;_t.suspendWhenDocumentHidden=!0;_t.running=Hr;_t.remove=d9;_t.get=gb;_t.set=f6;_t.convertPx=pb;_t.path=t9;_t.setDashoffset=QI;_t.stagger=h9;_t.timeline=p9;_t.easing=cb;_t.penner=r6;_t.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};function f9(e,t=5){let n;return function(...i){clearTimeout(n),n=setTimeout(()=>e.apply(this,i),t)}}function g9({dropzoneRef:e,circleRef:t,isDisabled:n,isReadonly:i,dropEnabled:r,circleOpacity:o,animationSpeed:s=.5,isEditing:a}){const l=Et(!1),u=Et(0),c=Et(0),d=Et(0),h=Et(0),p=Et(!1);let f=null,g=0;const m=()=>{if(p.value)return;p.value=!0;const x=.12*s.value,E=.82+(1-s.value)*.1;let R=0,T=0,F=d.value,D=h.value;const O=()=>{if(!l.value){p.value=!1;return}F=F+(d.value-F)*.3,D=D+(h.value-D)*.3;const L=F-u.value,I=D-c.value;R=R*E+L*x,T=T*E+I*x,u.value+=R,c.value+=T,f=requestAnimationFrame(O)};f=requestAnimationFrame(O)},v=x=>{if(n.value||i.value||!r.value||a.value)return;const E=Date.now();if(!(E-g<16)){if(g=E,x.stopPropagation(),e.value){const R=e.value.getBoundingClientRect();d.value=x.clientX-R.left,h.value=x.clientY-R.top}if(!l.value&&(l.value=!0,e.value)){const R=e.value.getBoundingClientRect(),T=120,F=d.value,D=R.width-d.value,O=h.value,L=R.height-h.value,I=Math.min(F,D,O,L);I===F?(u.value=-T,c.value=h.value):I===D?(u.value=R.width+T,c.value=h.value):I===O?(u.value=d.value,c.value=-T):(u.value=d.value,c.value=R.height+T),t.value&&_t({targets:t.value,opacity:[0,o.value],scale:[.4,1],duration:300/s.value,easing:"easeOutCubic"}),m()}}},b=x=>{e.value&&e.value.contains(x.relatedTarget)||(t.value&&l.value?_t({targets:t.value,opacity:[o.value,0],scale:[1,.4],duration:200/s.value,easing:"easeOutQuad",complete:()=>{l.value=!1,p.value=!1}}):(l.value=!1,p.value=!1),f&&(cancelAnimationFrame(f),f=null))},S=x=>{if(n.value||i.value||!r.value||a.value)return!1;if(e.value){const E=e.value.getBoundingClientRect();u.value=x.clientX-E.left,c.value=x.clientY-E.top,d.value=u.value,h.value=c.value}return t.value?(p.value=!1,f&&(cancelAnimationFrame(f),f=null),_t({targets:t.value,scale:[1,35],opacity:[o.value,o.value],duration:700,easing:"easeOutCubic",complete:function(){_t({targets:t.value,opacity:[o.value,0],duration:300,easing:"linear",complete:function(){l.value=!1}})}})):l.value=!1,!0},y=f9(x=>{if(l.value&&e.value){const E=e.value.getBoundingClientRect();d.value=x.clientX-E.left,h.value=x.clientY-E.top}},Math.max(5,16/s.value));return A3(()=>{f&&(cancelAnimationFrame(f),f=null)}),{isDragging:l,mouseX:u,mouseY:c,targetX:d,targetY:h,isAnimating:p,handleDragOver:v,handleDragLeave:b,handleDrop:S,handleMouseMove:y}}const bb={components:{FileList:OI},props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event","add-state","remove-state"],setup(e,{emit:t}){const n=Z(()=>!1),{getIcon:i}=wwLib.useIcons(),r=Et(null),o=Et(null),s=Et(null),a=Et(null),l=Et(!1),u=Z(()=>{var z;return((z=e.content)==null?void 0:z.extensionsMessage)||null}),c=Z(()=>{var z;return((z=e.content)==null?void 0:z.maxFileMessage)||null}),d=Z(()=>{var z;return((z=e.content)==null?void 0:z.labelMessage)||null}),h=Z(()=>{var z;return((z=e.content)==null?void 0:z.type)||"single"}),p=Z(()=>{var z;return((z=e.content)==null?void 0:z.reorder)||!1}),f=Z(()=>{var z;return((z=e.content)==null?void 0:z.drop)!==!1}),g=Z(()=>{var z;return((z=e.content)==null?void 0:z.maxFileSize)||10}),m=Z(()=>{var z;return((z=e.content)==null?void 0:z.minFileSize)||0}),v=Z(()=>{var z;return((z=e.content)==null?void 0:z.maxTotalFileSize)||50}),b=Z(()=>{var z;return((z=e.content)==null?void 0:z.maxFiles)||10}),S=Z(()=>{var z;return((z=e.content)==null?void 0:z.required)||!1}),y=Z(()=>{var z;return((z=e.content)==null?void 0:z.extensions)||"any"}),x=Z(()=>{var z;return((z=e.content)==null?void 0:z.customExtensions)||""}),E=Z(()=>{var z;return((z=e.content)==null?void 0:z.exposeBase64)||!1}),R=Z(()=>{var z;return((z=e.content)==null?void 0:z.exposeBinary)||!1}),T=Z(()=>{var z;return((z=e.content)==null?void 0:z.showUploadIcon)!==!1}),F=Z(()=>{var z;return((z=e.content)==null?void 0:z.uploadIcon)||"upload"}),D=Z(()=>{var z;return((z=e.content)==null?void 0:z.uploadIconColor)||"#666666"}),O=Z(()=>{var z;return((z=e.content)==null?void 0:z.uploadIconPosition)||"top"}),L=Z(()=>{var z;return((z=e.content)==null?void 0:z.uploadIconSize)||"24px"}),I=Z(()=>{var z;return((z=e.content)==null?void 0:z.uploadIconMargin)||"8px"}),B=Z(()=>{var z;return((z=e.content)==null?void 0:z.enableCircleAnimation)!==!1}),U=Z(()=>{var z;return((z=e.content)==null?void 0:z.circleSize)||"80px"}),V=Z(()=>{var z;return((z=e.content)==null?void 0:z.circleColor)||mt.value}),Y=Z(()=>{var z;return((z=e.content)==null?void 0:z.circleOpacity)!==void 0?e.content.circleOpacity:.5}),oe=Z(()=>{var z;return((z=e.content)==null?void 0:z.animationSpeed)!==void 0?e.content.animationSpeed:.5}),ke=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneBorderWidth)||"2px"}),we=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneBorderStyle)||"dashed"}),Ae=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneBorderColor)||"#CCCCCC"}),ve=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneBorderRadius)||"8px"}),Ve=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzonePadding)||"20px"}),Xe=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneMinHeight)||"120px"}),Te=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneBackground)||"rgba(0, 0, 0, 0)"}),$e=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneBackgroundHover)||"rgba(0, 0, 0, 0.01)"}),Ze=Z(()=>{var z;return((z=e.content)==null?void 0:z.labelFontSize)||"16px"}),ot=Z(()=>{var z;return((z=e.content)==null?void 0:z.labelFontFamily)||"inherit"}),gt=Z(()=>{var z;return((z=e.content)==null?void 0:z.labelFontWeight)||"normal"}),Rt=Z(()=>{var z;return((z=e.content)==null?void 0:z.labelColor)||"#333333"}),on=Z(()=>{var z;return((z=e.content)==null?void 0:z.fileDetailsFontSize)||"12px"}),vn=Z(()=>{var z;return((z=e.content)==null?void 0:z.fileDetailsColor)||"#888888"}),mt=Z(()=>{var z;return((z=e.content)==null?void 0:z.progressBarColor)||"#EEEEEE"}),Ct=Z(()=>{var je;return(((je=e.content)==null?void 0:je.labelMargin)||"0 0 4px 0").split(" ")[2]||"4px"}),Cn=Z(()=>{const z=mt.value;if(!z)return"rgba(85, 85, 85, 0.05)";try{const je=parseInt(z.slice(1,3),16)||85,ft=parseInt(z.slice(3,5),16)||85,Dn=parseInt(z.slice(5,7),16)||85;return`rgba(${je}, ${ft}, ${Dn}, 0.05)`}catch{return"rgba(85, 85, 85, 0.05)"}}),Jt=Z(()=>{var z;return((z=e.content)==null?void 0:z.dropzoneBackgroundDragging)||"rgba(0, 0, 0, 0.05)"}),Wt=Z(()=>{var z,je,ft,Dn,Mn;return{fontFamily:((z=e.content)==null?void 0:z.extensionsMessageFontFamily)||"inherit",fontSize:((je=e.content)==null?void 0:je.extensionsMessageFontSize)||"12px",fontWeight:((ft=e.content)==null?void 0:ft.extensionsMessageFontWeight)||"normal",color:((Dn=e.content)==null?void 0:Dn.extensionsMessageColor)||"#888888",margin:((Mn=e.content)==null?void 0:Mn.extensionsMessageMargin)||"0 0 4px 0"}}),Rn=Z(()=>{var z,je,ft,Dn,Mn;return{fontFamily:((z=e.content)==null?void 0:z.maxFileMessageFontFamily)||"inherit",fontSize:((je=e.content)==null?void 0:je.maxFileMessageFontSize)||"12px",fontWeight:((ft=e.content)==null?void 0:ft.maxFileMessageFontWeight)||"normal",color:((Dn=e.content)==null?void 0:Dn.maxFileMessageColor)||"#888888",margin:((Mn=e.content)==null?void 0:Mn.maxFileMessageMargin)||"0 0 4px 0"}}),di=Z(()=>{var z,je,ft,Dn,Mn;return{fontFamily:((z=e.content)==null?void 0:z.labelFontFamily)||"inherit",fontSize:((je=e.content)==null?void 0:je.labelFontSize)||"16px",fontWeight:((ft=e.content)==null?void 0:ft.labelFontWeight)||"normal",color:((Dn=e.content)==null?void 0:Dn.labelColor)||"#333333",margin:((Mn=e.content)==null?void 0:Mn.labelMargin)||"0 0 4px 0"}}),bt=Z(()=>e.wwElementState.props.disabled||!1),Dt=Z(()=>{var z;return e.wwElementState.props.readonly===void 0?((z=e.content)==null?void 0:z.readonly)||!1:e.wwElementState.props.readonly}),{value:$t,setValue:bn}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",defaultValue:[],type:"file",componentType:"element"}),{value:Zn,setValue:or}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"status",defaultValue:{},type:"any"}),sr=ra("_wwForm:useForm",()=>{}),ar=Z(()=>e.content.fieldName),lr=Z(()=>e.content.validation),$=Z(()=>e.content.customValidation);sr($t,{fieldName:ar,validation:lr,customValidation:$,required:S},{elementState:e.wwElementState,emit:t,sidepanelFormPath:"form",setValue:bn});const G=Z(()=>Array.isArray($t.value)?$t.value:[]),q=Z(()=>G.value.length>0);_r([Zn,G],([z,je])=>{if(z&&typeof z=="object"){const ft=je.map(Mn=>Mn.name),Dn=Object.fromEntries(Object.entries(z).filter(([Mn])=>ft.includes(Mn)));Object.keys(Dn).length!==Object.keys(z).length&&or(Dn)}});const te=Z(()=>{switch(y.value){case"image":return"image/*";case"video":return"video/*";case"audio":return"audio/*";case"pdf":return".pdf";case"csv":return".csv";case"excel":return".xls,.xlsx,.xlsm,.xlsb";case"word":return".doc,.docx,.docm";case"json":return".json";case"custom":return x.value;default:return""}});_r(()=>F.value,async z=>{if(z&&T.value)try{a.value=await i(z)}catch{a.value=null}else a.value=null},{immediate:!0});const Se=Z(()=>a.value),H=Et({fileUpload:{value:Z(()=>G.value.map(z=>{const je={};for(const ft in z)Object.prototype.hasOwnProperty.call(z,ft)&&(je[ft]=z[ft]);return je.name=z.name,je.size=z.size,je.type=z.type,je.lastModified=z.lastModified,je.mimeType=z.mimeType,je.id=z.id,z.base64&&(je.base64=z.base64),z.binary&&(je.binary=z.binary),je})),status:Zn}});Lp("_wwFileUpload",{files:G,status:Zn,acceptedTypes:te,isDisabled:bt,isReadonly:Dt,isSingleMode:Z(()=>h.value==="single"),content:Z(()=>e.content||{})});const{isDragging:Q,mouseX:fe,mouseY:Oe,targetX:de,targetY:me,isAnimating:xe,handleDragOver:Ue,handleDragLeave:it,handleDrop:Ut,handleMouseMove:Ro}=g9({dropzoneRef:o,circleRef:s,isDisabled:bt,isReadonly:Dt,dropEnabled:f,circleOpacity:Y,animationSpeed:oe,isEditing:n}),ws=()=>{!bt.value&&!Dt.value&&!n.value&&r.value.click()},_i=async z=>{if(!Ut(z)||bt.value||Dt.value||!f.value)return;const ft=z.dataTransfer.files;ft.length&&setTimeout(async()=>{await Sl(ft)},1050)},Lg=async z=>{const je=z.target.files;je.length&&(await Sl(je),z.target.value="")},Sl=async z=>{l.value=!0;const je=Array.from(z);h.value==="single"&&(je.length>1&&t("trigger-event",{name:"error",event:{code:"SINGLE_MODE_MULTIPLE_FILES",data:{message:"Multiple files provided in single file mode",count:je.length,acceptedCount:1}}}),je.splice(1),bn([]));let ft=1/0;if(h.value==="multi"&&b.value>0)if(ft=b.value-$t.value.length,ft<=0){t("trigger-event",{name:"error",event:{code:"MAX_FILES_REACHED",data:{message:`Maximum number of files (${b.value}) reached`,maxFiles:b.value,currentCount:$t.value.length}}}),wwLib.wwNotification.open({text:{en:`Maximum number of files (${b.value}) reached`},color:"warning"}),l.value=!1;return}else je.length>ft&&t("trigger-event",{name:"error",event:{code:"TOO_MANY_FILES",data:{message:`Only ${ft} more files can be added`,providedCount:je.length,availableSlots:ft,maxFiles:b.value,currentCount:$t.value.length}}});const Dn=je.slice(0,ft),Mn=[],gD=h.value==="multi"&&Array.isArray($t.value)?$t.value.reduce((hi,Pr)=>hi+(Pr.size||0),0):0;for(const hi of Dn){const Pr=LI(hi,{maxFileSize:g.value,minFileSize:m.value,maxTotalFileSize:h.value==="multi"?v.value:void 0,currentTotalSize:h.value==="multi"?gD:0,acceptedTypes:te.value});Pr.valid?(hi.id=`file-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,hi.mimeType=hi.type,E.value&&(hi.base64=await zI(hi)),R.value&&(hi.binary=await HI(hi)),Mn.push(hi)):(console.warn(`File validation failed: ${Pr.reason}`),t("trigger-event",{name:"error",event:{code:"VALIDATION_ERROR",data:{message:Pr.reason,fileName:hi.name,fileSize:hi.size,fileType:hi.type,constraint:Pr.constraint}}}))}if(Mn.length>0)if(h.value==="single")bn(Mn),t("trigger-event",{name:"change",event:{value:Mn}}),l.value=!1;else{let Pr=[...[...$t.value]];const yw=Ng=>{Pr=[...Pr,Mn[Ng]],bn(Pr),Ng<Mn.length-1?setTimeout(()=>yw(Ng+1),150):(t("trigger-event",{name:"change",event:{value:Pr}}),l.value=!1)};setTimeout(()=>yw(0),50);return}l.value=!1},xl=z=>{if(bt.value||Dt.value)return;const je=[...$t.value.filter((ft,Dn)=>Dn!==z)];bn(je),t("trigger-event",{name:"change",event:{value:je}})},pD=(z,je)=>{if(bt.value||Dt.value||!p.value)return;const ft=[...$t.value],[Dn]=ft.splice(z,1);ft.splice(je,0,Dn),bn(ft),t("trigger-event",{name:"change",event:{value:ft}})},bw=()=>{bn([])},fD=()=>{switch(y.value){case"image":return"Images";case"video":return"Videos";case"audio":return"Audio files";case"pdf":return"PDF files";case"csv":return"CSV files";case"excel":return"Excel files";case"word":return"Word documents";case"json":return"JSON files";case"custom":return x.value;default:return"All files"}};return wwLib.wwElement.useRegisterElementLocalContext("fileUpload",H.value.fileUpload,{clearFiles:{description:"Clear all files",method:bw,editor:{label:"Clear Files",group:"File Upload",icon:"trash"}}}),_r(Dt,z=>{t(z?"add-state":"remove-state","readonly")},{immediate:!0}),_r(bt,z=>{t(z?"add-state":"remove-state","disabled")},{immediate:!0}),{status:Zn,fileInput:r,isDragging:Q,fileList:G,hasFiles:q,isDisabled:bt,isReadonly:Dt,acceptedFileTypes:te,extensionsMessage:u,maxFileMessage:c,openFileExplorer:ws,handleDragOver:Ue,handleDragLeave:it,handleDrop:_i,handleFileSelection:Lg,removeFile:xl,reorderFiles:pD,getAllowedTypesLabel:fD,iconHTML:Se,uploadIconPosition:O,handleMouseMove:Ro,extensionsMessageStyle:Wt,maxFileMessageStyle:Rn,labelMessage:d,labelMessageStyle:di,type:h,reorder:p,drop:f,maxFileSize:g,minFileSize:m,maxFiles:b,required:S,extensions:y,customExtensions:x,showUploadIcon:T,uploadIcon:F,uploadIconColor:D,uploadIconSize:L,uploadIconMargin:I,enableCircleAnimation:B,circleSize:U,circleColor:V,circleOpacity:Y,animationSpeed:oe,safeDropzoneBorderWidth:ke,safeDropzoneBorderStyle:we,safeDropzoneBorderColor:Ae,safeDropzoneBorderRadius:ve,safeDropzonePadding:Ve,safeDropzoneMinHeight:Xe,safeDropzoneBackground:Te,safeDropzoneBackgroundHover:$e,safeDropzoneBackgroundDragging:Jt,safeLabelFontSize:Ze,safeLabelFontFamily:ot,safeLabelFontWeight:gt,safeLabelColor:Rt,safeFileDetailsFontSize:on,safeFileDetailsColor:vn,safeProgressBarColor:mt,safeLabelMarginBottom:Ct,safeProgressBarBackground:Cn,dropzoneEl:o,circleEl:s,mouseX:fe,mouseY:Oe,targetX:de,targetY:me,isAnimating:xe,isProcessing:l,isEditing:n,clearFiles:bw}}},mS=()=>{T3(e=>({"45ca3c80":e.safeDropzoneBackground,"3d3787e8":e.safeDropzoneBorderWidth,"3d0477d3":e.safeDropzoneBorderStyle,"3c208985":e.safeDropzoneBorderColor,"60c056b0":e.safeDropzoneBorderRadius,76443402:e.safeDropzonePadding,68348487:e.safeDropzoneMinHeight,"00bca43f":e.isEditing?"unset":"pointer","09d26c9c":e.safeDropzoneBackgroundHover,ea709ab6:e.uploadIconSize,"65609d82":e.uploadIconColor,"2617815c":e.uploadIconMargin,"4c840422":e.safeDropzoneBackgroundDragging}))},vS=bb.setup;bb.setup=vS?(e,t)=>(mS(),vS(e,t)):mS;const m9=["innerHTML"],v9={class:"ww-file-upload__text"},C9=["multiple","accept","required","disabled","aria-label"];function b9(e,t,n,i,r,o){const s=It("FileList");return X(),ne("div",{class:st(["ww-file-upload",{"ww-file-upload--dragging":i.isDragging&&!i.isDisabled&&!i.isReadonly,"ww-file-upload--disabled":i.isDisabled,"ww-file-upload--readonly":i.isReadonly,"ww-file-upload--has-files":i.hasFiles}]),onDragover:t[3]||(t[3]=Cc((...a)=>i.handleDragOver&&i.handleDragOver(...a),["prevent"])),onDragleave:t[4]||(t[4]=Cc((...a)=>i.handleDragLeave&&i.handleDragLeave(...a),["prevent"])),onDrop:t[5]||(t[5]=Cc((...a)=>i.handleDrop&&i.handleDrop(...a),["prevent"])),role:"region","aria-label":"File upload area"},[De("div",{ref:"dropzoneEl",class:"ww-file-upload__dropzone",onClick:t[0]||(t[0]=(...a)=>i.openFileExplorer&&i.openFileExplorer(...a)),onMousemove:t[1]||(t[1]=(...a)=>i.handleMouseMove&&i.handleMouseMove(...a))},[i.isDragging&&!i.isDisabled&&!i.isReadonly&&i.enableCircleAnimation?(X(),ne("div",{key:0,ref:"circleEl",class:"ww-file-upload__hover-circle",style:Yt({left:`${i.mouseX}px`,top:`${i.mouseY}px`,backgroundColor:i.circleColor,opacity:i.circleOpacity,width:i.circleSize,height:i.circleSize})},null,4)):ye("",!0),De("div",{class:st(["ww-file-upload__content",[`ww-file-upload__content--${i.uploadIconPosition}`]])},[i.showUploadIcon?(X(),ne("div",{key:0,class:"ww-file-upload__icon",innerHTML:i.iconHTML},null,8,m9)):ye("",!0),De("div",v9,[De("div",{class:"ww-file-upload__label",style:Yt(i.labelMessageStyle)},jo(i.labelMessage),5),i.extensionsMessage?(X(),ne("div",{key:0,class:"ww-file-upload__info ww-file-upload__extensions-message",style:Yt(i.extensionsMessageStyle)},jo(i.extensionsMessage),5)):ye("",!0),i.maxFileMessage?(X(),ne("div",{key:1,class:"ww-file-upload__info ww-file-upload__max-file-message",style:Yt(i.maxFileMessageStyle)},jo(i.maxFileMessage),5)):ye("",!0)])],2)],544),i.hasFiles?(X(),qn(s,{key:0,files:i.fileList,status:i.status,type:i.type,"can-reorder":i.reorder,"is-readonly":i.isReadonly,"is-disabled":i.isDisabled,onRemove:i.removeFile,onReorder:i.reorderFiles},null,8,["files","status","type","can-reorder","is-readonly","is-disabled","onRemove","onReorder"])):ye("",!0),De("input",{ref:"fileInput",type:"file",class:"ww-file-upload__input",multiple:i.type==="multi",accept:i.acceptedFileTypes,required:i.required&&!i.hasFiles,disabled:i.isDisabled||i.isReadonly,"aria-label":i.labelMessage,onChange:t[2]||(t[2]=(...a)=>i.handleFileSelection&&i.handleFileSelection(...a))},null,40,C9)],34)}const y9=nn(bb,[["render",b9],["__scopeId","data-v-6691aea9"]]),w9={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},wwElementState:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["update:content:effect","trigger-event","add-state","remove-state"],setup(e,{emit:t}){const{value:n,setValue:i}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"boolean",defaultValue:Z(()=>e.content.value===void 0?!1:e.content.value)}),r=ra("_wwForm:useForm",()=>{}),o=Z(()=>e.content.fieldName),s=Z(()=>e.content.validation),a=Z(()=>e.content.customValidation),l=Z(()=>e.content.required);r(n,{fieldName:o,validation:s,customValidation:a,required:l,initialValue:Z(()=>e.content.value)},{elementState:e.wwElementState,emit:t,sidepanelFormPath:"form",setValue:i});const u=Et([]);return Lp("checkboxStates",u),{variableValue:n,setValue:i,uniqueId:wwLib.wwUtils.getUid(),reactiveCheckboxStates:u}},computed:{value(){return!!this.variableValue},isEditing(){return!1},isSelected(){return!1},cssVariables(){let e="row";this.content.containerPosition==="left"||this.content.containerPosition==="right"?this.content.containerPosition==="left"?e="row-reverse":e="row":this.content.containerPosition==="top"?e="column-reverse":e="column";const t={"--container-direction":e};return this.content.containerGap?t["--container-gap"]=this.content.containerGap:t["--container-gap"]="0px",t},isReadonly(){return this.wwElementState.props.readonly===void 0?this.content.readonly:this.wwElementState.props.readonly},attributes(){return this.wwElementState.props.attributes},checkboxStates(){const e=[];return this.value&&!this.isSelected&&e.push("checked"),this.isReadonly&&e.push("readonly"),this.reactiveCheckboxStates.splice(0,this.reactiveCheckboxStates.length,...e),e}},watch:{"content.value"(e){e=!!e,e!==this.value&&(this.setValue(e),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}))},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}},value:{immediate:!0,handler(e){e?this.$emit("add-state","checked"):this.$emit("remove-state","checked")}}},methods:{handleManualInput(e){const t=!!e.target.checked;t!==this.value&&(this.setValue(t),this.$emit("trigger-event",{name:"change",event:{domEvent:e,value:t}}))}}},S9=["id","checked","value","name","required","disabled"];function x9(e,t,n,i,r,o){const s=It("wwElement",!0);return X(),qn(vc(o.isEditing?"div":"label"),{class:st(["ww-webapp-checkbox",{editing:o.isEditing}]),style:Yt(o.cssVariables),for:`${n.wwElementState.name}-${i.uniqueId}-${n.uid}`},{default:Fn(()=>[De("input",Yn({id:`${n.wwElementState.name}-${i.uniqueId}-${n.uid}`,ref:"checkboxInput",checked:o.value,value:o.value,type:"checkbox",name:`${n.wwElementState.name}-${i.uniqueId}-${n.uid}`,class:n.content.checkbox&&"hidden",required:n.content.required,disabled:o.isReadonly},o.attributes,{onInput:t[0]||(t[0]=a=>o.handleManualInput(a)),onClick:t[1]||(t[1]=Cc(()=>{},["stop"]))}),null,16,S9),n.content.checkbox?(X(),qn(vc(o.isEditing?"div":"label"),{key:0,for:`${n.wwElementState.name}-${i.uniqueId}-${n.uid}`},{default:Fn(()=>[lt(s,Yn(n.content.checkbox,{states:o.checkboxStates}),null,16,["states"])]),_:1},8,["for"])):ye("",!0),(X(),qn(vc(o.isEditing?"div":"label"),{for:`${n.wwElementState.name}-${i.uniqueId}-${n.uid}`},{default:Fn(()=>[n.content.isEmbeddedContainer?(X(),qn(s,Yn({key:0,class:"embedded-container"},n.content.embeddedContainer),null,16)):ye("",!0)]),_:1},8,["for"]))]),_:1},8,["style","class","for"])}const E9=nn(w9,[["render",x9],["__scopeId","data-v-9a86ac4c"]]);function $n(e){this.content=e}$n.prototype={constructor:$n,find:function(e){for(var t=0;t<this.content.length;t+=2)if(this.content[t]===e)return t;return-1},get:function(e){var t=this.find(e);return t==-1?void 0:this.content[t+1]},update:function(e,t,n){var i=n&&n!=e?this.remove(n):this,r=i.find(e),o=i.content.slice();return r==-1?o.push(n||e,t):(o[r+1]=t,n&&(o[r]=n)),new $n(o)},remove:function(e){var t=this.find(e);if(t==-1)return this;var n=this.content.slice();return n.splice(t,2),new $n(n)},addToStart:function(e,t){return new $n([e,t].concat(this.remove(e).content))},addToEnd:function(e,t){var n=this.remove(e).content.slice();return n.push(e,t),new $n(n)},addBefore:function(e,t,n){var i=this.remove(t),r=i.content.slice(),o=i.find(e);return r.splice(o==-1?r.length:o,0,t,n),new $n(r)},forEach:function(e){for(var t=0;t<this.content.length;t+=2)e(this.content[t],this.content[t+1])},prepend:function(e){return e=$n.from(e),e.size?new $n(e.content.concat(this.subtract(e).content)):this},append:function(e){return e=$n.from(e),e.size?new $n(this.subtract(e).content.concat(e.content)):this},subtract:function(e){var t=this;e=$n.from(e);for(var n=0;n<e.content.length;n+=2)t=t.remove(e.content[n]);return t},toObject:function(){var e={};return this.forEach(function(t,n){e[t]=n}),e},get size(){return this.content.length>>1}};$n.from=function(e){if(e instanceof $n)return e;var t=[];if(e)for(var n in e)t.push(n,e[n]);return new $n(t)};function C6(e,t,n){for(let i=0;;i++){if(i==e.childCount||i==t.childCount)return e.childCount==t.childCount?null:n;let r=e.child(i),o=t.child(i);if(r==o){n+=r.nodeSize;continue}if(!r.sameMarkup(o))return n;if(r.isText&&r.text!=o.text){for(let s=0;r.text[s]==o.text[s];s++)n++;return n}if(r.content.size||o.content.size){let s=C6(r.content,o.content,n+1);if(s!=null)return s}n+=r.nodeSize}}function b6(e,t,n,i){for(let r=e.childCount,o=t.childCount;;){if(r==0||o==0)return r==o?null:{a:n,b:i};let s=e.child(--r),a=t.child(--o),l=s.nodeSize;if(s==a){n-=l,i-=l;continue}if(!s.sameMarkup(a))return{a:n,b:i};if(s.isText&&s.text!=a.text){let u=0,c=Math.min(s.text.length,a.text.length);for(;u<c&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,i--;return{a:n,b:i}}if(s.content.size||a.content.size){let u=b6(s.content,a.content,n-1,i-1);if(u)return u}n-=l,i-=l}}class J{constructor(t,n){if(this.content=t,this.size=n||0,n==null)for(let i=0;i<t.length;i++)this.size+=t[i].nodeSize}nodesBetween(t,n,i,r=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>t&&i(l,r+a,o||null,s)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,t-c),Math.min(l.content.size,n-c),i,r+c)}a=u}}descendants(t){this.nodesBetween(0,this.size,t)}textBetween(t,n,i,r){let o="",s=!0;return this.nodesBetween(t,n,(a,l)=>{let u=a.isText?a.text.slice(Math.max(t,l)-l,n-l):a.isLeaf?r?typeof r=="function"?r(a):r:a.type.spec.leafText?a.type.spec.leafText(a):"":"";a.isBlock&&(a.isLeaf&&u||a.isTextblock)&&i&&(s?s=!1:o+=i),o+=u},0),o}append(t){if(!t.size)return this;if(!this.size)return t;let n=this.lastChild,i=t.firstChild,r=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(i)&&(r[r.length-1]=n.withText(n.text+i.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new J(r,this.size+t.size)}cut(t,n=this.size){if(t==0&&n==this.size)return this;let i=[],r=0;if(n>t)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>t&&((s<t||l>n)&&(a.isText?a=a.cut(Math.max(0,t-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,t-s-1),Math.min(a.content.size,n-s-1))),i.push(a),r+=a.nodeSize),s=l}return new J(i,r)}cutByIndex(t,n){return t==n?J.empty:t==0&&n==this.content.length?this:new J(this.content.slice(t,n))}replaceChild(t,n){let i=this.content[t];if(i==n)return this;let r=this.content.slice(),o=this.size+n.nodeSize-i.nodeSize;return r[t]=n,new J(r,o)}addToStart(t){return new J([t].concat(this.content),this.size+t.nodeSize)}addToEnd(t){return new J(this.content.concat(t),this.size+t.nodeSize)}eq(t){if(this.content.length!=t.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(t.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(t){let n=this.content[t];if(!n)throw new RangeError("Index "+t+" out of range for "+this);return n}maybeChild(t){return this.content[t]||null}forEach(t){for(let n=0,i=0;n<this.content.length;n++){let r=this.content[n];t(r,i,n),i+=r.nodeSize}}findDiffStart(t,n=0){return C6(this,t,n)}findDiffEnd(t,n=this.size,i=t.size){return b6(this,t,n,i)}findIndex(t){if(t==0)return wh(0,t);if(t==this.size)return wh(this.content.length,t);if(t>this.size||t<0)throw new RangeError(`Position ${t} outside of fragment (${this})`);for(let n=0,i=0;;n++){let r=this.child(n),o=i+r.nodeSize;if(o>=t)return o==t?wh(n+1,o):wh(n,i);i=o}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(t=>t.toJSON()):null}static fromJSON(t,n){if(!n)return J.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new J(n.map(t.nodeFromJSON))}static fromArray(t){if(!t.length)return J.empty;let n,i=0;for(let r=0;r<t.length;r++){let o=t[r];i+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(n||(n=t.slice(0,r)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new J(n||t,i)}static from(t){if(!t)return J.empty;if(t instanceof J)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new J([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}J.empty=new J([],0);const Zg={index:0,offset:0};function wh(e,t){return Zg.index=e,Zg.offset=t,Zg}function Qp(e,t){if(e===t)return!0;if(!(e&&typeof e=="object")||!(t&&typeof t=="object"))return!1;let n=Array.isArray(e);if(Array.isArray(t)!=n)return!1;if(n){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++)if(!Qp(e[i],t[i]))return!1}else{for(let i in e)if(!(i in t)||!Qp(e[i],t[i]))return!1;for(let i in t)if(!(i in e))return!1}return!0}let yt=class Uv{constructor(t,n){this.type=t,this.attrs=n}addToSet(t){let n,i=!1;for(let r=0;r<t.length;r++){let o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))n||(n=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!i&&o.type.rank>this.type.rank&&(n||(n=t.slice(0,r)),n.push(this),i=!0),n&&n.push(o)}}return n||(n=t.slice()),i||n.push(this),n}removeFromSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return t.slice(0,n).concat(t.slice(n+1));return t}isInSet(t){for(let n=0;n<t.length;n++)if(this.eq(t[n]))return!0;return!1}eq(t){return this==t||this.type==t.type&&Qp(this.attrs,t.attrs)}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let i=t.marks[n.type];if(!i)throw new RangeError(`There is no mark type ${n.type} in this schema`);let r=i.create(n.attrs);return i.checkAttrs(r.attrs),r}static sameSet(t,n){if(t==n)return!0;if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++)if(!t[i].eq(n[i]))return!1;return!0}static setFrom(t){if(!t||Array.isArray(t)&&t.length==0)return Uv.none;if(t instanceof Uv)return[t];let n=t.slice();return n.sort((i,r)=>i.type.rank-r.type.rank),n}};yt.none=[];class ef extends Error{}class ge{constructor(t,n,i){this.content=t,this.openStart=n,this.openEnd=i}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(t,n){let i=w6(this.content,t+this.openStart,n);return i&&new ge(i,this.openStart,this.openEnd)}removeBetween(t,n){return new ge(y6(this.content,t+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t}static fromJSON(t,n){if(!n)return ge.empty;let i=n.openStart||0,r=n.openEnd||0;if(typeof i!="number"||typeof r!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ge(J.fromJSON(t,n.content),i,r)}static maxOpen(t,n=!0){let i=0,r=0;for(let o=t.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)i++;for(let o=t.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)r++;return new ge(t,i,r)}}ge.empty=new ge(J.empty,0,0);function y6(e,t,n){let{index:i,offset:r}=e.findIndex(t),o=e.maybeChild(i),{index:s,offset:a}=e.findIndex(n);if(r==t||o.isText){if(a!=n&&!e.child(s).isText)throw new RangeError("Removing non-flat range");return e.cut(0,t).append(e.cut(n))}if(i!=s)throw new RangeError("Removing non-flat range");return e.replaceChild(i,o.copy(y6(o.content,t-r-1,n-r-1)))}function w6(e,t,n,i){let{index:r,offset:o}=e.findIndex(t),s=e.maybeChild(r);if(o==t||s.isText)return i&&!i.canReplace(r,r,n)?null:e.cut(0,t).append(n).append(e.cut(t));let a=w6(s.content,t-o-1,n,s);return a&&e.replaceChild(r,s.copy(a))}function k9(e,t,n){if(n.openStart>e.depth)throw new ef("Inserted content deeper than insertion position");if(e.depth-n.openStart!=t.depth-n.openEnd)throw new ef("Inconsistent open depths");return S6(e,t,n,0)}function S6(e,t,n,i){let r=e.index(i),o=e.node(i);if(r==t.index(i)&&i<e.depth-n.openStart){let s=S6(e,t,n,i+1);return o.copy(o.content.replaceChild(r,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&e.depth==i&&t.depth==i){let s=e.parent,a=s.content;return Va(s,a.cut(0,e.parentOffset).append(n.content).append(a.cut(t.parentOffset)))}else{let{start:s,end:a}=F9(n,e);return Va(o,E6(e,s,a,t,i))}else return Va(o,tf(e,t,i))}function x6(e,t){if(!t.type.compatibleContent(e.type))throw new ef("Cannot join "+t.type.name+" onto "+e.type.name)}function jv(e,t,n){let i=e.node(n);return x6(i,t.node(n)),i}function Ha(e,t){let n=t.length-1;n>=0&&e.isText&&e.sameMarkup(t[n])?t[n]=e.withText(t[n].text+e.text):t.push(e)}function Tc(e,t,n,i){let r=(t||e).node(n),o=0,s=t?t.index(n):r.childCount;e&&(o=e.index(n),e.depth>n?o++:e.textOffset&&(Ha(e.nodeAfter,i),o++));for(let a=o;a<s;a++)Ha(r.child(a),i);t&&t.depth==n&&t.textOffset&&Ha(t.nodeBefore,i)}function Va(e,t){return e.type.checkContent(t),e.copy(t)}function E6(e,t,n,i,r){let o=e.depth>r&&jv(e,t,r+1),s=i.depth>r&&jv(n,i,r+1),a=[];return Tc(null,e,r,a),o&&s&&t.index(r)==n.index(r)?(x6(o,s),Ha(Va(o,E6(e,t,n,i,r+1)),a)):(o&&Ha(Va(o,tf(e,t,r+1)),a),Tc(t,n,r,a),s&&Ha(Va(s,tf(n,i,r+1)),a)),Tc(i,null,r,a),new J(a)}function tf(e,t,n){let i=[];if(Tc(null,e,n,i),e.depth>n){let r=jv(e,t,n+1);Ha(Va(r,tf(e,t,n+1)),i)}return Tc(t,null,n,i),new J(i)}function F9(e,t){let n=t.depth-e.openStart,r=t.node(n).copy(e.content);for(let o=n-1;o>=0;o--)r=t.node(o).copy(J.from(r));return{start:r.resolveNoCache(e.openStart+n),end:r.resolveNoCache(r.content.size-e.openEnd-n)}}class id{constructor(t,n,i){this.pos=t,this.path=n,this.parentOffset=i,this.depth=n.length/3-1}resolveDepth(t){return t==null?this.depth:t<0?this.depth+t:t}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(t){return this.path[this.resolveDepth(t)*3]}index(t){return this.path[this.resolveDepth(t)*3+1]}indexAfter(t){return t=this.resolveDepth(t),this.index(t)+(t==this.depth&&!this.textOffset?0:1)}start(t){return t=this.resolveDepth(t),t==0?0:this.path[t*3-1]+1}end(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size}before(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]}after(t){if(t=this.resolveDepth(t),!t)throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[t*3-1]+this.path[t*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let t=this.parent,n=this.index(this.depth);if(n==t.childCount)return null;let i=this.pos-this.path[this.path.length-1],r=t.child(n);return i?t.child(n).cut(i):r}get nodeBefore(){let t=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(t).cut(0,n):t==0?null:this.parent.child(t-1)}posAtIndex(t,n){n=this.resolveDepth(n);let i=this.path[n*3],r=n==0?0:this.path[n*3-1]+1;for(let o=0;o<t;o++)r+=i.child(o).nodeSize;return r}marks(){let t=this.parent,n=this.index();if(t.content.size==0)return yt.none;if(this.textOffset)return t.child(n).marks;let i=t.maybeChild(n-1),r=t.maybeChild(n);if(!i){let a=i;i=r,r=a}let o=i.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!r||!o[s].isInSet(r.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(t){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let i=n.marks,r=t.parent.maybeChild(t.index());for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!r||!i[o].isInSet(r.marks))&&(i=i[o--].removeFromSet(i));return i}sharedDepth(t){for(let n=this.depth;n>0;n--)if(this.start(n)<=t&&this.end(n)>=t)return n;return 0}blockRange(t=this,n){if(t.pos<this.pos)return t.blockRange(this);for(let i=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);i>=0;i--)if(t.pos<=this.end(i)&&(!n||n(this.node(i))))return new nf(this,t,i);return null}sameParent(t){return this.pos-this.parentOffset==t.pos-t.parentOffset}max(t){return t.pos>this.pos?t:this}min(t){return t.pos<this.pos?t:this}toString(){let t="";for(let n=1;n<=this.depth;n++)t+=(t?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return t+":"+this.parentOffset}static resolve(t,n){if(!(n>=0&&n<=t.content.size))throw new RangeError("Position "+n+" out of range");let i=[],r=0,o=n;for(let s=t;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(i.push(s,a,r+l),!u||(s=s.child(a),s.isText))break;o=u-1,r+=l+1}return new id(n,i,o)}static resolveCached(t,n){let i=CS.get(t);if(i)for(let o=0;o<i.elts.length;o++){let s=i.elts[o];if(s.pos==n)return s}else CS.set(t,i=new T9);let r=i.elts[i.i]=id.resolve(t,n);return i.i=(i.i+1)%A9,r}}class T9{constructor(){this.elts=[],this.i=0}}const A9=12,CS=new WeakMap;class nf{constructor(t,n,i){this.$from=t,this.$to=n,this.depth=i}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const R9=Object.create(null);let Zs=class qv{constructor(t,n,i,r=yt.none){this.type=t,this.attrs=n,this.marks=r,this.content=i||J.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(t){return this.content.child(t)}maybeChild(t){return this.content.maybeChild(t)}forEach(t){this.content.forEach(t)}nodesBetween(t,n,i,r=0){this.content.nodesBetween(t,n,i,r,this)}descendants(t){this.nodesBetween(0,this.content.size,t)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(t,n,i,r){return this.content.textBetween(t,n,i,r)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)}sameMarkup(t){return this.hasMarkup(t.type,t.attrs,t.marks)}hasMarkup(t,n,i){return this.type==t&&Qp(this.attrs,n||t.defaultAttrs||R9)&&yt.sameSet(this.marks,i||yt.none)}copy(t=null){return t==this.content?this:new qv(this.type,this.attrs,t,this.marks)}mark(t){return t==this.marks?this:new qv(this.type,this.attrs,this.content,t)}cut(t,n=this.content.size){return t==0&&n==this.content.size?this:this.copy(this.content.cut(t,n))}slice(t,n=this.content.size,i=!1){if(t==n)return ge.empty;let r=this.resolve(t),o=this.resolve(n),s=i?0:r.sharedDepth(n),a=r.start(s),u=r.node(s).content.cut(r.pos-a,o.pos-a);return new ge(u,r.depth-s,o.depth-s)}replace(t,n,i){return k9(this.resolve(t),this.resolve(n),i)}nodeAt(t){for(let n=this;;){let{index:i,offset:r}=n.content.findIndex(t);if(n=n.maybeChild(i),!n)return null;if(r==t||n.isText)return n;t-=r+1}}childAfter(t){let{index:n,offset:i}=this.content.findIndex(t);return{node:this.content.maybeChild(n),index:n,offset:i}}childBefore(t){if(t==0)return{node:null,index:0,offset:0};let{index:n,offset:i}=this.content.findIndex(t);if(i<t)return{node:this.content.child(n),index:n,offset:i};let r=this.content.child(n-1);return{node:r,index:n-1,offset:i-r.nodeSize}}resolve(t){return id.resolveCached(this,t)}resolveNoCache(t){return id.resolve(this,t)}rangeHasMark(t,n,i){let r=!1;return n>t&&this.nodesBetween(t,n,o=>(i.isInSet(o.marks)&&(r=!0),!r)),r}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),k6(this.marks,t)}contentMatchAt(t){let n=this.type.contentMatch.matchFragment(this.content,0,t);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(t,n,i=J.empty,r=0,o=i.childCount){let s=this.contentMatchAt(t).matchFragment(i,r,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=r;l<o;l++)if(!this.type.allowsMarks(i.child(l).marks))return!1;return!0}canReplaceWith(t,n,i,r){if(r&&!this.type.allowsMarks(r))return!1;let o=this.contentMatchAt(t).matchType(i),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let t=yt.none;for(let n=0;n<this.marks.length;n++){let i=this.marks[n];i.type.checkAttrs(i.attrs),t=i.addToSet(t)}if(!yt.sameSet(t,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let t={type:this.type.name};for(let n in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map(n=>n.toJSON())),t}static fromJSON(t,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let i;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");i=n.marks.map(t.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return t.text(n.text,i)}let r=J.fromJSON(t,n.content),o=t.nodeType(n.type).create(n.attrs,r,i);return o.type.checkAttrs(o.attrs),o}};Zs.prototype.text=void 0;let D9=class Kv extends Zs{constructor(t,n,i,r){if(super(t,n,null,r),!i)throw new RangeError("Empty text nodes are not allowed");this.text=i}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):k6(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(t,n){return this.text.slice(t,n)}get nodeSize(){return this.text.length}mark(t){return t==this.marks?this:new Kv(this.type,this.attrs,this.text,t)}withText(t){return t==this.text?this:new Kv(this.type,this.attrs,t,this.marks)}cut(t=0,n=this.text.length){return t==0&&n==this.text.length?this:this.withText(this.text.slice(t,n))}eq(t){return this.sameMarkup(t)&&this.text==t.text}toJSON(){let t=super.toJSON();return t.text=this.text,t}};function k6(e,t){for(let n=e.length-1;n>=0;n--)t=e[n].type.name+"("+t+")";return t}class rl{constructor(t){this.validEnd=t,this.next=[],this.wrapCache=[]}static parse(t,n){let i=new M9(t,n);if(i.next==null)return rl.empty;let r=F6(i);i.next&&i.err("Unexpected trailing text");let o=z9(B9(r));return H9(o,i),o}matchType(t){for(let n=0;n<this.next.length;n++)if(this.next[n].type==t)return this.next[n].next;return null}matchFragment(t,n=0,i=t.childCount){let r=this;for(let o=n;r&&o<i;o++)r=r.matchType(t.child(o).type);return r}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let t=0;t<this.next.length;t++){let{type:n}=this.next[t];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(t){for(let n=0;n<this.next.length;n++)for(let i=0;i<t.next.length;i++)if(this.next[n].type==t.next[i].type)return!0;return!1}fillBefore(t,n=!1,i=0){let r=[this];function o(s,a){let l=s.matchFragment(t,i);if(l&&(!n||l.validEnd))return J.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:d}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&r.indexOf(d)==-1){r.push(d);let h=o(d,a.concat(c));if(h)return h}}return null}return o(this,[])}findWrapping(t){for(let i=0;i<this.wrapCache.length;i+=2)if(this.wrapCache[i]==t)return this.wrapCache[i+1];let n=this.computeWrapping(t);return this.wrapCache.push(t,n),n}computeWrapping(t){let n=Object.create(null),i=[{match:this,type:null,via:null}];for(;i.length;){let r=i.shift(),o=r.match;if(o.matchType(t)){let s=[];for(let a=r;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!r.type||l.validEnd)&&(i.push({match:a.contentMatch,type:a,via:r}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(t){if(t>=this.next.length)throw new RangeError(`There's no ${t}th edge in this content match`);return this.next[t]}toString(){let t=[];function n(i){t.push(i);for(let r=0;r<i.next.length;r++)t.indexOf(i.next[r].next)==-1&&n(i.next[r].next)}return n(this),t.map((i,r)=>{let o=r+(i.validEnd?"*":" ")+" ";for(let s=0;s<i.next.length;s++)o+=(s?", ":"")+i.next[s].type.name+"->"+t.indexOf(i.next[s].next);return o}).join(`
`)}}rl.empty=new rl(!0);class M9{constructor(t,n){this.string=t,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(t){return this.next==t&&(this.pos++||!0)}err(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")}}function F6(e){let t=[];do t.push(P9(e));while(e.eat("|"));return t.length==1?t[0]:{type:"choice",exprs:t}}function P9(e){let t=[];do t.push(I9(e));while(e.next&&e.next!=")"&&e.next!="|");return t.length==1?t[0]:{type:"seq",exprs:t}}function I9(e){let t=N9(e);for(;;)if(e.eat("+"))t={type:"plus",expr:t};else if(e.eat("*"))t={type:"star",expr:t};else if(e.eat("?"))t={type:"opt",expr:t};else if(e.eat("{"))t=O9(e,t);else break;return t}function bS(e){/\D/.test(e.next)&&e.err("Expected number, got '"+e.next+"'");let t=Number(e.next);return e.pos++,t}function O9(e,t){let n=bS(e),i=n;return e.eat(",")&&(e.next!="}"?i=bS(e):i=-1),e.eat("}")||e.err("Unclosed braced range"),{type:"range",min:n,max:i,expr:t}}function L9(e,t){let n=e.nodeTypes,i=n[t];if(i)return[i];let r=[];for(let o in n){let s=n[o];s.isInGroup(t)&&r.push(s)}return r.length==0&&e.err("No node type or group '"+t+"' found"),r}function N9(e){if(e.eat("(")){let t=F6(e);return e.eat(")")||e.err("Missing closing paren"),t}else if(/\W/.test(e.next))e.err("Unexpected token '"+e.next+"'");else{let t=L9(e,e.next).map(n=>(e.inline==null?e.inline=n.isInline:e.inline!=n.isInline&&e.err("Mixing inline and block content"),{type:"name",value:n}));return e.pos++,t.length==1?t[0]:{type:"choice",exprs:t}}}function B9(e){let t=[[]];return r(o(e,0),n()),t;function n(){return t.push([])-1}function i(s,a,l){let u={term:l,to:a};return t[s].push(u),u}function r(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;r(u,a=n())}else if(s.type=="star"){let l=n();return i(a,l),r(o(s.expr,l),l),[i(l)]}else if(s.type=="plus"){let l=n();return r(o(s.expr,a),l),r(o(s.expr,l),l),[i(l)]}else{if(s.type=="opt")return[i(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let c=n();r(o(s.expr,l),c),l=c}if(s.max==-1)r(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=n();i(l,c),r(o(s.expr,l),c),l=c}return[i(l)]}else{if(s.type=="name")return[i(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function T6(e,t){return t-e}function yS(e,t){let n=[];return i(t),n.sort(T6);function i(r){let o=e[r];if(o.length==1&&!o[0].term)return i(o[0].to);n.push(r);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&i(l)}}}function z9(e){let t=Object.create(null);return n(yS(e,0));function n(i){let r=[];i.forEach(s=>{e[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<r.length;c++)r[c][0]==a&&(u=r[c][1]);yS(e,l).forEach(c=>{u||r.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=t[i.join(",")]=new rl(i.indexOf(e.length-1)>-1);for(let s=0;s<r.length;s++){let a=r[s][1].sort(T6);o.next.push({type:r[s][0],next:t[a.join(",")]||n(a)})}return o}}function H9(e,t){for(let n=0,i=[e];n<i.length;n++){let r=i[n],o=!r.validEnd,s=[];for(let a=0;a<r.next.length;a++){let{type:l,next:u}=r.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),i.indexOf(u)==-1&&i.push(u)}o&&t.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function A6(e){let t=Object.create(null);for(let n in e){let i=e[n];if(!i.hasDefault)return null;t[n]=i.default}return t}function R6(e,t){let n=Object.create(null);for(let i in e){let r=t&&t[i];if(r===void 0){let o=e[i];if(o.hasDefault)r=o.default;else throw new RangeError("No value supplied for attribute "+i)}n[i]=r}return n}function D6(e,t,n,i){for(let r in t)if(!(r in e))throw new RangeError(`Unsupported attribute ${r} for ${n} of type ${r}`);for(let r in e){let o=e[r];o.validate&&o.validate(t[r])}}function M6(e,t){let n=Object.create(null);if(t)for(let i in t)n[i]=new _9(e,i,t[i]);return n}let wS=class P6{constructor(t,n,i){this.name=t,this.schema=n,this.spec=i,this.markSet=null,this.groups=i.group?i.group.split(" "):[],this.attrs=M6(t,i.attrs),this.defaultAttrs=A6(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(i.inline||t=="text"),this.isText=t=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==rl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(t){return this.groups.indexOf(t)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1}compatibleContent(t){return this==t||this.contentMatch.compatible(t.contentMatch)}computeAttrs(t){return!t&&this.defaultAttrs?this.defaultAttrs:R6(this.attrs,t)}create(t=null,n,i){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zs(this,this.computeAttrs(t),J.from(n),yt.setFrom(i))}createChecked(t=null,n,i){return n=J.from(n),this.checkContent(n),new Zs(this,this.computeAttrs(t),n,yt.setFrom(i))}createAndFill(t=null,n,i){if(t=this.computeAttrs(t),n=J.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let r=this.contentMatch.matchFragment(n),o=r&&r.fillBefore(J.empty,!0);return o?new Zs(this,t,n.append(o),yt.setFrom(i)):null}validContent(t){let n=this.contentMatch.matchFragment(t);if(!n||!n.validEnd)return!1;for(let i=0;i<t.childCount;i++)if(!this.allowsMarks(t.child(i).marks))return!1;return!0}checkContent(t){if(!this.validContent(t))throw new RangeError(`Invalid content for node ${this.name}: ${t.toString().slice(0,50)}`)}checkAttrs(t){D6(this.attrs,t,"node",this.name)}allowsMarkType(t){return this.markSet==null||this.markSet.indexOf(t)>-1}allowsMarks(t){if(this.markSet==null)return!0;for(let n=0;n<t.length;n++)if(!this.allowsMarkType(t[n].type))return!1;return!0}allowedMarks(t){if(this.markSet==null)return t;let n;for(let i=0;i<t.length;i++)this.allowsMarkType(t[i].type)?n&&n.push(t[i]):n||(n=t.slice(0,i));return n?n.length?n:yt.none:t}static compile(t,n){let i=Object.create(null);t.forEach((o,s)=>i[o]=new P6(o,n,s));let r=n.spec.topNode||"doc";if(!i[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!i.text)throw new RangeError("Every schema needs a 'text' type");for(let o in i.text.attrs)throw new RangeError("The text node type should not have attributes");return i}};function V9(e,t,n){let i=n.split("|");return r=>{let o=r===null?"null":typeof r;if(i.indexOf(o)<0)throw new RangeError(`Expected value of type ${i} for attribute ${t} on type ${e}, got ${o}`)}}class _9{constructor(t,n,i){this.hasDefault=Object.prototype.hasOwnProperty.call(i,"default"),this.default=i.default,this.validate=typeof i.validate=="string"?V9(t,n,i.validate):i.validate}get isRequired(){return!this.hasDefault}}class U0{constructor(t,n,i,r){this.name=t,this.rank=n,this.schema=i,this.spec=r,this.attrs=M6(t,r.attrs),this.excluded=null;let o=A6(this.attrs);this.instance=o?new yt(this,o):null}create(t=null){return!t&&this.instance?this.instance:new yt(this,R6(this.attrs,t))}static compile(t,n){let i=Object.create(null),r=0;return t.forEach((o,s)=>i[o]=new U0(o,r++,n,s)),i}removeFromSet(t){for(var n=0;n<t.length;n++)t[n].type==this&&(t=t.slice(0,n).concat(t.slice(n+1)),n--);return t}isInSet(t){for(let n=0;n<t.length;n++)if(t[n].type==this)return t[n]}checkAttrs(t){D6(this.attrs,t,"mark",this.name)}excludes(t){return this.excluded.indexOf(t)>-1}}class yb{constructor(t){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let r in t)n[r]=t[r];n.nodes=$n.from(t.nodes),n.marks=$n.from(t.marks||{}),this.nodes=wS.compile(this.spec.nodes,this),this.marks=U0.compile(this.spec.marks,this);let i=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let o=this.nodes[r],s=o.spec.content||"",a=o.spec.marks;if(o.contentMatch=i[s]||(i[s]=rl.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!o.isInline||!o.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=o}o.markSet=a=="_"?null:a?SS(this,a.split(" ")):a==""||!o.inlineContent?[]:null}for(let r in this.marks){let o=this.marks[r],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:SS(this,s.split(" "))}this.nodeFromJSON=r=>Zs.fromJSON(this,r),this.markFromJSON=r=>yt.fromJSON(this,r),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(t,n=null,i,r){if(typeof t=="string")t=this.nodeType(t);else if(t instanceof wS){if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}else throw new RangeError("Invalid node type: "+t);return t.createChecked(n,i,r)}text(t,n){let i=this.nodes.text;return new D9(i,i.defaultAttrs,t,yt.setFrom(n))}mark(t,n){return typeof t=="string"&&(t=this.marks[t]),t.create(n)}nodeType(t){let n=this.nodes[t];if(!n)throw new RangeError("Unknown node type: "+t);return n}}function SS(e,t){let n=[];for(let i=0;i<t.length;i++){let r=t[i],o=e.marks[r],s=o;if(o)n.push(o);else for(let a in e.marks){let l=e.marks[a];(r=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(r)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+t[i]+"'")}return n}function G9(e){return e.tag!=null}function W9(e){return e.style!=null}class Jo{constructor(t,n){this.schema=t,this.rules=n,this.tags=[],this.styles=[];let i=this.matchedStyles=[];n.forEach(r=>{if(G9(r))this.tags.push(r);else if(W9(r)){let o=/[^=]*/.exec(r.style)[0];i.indexOf(o)<0&&i.push(o),this.styles.push(r)}}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let o=t.nodes[r.node];return o.contentMatch.matchType(o)})}parse(t,n={}){let i=new ES(this,n,!1);return i.addAll(t,yt.none,n.from,n.to),i.finish()}parseSlice(t,n={}){let i=new ES(this,n,!0);return i.addAll(t,yt.none,n.from,n.to),ge.maxOpen(i.finish())}matchTag(t,n,i){for(let r=i?this.tags.indexOf(i)+1:0;r<this.tags.length;r++){let o=this.tags[r];if(j9(t,o.tag)&&(o.namespace===void 0||t.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(t);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(t,n,i,r){for(let o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(t)!=0||s.context&&!i.matchesContext(s.context)||a.length>t.length&&(a.charCodeAt(t.length)!=61||a.slice(t.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(t){let n=[];function i(r){let o=r.priority==null?50:r.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,r)}for(let r in t.marks){let o=t.marks[r].spec.parseDOM;o&&o.forEach(s=>{i(s=kS(s)),s.mark||s.ignore||s.clearMark||(s.mark=r)})}for(let r in t.nodes){let o=t.nodes[r].spec.parseDOM;o&&o.forEach(s=>{i(s=kS(s)),s.node||s.ignore||s.mark||(s.node=r)})}return n}static fromSchema(t){return t.cached.domParser||(t.cached.domParser=new Jo(t,Jo.schemaRules(t)))}}const I6={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},$9={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},O6={ol:!0,ul:!0},rd=1,Yv=2,Ac=4;function xS(e,t,n){return t!=null?(t?rd:0)|(t==="full"?Yv:0):e&&e.whitespace=="pre"?rd|Yv:n&~Ac}class Sh{constructor(t,n,i,r,o,s){this.type=t,this.attrs=n,this.marks=i,this.solid=r,this.options=s,this.content=[],this.activeMarks=yt.none,this.match=o||(s&Ac?null:t.contentMatch)}findWrapping(t){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(J.from(t));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let i=this.type.contentMatch,r;return(r=i.findWrapping(t.type))?(this.match=i,r):null}}return this.match.findWrapping(t.type)}finish(t){if(!(this.options&rd)){let i=this.content[this.content.length-1],r;if(i&&i.isText&&(r=/[ \t\r\n\u000c]+$/.exec(i.text))){let o=i;i.text.length==r[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-r[0].length))}}let n=J.from(this.content);return!t&&this.match&&(n=n.append(this.match.fillBefore(J.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!I6.hasOwnProperty(t.parentNode.nodeName.toLowerCase())}}class ES{constructor(t,n,i){this.parser=t,this.options=n,this.isOpen=i,this.open=0,this.localPreserveWS=!1;let r=n.topNode,o,s=xS(null,n.preserveWhitespace,0)|(i?Ac:0);r?o=new Sh(r.type,r.attrs,yt.none,!0,n.topMatch||r.type.contentMatch,s):i?o=new Sh(null,null,yt.none,!0,null,s):o=new Sh(t.schema.topNodeType,null,yt.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(t,n){t.nodeType==3?this.addTextNode(t,n):t.nodeType==1&&this.addElement(t,n)}addTextNode(t,n){let i=t.nodeValue,r=this.top,o=r.options&Yv?"full":this.localPreserveWS||(r.options&rd)>0;if(o==="full"||r.inlineContext(t)||/[^ \t\r\n\u000c]/.test(i)){if(o)o!=="full"?i=i.replace(/\r?\n|\r/g," "):i=i.replace(/\r\n?/g,`
`);else if(i=i.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(i)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],a=t.previousSibling;(!s||a&&a.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(i=i.slice(1))}i&&this.insertNode(this.parser.schema.text(i),n,!/\S/.test(i)),this.findInText(t)}else this.findInside(t)}addElement(t,n,i){let r=this.localPreserveWS,o=this.top;(t.tagName=="PRE"||/pre/.test(t.style&&t.style.whiteSpace))&&(this.localPreserveWS=!0);let s=t.nodeName.toLowerCase(),a;O6.hasOwnProperty(s)&&this.parser.normalizeLists&&U9(t);let l=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(a=this.parser.matchTag(t,this,i));e:if(l?l.ignore:$9.hasOwnProperty(s))this.findInside(t),this.ignoreFallback(t,n);else if(!l||l.skip||l.closeParent){l&&l.closeParent?this.open=Math.max(0,this.open-1):l&&l.skip.nodeType&&(t=l.skip);let u,c=this.needsBlock;if(I6.hasOwnProperty(s))o.content.length&&o.content[0].isInline&&this.open&&(this.open--,o=this.top),u=!0,o.type||(this.needsBlock=!0);else if(!t.firstChild){this.leafFallback(t,n);break e}let d=l&&l.skip?n:this.readStyles(t,n);d&&this.addAll(t,d),u&&this.sync(o),this.needsBlock=c}else{let u=this.readStyles(t,n);u&&this.addElementByRule(t,l,u,l.consuming===!1?a:void 0)}this.localPreserveWS=r}leafFallback(t,n){t.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode(`
`),n)}ignoreFallback(t,n){t.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(t,n){let i=t.style;if(i&&i.length)for(let r=0;r<this.parser.matchedStyles.length;r++){let o=this.parser.matchedStyles[r],s=i.getPropertyValue(o);if(s)for(let a=void 0;;){let l=this.parser.matchStyle(o,s,this,a);if(!l)break;if(l.ignore)return null;if(l.clearMark?n=n.filter(u=>!l.clearMark(u)):n=n.concat(this.parser.schema.marks[l.mark].create(l.attrs)),l.consuming===!1)a=l;else break}}return n}addElementByRule(t,n,i,r){let o,s;if(n.node)if(s=this.parser.schema.nodes[n.node],s.isLeaf)this.insertNode(s.create(n.attrs),i,t.nodeName=="BR")||this.leafFallback(t,i);else{let l=this.enter(s,n.attrs||null,i,n.preserveWhitespace);l&&(o=!0,i=l)}else{let l=this.parser.schema.marks[n.mark];i=i.concat(l.create(n.attrs))}let a=this.top;if(s&&s.isLeaf)this.findInside(t);else if(r)this.addElement(t,i,r);else if(n.getContent)this.findInside(t),n.getContent(t,this.parser.schema).forEach(l=>this.insertNode(l,i,!1));else{let l=t;typeof n.contentElement=="string"?l=t.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(t):n.contentElement&&(l=n.contentElement),this.findAround(t,l,!0),this.addAll(l,i),this.findAround(t,l,!1)}o&&this.sync(a)&&this.open--}addAll(t,n,i,r){let o=i||0;for(let s=i?t.childNodes[i]:t.firstChild,a=r==null?null:t.childNodes[r];s!=a;s=s.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(s,n);this.findAtPoint(t,o)}findPlace(t,n,i){let r,o;for(let s=this.open,a=0;s>=0;s--){let l=this.nodes[s],u=l.findWrapping(t);if(u&&(!r||r.length>u.length+a)&&(r=u,o=l,!u.length))break;if(l.solid){if(i)break;a+=2}}if(!r)return null;this.sync(o);for(let s=0;s<r.length;s++)n=this.enterInner(r[s],null,n,!1);return n}insertNode(t,n,i){if(t.isInline&&this.needsBlock&&!this.top.type){let o=this.textblockFromContext();o&&(n=this.enterInner(o,null,n))}let r=this.findPlace(t,n,i);if(r){this.closeExtra();let o=this.top;o.match&&(o.match=o.match.matchType(t.type));let s=yt.none;for(let a of r.concat(t.marks))(o.type?o.type.allowsMarkType(a.type):FS(a.type,t.type))&&(s=a.addToSet(s));return o.content.push(t.mark(s)),!0}return!1}enter(t,n,i,r){let o=this.findPlace(t.create(n),i,!1);return o&&(o=this.enterInner(t,n,i,!0,r)),o}enterInner(t,n,i,r=!1,o){this.closeExtra();let s=this.top;s.match=s.match&&s.match.matchType(t);let a=xS(t,o,s.options);s.options&Ac&&s.content.length==0&&(a|=Ac);let l=yt.none;return i=i.filter(u=>(s.type?s.type.allowsMarkType(u.type):FS(u.type,t))?(l=u.addToSet(l),!1):!0),this.nodes.push(new Sh(t,n,l,r,null,a)),this.open++,i}closeExtra(t=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(t));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(t){for(let n=this.open;n>=0;n--){if(this.nodes[n]==t)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=rd)}return!1}get currentPos(){this.closeExtra();let t=0;for(let n=this.open;n>=0;n--){let i=this.nodes[n].content;for(let r=i.length-1;r>=0;r--)t+=i[r].nodeSize;n&&t++}return t}findAtPoint(t,n){if(this.find)for(let i=0;i<this.find.length;i++)this.find[i].node==t&&this.find[i].offset==n&&(this.find[i].pos=this.currentPos)}findInside(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&t.nodeType==1&&t.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(t,n,i){if(t!=n&&this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&t.nodeType==1&&t.contains(this.find[r].node)&&n.compareDocumentPosition(this.find[r].node)&(i?2:4)&&(this.find[r].pos=this.currentPos)}findInText(t){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==t&&(this.find[n].pos=this.currentPos-(t.nodeValue.length-this.find[n].offset))}matchesContext(t){if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);let n=t.split("/"),i=this.options.context,r=!this.isOpen&&(!i||i.parent.type==this.nodes[0].type),o=-(i?i.depth+1:0)+(r?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let c=l>0||l==0&&r?this.nodes[l].type:i&&l>=o?i.node(l-o).type:null;if(!c||c.name!=u&&!c.isInGroup(u))return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let t=this.options.context;if(t)for(let n=t.depth;n>=0;n--){let i=t.node(n).contentMatchAt(t.indexAfter(n)).defaultType;if(i&&i.isTextblock&&i.defaultAttrs)return i}for(let n in this.parser.schema.nodes){let i=this.parser.schema.nodes[n];if(i.isTextblock&&i.defaultAttrs)return i}}}function U9(e){for(let t=e.firstChild,n=null;t;t=t.nextSibling){let i=t.nodeType==1?t.nodeName.toLowerCase():null;i&&O6.hasOwnProperty(i)&&n?(n.appendChild(t),t=n):i=="li"?n=t:i&&(n=null)}}function j9(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector).call(e,t)}function kS(e){let t={};for(let n in e)t[n]=e[n];return t}function FS(e,t){let n=t.schema.nodes;for(let i in n){let r=n[i];if(!r.allowsMarkType(e))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==t||o.indexOf(c)<0&&s(c))return!0}};if(s(r.contentMatch))return!0}}class gl{constructor(t,n){this.nodes=t,this.marks=n}serializeFragment(t,n={},i){i||(i=Qg(n).createDocumentFragment());let r=i,o=[];return t.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)r=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,r]),r.appendChild(c.dom),r=c.contentDOM||c.dom)}}r.appendChild(this.serializeNodeInner(s,n))}),i}serializeNodeInner(t,n){let{dom:i,contentDOM:r}=Cp(Qg(n),this.nodes[t.type.name](t),null,t.attrs);if(r){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(t.content,n,r)}return i}serializeNode(t,n={}){let i=this.serializeNodeInner(t,n);for(let r=t.marks.length-1;r>=0;r--){let o=this.serializeMark(t.marks[r],t.isInline,n);o&&((o.contentDOM||o.dom).appendChild(i),i=o.dom)}return i}serializeMark(t,n,i={}){let r=this.marks[t.type.name];return r&&Cp(Qg(i),r(t,n),null,t.attrs)}static renderSpec(t,n,i=null,r){return Cp(t,n,i,r)}static fromSchema(t){return t.cached.domSerializer||(t.cached.domSerializer=new gl(this.nodesFromSchema(t),this.marksFromSchema(t)))}static nodesFromSchema(t){let n=TS(t.nodes);return n.text||(n.text=i=>i.text),n}static marksFromSchema(t){return TS(t.marks)}}function TS(e){let t={};for(let n in e){let i=e[n].spec.toDOM;i&&(t[n]=i)}return t}function Qg(e){return e.document||window.document}const AS=new WeakMap;function q9(e){let t=AS.get(e);return t===void 0&&AS.set(e,t=K9(e)),t}function K9(e){let t=null;function n(i){if(i&&typeof i=="object")if(Array.isArray(i))if(typeof i[0]=="string")t||(t=[]),t.push(i);else for(let r=0;r<i.length;r++)n(i[r]);else for(let r in i)n(i[r])}return n(e),t}function Cp(e,t,n,i){if(typeof t=="string")return{dom:e.createTextNode(t)};if(t.nodeType!=null)return{dom:t};if(t.dom&&t.dom.nodeType!=null)return t;let r=t[0],o;if(typeof r!="string")throw new RangeError("Invalid array passed to renderSpec");if(i&&(o=q9(i))&&o.indexOf(t)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let s=r.indexOf(" ");s>0&&(n=r.slice(0,s),r=r.slice(s+1));let a,l=n?e.createElementNS(n,r):e.createElement(r),u=t[1],c=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){c=2;for(let d in u)if(u[d]!=null){let h=d.indexOf(" ");h>0?l.setAttributeNS(d.slice(0,h),d.slice(h+1),u[d]):d=="style"&&l.style?l.style.cssText=u[d]:l.setAttribute(d,u[d])}}for(let d=c;d<t.length;d++){let h=t[d];if(h===0){if(d<t.length-1||d>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:l,contentDOM:l}}else{let{dom:p,contentDOM:f}=Cp(e,h,n,i);if(l.appendChild(p),f){if(a)throw new RangeError("Multiple content holes");a=f}}}return{dom:l,contentDOM:a}}const L6=65535,N6=Math.pow(2,16);function Y9(e,t){return e+t*N6}function RS(e){return e&L6}function X9(e){return(e-(e&L6))/N6}const B6=1,z6=2,bp=4,H6=8;class Xv{constructor(t,n,i){this.pos=t,this.delInfo=n,this.recover=i}get deleted(){return(this.delInfo&H6)>0}get deletedBefore(){return(this.delInfo&(B6|bp))>0}get deletedAfter(){return(this.delInfo&(z6|bp))>0}get deletedAcross(){return(this.delInfo&bp)>0}}class Ki{constructor(t,n=!1){if(this.ranges=t,this.inverted=n,!t.length&&Ki.empty)return Ki.empty}recover(t){let n=0,i=RS(t);if(!this.inverted)for(let r=0;r<i;r++)n+=this.ranges[r*3+2]-this.ranges[r*3+1];return this.ranges[i*3]+n+X9(t)}mapResult(t,n=1){return this._map(t,n,!1)}map(t,n=1){return this._map(t,n,!0)}_map(t,n,i){let r=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>t)break;let u=this.ranges[a+o],c=this.ranges[a+s],d=l+u;if(t<=d){let h=u?t==l?-1:t==d?1:n:n,p=l+r+(h<0?0:c);if(i)return p;let f=t==(n<0?l:d)?null:Y9(a/3,t-l),g=t==l?z6:t==d?B6:bp;return(n<0?t!=l:t!=d)&&(g|=H6),new Xv(p,g,f)}r+=c-u}return i?t+r:new Xv(t+r,0,null)}touches(t,n){let i=0,r=RS(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>t)break;let u=this.ranges[a+o],c=l+u;if(t<=c&&a==r*3)return!0;i+=this.ranges[a+s]-u}return!1}forEach(t){let n=this.inverted?2:1,i=this.inverted?1:2;for(let r=0,o=0;r<this.ranges.length;r+=3){let s=this.ranges[r],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[r+n],c=this.ranges[r+i];t(a,a+u,l,l+c),o+=c-u}}invert(){return new Ki(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(t){return t==0?Ki.empty:new Ki(t<0?[0,-t,0]:[0,0,t])}}Ki.empty=new Ki([]);class od{constructor(t,n,i=0,r=t?t.length:0){this.mirror=n,this.from=i,this.to=r,this._maps=t||[],this.ownData=!(t||n)}get maps(){return this._maps}slice(t=0,n=this.maps.length){return new od(this._maps,this.mirror,t,n)}appendMap(t,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(t),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(t){for(let n=0,i=this._maps.length;n<t._maps.length;n++){let r=t.getMirror(n);this.appendMap(t._maps[n],r!=null&&r<n?i+r:void 0)}}getMirror(t){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==t)return this.mirror[n+(n%2?-1:1)]}}setMirror(t,n){this.mirror||(this.mirror=[]),this.mirror.push(t,n)}appendMappingInverted(t){for(let n=t.maps.length-1,i=this._maps.length+t._maps.length;n>=0;n--){let r=t.getMirror(n);this.appendMap(t._maps[n].invert(),r!=null&&r>n?i-r-1:void 0)}}invert(){let t=new od;return t.appendMappingInverted(this),t}map(t,n=1){if(this.mirror)return this._map(t,n,!0);for(let i=this.from;i<this.to;i++)t=this._maps[i].map(t,n);return t}mapResult(t,n=1){return this._map(t,n,!1)}_map(t,n,i){let r=0;for(let o=this.from;o<this.to;o++){let s=this._maps[o],a=s.mapResult(t,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,t=this._maps[l].recover(a.recover);continue}}r|=a.delInfo,t=a.pos}return i?t:new Xv(t,r,null)}}const em=Object.create(null);class ci{getMap(){return Ki.empty}merge(t){return null}static fromJSON(t,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let i=em[n.stepType];if(!i)throw new RangeError(`No step type ${n.stepType} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in em)throw new RangeError("Duplicate use of step JSON ID "+t);return em[t]=n,n.prototype.jsonID=t,n}}class Tn{constructor(t,n){this.doc=t,this.failed=n}static ok(t){return new Tn(t,null)}static fail(t){return new Tn(null,t)}static fromReplace(t,n,i,r){try{return Tn.ok(t.replace(n,i,r))}catch(o){if(o instanceof ef)return Tn.fail(o.message);throw o}}}function wb(e,t,n){let i=[];for(let r=0;r<e.childCount;r++){let o=e.child(r);o.content.size&&(o=o.copy(wb(o.content,t,o))),o.isInline&&(o=t(o,n,r)),i.push(o)}return J.fromArray(i)}class Us extends ci{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=t.resolve(this.from),r=i.node(i.sharedDepth(this.to)),o=new ge(wb(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),r),n.openStart,n.openEnd);return Tn.fromReplace(t,this.from,this.to,o)}invert(){return new ro(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new Us(n.pos,i.pos,this.mark)}merge(t){return t instanceof Us&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new Us(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Us(n.from,n.to,t.markFromJSON(n.mark))}}ci.jsonID("addMark",Us);class ro extends ci{constructor(t,n,i){super(),this.from=t,this.to=n,this.mark=i}apply(t){let n=t.slice(this.from,this.to),i=new ge(wb(n.content,r=>r.mark(this.mark.removeFromSet(r.marks)),t),n.openStart,n.openEnd);return Tn.fromReplace(t,this.from,this.to,i)}invert(){return new Us(this.from,this.to,this.mark)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deleted&&i.deleted||n.pos>=i.pos?null:new ro(n.pos,i.pos,this.mark)}merge(t){return t instanceof ro&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from?new ro(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ro(n.from,n.to,t.markFromJSON(n.mark))}}ci.jsonID("removeMark",ro);class js extends ci{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Tn.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Tn.fromReplace(t,this.pos,this.pos+1,new ge(J.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);if(n){let i=this.mark.addToSet(n.marks);if(i.length==n.marks.length){for(let r=0;r<n.marks.length;r++)if(!n.marks[r].isInSet(i))return new js(this.pos,n.marks[r]);return new js(this.pos,this.mark)}}return new ol(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new js(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new js(n.pos,t.markFromJSON(n.mark))}}ci.jsonID("addNodeMark",js);class ol extends ci{constructor(t,n){super(),this.pos=t,this.mark=n}apply(t){let n=t.nodeAt(this.pos);if(!n)return Tn.fail("No node at mark step's position");let i=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Tn.fromReplace(t,this.pos,this.pos+1,new ge(J.from(i),0,n.isLeaf?0:1))}invert(t){let n=t.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new js(this.pos,this.mark)}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ol(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ol(n.pos,t.markFromJSON(n.mark))}}ci.jsonID("removeNodeMark",ol);class Bn extends ci{constructor(t,n,i,r=!1){super(),this.from=t,this.to=n,this.slice=i,this.structure=r}apply(t){return this.structure&&Jv(t,this.from,this.to)?Tn.fail("Structure replace would overwrite content"):Tn.fromReplace(t,this.from,this.to,this.slice)}getMap(){return new Ki([this.from,this.to-this.from,this.slice.size])}invert(t){return new Bn(this.from,this.from+this.slice.size,t.slice(this.from,this.to))}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1);return n.deletedAcross&&i.deletedAcross?null:new Bn(n.pos,Math.max(n.pos,i.pos),this.slice,this.structure)}merge(t){if(!(t instanceof Bn)||t.structure||this.structure)return null;if(this.from+this.slice.size==t.from&&!this.slice.openEnd&&!t.slice.openStart){let n=this.slice.size+t.slice.size==0?ge.empty:new ge(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new Bn(this.from,this.to+(t.to-t.from),n,this.structure)}else if(t.to==this.from&&!this.slice.openStart&&!t.slice.openEnd){let n=this.slice.size+t.slice.size==0?ge.empty:new ge(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new Bn(t.from,this.to,n,this.structure)}else return null}toJSON(){let t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Bn(n.from,n.to,ge.fromJSON(t,n.slice),!!n.structure)}}ci.jsonID("replace",Bn);class Hn extends ci{constructor(t,n,i,r,o,s,a=!1){super(),this.from=t,this.to=n,this.gapFrom=i,this.gapTo=r,this.slice=o,this.insert=s,this.structure=a}apply(t){if(this.structure&&(Jv(t,this.from,this.gapFrom)||Jv(t,this.gapTo,this.to)))return Tn.fail("Structure gap-replace would overwrite content");let n=t.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Tn.fail("Gap is not a flat range");let i=this.slice.insertAt(this.insert,n.content);return i?Tn.fromReplace(t,this.from,this.to,i):Tn.fail("Content does not fit in gap")}getMap(){return new Ki([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(t){let n=this.gapTo-this.gapFrom;return new Hn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(t){let n=t.mapResult(this.from,1),i=t.mapResult(this.to,-1),r=this.from==this.gapFrom?n.pos:t.map(this.gapFrom,-1),o=this.to==this.gapTo?i.pos:t.map(this.gapTo,1);return n.deletedAcross&&i.deletedAcross||r<n.pos||o>i.pos?null:new Hn(n.pos,i.pos,r,o,this.slice,this.insert,this.structure)}toJSON(){let t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t}static fromJSON(t,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Hn(n.from,n.to,n.gapFrom,n.gapTo,ge.fromJSON(t,n.slice),n.insert,!!n.structure)}}ci.jsonID("replaceAround",Hn);function Jv(e,t,n){let i=e.resolve(t),r=n-t,o=i.depth;for(;r>0&&o>0&&i.indexAfter(o)==i.node(o).childCount;)o--,r--;if(r>0){let s=i.node(o).maybeChild(i.indexAfter(o));for(;r>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,r--}}return!1}function J9(e,t,n,i){let r=[],o=[],s,a;e.doc.nodesBetween(t,n,(l,u,c)=>{if(!l.isInline)return;let d=l.marks;if(!i.isInSet(d)&&c.type.allowsMarkType(i.type)){let h=Math.max(u,t),p=Math.min(u+l.nodeSize,n),f=i.addToSet(d);for(let g=0;g<d.length;g++)d[g].isInSet(f)||(s&&s.to==h&&s.mark.eq(d[g])?s.to=p:r.push(s=new ro(h,p,d[g])));a&&a.to==h?a.to=p:o.push(a=new Us(h,p,i))}}),r.forEach(l=>e.step(l)),o.forEach(l=>e.step(l))}function Z9(e,t,n,i){let r=[],o=0;e.doc.nodesBetween(t,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(i instanceof U0){let u=s.marks,c;for(;c=i.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else i?i.isInSet(s.marks)&&(l=[i]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,n);for(let c=0;c<l.length;c++){let d=l[c],h;for(let p=0;p<r.length;p++){let f=r[p];f.step==o-1&&d.eq(r[p].style)&&(h=f)}h?(h.to=u,h.step=o):r.push({style:d,from:Math.max(a,t),to:u,step:o})}}}),r.forEach(s=>e.step(new ro(s.from,s.to,s.style)))}function Sb(e,t,n,i=n.contentMatch,r=!0){let o=e.doc.nodeAt(t),s=[],a=t+1;for(let l=0;l<o.childCount;l++){let u=o.child(l),c=a+u.nodeSize,d=i.matchType(u.type);if(!d)s.push(new Bn(a,c,ge.empty));else{i=d;for(let h=0;h<u.marks.length;h++)n.allowsMarkType(u.marks[h].type)||e.step(new ro(a,c,u.marks[h]));if(r&&u.isText&&n.whitespace!="pre"){let h,p=/\r?\n|\r/g,f;for(;h=p.exec(u.text);)f||(f=new ge(J.from(n.schema.text(" ",n.allowedMarks(u.marks))),0,0)),s.push(new Bn(a+h.index,a+h.index+h[0].length,f))}}a=c}if(!i.validEnd){let l=i.fillBefore(J.empty,!0);e.replace(a,a,new ge(l,0,0))}for(let l=s.length-1;l>=0;l--)e.step(s[l])}function Q9(e,t,n){return(t==0||e.canReplace(t,e.childCount))&&(n==e.childCount||e.canReplace(0,n))}function Lu(e){let n=e.parent.content.cutByIndex(e.startIndex,e.endIndex);for(let i=e.depth;;--i){let r=e.$from.node(i),o=e.$from.index(i),s=e.$to.indexAfter(i);if(i<e.depth&&r.canReplace(o,s,n))return i;if(i==0||r.type.spec.isolating||!Q9(r,o,s))break}return null}function eO(e,t,n){let{$from:i,$to:r,depth:o}=t,s=i.before(o+1),a=r.after(o+1),l=s,u=a,c=J.empty,d=0;for(let f=o,g=!1;f>n;f--)g||i.index(f)>0?(g=!0,c=J.from(i.node(f).copy(c)),d++):l--;let h=J.empty,p=0;for(let f=o,g=!1;f>n;f--)g||r.after(f+1)<r.end(f)?(g=!0,h=J.from(r.node(f).copy(h)),p++):u++;e.step(new Hn(l,u,s,a,new ge(c.append(h),d,p),c.size-d,!0))}function xb(e,t,n=null,i=e){let r=tO(e,t),o=r&&nO(i,t);return o?r.map(DS).concat({type:t,attrs:n}).concat(o.map(DS)):null}function DS(e){return{type:e,attrs:null}}function tO(e,t){let{parent:n,startIndex:i,endIndex:r}=e,o=n.contentMatchAt(i).findWrapping(t);if(!o)return null;let s=o.length?o[0]:t;return n.canReplaceWith(i,r,s)?o:null}function nO(e,t){let{parent:n,startIndex:i,endIndex:r}=e,o=n.child(i),s=t.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:t).contentMatch;for(let u=i;l&&u<r;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:s}function iO(e,t,n){let i=J.empty;for(let s=n.length-1;s>=0;s--){if(i.size){let a=n[s].type.contentMatch.matchFragment(i);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}i=J.from(n[s].type.create(n[s].attrs,i))}let r=t.start,o=t.end;e.step(new Hn(r,o,r,o,new ge(i,0,0),n.length,!0))}function rO(e,t,n,i,r){if(!i.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=e.steps.length;e.doc.nodesBetween(t,n,(s,a)=>{let l=typeof r=="function"?r(s):r;if(s.isTextblock&&!s.hasMarkup(i,l)&&oO(e.doc,e.mapping.slice(o).map(a),i)){let u=null;if(i.schema.linebreakReplacement){let p=i.whitespace=="pre",f=!!i.contentMatch.matchType(i.schema.linebreakReplacement);p&&!f?u=!1:!p&&f&&(u=!0)}u===!1&&_6(e,s,a,o),Sb(e,e.mapping.slice(o).map(a,1),i,void 0,u===null);let c=e.mapping.slice(o),d=c.map(a,1),h=c.map(a+s.nodeSize,1);return e.step(new Hn(d,h,d+1,h-1,new ge(J.from(i.create(l,null,s.marks)),0,0),1,!0)),u===!0&&V6(e,s,a,o),!1}})}function V6(e,t,n,i){t.forEach((r,o)=>{if(r.isText){let s,a=/\r?\n|\r/g;for(;s=a.exec(r.text);){let l=e.mapping.slice(i).map(n+1+o+s.index);e.replaceWith(l,l+1,t.type.schema.linebreakReplacement.create())}}})}function _6(e,t,n,i){t.forEach((r,o)=>{if(r.type==r.type.schema.linebreakReplacement){let s=e.mapping.slice(i).map(n+1+o);e.replaceWith(s,s+1,t.type.schema.text(`
`))}})}function oO(e,t,n){let i=e.resolve(t),r=i.index();return i.parent.canReplaceWith(r,r+1,n)}function sO(e,t,n,i,r){let o=e.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(i,null,r||o.marks);if(o.isLeaf)return e.replaceWith(t,t+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);e.step(new Hn(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new ge(J.from(s),0,0),1,!0))}function Zo(e,t,n=1,i){let r=e.resolve(t),o=r.depth-n,s=i&&i[i.length-1]||r.parent;if(o<0||r.parent.type.spec.isolating||!r.parent.canReplace(r.index(),r.parent.childCount)||!s.type.validContent(r.parent.content.cutByIndex(r.index(),r.parent.childCount)))return!1;for(let u=r.depth-1,c=n-2;u>o;u--,c--){let d=r.node(u),h=r.index(u);if(d.type.spec.isolating)return!1;let p=d.content.cutByIndex(h,d.childCount),f=i&&i[c+1];f&&(p=p.replaceChild(0,f.type.create(f.attrs)));let g=i&&i[c]||d;if(!d.canReplace(h+1,d.childCount)||!g.type.validContent(p))return!1}let a=r.indexAfter(o),l=i&&i[0];return r.node(o).canReplaceWith(a,a,l?l.type:r.node(o+1).type)}function aO(e,t,n=1,i){let r=e.doc.resolve(t),o=J.empty,s=J.empty;for(let a=r.depth,l=r.depth-n,u=n-1;a>l;a--,u--){o=J.from(r.node(a).copy(o));let c=i&&i[u];s=J.from(c?c.type.create(c.attrs,s):r.node(a).copy(s))}e.step(new Bn(t,t,new ge(o.append(s),n,n),!0))}function ha(e,t){let n=e.resolve(t),i=n.index();return G6(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(i,i+1)}function lO(e,t){t.content.size||e.type.compatibleContent(t.type);let n=e.contentMatchAt(e.childCount),{linebreakReplacement:i}=e.type.schema;for(let r=0;r<t.childCount;r++){let o=t.child(r),s=o.type==i?e.type.schema.nodes.text:o.type;if(n=n.matchType(s),!n||!e.type.allowsMarks(o.marks))return!1}return n.validEnd}function G6(e,t){return!!(e&&t&&!e.isLeaf&&lO(e,t))}function j0(e,t,n=-1){let i=e.resolve(t);for(let r=i.depth;;r--){let o,s,a=i.index(r);if(r==i.depth?(o=i.nodeBefore,s=i.nodeAfter):n>0?(o=i.node(r+1),a++,s=i.node(r).maybeChild(a)):(o=i.node(r).maybeChild(a-1),s=i.node(r+1)),o&&!o.isTextblock&&G6(o,s)&&i.node(r).canReplace(a,a+1))return t;if(r==0)break;t=n<0?i.before(r):i.after(r)}}function uO(e,t,n){let i=null,{linebreakReplacement:r}=e.doc.type.schema,o=e.doc.resolve(t-n),s=o.node().type;if(r&&s.inlineContent){let c=s.whitespace=="pre",d=!!s.contentMatch.matchType(r);c&&!d?i=!1:!c&&d&&(i=!0)}let a=e.steps.length;if(i===!1){let c=e.doc.resolve(t+n);_6(e,c.node(),c.before(),a)}s.inlineContent&&Sb(e,t+n-1,s,o.node().contentMatchAt(o.index()),i==null);let l=e.mapping.slice(a),u=l.map(t-n);if(e.step(new Bn(u,l.map(t+n,-1),ge.empty,!0)),i===!0){let c=e.doc.resolve(u);V6(e,c.node(),c.before(),e.steps.length)}return e}function cO(e,t,n){let i=e.resolve(t);if(i.parent.canReplaceWith(i.index(),i.index(),n))return t;if(i.parentOffset==0)for(let r=i.depth-1;r>=0;r--){let o=i.index(r);if(i.node(r).canReplaceWith(o,o,n))return i.before(r+1);if(o>0)return null}if(i.parentOffset==i.parent.content.size)for(let r=i.depth-1;r>=0;r--){let o=i.indexAfter(r);if(i.node(r).canReplaceWith(o,o,n))return i.after(r+1);if(o<i.node(r).childCount)return null}return null}function W6(e,t,n){let i=e.resolve(t);if(!n.content.size)return t;let r=n.content;for(let o=0;o<n.openStart;o++)r=r.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=i.depth;s>=0;s--){let a=s==i.depth?0:i.pos<=(i.start(s+1)+i.end(s+1))/2?-1:1,l=i.index(s)+(a>0?1:0),u=i.node(s),c=!1;if(o==1)c=u.canReplace(l,l,r);else{let d=u.contentMatchAt(l).findWrapping(r.firstChild.type);c=d&&u.canReplaceWith(l,l,d[0])}if(c)return a==0?i.pos:a<0?i.before(s+1):i.after(s+1)}return null}function q0(e,t,n=t,i=ge.empty){if(t==n&&!i.size)return null;let r=e.resolve(t),o=e.resolve(n);return $6(r,o,i)?new Bn(t,n,i):new dO(r,o,i).fit()}function $6(e,t,n){return!n.openStart&&!n.openEnd&&e.start()==t.start()&&e.parent.canReplace(e.index(),t.index(),n.content)}class dO{constructor(t,n,i){this.$from=t,this.$to=n,this.unplaced=i,this.frontier=[],this.placed=J.empty;for(let r=0;r<=t.depth;r++){let o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}for(let r=t.depth;r>0;r--)this.placed=J.from(t.node(r).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let t=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,i=this.$from,r=this.close(t<0?this.$to:i.doc.resolve(t));if(!r)return null;let o=this.placed,s=i.depth,a=r.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new ge(o,s,a);return t>-1?new Hn(i.pos,t,this.$to.pos,this.$to.end(),l,n):l.size||i.pos!=this.$to.pos?new Bn(i.pos,r.pos,l):null}findFittable(){let t=this.unplaced.openStart;for(let n=this.unplaced.content,i=0,r=this.unplaced.openEnd;i<t;i++){let o=n.firstChild;if(n.childCount>1&&(r=0),o.type.spec.isolating&&r<=i){t=i;break}n=o.content}for(let n=1;n<=2;n++)for(let i=n==1?t:this.unplaced.openStart;i>=0;i--){let r,o=null;i?(o=tm(this.unplaced.content,i-1).firstChild,r=o.content):r=this.unplaced.content;let s=r.firstChild;for(let a=this.depth;a>=0;a--){let{type:l,match:u}=this.frontier[a],c,d=null;if(n==1&&(s?u.matchType(s.type)||(d=u.fillBefore(J.from(s),!1)):o&&l.compatibleContent(o.type)))return{sliceDepth:i,frontierDepth:a,parent:o,inject:d};if(n==2&&s&&(c=u.findWrapping(s.type)))return{sliceDepth:i,frontierDepth:a,parent:o,wrap:c};if(o&&u.matchType(o.type))break}}}openMore(){let{content:t,openStart:n,openEnd:i}=this.unplaced,r=tm(t,n);return!r.childCount||r.firstChild.isLeaf?!1:(this.unplaced=new ge(t,n+1,Math.max(i,r.size+n>=t.size-i?n+1:0)),!0)}dropNode(){let{content:t,openStart:n,openEnd:i}=this.unplaced,r=tm(t,n);if(r.childCount<=1&&n>0){let o=t.size-n<=n+r.size;this.unplaced=new ge(uc(t,n-1,1),n-1,o?n-1:i)}else this.unplaced=new ge(uc(t,n,1),n,i)}placeNodes({sliceDepth:t,frontierDepth:n,parent:i,inject:r,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let g=0;g<o.length;g++)this.openFrontierNode(o[g]);let s=this.unplaced,a=i?i.content:s.content,l=s.openStart-t,u=0,c=[],{match:d,type:h}=this.frontier[n];if(r){for(let g=0;g<r.childCount;g++)c.push(r.child(g));d=d.matchFragment(r)}let p=a.size+t-(s.content.size-s.openEnd);for(;u<a.childCount;){let g=a.child(u),m=d.matchType(g.type);if(!m)break;u++,(u>1||l==0||g.content.size)&&(d=m,c.push(U6(g.mark(h.allowedMarks(g.marks)),u==1?l:0,u==a.childCount?p:-1)))}let f=u==a.childCount;f||(p=-1),this.placed=cc(this.placed,n,J.from(c)),this.frontier[n].match=d,f&&p<0&&i&&i.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let g=0,m=a;g<p;g++){let v=m.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),m=v.content}this.unplaced=f?t==0?ge.empty:new ge(uc(s.content,t-1,1),t-1,p<0?s.openEnd:t-1):new ge(uc(s.content,t,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let t=this.frontier[this.depth],n;if(!t.type.isTextblock||!nm(this.$to,this.$to.depth,t.type,t.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:i}=this.$to,r=this.$to.after(i);for(;i>1&&r==this.$to.end(--i);)++r;return r}findCloseLevel(t){e:for(let n=Math.min(this.depth,t.depth);n>=0;n--){let{match:i,type:r}=this.frontier[n],o=n<t.depth&&t.end(n+1)==t.pos+(t.depth-(n+1)),s=nm(t,n,r,i,o);if(s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=nm(t,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?t.doc.resolve(t.after(n+1)):t}}}}close(t){let n=this.findCloseLevel(t);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=cc(this.placed,n.depth,n.fit)),t=n.move;for(let i=n.depth+1;i<=t.depth;i++){let r=t.node(i),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(i));this.openFrontierNode(r.type,r.attrs,o)}return t}openFrontierNode(t,n=null,i){let r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=cc(this.placed,this.depth,J.from(t.create(n,i))),this.frontier.push({type:t,match:t.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(J.empty,!0);n.childCount&&(this.placed=cc(this.placed,this.frontier.length,n))}}function uc(e,t,n){return t==0?e.cutByIndex(n,e.childCount):e.replaceChild(0,e.firstChild.copy(uc(e.firstChild.content,t-1,n)))}function cc(e,t,n){return t==0?e.append(n):e.replaceChild(e.childCount-1,e.lastChild.copy(cc(e.lastChild.content,t-1,n)))}function tm(e,t){for(let n=0;n<t;n++)e=e.firstChild.content;return e}function U6(e,t,n){if(t<=0)return e;let i=e.content;return t>1&&(i=i.replaceChild(0,U6(i.firstChild,t-1,i.childCount==1?n-1:0))),t>0&&(i=e.type.contentMatch.fillBefore(i).append(i),n<=0&&(i=i.append(e.type.contentMatch.matchFragment(i).fillBefore(J.empty,!0)))),e.copy(i)}function nm(e,t,n,i,r){let o=e.node(t),s=r?e.indexAfter(t):e.index(t);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=i.fillBefore(o.content,!0,s);return a&&!hO(n,o.content,s)?a:null}function hO(e,t,n){for(let i=n;i<t.childCount;i++)if(!e.allowsMarks(t.child(i).marks))return!0;return!1}function pO(e){return e.spec.defining||e.spec.definingForContent}function fO(e,t,n,i){if(!i.size)return e.deleteRange(t,n);let r=e.doc.resolve(t),o=e.doc.resolve(n);if($6(r,o,i))return e.step(new Bn(t,n,i));let s=q6(r,e.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(r.depth+1);s.unshift(a);for(let h=r.depth,p=r.pos-1;h>0;h--,p--){let f=r.node(h).type.spec;if(f.defining||f.definingAsContext||f.isolating)break;s.indexOf(h)>-1?a=h:r.before(h)==p&&s.splice(1,0,-h)}let l=s.indexOf(a),u=[],c=i.openStart;for(let h=i.content,p=0;;p++){let f=h.firstChild;if(u.push(f),p==i.openStart)break;h=f.content}for(let h=c-1;h>=0;h--){let p=u[h],f=pO(p.type);if(f&&!p.sameMarkup(r.node(Math.abs(a)-1)))c=h;else if(f||!p.type.isTextblock)break}for(let h=i.openStart;h>=0;h--){let p=(h+c+1)%(i.openStart+1),f=u[p];if(f)for(let g=0;g<s.length;g++){let m=s[(g+l)%s.length],v=!0;m<0&&(v=!1,m=-m);let b=r.node(m-1),S=r.index(m-1);if(b.canReplaceWith(S,S,f.type,f.marks))return e.replace(r.before(m),v?o.after(m):n,new ge(j6(i.content,0,i.openStart,p),p,i.openEnd))}}let d=e.steps.length;for(let h=s.length-1;h>=0&&(e.replace(t,n,i),!(e.steps.length>d));h--){let p=s[h];p<0||(t=r.before(p),n=o.after(p))}}function j6(e,t,n,i,r){if(t<n){let o=e.firstChild;e=e.replaceChild(0,o.copy(j6(o.content,t+1,n,i,o)))}if(t>i){let o=r.contentMatchAt(0),s=o.fillBefore(e).append(e);e=s.append(o.matchFragment(s).fillBefore(J.empty,!0))}return e}function gO(e,t,n,i){if(!i.isInline&&t==n&&e.doc.resolve(t).parent.content.size){let r=cO(e.doc,t,i.type);r!=null&&(t=n=r)}e.replaceRange(t,n,new ge(J.from(i),0,0))}function mO(e,t,n){let i=e.doc.resolve(t),r=e.doc.resolve(n),o=q6(i,r);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||i.node(a).type.contentMatch.validEnd)return e.delete(i.start(a),r.end(a));if(a>0&&(l||i.node(a-1).canReplace(i.index(a-1),r.indexAfter(a-1))))return e.delete(i.before(a),r.after(a))}for(let s=1;s<=i.depth&&s<=r.depth;s++)if(t-i.start(s)==i.depth-s&&n>i.end(s)&&r.end(s)-n!=r.depth-s&&i.start(s-1)==r.start(s-1)&&i.node(s-1).canReplace(i.index(s-1),r.index(s-1)))return e.delete(i.before(s),n);e.delete(t,n)}function q6(e,t){let n=[],i=Math.min(e.depth,t.depth);for(let r=i;r>=0;r--){let o=e.start(r);if(o<e.pos-(e.depth-r)||t.end(r)>t.pos+(t.depth-r)||e.node(r).type.spec.isolating||t.node(r).type.spec.isolating)break;(o==t.start(r)||r==e.depth&&r==t.depth&&e.parent.inlineContent&&t.parent.inlineContent&&r&&t.start(r-1)==o-1)&&n.push(r)}return n}class ql extends ci{constructor(t,n,i){super(),this.pos=t,this.attr=n,this.value=i}apply(t){let n=t.nodeAt(this.pos);if(!n)return Tn.fail("No node at attribute step's position");let i=Object.create(null);for(let o in n.attrs)i[o]=n.attrs[o];i[this.attr]=this.value;let r=n.type.create(i,null,n.marks);return Tn.fromReplace(t,this.pos,this.pos+1,new ge(J.from(r),0,n.isLeaf?0:1))}getMap(){return Ki.empty}invert(t){return new ql(this.pos,this.attr,t.nodeAt(this.pos).attrs[this.attr])}map(t){let n=t.mapResult(this.pos,1);return n.deletedAfter?null:new ql(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ql(n.pos,n.attr,n.value)}}ci.jsonID("attr",ql);class sd extends ci{constructor(t,n){super(),this.attr=t,this.value=n}apply(t){let n=Object.create(null);for(let r in t.attrs)n[r]=t.attrs[r];n[this.attr]=this.value;let i=t.type.create(n,t.content,t.marks);return Tn.ok(i)}getMap(){return Ki.empty}invert(t){return new sd(this.attr,t.attrs[this.attr])}map(t){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(t,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new sd(n.attr,n.value)}}ci.jsonID("docAttr",sd);let hu=class extends Error{};hu=function e(t){let n=Error.call(this,t);return n.__proto__=e.prototype,n};hu.prototype=Object.create(Error.prototype);hu.prototype.constructor=hu;hu.prototype.name="TransformError";class Eb{constructor(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new od}get before(){return this.docs.length?this.docs[0]:this.doc}step(t){let n=this.maybeStep(t);if(n.failed)throw new hu(n.failed);return this}maybeStep(t){let n=t.apply(this.doc);return n.failed||this.addStep(t,n.doc),n}get docChanged(){return this.steps.length>0}addStep(t,n){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=n}replace(t,n=t,i=ge.empty){let r=q0(this.doc,t,n,i);return r&&this.step(r),this}replaceWith(t,n,i){return this.replace(t,n,new ge(J.from(i),0,0))}delete(t,n){return this.replace(t,n,ge.empty)}insert(t,n){return this.replaceWith(t,t,n)}replaceRange(t,n,i){return fO(this,t,n,i),this}replaceRangeWith(t,n,i){return gO(this,t,n,i),this}deleteRange(t,n){return mO(this,t,n),this}lift(t,n){return eO(this,t,n),this}join(t,n=1){return uO(this,t,n),this}wrap(t,n){return iO(this,t,n),this}setBlockType(t,n=t,i,r=null){return rO(this,t,n,i,r),this}setNodeMarkup(t,n,i=null,r){return sO(this,t,n,i,r),this}setNodeAttribute(t,n,i){return this.step(new ql(t,n,i)),this}setDocAttribute(t,n){return this.step(new sd(t,n)),this}addNodeMark(t,n){return this.step(new js(t,n)),this}removeNodeMark(t,n){let i=this.doc.nodeAt(t);if(!i)throw new RangeError("No node at position "+t);if(n instanceof yt)n.isInSet(i.marks)&&this.step(new ol(t,n));else{let r=i.marks,o,s=[];for(;o=n.isInSet(r);)s.push(new ol(t,o)),r=o.removeFromSet(r);for(let a=s.length-1;a>=0;a--)this.step(s[a])}return this}split(t,n=1,i){return aO(this,t,n,i),this}addMark(t,n,i){return J9(this,t,n,i),this}removeMark(t,n,i){return Z9(this,t,n,i),this}clearIncompatible(t,n,i){return Sb(this,t,n,i),this}}const im=Object.create(null);class He{constructor(t,n,i){this.$anchor=t,this.$head=n,this.ranges=i||[new K6(t.min(n),t.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let t=this.ranges;for(let n=0;n<t.length;n++)if(t[n].$from.pos!=t[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(t,n=ge.empty){let i=n.content.lastChild,r=null;for(let a=0;a<n.openEnd;a++)r=i,i=i.lastChild;let o=t.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=t.mapping.slice(o);t.replaceRange(c.map(l.pos),c.map(u.pos),a?ge.empty:n),a==0&&IS(t,o,(i?i.isInline:r&&r.isTextblock)?-1:1)}}replaceWith(t,n){let i=t.steps.length,r=this.ranges;for(let o=0;o<r.length;o++){let{$from:s,$to:a}=r[o],l=t.mapping.slice(i),u=l.map(s.pos),c=l.map(a.pos);o?t.deleteRange(u,c):(t.replaceRangeWith(u,c,n),IS(t,i,n.isInline?-1:1))}}static findFrom(t,n,i=!1){let r=t.parent.inlineContent?new Ne(t):Nl(t.node(0),t.parent,t.pos,t.index(),n,i);if(r)return r;for(let o=t.depth-1;o>=0;o--){let s=n<0?Nl(t.node(0),t.node(o),t.before(o+1),t.index(o),n,i):Nl(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,n,i);if(s)return s}return null}static near(t,n=1){return this.findFrom(t,n)||this.findFrom(t,-n)||new er(t.node(0))}static atStart(t){return Nl(t,t,0,0,1)||new er(t)}static atEnd(t){return Nl(t,t,t.content.size,t.childCount,-1)||new er(t)}static fromJSON(t,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let i=im[n.type];if(!i)throw new RangeError(`No selection type ${n.type} defined`);return i.fromJSON(t,n)}static jsonID(t,n){if(t in im)throw new RangeError("Duplicate use of selection JSON ID "+t);return im[t]=n,n.prototype.jsonID=t,n}getBookmark(){return Ne.between(this.$anchor,this.$head).getBookmark()}}He.prototype.visible=!0;class K6{constructor(t,n){this.$from=t,this.$to=n}}let MS=!1;function PS(e){!MS&&!e.parent.inlineContent&&(MS=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+e.parent.type.name+")"))}class Ne extends He{constructor(t,n=t){PS(t),PS(n),super(t,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(t,n){let i=t.resolve(n.map(this.head));if(!i.parent.inlineContent)return He.near(i);let r=t.resolve(n.map(this.anchor));return new Ne(r.parent.inlineContent?r:i,i)}replace(t,n=ge.empty){if(super.replace(t,n),n==ge.empty){let i=this.$from.marksAcross(this.$to);i&&t.ensureMarks(i)}}eq(t){return t instanceof Ne&&t.anchor==this.anchor&&t.head==this.head}getBookmark(){return new K0(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(t,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ne(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,i=n){let r=t.resolve(n);return new this(r,i==n?r:t.resolve(i))}static between(t,n,i){let r=t.pos-n.pos;if((!i||r)&&(i=r>=0?1:-1),!n.parent.inlineContent){let o=He.findFrom(n,i,!0)||He.findFrom(n,-i,!0);if(o)n=o.$head;else return He.near(n,i)}return t.parent.inlineContent||(r==0?t=n:(t=(He.findFrom(t,-i,!0)||He.findFrom(t,i,!0)).$anchor,t.pos<n.pos!=r<0&&(t=n))),new Ne(t,n)}}He.jsonID("text",Ne);class K0{constructor(t,n){this.anchor=t,this.head=n}map(t){return new K0(t.map(this.anchor),t.map(this.head))}resolve(t){return Ne.between(t.resolve(this.anchor),t.resolve(this.head))}}class Pe extends He{constructor(t){let n=t.nodeAfter,i=t.node(0).resolve(t.pos+n.nodeSize);super(t,i),this.node=n}map(t,n){let{deleted:i,pos:r}=n.mapResult(this.anchor),o=t.resolve(r);return i?He.near(o):new Pe(o)}content(){return new ge(J.from(this.node),0,0)}eq(t){return t instanceof Pe&&t.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new kb(this.anchor)}static fromJSON(t,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Pe(t.resolve(n.anchor))}static create(t,n){return new Pe(t.resolve(n))}static isSelectable(t){return!t.isText&&t.type.spec.selectable!==!1}}Pe.prototype.visible=!1;He.jsonID("node",Pe);class kb{constructor(t){this.anchor=t}map(t){let{deleted:n,pos:i}=t.mapResult(this.anchor);return n?new K0(i,i):new kb(i)}resolve(t){let n=t.resolve(this.anchor),i=n.nodeAfter;return i&&Pe.isSelectable(i)?new Pe(n):He.near(n)}}class er extends He{constructor(t){super(t.resolve(0),t.resolve(t.content.size))}replace(t,n=ge.empty){if(n==ge.empty){t.delete(0,t.doc.content.size);let i=He.atStart(t.doc);i.eq(t.selection)||t.setSelection(i)}else super.replace(t,n)}toJSON(){return{type:"all"}}static fromJSON(t){return new er(t)}map(t){return new er(t)}eq(t){return t instanceof er}getBookmark(){return vO}}He.jsonID("all",er);const vO={map(){return this},resolve(e){return new er(e)}};function Nl(e,t,n,i,r,o=!1){if(t.inlineContent)return Ne.create(e,n);for(let s=i-(r>0?0:1);r>0?s<t.childCount:s>=0;s+=r){let a=t.child(s);if(a.isAtom){if(!o&&Pe.isSelectable(a))return Pe.create(e,n-(r<0?a.nodeSize:0))}else{let l=Nl(e,a,n+r,r<0?a.childCount:0,r,o);if(l)return l}n+=a.nodeSize*r}return null}function IS(e,t,n){let i=e.steps.length-1;if(i<t)return;let r=e.steps[i];if(!(r instanceof Bn||r instanceof Hn))return;let o=e.mapping.maps[i],s;o.forEach((a,l,u,c)=>{s==null&&(s=c)}),e.setSelection(He.near(e.doc.resolve(s),n))}const OS=1,xh=2,LS=4;class CO extends Eb{constructor(t){super(t.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=t.selection,this.storedMarks=t.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=(this.updated|OS)&~xh,this.storedMarks=null,this}get selectionSet(){return(this.updated&OS)>0}setStoredMarks(t){return this.storedMarks=t,this.updated|=xh,this}ensureMarks(t){return yt.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this}addStoredMark(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&xh)>0}addStep(t,n){super.addStep(t,n),this.updated=this.updated&~xh,this.storedMarks=null}setTime(t){return this.time=t,this}replaceSelection(t){return this.selection.replace(this,t),this}replaceSelectionWith(t,n=!0){let i=this.selection;return n&&(t=t.mark(this.storedMarks||(i.empty?i.$from.marks():i.$from.marksAcross(i.$to)||yt.none))),i.replaceWith(this,t),this}deleteSelection(){return this.selection.replace(this),this}insertText(t,n,i){let r=this.doc.type.schema;if(n==null)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();{if(i==null&&(i=n),i=i??n,!t)return this.deleteRange(n,i);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=i==n?s.marks():s.marksAcross(this.doc.resolve(i))}return this.replaceRangeWith(n,i,r.text(t,o)),this.selection.empty||this.setSelection(He.near(this.selection.$to)),this}}setMeta(t,n){return this.meta[typeof t=="string"?t:t.key]=n,this}getMeta(t){return this.meta[typeof t=="string"?t:t.key]}get isGeneric(){for(let t in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=LS,this}get scrolledIntoView(){return(this.updated&LS)>0}}function NS(e,t){return!t||!e?e:e.bind(t)}class dc{constructor(t,n,i){this.name=t,this.init=NS(n.init,i),this.apply=NS(n.apply,i)}}const bO=[new dc("doc",{init(e){return e.doc||e.schema.topNodeType.createAndFill()},apply(e){return e.doc}}),new dc("selection",{init(e,t){return e.selection||He.atStart(t.doc)},apply(e){return e.selection}}),new dc("storedMarks",{init(e){return e.storedMarks||null},apply(e,t,n,i){return i.selection.$cursor?e.storedMarks:null}}),new dc("scrollToSelection",{init(){return 0},apply(e,t){return e.scrolledIntoView?t+1:t}})];class rm{constructor(t,n){this.schema=t,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=bO.slice(),n&&n.forEach(i=>{if(this.pluginsByKey[i.key])throw new RangeError("Adding different instances of a keyed plugin ("+i.key+")");this.plugins.push(i),this.pluginsByKey[i.key]=i,i.spec.state&&this.fields.push(new dc(i.key,i.spec.state,i))})}}class Gl{constructor(t){this.config=t}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(t){return this.applyTransaction(t).state}filterTransaction(t,n=-1){for(let i=0;i<this.config.plugins.length;i++)if(i!=n){let r=this.config.plugins[i];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0}applyTransaction(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};let n=[t],i=this.applyInner(t),r=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=r?r[s].n:0,u=r?r[s].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,i);if(c&&i.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",t),!r){r=[];for(let d=0;d<this.config.plugins.length;d++)r.push(d<s?{state:i,n:n.length}:{state:this,n:0})}n.push(c),i=i.applyInner(c),o=!0}r&&(r[s]={state:i,n:n.length})}}if(!o)return{state:i,transactions:n}}}applyInner(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Gl(this.config),i=this.config.fields;for(let r=0;r<i.length;r++){let o=i[r];n[o.name]=o.apply(t,this[o.name],this,n)}return n}get tr(){return new CO(this)}static create(t){let n=new rm(t.doc?t.doc.type.schema:t.schema,t.plugins),i=new Gl(n);for(let r=0;r<n.fields.length;r++)i[n.fields[r].name]=n.fields[r].init(t,i);return i}reconfigure(t){let n=new rm(this.schema,t.plugins),i=n.fields,r=new Gl(n);for(let o=0;o<i.length;o++){let s=i[o].name;r[s]=this.hasOwnProperty(s)?this[s]:i[o].init(t,r)}return r}toJSON(t){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(i=>i.toJSON())),t&&typeof t=="object")for(let i in t){if(i=="doc"||i=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let r=t[i],o=r.spec.state;o&&o.toJSON&&(n[i]=o.toJSON.call(r,this[r.key]))}return n}static fromJSON(t,n,i){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");let r=new rm(t.schema,t.plugins),o=new Gl(r);return r.fields.forEach(s=>{if(s.name=="doc")o.doc=Zs.fromJSON(t.schema,n.doc);else if(s.name=="selection")o.selection=He.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(t.schema.markFromJSON));else{if(i)for(let a in i){let l=i[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=u.fromJSON.call(l,t,n[a],o);return}}o[s.name]=s.init(t,o)}}),o}}function Y6(e,t,n){for(let i in e){let r=e[i];r instanceof Function?r=r.bind(t):i=="handleDOMEvents"&&(r=Y6(r,t,{})),n[i]=r}return n}class rn{constructor(t){this.spec=t,this.props={},t.props&&Y6(t.props,this,this.props),this.key=t.key?t.key.key:X6("plugin")}getState(t){return t[this.key]}}const om=Object.create(null);function X6(e){return e in om?e+"$"+ ++om[e]:(om[e]=0,e+"$")}class xn{constructor(t="key"){this.key=X6(t)}get(t){return t.config.pluginsByKey[this.key]}getState(t){return t[this.key]}}const Un=function(e){for(var t=0;;t++)if(e=e.previousSibling,!e)return t},pu=function(e){let t=e.assignedSlot||e.parentNode;return t&&t.nodeType==11?t.host:t};let Zv=null;const zo=function(e,t,n){let i=Zv||(Zv=document.createRange());return i.setEnd(e,n??e.nodeValue.length),i.setStart(e,t||0),i},yO=function(){Zv=null},sl=function(e,t,n,i){return n&&(BS(e,t,n,i,-1)||BS(e,t,n,i,1))},wO=/^(img|br|input|textarea|hr)$/i;function BS(e,t,n,i,r){for(var o;;){if(e==n&&t==i)return!0;if(t==(r<0?0:fr(e))){let s=e.parentNode;if(!s||s.nodeType!=1||Ud(e)||wO.test(e.nodeName)||e.contentEditable=="false")return!1;t=Un(e)+(r<0?0:1),e=s}else if(e.nodeType==1){let s=e.childNodes[t+(r<0?-1:0)];if(s.nodeType==1&&s.contentEditable=="false")if(!((o=s.pmViewDesc)===null||o===void 0)&&o.ignoreForSelection)t+=r;else return!1;else e=s,t=r<0?fr(e):0}else return!1}}function fr(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function SO(e,t){for(;;){if(e.nodeType==3&&t)return e;if(e.nodeType==1&&t>0){if(e.contentEditable=="false")return null;e=e.childNodes[t-1],t=fr(e)}else if(e.parentNode&&!Ud(e))t=Un(e),e=e.parentNode;else return null}}function xO(e,t){for(;;){if(e.nodeType==3&&t<e.nodeValue.length)return e;if(e.nodeType==1&&t<e.childNodes.length){if(e.contentEditable=="false")return null;e=e.childNodes[t],t=0}else if(e.parentNode&&!Ud(e))t=Un(e)+1,e=e.parentNode;else return null}}function EO(e,t,n){for(let i=t==0,r=t==fr(e);i||r;){if(e==n)return!0;let o=Un(e);if(e=e.parentNode,!e)return!1;i=i&&o==0,r=r&&o==fr(e)}}function Ud(e){let t;for(let n=e;n&&!(t=n.pmViewDesc);n=n.parentNode);return t&&t.node&&t.node.isBlock&&(t.dom==e||t.contentDOM==e)}const Y0=function(e){return e.focusNode&&sl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)};function Aa(e,t){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=e,n.key=n.code=t,n}function kO(e){let t=e.activeElement;for(;t&&t.shadowRoot;)t=t.shadowRoot.activeElement;return t}function FO(e,t,n){if(e.caretPositionFromPoint)try{let i=e.caretPositionFromPoint(t,n);if(i)return{node:i.offsetNode,offset:Math.min(fr(i.offsetNode),i.offset)}}catch{}if(e.caretRangeFromPoint){let i=e.caretRangeFromPoint(t,n);if(i)return{node:i.startContainer,offset:Math.min(fr(i.startContainer),i.startOffset)}}}const vo=typeof navigator<"u"?navigator:null,zS=typeof document<"u"?document:null,pa=vo&&vo.userAgent||"",Qv=/Edge\/(\d+)/.exec(pa),J6=/MSIE \d/.exec(pa),e1=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(pa),Li=!!(J6||e1||Qv),Qs=J6?document.documentMode:e1?+e1[1]:Qv?+Qv[1]:0,wr=!Li&&/gecko\/(\d+)/i.test(pa);wr&&+(/Firefox\/(\d+)/.exec(pa)||[0,0])[1];const t1=!Li&&/Chrome\/(\d+)/.exec(pa),ri=!!t1,Z6=t1?+t1[1]:0,xi=!Li&&!!vo&&/Apple Computer/.test(vo.vendor),fu=xi&&(/Mobile\/\w+/.test(pa)||!!vo&&vo.maxTouchPoints>2),pr=fu||(vo?/Mac/.test(vo.platform):!1),TO=vo?/Win/.test(vo.platform):!1,Wo=/Android \d/.test(pa),jd=!!zS&&"webkitFontSmoothing"in zS.documentElement.style,AO=jd?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function RO(e){let t=e.defaultView&&e.defaultView.visualViewport;return t?{left:0,right:t.width,top:0,bottom:t.height}:{left:0,right:e.documentElement.clientWidth,top:0,bottom:e.documentElement.clientHeight}}function Mo(e,t){return typeof e=="number"?e:e[t]}function DO(e){let t=e.getBoundingClientRect(),n=t.width/e.offsetWidth||1,i=t.height/e.offsetHeight||1;return{left:t.left,right:t.left+e.clientWidth*n,top:t.top,bottom:t.top+e.clientHeight*i}}function HS(e,t,n){let i=e.someProp("scrollThreshold")||0,r=e.someProp("scrollMargin")||5,o=e.dom.ownerDocument;for(let s=n||e.dom;s;){if(s.nodeType!=1){s=pu(s);continue}let a=s,l=a==o.body,u=l?RO(o):DO(a),c=0,d=0;if(t.top<u.top+Mo(i,"top")?d=-(u.top-t.top+Mo(r,"top")):t.bottom>u.bottom-Mo(i,"bottom")&&(d=t.bottom-t.top>u.bottom-u.top?t.top+Mo(r,"top")-u.top:t.bottom-u.bottom+Mo(r,"bottom")),t.left<u.left+Mo(i,"left")?c=-(u.left-t.left+Mo(r,"left")):t.right>u.right-Mo(i,"right")&&(c=t.right-u.right+Mo(r,"right")),c||d)if(l)o.defaultView.scrollBy(c,d);else{let p=a.scrollLeft,f=a.scrollTop;d&&(a.scrollTop+=d),c&&(a.scrollLeft+=c);let g=a.scrollLeft-p,m=a.scrollTop-f;t={left:t.left-g,top:t.top-m,right:t.right-g,bottom:t.bottom-m}}let h=l?"fixed":getComputedStyle(s).position;if(/^(fixed|sticky)$/.test(h))break;s=h=="absolute"?s.offsetParent:pu(s)}}function MO(e){let t=e.dom.getBoundingClientRect(),n=Math.max(0,t.top),i,r;for(let o=(t.left+t.right)/2,s=n+1;s<Math.min(innerHeight,t.bottom);s+=5){let a=e.root.elementFromPoint(o,s);if(!a||a==e.dom||!e.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){i=a,r=l.top;break}}return{refDOM:i,refTop:r,stack:Q6(e.dom)}}function Q6(e){let t=[],n=e.ownerDocument;for(let i=e;i&&(t.push({dom:i,top:i.scrollTop,left:i.scrollLeft}),e!=n);i=pu(i));return t}function PO({refDOM:e,refTop:t,stack:n}){let i=e?e.getBoundingClientRect().top:0;ek(n,i==0?0:i-t)}function ek(e,t){for(let n=0;n<e.length;n++){let{dom:i,top:r,left:o}=e[n];i.scrollTop!=r+t&&(i.scrollTop=r+t),i.scrollLeft!=o&&(i.scrollLeft=o)}}let Rl=null;function IO(e){if(e.setActive)return e.setActive();if(Rl)return e.focus(Rl);let t=Q6(e);e.focus(Rl==null?{get preventScroll(){return Rl={preventScroll:!0},!0}}:void 0),Rl||(Rl=!1,ek(t,0))}function tk(e,t){let n,i=2e8,r,o=0,s=t.top,a=t.top,l,u;for(let c=e.firstChild,d=0;c;c=c.nextSibling,d++){let h;if(c.nodeType==1)h=c.getClientRects();else if(c.nodeType==3)h=zo(c).getClientRects();else continue;for(let p=0;p<h.length;p++){let f=h[p];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);let g=f.left>t.left?f.left-t.left:f.right<t.left?t.left-f.right:0;if(g<i){n=c,i=g,r=g&&n.nodeType==3?{left:f.right<t.left?f.right:f.left,top:t.top}:t,c.nodeType==1&&g&&(o=d+(t.left>=(f.left+f.right)/2?1:0));continue}}else f.top>t.top&&!l&&f.left<=t.left&&f.right>=t.left&&(l=c,u={left:Math.max(f.left,Math.min(f.right,t.left)),top:f.top});!n&&(t.left>=f.right&&t.top>=f.top||t.left>=f.left&&t.top>=f.bottom)&&(o=d+1)}}return!n&&l&&(n=l,r=u,i=0),n&&n.nodeType==3?OO(n,r):!n||i&&n.nodeType==1?{node:e,offset:o}:tk(n,r)}function OO(e,t){let n=e.nodeValue.length,i=document.createRange();for(let r=0;r<n;r++){i.setEnd(e,r+1),i.setStart(e,r);let o=As(i,1);if(o.top!=o.bottom&&Fb(t,o))return{node:e,offset:r+(t.left>=(o.left+o.right)/2?1:0)}}return{node:e,offset:0}}function Fb(e,t){return e.left>=t.left-1&&e.left<=t.right+1&&e.top>=t.top-1&&e.top<=t.bottom+1}function LO(e,t){let n=e.parentNode;return n&&/^li$/i.test(n.nodeName)&&t.left<e.getBoundingClientRect().left?n:e}function NO(e,t,n){let{node:i,offset:r}=tk(t,n),o=-1;if(i.nodeType==1&&!i.firstChild){let s=i.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return e.docView.posFromDOM(i,r,o)}function BO(e,t,n,i){let r=-1;for(let o=t,s=!1;o!=e.dom;){let a=e.docView.nearestDesc(o,!0),l;if(!a)return null;if(a.dom.nodeType==1&&(a.node.isBlock&&a.parent||!a.contentDOM)&&((l=a.dom.getBoundingClientRect()).width||l.height)&&(a.node.isBlock&&a.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(a.dom.nodeName)&&(!s&&l.left>i.left||l.top>i.top?r=a.posBefore:(!s&&l.right<i.left||l.bottom<i.top)&&(r=a.posAfter),s=!0),!a.contentDOM&&r<0&&!a.node.isText))return(a.node.isBlock?i.top<(l.top+l.bottom)/2:i.left<(l.left+l.right)/2)?a.posBefore:a.posAfter;o=a.dom.parentNode}return r>-1?r:e.docView.posFromDOM(t,n,-1)}function nk(e,t,n){let i=e.childNodes.length;if(i&&n.top<n.bottom)for(let r=Math.max(0,Math.min(i-1,Math.floor(i*(t.top-n.top)/(n.bottom-n.top))-2)),o=r;;){let s=e.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(Fb(t,u))return nk(s,t,u)}}if((o=(o+1)%i)==r)break}return e}function zO(e,t){let n=e.dom.ownerDocument,i,r=0,o=FO(n,t.left,t.top);o&&({node:i,offset:r}=o);let s=(e.root.elementFromPoint?e.root:n).elementFromPoint(t.left,t.top),a;if(!s||!e.dom.contains(s.nodeType!=1?s.parentNode:s)){let u=e.dom.getBoundingClientRect();if(!Fb(t,u)||(s=nk(e.dom,t,u),!s))return null}if(xi)for(let u=s;i&&u;u=pu(u))u.draggable&&(i=void 0);if(s=LO(s,t),i){if(wr&&i.nodeType==1&&(r=Math.min(r,i.childNodes.length),r<i.childNodes.length)){let c=i.childNodes[r],d;c.nodeName=="IMG"&&(d=c.getBoundingClientRect()).right<=t.left&&d.bottom>t.top&&r++}let u;jd&&r&&i.nodeType==1&&(u=i.childNodes[r-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=t.top&&r--,i==e.dom&&r==i.childNodes.length-1&&i.lastChild.nodeType==1&&t.top>i.lastChild.getBoundingClientRect().bottom?a=e.state.doc.content.size:(r==0||i.nodeType!=1||i.childNodes[r-1].nodeName!="BR")&&(a=BO(e,i,r,t))}a==null&&(a=NO(e,s,t));let l=e.docView.nearestDesc(s,!0);return{pos:a,inside:l?l.posAtStart-l.border:-1}}function VS(e){return e.top<e.bottom||e.left<e.right}function As(e,t){let n=e.getClientRects();if(n.length){let i=n[t<0?0:n.length-1];if(VS(i))return i}return Array.prototype.find.call(n,VS)||e.getBoundingClientRect()}const HO=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function ik(e,t,n){let{node:i,offset:r,atom:o}=e.docView.domFromPos(t,n<0?-1:1),s=jd||wr;if(i.nodeType==3)if(s&&(HO.test(i.nodeValue)||(n<0?!r:r==i.nodeValue.length))){let l=As(zo(i,r,r),n);if(wr&&r&&/\s/.test(i.nodeValue[r-1])&&r<i.nodeValue.length){let u=As(zo(i,r-1,r-1),-1);if(u.top==l.top){let c=As(zo(i,r,r+1),-1);if(c.top!=l.top)return Ku(c,c.left<u.left)}}return l}else{let l=r,u=r,c=n<0?1:-1;return n<0&&!r?(u++,c=-1):n>=0&&r==i.nodeValue.length?(l--,c=1):n<0?l--:u++,Ku(As(zo(i,l,u),c),c<0)}if(!e.state.doc.resolve(t-(o||0)).parent.inlineContent){if(o==null&&r&&(n<0||r==fr(i))){let l=i.childNodes[r-1];if(l.nodeType==1)return sm(l.getBoundingClientRect(),!1)}if(o==null&&r<fr(i)){let l=i.childNodes[r];if(l.nodeType==1)return sm(l.getBoundingClientRect(),!0)}return sm(i.getBoundingClientRect(),n>=0)}if(o==null&&r&&(n<0||r==fr(i))){let l=i.childNodes[r-1],u=l.nodeType==3?zo(l,fr(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Ku(As(u,1),!1)}if(o==null&&r<fr(i)){let l=i.childNodes[r];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?zo(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return Ku(As(u,-1),!0)}return Ku(As(i.nodeType==3?zo(i):i,-n),n>=0)}function Ku(e,t){if(e.width==0)return e;let n=t?e.left:e.right;return{top:e.top,bottom:e.bottom,left:n,right:n}}function sm(e,t){if(e.height==0)return e;let n=t?e.top:e.bottom;return{top:n,bottom:n,left:e.left,right:e.right}}function rk(e,t,n){let i=e.state,r=e.root.activeElement;i!=t&&e.updateState(t),r!=e.dom&&e.focus();try{return n()}finally{i!=t&&e.updateState(i),r!=e.dom&&r&&r.focus()}}function VO(e,t,n){let i=t.selection,r=n=="up"?i.$from:i.$to;return rk(e,t,()=>{let{node:o}=e.docView.domFromPos(r.pos,n=="up"?-1:1);for(;;){let a=e.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.contentDOM||a.dom;break}o=a.dom.parentNode}let s=ik(e,r.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=zo(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const _O=/[\u0590-\u08ac]/;function GO(e,t,n){let{$head:i}=t.selection;if(!i.parent.isTextblock)return!1;let r=i.parentOffset,o=!r,s=r==i.parent.content.size,a=e.domSelection();return a?!_O.test(i.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:rk(e,t,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:d}=e.domSelectionRange(),h=a.caretBidiLevel;a.modify("move",n,"character");let p=i.depth?e.docView.domAfterPos(i.before()):e.dom,{focusNode:f,focusOffset:g}=e.domSelectionRange(),m=f&&!p.contains(f.nodeType==1?f:f.parentNode)||l==f&&u==g;try{a.collapse(c,d),l&&(l!=c||u!=d)&&a.extend&&a.extend(l,u)}catch{}return h!=null&&(a.caretBidiLevel=h),m}):i.pos==i.start()||i.pos==i.end()}let _S=null,GS=null,WS=!1;function WO(e,t,n){return _S==t&&GS==n?WS:(_S=t,GS=n,WS=n=="up"||n=="down"?VO(e,t,n):GO(e,t,n))}const Sr=0,$S=1,Ma=2,Co=3;class qd{constructor(t,n,i,r){this.parent=t,this.children=n,this.dom=i,this.contentDOM=r,this.dirty=Sr,i.pmViewDesc=this}matchesWidget(t){return!1}matchesMark(t){return!1}matchesNode(t,n,i){return!1}matchesHack(t){return!1}parseRule(){return null}stopEvent(t){return!1}get size(){let t=0;for(let n=0;n<this.children.length;n++)t+=this.children[n].size;return t}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let t=0;t<this.children.length;t++)this.children[t].destroy()}posBeforeChild(t){for(let n=0,i=this.posAtStart;;n++){let r=this.children[n];if(r==t)return i;i+=r.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(t,n,i){if(this.contentDOM&&this.contentDOM.contains(t.nodeType==1?t:t.parentNode))if(i<0){let o,s;if(t==this.contentDOM)o=t.childNodes[n-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(t==this.contentDOM)o=t.childNodes[n];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;o=t.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let r;if(t==this.dom&&this.contentDOM)r=n>Un(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))r=t.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!1;break}if(o.previousSibling)break}if(r==null&&n==t.childNodes.length)for(let o=t;;o=o.parentNode){if(o==this.dom){r=!0;break}if(o.nextSibling)break}}return r??i>0?this.posAtEnd:this.posAtStart}nearestDesc(t,n=!1){for(let i=!0,r=t;r;r=r.parentNode){let o=this.getDesc(r),s;if(o&&(!n||o.node))if(i&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(t.nodeType==1?t:t.parentNode):s==t))i=!1;else return o}}getDesc(t){let n=t.pmViewDesc;for(let i=n;i;i=i.parent)if(i==this)return n}posFromDOM(t,n,i){for(let r=t;r;r=r.parentNode){let o=this.getDesc(r);if(o)return o.localPosFromDOM(t,n,i)}return-1}descAt(t){for(let n=0,i=0;n<this.children.length;n++){let r=this.children[n],o=i+r.size;if(i==t&&o!=i){for(;!r.border&&r.children.length;)for(let s=0;s<r.children.length;s++){let a=r.children[s];if(a.size){r=a;break}}return r}if(t<o)return r.descAt(t-i-r.border);i=o}}domFromPos(t,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:t+1};let i=0,r=0;for(let o=0;i<this.children.length;i++){let s=this.children[i],a=o+s.size;if(a>t||s instanceof sk){r=t-o;break}o=a}if(r)return this.children[i].domFromPos(r-this.children[i].border,n);for(let o;i&&!(o=this.children[i-1]).size&&o instanceof ok&&o.side>=0;i--);if(n<=0){let o,s=!0;for(;o=i?this.children[i-1]:null,!(!o||o.dom.parentNode==this.contentDOM);i--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Un(o.dom)+1:0}}else{let o,s=!0;for(;o=i<this.children.length?this.children[i]:null,!(!o||o.dom.parentNode==this.contentDOM);i++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Un(o.dom):this.contentDOM.childNodes.length}}}parseRange(t,n,i=0){if(this.children.length==0)return{node:this.contentDOM,from:t,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let r=-1,o=-1;for(let s=i,a=0;;a++){let l=this.children[a],u=s+l.size;if(r==-1&&t<=u){let c=s+l.border;if(t>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(t,n,c);t=s;for(let d=a;d>0;d--){let h=this.children[d-1];if(h.size&&h.dom.parentNode==this.contentDOM&&!h.emptyChildAt(1)){r=Un(h.dom)+1;break}t-=h.size}r==-1&&(r=0)}if(r>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let d=this.children[c];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Un(d.dom);break}n+=d.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:t,to:n,fromOffset:r,toOffset:o}}emptyChildAt(t){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[t<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(t)}domAfterPos(t){let{node:n,offset:i}=this.domFromPos(t,0);if(n.nodeType!=1||i==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[i]}setSelection(t,n,i,r=!1){let o=Math.min(t,n),s=Math.max(t,n);for(let p=0,f=0;p<this.children.length;p++){let g=this.children[p],m=f+g.size;if(o>f&&s<m)return g.setSelection(t-f-g.border,n-f-g.border,i,r);f=m}let a=this.domFromPos(t,t?-1:1),l=n==t?a:this.domFromPos(n,n?-1:1),u=i.root.getSelection(),c=i.domSelectionRange(),d=!1;if((wr||xi)&&t==n){let{node:p,offset:f}=a;if(p.nodeType==3){if(d=!!(f&&p.nodeValue[f-1]==`
`),d&&f==p.nodeValue.length)for(let g=p,m;g;g=g.parentNode){if(m=g.nextSibling){m.nodeName=="BR"&&(a=l={node:m.parentNode,offset:Un(m)+1});break}let v=g.pmViewDesc;if(v&&v.node&&v.node.isBlock)break}}else{let g=p.childNodes[f-1];d=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(wr&&c.focusNode&&c.focusNode!=l.node&&c.focusNode.nodeType==1){let p=c.focusNode.childNodes[c.focusOffset];p&&p.contentEditable=="false"&&(r=!0)}if(!(r||d&&xi)&&sl(a.node,a.offset,c.anchorNode,c.anchorOffset)&&sl(l.node,l.offset,c.focusNode,c.focusOffset))return;let h=!1;if((u.extend||t==n)&&!(d&&wr)){u.collapse(a.node,a.offset);try{t!=n&&u.extend(l.node,l.offset),h=!0}catch{}}if(!h){if(t>n){let f=a;a=l,l=f}let p=document.createRange();p.setEnd(l.node,l.offset),p.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(t){return!this.contentDOM&&t.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(t,n){for(let i=0,r=0;r<this.children.length;r++){let o=this.children[r],s=i+o.size;if(i==s?t<=s&&n>=i:t<s&&n>i){let a=i+o.border,l=s-o.border;if(t>=a&&n<=l){this.dirty=t==i||n==s?Ma:$S,t==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Co:o.markDirty(t-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ma:Co}i=s}this.dirty=Ma}markParentsDirty(){let t=1;for(let n=this.parent;n;n=n.parent,t++){let i=t==1?Ma:$S;n.dirty<i&&(n.dirty=i)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(t){return!1}}class ok extends qd{constructor(t,n,i,r){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(i,()=>{if(!o)return r;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(t,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(t){return this.dirty==Sr&&t.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(t){let n=this.widget.spec.stopEvent;return n?n(t):!1}ignoreMutation(t){return t.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class $O extends qd{constructor(t,n,i,r){super(t,[],n,null),this.textDOM=i,this.text=r}get size(){return this.text.length}localPosFromDOM(t,n){return t!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(t){return{node:this.textDOM,offset:t}}ignoreMutation(t){return t.type==="characterData"&&t.target.nodeValue==t.oldValue}}class al extends qd{constructor(t,n,i,r,o){super(t,[],i,r),this.mark=n,this.spec=o}static create(t,n,i,r){let o=r.nodeViews[n.type.name],s=o&&o(n,r,i);return(!s||!s.dom)&&(s=gl.renderSpec(document,n.type.spec.toDOM(n,i),null,n.attrs)),new al(t,n,s.dom,s.contentDOM||s.dom,s)}parseRule(){return this.dirty&Co||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(t){return this.dirty!=Co&&this.mark.eq(t)}markDirty(t,n){if(super.markDirty(t,n),this.dirty!=Sr){let i=this.parent;for(;!i.node;)i=i.parent;i.dirty<this.dirty&&(i.dirty=this.dirty),this.dirty=Sr}}slice(t,n,i){let r=al.create(this.parent,this.mark,!0,i),o=this.children,s=this.size;n<s&&(o=i1(o,n,s,i)),t>0&&(o=i1(o,0,t,i));for(let a=0;a<o.length;a++)o[a].parent=r;return r.children=o,r}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ea extends qd{constructor(t,n,i,r,o,s,a,l,u){super(t,[],o,s),this.node=n,this.outerDeco=i,this.innerDeco=r,this.nodeDOM=a}static create(t,n,i,r,o,s){let a=o.nodeViews[n.type.name],l,u=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},i,r),c=u&&u.dom,d=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:d}=gl.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!d&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let h=c;return c=uk(c,i,n),u?l=new UO(t,n,i,r,c,d||null,h,u,o,s+1):n.isText?new X0(t,n,i,r,c,h,o):new ea(t,n,i,r,c,d||null,h,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let t={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(t.preserveWhitespace="full"),!this.contentDOM)t.getContent=()=>this.node.content;else if(!this.contentLost)t.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let i=this.children[n];if(this.dom.contains(i.dom.parentNode)){t.contentElement=i.dom.parentNode;break}}t.contentElement||(t.getContent=()=>J.empty)}return t}matchesNode(t,n,i){return this.dirty==Sr&&t.eq(this.node)&&rf(n,this.outerDeco)&&i.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(t,n){let i=this.node.inlineContent,r=n,o=t.composing?this.localCompositionInfo(t,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new qO(this,s&&s.node,t);XO(this.node,this.innerDeco,(u,c,d)=>{u.spec.marks?l.syncToMarks(u.spec.marks,i,t):u.type.side>=0&&!d&&l.syncToMarks(c==this.node.childCount?yt.none:this.node.child(c).marks,i,t),l.placeWidget(u,t,r)},(u,c,d,h)=>{l.syncToMarks(u.marks,i,t);let p;l.findNodeMatch(u,c,d,h)||a&&t.state.selection.from>r&&t.state.selection.to<r+u.nodeSize&&(p=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,d,p,t)||l.updateNextNode(u,c,d,t,h,r)||l.addNode(u,c,d,t,r),r+=u.nodeSize}),l.syncToMarks([],i,t),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==Ma)&&(s&&this.protectLocalComposition(t,s),ak(this.contentDOM,this.children,t),fu&&JO(this.dom))}localCompositionInfo(t,n){let{from:i,to:r}=t.state.selection;if(!(t.state.selection instanceof Ne)||i<n||r>n+this.node.content.size)return null;let o=t.input.compositionNode;if(!o||!this.dom.contains(o.parentNode))return null;if(this.node.inlineContent){let s=o.nodeValue,a=ZO(this.node.content,s,i-n,r-n);return a<0?null:{node:o,pos:a,text:s}}else return{node:o,pos:-1,text:""}}protectLocalComposition(t,{node:n,pos:i,text:r}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new $O(this,o,n,r);t.input.compositionNodes.push(s),this.children=i1(this.children,i,i+r.length,t,s)}update(t,n,i,r){return this.dirty==Co||!t.sameMarkup(this.node)?!1:(this.updateInner(t,n,i,r),!0)}updateInner(t,n,i,r){this.updateOuterDeco(n),this.node=t,this.innerDeco=i,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=Sr}updateOuterDeco(t){if(rf(t,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,i=this.dom;this.dom=lk(this.dom,this.nodeDOM,n1(this.outerDeco,this.node,n),n1(t,this.node,n)),this.dom!=i&&(i.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=t}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function US(e,t,n,i,r){uk(i,t,e);let o=new ea(void 0,e,t,n,i,i,i,r,0);return o.contentDOM&&o.updateChildren(r,0),o}class X0 extends ea{constructor(t,n,i,r,o,s,a){super(t,n,i,r,o,null,s,a,0)}parseRule(){let t=this.nodeDOM.parentNode;for(;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}}update(t,n,i,r){return this.dirty==Co||this.dirty!=Sr&&!this.inParent()||!t.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Sr||t.text!=this.node.text)&&t.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=Sr,!0)}inParent(){let t=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==t)return!0;return!1}domFromPos(t){return{node:this.nodeDOM,offset:t}}localPosFromDOM(t,n,i){return t==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(t,n,i)}ignoreMutation(t){return t.type!="characterData"&&t.type!="selection"}slice(t,n,i){let r=this.node.cut(t,n),o=document.createTextNode(r.text);return new X0(this.parent,r,this.outerDeco,this.innerDeco,o,o,i)}markDirty(t,n){super.markDirty(t,n),this.dom!=this.nodeDOM&&(t==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Co)}get domAtom(){return!1}isText(t){return this.node.text==t}}class sk extends qd{parseRule(){return{ignore:!0}}matchesHack(t){return this.dirty==Sr&&this.dom.nodeName==t}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class UO extends ea{constructor(t,n,i,r,o,s,a,l,u,c){super(t,n,i,r,o,s,a,u,c),this.spec=l}update(t,n,i,r){if(this.dirty==Co)return!1;if(this.spec.update&&(this.node.type==t.type||this.spec.multiType)){let o=this.spec.update(t,n,i);return o&&this.updateInner(t,n,i,r),o}else return!this.contentDOM&&!t.isLeaf?!1:super.update(t,n,i,r)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(t,n,i,r){this.spec.setSelection?this.spec.setSelection(t,n,i.root):super.setSelection(t,n,i,r)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(t){return this.spec.stopEvent?this.spec.stopEvent(t):!1}ignoreMutation(t){return this.spec.ignoreMutation?this.spec.ignoreMutation(t):super.ignoreMutation(t)}}function ak(e,t,n){let i=e.firstChild,r=!1;for(let o=0;o<t.length;o++){let s=t[o],a=s.dom;if(a.parentNode==e){for(;a!=i;)i=jS(i),r=!0;i=i.nextSibling}else r=!0,e.insertBefore(a,i);if(s instanceof al){let l=i?i.previousSibling:e.lastChild;ak(s.contentDOM,s.children,n),i=l?l.nextSibling:e.firstChild}}for(;i;)i=jS(i),r=!0;r&&n.trackWrites==e&&(n.trackWrites=null)}const Rc=function(e){e&&(this.nodeName=e)};Rc.prototype=Object.create(null);const Pa=[new Rc];function n1(e,t,n){if(e.length==0)return Pa;let i=n?Pa[0]:new Rc,r=[i];for(let o=0;o<e.length;o++){let s=e[o].type.attrs;if(s){s.nodeName&&r.push(i=new Rc(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&r.length==1&&r.push(i=new Rc(t.isInline?"span":"div")),a=="class"?i.class=(i.class?i.class+" ":"")+l:a=="style"?i.style=(i.style?i.style+";":"")+l:a!="nodeName"&&(i[a]=l))}}}return r}function lk(e,t,n,i){if(n==Pa&&i==Pa)return t;let r=t;for(let o=0;o<i.length;o++){let s=i[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&r!=e&&(l=r.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(r),a=Pa[0]),r=l}jO(r,a||Pa[0],s)}return r}function jO(e,t,n){for(let i in t)i!="class"&&i!="style"&&i!="nodeName"&&!(i in n)&&e.removeAttribute(i);for(let i in n)i!="class"&&i!="style"&&i!="nodeName"&&n[i]!=t[i]&&e.setAttribute(i,n[i]);if(t.class!=n.class){let i=t.class?t.class.split(" ").filter(Boolean):[],r=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&e.classList.remove(i[o]);for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&e.classList.add(r[o]);e.classList.length==0&&e.removeAttribute("class")}if(t.style!=n.style){if(t.style){let i=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,r;for(;r=i.exec(t.style);)e.style.removeProperty(r[1])}n.style&&(e.style.cssText+=n.style)}}function uk(e,t,n){return lk(e,e,Pa,n1(t,n,e.nodeType!=1))}function rf(e,t){if(e.length!=t.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].type.eq(t[n].type))return!1;return!0}function jS(e){let t=e.nextSibling;return e.parentNode.removeChild(e),t}class qO{constructor(t,n,i){this.lock=n,this.view=i,this.index=0,this.stack=[],this.changed=!1,this.top=t,this.preMatch=KO(t.node.content,t)}destroyBetween(t,n){if(t!=n){for(let i=t;i<n;i++)this.top.children[i].destroy();this.top.children.splice(t,n-t),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(t,n,i){let r=0,o=this.stack.length>>1,s=Math.min(o,t.length);for(;r<s&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&t[r].type.spec.spanning!==!1;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=Sr,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++){let u=this.top.children[l];if(u.matchesMark(t[o])&&!this.isLocked(u.dom)){a=l;break}}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=al.create(this.top,t[o],n,i);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(t,n,i,r){let o=-1,s;if(r>=this.preMatch.index&&(s=this.preMatch.matches[r-this.preMatch.index]).parent==this.top&&s.matchesNode(t,n,i))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(t,n,i)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(t,n,i,r,o){let s=this.top.children[r];return s.dirty==Co&&s.dom==s.contentDOM&&(s.dirty=Ma),s.update(t,n,i,o)?(this.destroyBetween(this.index,r),this.index++,!0):!1}findIndexWithChild(t){for(;;){let n=t.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let i=t.pmViewDesc;if(i){for(let r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==i)return r}return-1}t=n}}updateNextNode(t,n,i,r,o,s){for(let a=this.index;a<this.top.children.length;a++){let l=this.top.children[a];if(l instanceof ea){let u=this.preMatch.matched.get(l);if(u!=null&&u!=o)return!1;let c=l.dom,d,h=this.isLocked(c)&&!(t.isText&&l.node&&l.node.isText&&l.nodeDOM.nodeValue==t.text&&l.dirty!=Co&&rf(n,l.outerDeco));if(!h&&l.update(t,n,i,r))return this.destroyBetween(this.index,a),l.dom!=c&&(this.changed=!0),this.index++,!0;if(!h&&(d=this.recreateWrapper(l,t,n,i,r,s)))return this.destroyBetween(this.index,a),this.top.children[this.index]=d,d.contentDOM&&(d.dirty=Ma,d.updateChildren(r,s+1),d.dirty=Sr),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(t,n,i,r,o,s){if(t.dirty||n.isAtom||!t.children.length||!t.node.content.eq(n.content)||!rf(i,t.outerDeco)||!r.eq(t.innerDeco))return null;let a=ea.create(this.top,n,i,r,o,s);if(a.contentDOM){a.children=t.children,t.children=[];for(let l of a.children)l.parent=a}return t.destroy(),a}addNode(t,n,i,r,o){let s=ea.create(this.top,t,n,i,r,o);s.contentDOM&&s.updateChildren(r,o+1),this.top.children.splice(this.index++,0,s),this.changed=!0}placeWidget(t,n,i){let r=this.index<this.top.children.length?this.top.children[this.index]:null;if(r&&r.matchesWidget(t)&&(t==r.widget||!r.widget.type.toDOM.parentNode))this.index++;else{let o=new ok(this.top,t,n,i);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let t=this.top.children[this.index-1],n=this.top;for(;t instanceof al;)n=t,t=n.children[n.children.length-1];(!t||!(t instanceof X0)||/\n$/.test(t.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(t.node.text))&&((xi||ri)&&t&&t.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(t,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(t))this.index++;else{let i=document.createElement(t);t=="IMG"&&(i.className="ProseMirror-separator",i.alt=""),t=="BR"&&(i.className="ProseMirror-trailingBreak");let r=new sk(this.top,[],i,null);n!=this.top?n.children.push(r):n.children.splice(this.index++,0,r),this.changed=!0}}isLocked(t){return this.lock&&(t==this.lock||t.nodeType==1&&t.contains(this.lock.parentNode))}}function KO(e,t){let n=t,i=n.children.length,r=e.childCount,o=new Map,s=[];e:for(;r>0;){let a;for(;;)if(i){let u=n.children[i-1];if(u instanceof al)n=u,i=u.children.length;else{a=u,i--;break}}else{if(n==t)break e;i=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(l){if(l!=e.child(r-1))break;--r,o.set(a,r),s.push(a)}}return{index:r,matched:o,matches:s.reverse()}}function YO(e,t){return e.type.side-t.type.side}function XO(e,t,n,i){let r=t.locals(e),o=0;if(r.length==0){for(let u=0;u<e.childCount;u++){let c=e.child(u);i(c,r,t.forChild(o,c),u),o+=c.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){let c,d;for(;s<r.length&&r[s].to==o;){let m=r[s++];m.widget&&(c?(d||(d=[c])).push(m):c=m)}if(c)if(d){d.sort(YO);for(let m=0;m<d.length;m++)n(d[m],u,!!l)}else n(c,u,!!l);let h,p;if(l)p=-1,h=l,l=null;else if(u<e.childCount)p=u,h=e.child(u++);else break;for(let m=0;m<a.length;m++)a[m].to<=o&&a.splice(m--,1);for(;s<r.length&&r[s].from<=o&&r[s].to>o;)a.push(r[s++]);let f=o+h.nodeSize;if(h.isText){let m=f;s<r.length&&r[s].from<m&&(m=r[s].from);for(let v=0;v<a.length;v++)a[v].to<m&&(m=a[v].to);m<f&&(l=h.cut(m-o),h=h.cut(0,m-o),f=m,p=-1)}else for(;s<r.length&&r[s].to<f;)s++;let g=h.isInline&&!h.isLeaf?a.filter(m=>!m.inline):a.slice();i(h,g,t.forChild(o,h),p),o=f}}function JO(e){if(e.nodeName=="UL"||e.nodeName=="OL"){let t=e.style.cssText;e.style.cssText=t+"; list-style: square !important",window.getComputedStyle(e).listStyle,e.style.cssText=t}}function ZO(e,t,n,i){for(let r=0,o=0;r<e.childCount&&o<=i;){let s=e.child(r++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;r<e.childCount;){let u=e.child(r++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){if(o>=i&&l.slice(i-t.length-a,i-a)==t)return i-t.length;let u=a<i?l.lastIndexOf(t,i-a-1):-1;if(u>=0&&u+t.length+a>=n)return a+u;if(n==i&&l.length>=i+t.length-a&&l.slice(i-a,i-a+t.length)==t)return i}}return-1}function i1(e,t,n,i,r){let o=[];for(let s=0,a=0;s<e.length;s++){let l=e[s],u=a,c=a+=l.size;u>=n||c<=t?o.push(l):(u<t&&o.push(l.slice(0,t-u,i)),r&&(o.push(r),r=void 0),c>n&&o.push(l.slice(n-u,l.size,i)))}return o}function Tb(e,t=null){let n=e.domSelectionRange(),i=e.state.doc;if(!n.focusNode)return null;let r=e.docView.nearestDesc(n.focusNode),o=r&&r.size==0,s=e.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=i.resolve(s),l,u;if(Y0(n)){for(l=s;r&&!r.node;)r=r.parent;let d=r.node;if(r&&d.isAtom&&Pe.isSelectable(d)&&r.parent&&!(d.isInline&&EO(n.focusNode,n.focusOffset,r.dom))){let h=r.posBefore;u=new Pe(s==h?a:i.resolve(h))}}else{if(n instanceof e.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let d=s,h=s;for(let p=0;p<n.rangeCount;p++){let f=n.getRangeAt(p);d=Math.min(d,e.docView.posFromDOM(f.startContainer,f.startOffset,1)),h=Math.max(h,e.docView.posFromDOM(f.endContainer,f.endOffset,-1))}if(d<0)return null;[l,s]=h==e.state.selection.anchor?[h,d]:[d,h],a=i.resolve(s)}else l=e.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(l<0)return null}let c=i.resolve(l);if(!u){let d=t=="pointer"||e.state.selection.head<a.pos&&!o?1:-1;u=Ab(e,c,a,d)}return u}function ck(e){return e.editable?e.hasFocus():hk(e)&&document.activeElement&&document.activeElement.contains(e.dom)}function Qo(e,t=!1){let n=e.state.selection;if(dk(e,n),!!ck(e)){if(!t&&e.input.mouseDown&&e.input.mouseDown.allowDefault&&ri){let i=e.domSelectionRange(),r=e.domObserver.currentSelection;if(i.anchorNode&&r.anchorNode&&sl(i.anchorNode,i.anchorOffset,r.anchorNode,r.anchorOffset)){e.input.mouseDown.delayedSelectionSync=!0,e.domObserver.setCurSelection();return}}if(e.domObserver.disconnectSelection(),e.cursorWrapper)eL(e);else{let{anchor:i,head:r}=n,o,s;qS&&!(n instanceof Ne)&&(n.$from.parent.inlineContent||(o=KS(e,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=KS(e,n.to))),e.docView.setSelection(i,r,e,t),qS&&(o&&YS(o),s&&YS(s)),n.visible?e.dom.classList.remove("ProseMirror-hideselection"):(e.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&QO(e))}e.domObserver.setCurSelection(),e.domObserver.connectSelection()}}const qS=xi||ri&&Z6<63;function KS(e,t){let{node:n,offset:i}=e.docView.domFromPos(t,0),r=i<n.childNodes.length?n.childNodes[i]:null,o=i?n.childNodes[i-1]:null;if(xi&&r&&r.contentEditable=="false")return am(r);if((!r||r.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(r)return am(r);if(o)return am(o)}}function am(e){return e.contentEditable="true",xi&&e.draggable&&(e.draggable=!1,e.wasDraggable=!0),e}function YS(e){e.contentEditable="false",e.wasDraggable&&(e.draggable=!0,e.wasDraggable=null)}function QO(e){let t=e.dom.ownerDocument;t.removeEventListener("selectionchange",e.input.hideSelectionGuard);let n=e.domSelectionRange(),i=n.anchorNode,r=n.anchorOffset;t.addEventListener("selectionchange",e.input.hideSelectionGuard=()=>{(n.anchorNode!=i||n.anchorOffset!=r)&&(t.removeEventListener("selectionchange",e.input.hideSelectionGuard),setTimeout(()=>{(!ck(e)||e.state.selection.visible)&&e.dom.classList.remove("ProseMirror-hideselection")},20))})}function eL(e){let t=e.domSelection();if(!t)return;let n=e.cursorWrapper.dom,i=n.nodeName=="IMG";i?t.collapse(n.parentNode,Un(n)+1):t.collapse(n,0),!i&&!e.state.selection.visible&&Li&&Qs<=11&&(n.disabled=!0,n.disabled=!1)}function dk(e,t){if(t instanceof Pe){let n=e.docView.descAt(t.from);n!=e.lastSelectedViewDesc&&(XS(e),n&&n.selectNode(),e.lastSelectedViewDesc=n)}else XS(e)}function XS(e){e.lastSelectedViewDesc&&(e.lastSelectedViewDesc.parent&&e.lastSelectedViewDesc.deselectNode(),e.lastSelectedViewDesc=void 0)}function Ab(e,t,n,i){return e.someProp("createSelectionBetween",r=>r(e,t,n))||Ne.between(t,n,i)}function JS(e){return e.editable&&!e.hasFocus()?!1:hk(e)}function hk(e){let t=e.domSelectionRange();if(!t.anchorNode)return!1;try{return e.dom.contains(t.anchorNode.nodeType==3?t.anchorNode.parentNode:t.anchorNode)&&(e.editable||e.dom.contains(t.focusNode.nodeType==3?t.focusNode.parentNode:t.focusNode))}catch{return!1}}function tL(e){let t=e.docView.domFromPos(e.state.selection.anchor,0),n=e.domSelectionRange();return sl(t.node,t.offset,n.anchorNode,n.anchorOffset)}function r1(e,t){let{$anchor:n,$head:i}=e.selection,r=t>0?n.max(i):n.min(i),o=r.parent.inlineContent?r.depth?e.doc.resolve(t>0?r.after():r.before()):null:r;return o&&He.findFrom(o,t)}function Ms(e,t){return e.dispatch(e.state.tr.setSelection(t).scrollIntoView()),!0}function ZS(e,t,n){let i=e.state.selection;if(i instanceof Ne)if(n.indexOf("s")>-1){let{$head:r}=i,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter;if(!o||o.isText||!o.isLeaf)return!1;let s=e.state.doc.resolve(r.pos+o.nodeSize*(t<0?-1:1));return Ms(e,new Ne(i.$anchor,s))}else if(i.empty){if(e.endOfTextblock(t>0?"forward":"backward")){let r=r1(e.state,t);return r&&r instanceof Pe?Ms(e,r):!1}else if(!(pr&&n.indexOf("m")>-1)){let r=i.$head,o=r.textOffset?null:t<0?r.nodeBefore:r.nodeAfter,s;if(!o||o.isText)return!1;let a=t<0?r.pos-o.nodeSize:r.pos;return o.isAtom||(s=e.docView.descAt(a))&&!s.contentDOM?Pe.isSelectable(o)?Ms(e,new Pe(t<0?e.state.doc.resolve(r.pos-o.nodeSize):r)):jd?Ms(e,new Ne(e.state.doc.resolve(t<0?a:a+o.nodeSize))):!1:!1}}else return!1;else{if(i instanceof Pe&&i.node.isInline)return Ms(e,new Ne(t>0?i.$to:i.$from));{let r=r1(e.state,t);return r?Ms(e,r):!1}}}function of(e){return e.nodeType==3?e.nodeValue.length:e.childNodes.length}function Dc(e,t){let n=e.pmViewDesc;return n&&n.size==0&&(t<0||e.nextSibling||e.nodeName!="BR")}function Dl(e,t){return t<0?nL(e):iL(e)}function nL(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let r,o,s=!1;for(wr&&n.nodeType==1&&i<of(n)&&Dc(n.childNodes[i],-1)&&(s=!0);;)if(i>0){if(n.nodeType!=1)break;{let a=n.childNodes[i-1];if(Dc(a,-1))r=n,o=--i;else if(a.nodeType==3)n=a,i=n.nodeValue.length;else break}}else{if(pk(n))break;{let a=n.previousSibling;for(;a&&Dc(a,-1);)r=n.parentNode,o=Un(a),a=a.previousSibling;if(a)n=a,i=of(n);else{if(n=n.parentNode,n==e.dom)break;i=0}}}s?o1(e,n,i):r&&o1(e,r,o)}function iL(e){let t=e.domSelectionRange(),n=t.focusNode,i=t.focusOffset;if(!n)return;let r=of(n),o,s;for(;;)if(i<r){if(n.nodeType!=1)break;let a=n.childNodes[i];if(Dc(a,1))o=n,s=++i;else break}else{if(pk(n))break;{let a=n.nextSibling;for(;a&&Dc(a,1);)o=a.parentNode,s=Un(a)+1,a=a.nextSibling;if(a)n=a,i=0,r=of(n);else{if(n=n.parentNode,n==e.dom)break;i=r=0}}}o&&o1(e,o,s)}function pk(e){let t=e.pmViewDesc;return t&&t.node&&t.node.isBlock}function rL(e,t){for(;e&&t==e.childNodes.length&&!Ud(e);)t=Un(e)+1,e=e.parentNode;for(;e&&t<e.childNodes.length;){let n=e.childNodes[t];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=0}}function oL(e,t){for(;e&&!t&&!Ud(e);)t=Un(e),e=e.parentNode;for(;e&&t;){let n=e.childNodes[t-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;e=n,t=e.childNodes.length}}function o1(e,t,n){if(t.nodeType!=3){let o,s;(s=rL(t,n))?(t=s,n=0):(o=oL(t,n))&&(t=o,n=o.nodeValue.length)}let i=e.domSelection();if(!i)return;if(Y0(i)){let o=document.createRange();o.setEnd(t,n),o.setStart(t,n),i.removeAllRanges(),i.addRange(o)}else i.extend&&i.extend(t,n);e.domObserver.setCurSelection();let{state:r}=e;setTimeout(()=>{e.state==r&&Qo(e)},50)}function QS(e,t){let n=e.state.doc.resolve(t);if(!(ri||TO)&&n.parent.inlineContent){let r=e.coordsAtPos(t);if(t>n.start()){let o=e.coordsAtPos(t-1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left<r.left?"ltr":"rtl"}if(t<n.end()){let o=e.coordsAtPos(t+1),s=(o.top+o.bottom)/2;if(s>r.top&&s<r.bottom&&Math.abs(o.left-r.left)>1)return o.left>r.left?"ltr":"rtl"}}return getComputedStyle(e.dom).direction=="rtl"?"rtl":"ltr"}function ex(e,t,n){let i=e.state.selection;if(i instanceof Ne&&!i.empty||n.indexOf("s")>-1||pr&&n.indexOf("m")>-1)return!1;let{$from:r,$to:o}=i;if(!r.parent.inlineContent||e.endOfTextblock(t<0?"up":"down")){let s=r1(e.state,t);if(s&&s instanceof Pe)return Ms(e,s)}if(!r.parent.inlineContent){let s=t<0?r:o,a=i instanceof er?He.near(s,t):He.findFrom(s,t);return a?Ms(e,a):!1}return!1}function tx(e,t){if(!(e.state.selection instanceof Ne))return!0;let{$head:n,$anchor:i,empty:r}=e.state.selection;if(!n.sameParent(i))return!0;if(!r)return!1;if(e.endOfTextblock(t>0?"forward":"backward"))return!0;let o=!n.textOffset&&(t<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=e.state.tr;return t<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),e.dispatch(s),!0}return!1}function nx(e,t,n){e.domObserver.stop(),t.contentEditable=n,e.domObserver.start()}function sL(e){if(!xi||e.state.selection.$head.parentOffset>0)return!1;let{focusNode:t,focusOffset:n}=e.domSelectionRange();if(t&&t.nodeType==1&&n==0&&t.firstChild&&t.firstChild.contentEditable=="false"){let i=t.firstChild;nx(e,i,"true"),setTimeout(()=>nx(e,i,"false"),20)}return!1}function aL(e){let t="";return e.ctrlKey&&(t+="c"),e.metaKey&&(t+="m"),e.altKey&&(t+="a"),e.shiftKey&&(t+="s"),t}function lL(e,t){let n=t.keyCode,i=aL(t);if(n==8||pr&&n==72&&i=="c")return tx(e,-1)||Dl(e,-1);if(n==46&&!t.shiftKey||pr&&n==68&&i=="c")return tx(e,1)||Dl(e,1);if(n==13||n==27)return!0;if(n==37||pr&&n==66&&i=="c"){let r=n==37?QS(e,e.state.selection.from)=="ltr"?-1:1:-1;return ZS(e,r,i)||Dl(e,r)}else if(n==39||pr&&n==70&&i=="c"){let r=n==39?QS(e,e.state.selection.from)=="ltr"?1:-1:1;return ZS(e,r,i)||Dl(e,r)}else{if(n==38||pr&&n==80&&i=="c")return ex(e,-1,i)||Dl(e,-1);if(n==40||pr&&n==78&&i=="c")return sL(e)||ex(e,1,i)||Dl(e,1);if(i==(pr?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Rb(e,t){e.someProp("transformCopied",p=>{t=p(t,e)});let n=[],{content:i,openStart:r,openEnd:o}=t;for(;r>1&&o>1&&i.childCount==1&&i.firstChild.childCount==1;){r--,o--;let p=i.firstChild;n.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),i=p.content}let s=e.someProp("clipboardSerializer")||gl.fromSchema(e.state.schema),a=bk(),l=a.createElement("div");l.appendChild(s.serializeFragment(i,{document:a}));let u=l.firstChild,c,d=0;for(;u&&u.nodeType==1&&(c=Ck[u.nodeName.toLowerCase()]);){for(let p=c.length-1;p>=0;p--){let f=a.createElement(c[p]);for(;l.firstChild;)f.appendChild(l.firstChild);l.appendChild(f),d++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${r} ${o}${d?` -${d}`:""} ${JSON.stringify(n)}`);let h=e.someProp("clipboardTextSerializer",p=>p(t,e))||t.content.textBetween(0,t.content.size,`

`);return{dom:l,text:h,slice:t}}function fk(e,t,n,i,r){let o=r.parent.type.spec.code,s,a;if(!n&&!t)return null;let l=!!t&&(i||o||!n);if(l){if(e.someProp("transformPastedText",h=>{t=h(t,o||i,e)}),o)return a=new ge(J.from(e.state.schema.text(t.replace(/\r\n?/g,`
`))),0,0),e.someProp("transformPasted",h=>{a=h(a,e,!0)}),a;let d=e.someProp("clipboardTextParser",h=>h(t,r,i,e));if(d)a=d;else{let h=r.marks(),{schema:p}=e.state,f=gl.fromSchema(p);s=document.createElement("div"),t.split(/(?:\r\n?|\n)+/).forEach(g=>{let m=s.appendChild(document.createElement("p"));g&&m.appendChild(f.serializeNode(p.text(g,h)))})}}else e.someProp("transformPastedHTML",d=>{n=d(n,e)}),s=hL(n),jd&&pL(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let d=+c[3];d>0;d--){let h=s.firstChild;for(;h&&h.nodeType!=1;)h=h.nextSibling;if(!h)break;s=h}if(a||(a=(e.someProp("clipboardParser")||e.someProp("domParser")||Jo.fromSchema(e.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:r,ruleFromNode(h){return h.nodeName=="BR"&&!h.nextSibling&&h.parentNode&&!uL.test(h.parentNode.nodeName)?{ignore:!0}:null}})),c)a=fL(ix(a,+c[1],+c[2]),c[4]);else if(a=ge.maxOpen(cL(a.content,r),!0),a.openStart||a.openEnd){let d=0,h=0;for(let p=a.content.firstChild;d<a.openStart&&!p.type.spec.isolating;d++,p=p.firstChild);for(let p=a.content.lastChild;h<a.openEnd&&!p.type.spec.isolating;h++,p=p.lastChild);a=ix(a,d,h)}return e.someProp("transformPasted",d=>{a=d(a,e,l)}),a}const uL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function cL(e,t){if(e.childCount<2)return e;for(let n=t.depth;n>=0;n--){let r=t.node(n).contentMatchAt(t.index(n)),o,s=[];if(e.forEach(a=>{if(!s)return;let l=r.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&mk(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=vk(s[s.length-1],o.length));let c=gk(a,l);s.push(c),r=r.matchType(c.type),o=l}}),s)return J.from(s)}return e}function gk(e,t,n=0){for(let i=t.length-1;i>=n;i--)e=t[i].create(null,J.from(e));return e}function mk(e,t,n,i,r){if(r<e.length&&r<t.length&&e[r]==t[r]){let o=mk(e,t,n,i.lastChild,r+1);if(o)return i.copy(i.content.replaceChild(i.childCount-1,o));if(i.contentMatchAt(i.childCount).matchType(r==e.length-1?n.type:e[r+1]))return i.copy(i.content.append(J.from(gk(n,e,r+1))))}}function vk(e,t){if(t==0)return e;let n=e.content.replaceChild(e.childCount-1,vk(e.lastChild,t-1)),i=e.contentMatchAt(e.childCount).fillBefore(J.empty,!0);return e.copy(n.append(i))}function s1(e,t,n,i,r,o){let s=t<0?e.firstChild:e.lastChild,a=s.content;return e.childCount>1&&(o=0),r<i-1&&(a=s1(a,t,n,i,r+1,o)),r>=n&&(a=t<0?s.contentMatchAt(0).fillBefore(a,o<=r).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(J.empty,!0))),e.replaceChild(t<0?0:e.childCount-1,s.copy(a))}function ix(e,t,n){return t<e.openStart&&(e=new ge(s1(e.content,-1,t,e.openStart,0,e.openEnd),t,e.openEnd)),n<e.openEnd&&(e=new ge(s1(e.content,1,n,e.openEnd,0,0),e.openStart,n)),e}const Ck={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let rx=null;function bk(){return rx||(rx=document.implementation.createHTMLDocument("title"))}let lm=null;function dL(e){let t=window.trustedTypes;return t?(lm||(lm=t.defaultPolicy||t.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),lm.createHTML(e)):e}function hL(e){let t=/^(\s*<meta [^>]*>)*/.exec(e);t&&(e=e.slice(t[0].length));let n=bk().createElement("div"),i=/<([a-z][^>\s]+)/i.exec(e),r;if((r=i&&Ck[i[1].toLowerCase()])&&(e=r.map(o=>"<"+o+">").join("")+e+r.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=dL(e),r)for(let o=0;o<r.length;o++)n=n.querySelector(r[o])||n;return n}function pL(e){let t=e.querySelectorAll(ri?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<t.length;n++){let i=t[n];i.childNodes.length==1&&i.textContent==" "&&i.parentNode&&i.parentNode.replaceChild(e.ownerDocument.createTextNode(" "),i)}}function fL(e,t){if(!e.size)return e;let n=e.content.firstChild.type.schema,i;try{i=JSON.parse(t)}catch{return e}let{content:r,openStart:o,openEnd:s}=e;for(let a=i.length-2;a>=0;a-=2){let l=n.nodes[i[a]];if(!l||l.hasRequiredAttrs())break;r=J.from(l.create(i[a+1],r)),o++,s++}return new ge(r,o,s)}const Ei={},ki={},gL={touchstart:!0,touchmove:!0};class mL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function vL(e){for(let t in Ei){let n=Ei[t];e.dom.addEventListener(t,e.input.eventHandlers[t]=i=>{bL(e,i)&&!Db(e,i)&&(e.editable||!(i.type in ki))&&n(e,i)},gL[t]?{passive:!0}:void 0)}xi&&e.dom.addEventListener("input",()=>null),a1(e)}function qs(e,t){e.input.lastSelectionOrigin=t,e.input.lastSelectionTime=Date.now()}function CL(e){e.domObserver.stop();for(let t in e.input.eventHandlers)e.dom.removeEventListener(t,e.input.eventHandlers[t]);clearTimeout(e.input.composingTimeout),clearTimeout(e.input.lastIOSEnterFallbackTimeout)}function a1(e){e.someProp("handleDOMEvents",t=>{for(let n in t)e.input.eventHandlers[n]||e.dom.addEventListener(n,e.input.eventHandlers[n]=i=>Db(e,i))})}function Db(e,t){return e.someProp("handleDOMEvents",n=>{let i=n[t.type];return i?i(e,t)||t.defaultPrevented:!1})}function bL(e,t){if(!t.bubbles)return!0;if(t.defaultPrevented)return!1;for(let n=t.target;n!=e.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(t))return!1;return!0}function yL(e,t){!Db(e,t)&&Ei[t.type]&&(e.editable||!(t.type in ki))&&Ei[t.type](e,t)}ki.keydown=(e,t)=>{let n=t;if(e.input.shiftKey=n.keyCode==16||n.shiftKey,!wk(e,n)&&(e.input.lastKeyCode=n.keyCode,e.input.lastKeyCodeTime=Date.now(),!(Wo&&ri&&n.keyCode==13)))if(n.keyCode!=229&&e.domObserver.forceFlush(),fu&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let i=Date.now();e.input.lastIOSEnter=i,e.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{e.input.lastIOSEnter==i&&(e.someProp("handleKeyDown",r=>r(e,Aa(13,"Enter"))),e.input.lastIOSEnter=0)},200)}else e.someProp("handleKeyDown",i=>i(e,n))||lL(e,n)?n.preventDefault():qs(e,"key")};ki.keyup=(e,t)=>{t.keyCode==16&&(e.input.shiftKey=!1)};ki.keypress=(e,t)=>{let n=t;if(wk(e,n)||!n.charCode||n.ctrlKey&&!n.altKey||pr&&n.metaKey)return;if(e.someProp("handleKeyPress",r=>r(e,n))){n.preventDefault();return}let i=e.state.selection;if(!(i instanceof Ne)||!i.$from.sameParent(i.$to)){let r=String.fromCharCode(n.charCode),o=()=>e.state.tr.insertText(r).scrollIntoView();!/[\r\n]/.test(r)&&!e.someProp("handleTextInput",s=>s(e,i.$from.pos,i.$to.pos,r,o))&&e.dispatch(o()),n.preventDefault()}};function J0(e){return{left:e.clientX,top:e.clientY}}function wL(e,t){let n=t.x-e.clientX,i=t.y-e.clientY;return n*n+i*i<100}function Mb(e,t,n,i,r){if(i==-1)return!1;let o=e.state.doc.resolve(i);for(let s=o.depth+1;s>0;s--)if(e.someProp(t,a=>s>o.depth?a(e,n,o.nodeAfter,o.before(s),r,!0):a(e,n,o.node(s),o.before(s),r,!1)))return!0;return!1}function Kl(e,t,n){if(e.focused||e.focus(),e.state.selection.eq(t))return;let i=e.state.tr.setSelection(t);i.setMeta("pointer",!0),e.dispatch(i)}function SL(e,t){if(t==-1)return!1;let n=e.state.doc.resolve(t),i=n.nodeAfter;return i&&i.isAtom&&Pe.isSelectable(i)?(Kl(e,new Pe(n)),!0):!1}function xL(e,t){if(t==-1)return!1;let n=e.state.selection,i,r;n instanceof Pe&&(i=n.node);let o=e.state.doc.resolve(t);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Pe.isSelectable(a)){i&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?r=o.before(n.$from.depth):r=o.before(s);break}}return r!=null?(Kl(e,Pe.create(e.state.doc,r)),!0):!1}function EL(e,t,n,i,r){return Mb(e,"handleClickOn",t,n,i)||e.someProp("handleClick",o=>o(e,t,i))||(r?xL(e,n):SL(e,n))}function kL(e,t,n,i){return Mb(e,"handleDoubleClickOn",t,n,i)||e.someProp("handleDoubleClick",r=>r(e,t,i))}function FL(e,t,n,i){return Mb(e,"handleTripleClickOn",t,n,i)||e.someProp("handleTripleClick",r=>r(e,t,i))||TL(e,n,i)}function TL(e,t,n){if(n.button!=0)return!1;let i=e.state.doc;if(t==-1)return i.inlineContent?(Kl(e,Ne.create(i,0,i.content.size)),!0):!1;let r=i.resolve(t);for(let o=r.depth+1;o>0;o--){let s=o>r.depth?r.nodeAfter:r.node(o),a=r.before(o);if(s.inlineContent)Kl(e,Ne.create(i,a+1,a+1+s.content.size));else if(Pe.isSelectable(s))Kl(e,Pe.create(i,a));else continue;return!0}}function Pb(e){return sf(e)}const yk=pr?"metaKey":"ctrlKey";Ei.mousedown=(e,t)=>{let n=t;e.input.shiftKey=n.shiftKey;let i=Pb(e),r=Date.now(),o="singleClick";r-e.input.lastClick.time<500&&wL(n,e.input.lastClick)&&!n[yk]&&e.input.lastClick.button==n.button&&(e.input.lastClick.type=="singleClick"?o="doubleClick":e.input.lastClick.type=="doubleClick"&&(o="tripleClick")),e.input.lastClick={time:r,x:n.clientX,y:n.clientY,type:o,button:n.button};let s=e.posAtCoords(J0(n));s&&(o=="singleClick"?(e.input.mouseDown&&e.input.mouseDown.done(),e.input.mouseDown=new AL(e,s,n,!!i)):(o=="doubleClick"?kL:FL)(e,s.pos,s.inside,n)?n.preventDefault():qs(e,"pointer"))};class AL{constructor(t,n,i,r){this.view=t,this.pos=n,this.event=i,this.flushed=r,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=t.state.doc,this.selectNode=!!i[yk],this.allowDefault=i.shiftKey;let o,s;if(n.inside>-1)o=t.state.doc.nodeAt(n.inside),s=n.inside;else{let c=t.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const a=r?null:i.target,l=a?t.docView.nearestDesc(a,!0):null;this.target=l&&l.dom.nodeType==1?l.dom:null;let{selection:u}=t.state;(i.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Pe&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&wr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),qs(t,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Qo(this.view)),this.view.input.mouseDown=null}up(t){if(this.done(),!this.view.dom.contains(t.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(J0(t))),this.updateAllowDefault(t),this.allowDefault||!n?qs(this.view,"pointer"):EL(this.view,n.pos,n.inside,t,this.selectNode)?t.preventDefault():t.button==0&&(this.flushed||xi&&this.mightDrag&&!this.mightDrag.node.isAtom||ri&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Kl(this.view,He.near(this.view.state.doc.resolve(n.pos))),t.preventDefault()):qs(this.view,"pointer")}move(t){this.updateAllowDefault(t),qs(this.view,"pointer"),t.buttons==0&&this.done()}updateAllowDefault(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0)}}Ei.touchstart=e=>{e.input.lastTouch=Date.now(),Pb(e),qs(e,"pointer")};Ei.touchmove=e=>{e.input.lastTouch=Date.now(),qs(e,"pointer")};Ei.contextmenu=e=>Pb(e);function wk(e,t){return e.composing?!0:xi&&Math.abs(t.timeStamp-e.input.compositionEndedAt)<500?(e.input.compositionEndedAt=-2e8,!0):!1}const RL=Wo?5e3:-1;ki.compositionstart=ki.compositionupdate=e=>{if(!e.composing){e.domObserver.flush();let{state:t}=e,n=t.selection.$to;if(t.selection instanceof Ne&&(t.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(i=>i.type.spec.inclusive===!1)))e.markCursor=e.state.storedMarks||n.marks(),sf(e,!0),e.markCursor=null;else if(sf(e,!t.selection.empty),wr&&t.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let i=e.domSelectionRange();for(let r=i.focusNode,o=i.focusOffset;r&&r.nodeType==1&&o!=0;){let s=o<0?r.lastChild:r.childNodes[o-1];if(!s)break;if(s.nodeType==3){let a=e.domSelection();a&&a.collapse(s,s.nodeValue.length);break}else r=s,o=-1}}e.input.composing=!0}Sk(e,RL)};ki.compositionend=(e,t)=>{e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=t.timeStamp,e.input.compositionPendingChanges=e.domObserver.pendingRecords().length?e.input.compositionID:0,e.input.compositionNode=null,e.input.compositionPendingChanges&&Promise.resolve().then(()=>e.domObserver.flush()),e.input.compositionID++,Sk(e,20))};function Sk(e,t){clearTimeout(e.input.composingTimeout),t>-1&&(e.input.composingTimeout=setTimeout(()=>sf(e),t))}function xk(e){for(e.composing&&(e.input.composing=!1,e.input.compositionEndedAt=ML());e.input.compositionNodes.length>0;)e.input.compositionNodes.pop().markParentsDirty()}function DL(e){let t=e.domSelectionRange();if(!t.focusNode)return null;let n=SO(t.focusNode,t.focusOffset),i=xO(t.focusNode,t.focusOffset);if(n&&i&&n!=i){let r=i.pmViewDesc,o=e.domObserver.lastChangedTextNode;if(n==o||i==o)return o;if(!r||!r.isText(i.nodeValue))return i;if(e.input.compositionNode==i){let s=n.pmViewDesc;if(!(!s||!s.isText(n.nodeValue)))return i}}return n||i}function ML(){let e=document.createEvent("Event");return e.initEvent("event",!0,!0),e.timeStamp}function sf(e,t=!1){if(!(Wo&&e.domObserver.flushingSoon>=0)){if(e.domObserver.forceFlush(),xk(e),t||e.docView&&e.docView.dirty){let n=Tb(e),i=e.state.selection;return n&&!n.eq(i)?e.dispatch(e.state.tr.setSelection(n)):(e.markCursor||t)&&!i.$from.node(i.$from.sharedDepth(i.to)).inlineContent?e.dispatch(e.state.tr.deleteSelection()):e.updateState(e.state),!0}return!1}}function PL(e,t){if(!e.dom.parentNode)return;let n=e.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(t),n.style.cssText="position: fixed; left: -10000px; top: 10px";let i=getSelection(),r=document.createRange();r.selectNodeContents(t),e.dom.blur(),i.removeAllRanges(),i.addRange(r),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),e.focus()},50)}const ad=Li&&Qs<15||fu&&AO<604;Ei.copy=ki.cut=(e,t)=>{let n=t,i=e.state.selection,r=n.type=="cut";if(i.empty)return;let o=ad?null:n.clipboardData,s=i.content(),{dom:a,text:l}=Rb(e,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):PL(e,a),r&&e.dispatch(e.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function IL(e){return e.openStart==0&&e.openEnd==0&&e.content.childCount==1?e.content.firstChild:null}function OL(e,t){if(!e.dom.parentNode)return;let n=e.input.shiftKey||e.state.selection.$from.parent.type.spec.code,i=e.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(i.contentEditable="true"),i.style.cssText="position: fixed; left: -10000px; top: 10px",i.focus();let r=e.input.shiftKey&&e.input.lastKeyCode!=45;setTimeout(()=>{e.focus(),i.parentNode&&i.parentNode.removeChild(i),n?ld(e,i.value,null,r,t):ld(e,i.textContent,i.innerHTML,r,t)},50)}function ld(e,t,n,i,r){let o=fk(e,t,n,i,e.state.selection.$from);if(e.someProp("handlePaste",l=>l(e,r,o||ge.empty)))return!0;if(!o)return!1;let s=IL(o),a=s?e.state.tr.replaceSelectionWith(s,i):e.state.tr.replaceSelection(o);return e.dispatch(a.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function Ek(e){let t=e.getData("text/plain")||e.getData("Text");if(t)return t;let n=e.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}ki.paste=(e,t)=>{let n=t;if(e.composing&&!Wo)return;let i=ad?null:n.clipboardData,r=e.input.shiftKey&&e.input.lastKeyCode!=45;i&&ld(e,Ek(i),i.getData("text/html"),r,n)?n.preventDefault():OL(e,n)};class kk{constructor(t,n,i){this.slice=t,this.move=n,this.node=i}}const LL=pr?"altKey":"ctrlKey";function Fk(e,t){let n=e.someProp("dragCopies",i=>!i(t));return n??!t[LL]}Ei.dragstart=(e,t)=>{let n=t,i=e.input.mouseDown;if(i&&i.done(),!n.dataTransfer)return;let r=e.state.selection,o=r.empty?null:e.posAtCoords(J0(n)),s;if(!(o&&o.pos>=r.from&&o.pos<=(r instanceof Pe?r.to-1:r.to))){if(i&&i.mightDrag)s=Pe.create(e.state.doc,i.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let d=e.docView.nearestDesc(n.target,!0);d&&d.node.type.spec.draggable&&d!=e.docView&&(s=Pe.create(e.state.doc,d.posBefore))}}let a=(s||e.state.selection).content(),{dom:l,text:u,slice:c}=Rb(e,a);(!n.dataTransfer.files.length||!ri||Z6>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(ad?"Text":"text/html",l.innerHTML),n.dataTransfer.effectAllowed="copyMove",ad||n.dataTransfer.setData("text/plain",u),e.dragging=new kk(c,Fk(e,n),s)};Ei.dragend=e=>{let t=e.dragging;window.setTimeout(()=>{e.dragging==t&&(e.dragging=null)},50)};ki.dragover=ki.dragenter=(e,t)=>t.preventDefault();ki.drop=(e,t)=>{let n=t,i=e.dragging;if(e.dragging=null,!n.dataTransfer)return;let r=e.posAtCoords(J0(n));if(!r)return;let o=e.state.doc.resolve(r.pos),s=i&&i.slice;s?e.someProp("transformPasted",f=>{s=f(s,e,!1)}):s=fk(e,Ek(n.dataTransfer),ad?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(i&&Fk(e,n));if(e.someProp("handleDrop",f=>f(e,n,s||ge.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?W6(e.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=e.state.tr;if(a){let{node:f}=i;f?f.replace(u):u.deleteSelection()}let c=u.mapping.map(l),d=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,h=u.doc;if(d?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(h))return;let p=u.doc.resolve(c);if(d&&Pe.isSelectable(s.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Pe(p));else{let f=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((g,m,v,b)=>f=b),u.setSelection(Ab(e,p,u.doc.resolve(f)))}e.focus(),e.dispatch(u.setMeta("uiEvent","drop"))};Ei.focus=e=>{e.input.lastFocus=Date.now(),e.focused||(e.domObserver.stop(),e.dom.classList.add("ProseMirror-focused"),e.domObserver.start(),e.focused=!0,setTimeout(()=>{e.docView&&e.hasFocus()&&!e.domObserver.currentSelection.eq(e.domSelectionRange())&&Qo(e)},20))};Ei.blur=(e,t)=>{let n=t;e.focused&&(e.domObserver.stop(),e.dom.classList.remove("ProseMirror-focused"),e.domObserver.start(),n.relatedTarget&&e.dom.contains(n.relatedTarget)&&e.domObserver.currentSelection.clear(),e.focused=!1)};Ei.beforeinput=(e,t)=>{if(ri&&Wo&&t.inputType=="deleteContentBackward"){e.domObserver.flushSoon();let{domChangeCount:i}=e.input;setTimeout(()=>{if(e.input.domChangeCount!=i||(e.dom.blur(),e.focus(),e.someProp("handleKeyDown",o=>o(e,Aa(8,"Backspace")))))return;let{$cursor:r}=e.state.selection;r&&r.pos>0&&e.dispatch(e.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let e in ki)Ei[e]=ki[e];function ud(e,t){if(e==t)return!0;for(let n in e)if(e[n]!==t[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}class af{constructor(t,n){this.toDOM=t,this.spec=n||_a,this.side=this.spec.side||0}map(t,n,i,r){let{pos:o,deleted:s}=t.mapResult(n.from+r,this.side<0?-1:1);return s?null:new Pn(o-i,o-i,this)}valid(){return!0}eq(t){return this==t||t instanceof af&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&ud(this.spec,t.spec))}destroy(t){this.spec.destroy&&this.spec.destroy(t)}}class ta{constructor(t,n){this.attrs=t,this.spec=n||_a}map(t,n,i,r){let o=t.map(n.from+r,this.spec.inclusiveStart?-1:1)-i,s=t.map(n.to+r,this.spec.inclusiveEnd?1:-1)-i;return o>=s?null:new Pn(o,s,this)}valid(t,n){return n.from<n.to}eq(t){return this==t||t instanceof ta&&ud(this.attrs,t.attrs)&&ud(this.spec,t.spec)}static is(t){return t.type instanceof ta}destroy(){}}class Ib{constructor(t,n){this.attrs=t,this.spec=n||_a}map(t,n,i,r){let o=t.mapResult(n.from+r,1);if(o.deleted)return null;let s=t.mapResult(n.to+r,-1);return s.deleted||s.pos<=o.pos?null:new Pn(o.pos-i,s.pos-i,this)}valid(t,n){let{index:i,offset:r}=t.content.findIndex(n.from),o;return r==n.from&&!(o=t.child(i)).isText&&r+o.nodeSize==n.to}eq(t){return this==t||t instanceof Ib&&ud(this.attrs,t.attrs)&&ud(this.spec,t.spec)}destroy(){}}class Pn{constructor(t,n,i){this.from=t,this.to=n,this.type=i}copy(t,n){return new Pn(t,n,this.type)}eq(t,n=0){return this.type.eq(t.type)&&this.from+n==t.from&&this.to+n==t.to}map(t,n,i){return this.type.map(t,this,n,i)}static widget(t,n,i){return new Pn(t,t,new af(n,i))}static inline(t,n,i,r){return new Pn(t,n,new ta(i,r))}static node(t,n,i,r){return new Pn(t,n,new Ib(i,r))}get spec(){return this.type.spec}get inline(){return this.type instanceof ta}get widget(){return this.type instanceof af}}const Bl=[],_a={};class Pt{constructor(t,n){this.local=t.length?t:Bl,this.children=n.length?n:Bl}static create(t,n){return n.length?lf(n,t,0,_a):ti}find(t,n,i){let r=[];return this.findInner(t??0,n??1e9,r,0,i),r}findInner(t,n,i,r,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=t&&(!o||o(a.spec))&&i.push(a.copy(a.from+r,a.to+r))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>t){let a=this.children[s]+1;this.children[s+2].findInner(t-a,n-a,i,r+a,o)}}map(t,n,i){return this==ti||t.maps.length==0?this:this.mapInner(t,n,0,0,i||_a)}mapInner(t,n,i,r,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(t,i,r);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?NL(this.children,s||[],t,n,i,r,o):s?new Pt(s.sort(Ga),Bl):ti}add(t,n){return n.length?this==ti?Pt.create(t,n):this.addInner(t,n,0):this}addInner(t,n,i){let r,o=0;t.forEach((a,l)=>{let u=l+i,c;if(c=Ak(n,a,u)){for(r||(r=this.children.slice());o<r.length&&r[o]<l;)o+=3;r[o]==l?r[o+2]=r[o+2].addInner(a,c,u+1):r.splice(o,0,l,l+a.nodeSize,lf(c,a,u+1,_a)),o+=3}});let s=Tk(o?Rk(n):n,-i);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new Pt(s.length?this.local.concat(s).sort(Ga):this.local,r||this.children)}remove(t){return t.length==0||this==ti?this:this.removeInner(t,0)}removeInner(t,n){let i=this.children,r=this.local;for(let o=0;o<i.length;o+=3){let s,a=i[o]+n,l=i[o+1]+n;for(let c=0,d;c<t.length;c++)(d=t[c])&&d.from>a&&d.to<l&&(t[c]=null,(s||(s=[])).push(d));if(!s)continue;i==this.children&&(i=this.children.slice());let u=i[o+2].removeInner(s,a+1);u!=ti?i[o+2]=u:(i.splice(o,3),o-=3)}if(r.length){for(let o=0,s;o<t.length;o++)if(s=t[o])for(let a=0;a<r.length;a++)r[a].eq(s,n)&&(r==this.local&&(r=this.local.slice()),r.splice(a--,1))}return i==this.children&&r==this.local?this:r.length||i.length?new Pt(r,i):ti}forChild(t,n){if(this==ti)return this;if(n.isLeaf)return Pt.empty;let i,r;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=t){this.children[a]==t&&(i=this.children[a+2]);break}let o=t+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof ta){let u=Math.max(o,l.from)-o,c=Math.min(s,l.to)-o;u<c&&(r||(r=[])).push(l.copy(u,c))}}if(r){let a=new Pt(r.sort(Ga),Bl);return i?new Bs([a,i]):a}return i||ti}eq(t){if(this==t)return!0;if(!(t instanceof Pt)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(t.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0}locals(t){return Ob(this.localsInner(t))}localsInner(t){if(this==ti)return Bl;if(t.inlineContent||!this.local.some(ta.is))return this.local;let n=[];for(let i=0;i<this.local.length;i++)this.local[i].type instanceof ta||n.push(this.local[i]);return n}forEachSet(t){t(this)}}Pt.empty=new Pt([],[]);Pt.removeOverlap=Ob;const ti=Pt.empty;class Bs{constructor(t){this.members=t}map(t,n){const i=this.members.map(r=>r.map(t,n,_a));return Bs.from(i)}forChild(t,n){if(n.isLeaf)return Pt.empty;let i=[];for(let r=0;r<this.members.length;r++){let o=this.members[r].forChild(t,n);o!=ti&&(o instanceof Bs?i=i.concat(o.members):i.push(o))}return Bs.from(i)}eq(t){if(!(t instanceof Bs)||t.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(t.members[n]))return!1;return!0}locals(t){let n,i=!0;for(let r=0;r<this.members.length;r++){let o=this.members[r].localsInner(t);if(o.length)if(!n)n=o;else{i&&(n=n.slice(),i=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?Ob(i?n:n.sort(Ga)):Bl}static from(t){switch(t.length){case 0:return ti;case 1:return t[0];default:return new Bs(t.every(n=>n instanceof Pt)?t:t.reduce((n,i)=>n.concat(i instanceof Pt?i:i.members),[]))}}forEachSet(t){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(t)}}function NL(e,t,n,i,r,o,s){let a=e.slice();for(let u=0,c=o;u<n.maps.length;u++){let d=0;n.maps[u].forEach((h,p,f,g)=>{let m=g-f-(p-h);for(let v=0;v<a.length;v+=3){let b=a[v+1];if(b<0||h>b+c-d)continue;let S=a[v]+c-d;p>=S?a[v+1]=h<=S?-2:-1:h>=c&&m&&(a[v]+=m,a[v+1]+=m)}d+=m}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(e[u]+o),d=c-r;if(d<0||d>=i.content.size){l=!0;continue}let h=n.map(e[u+1]+o,-1),p=h-r,{index:f,offset:g}=i.content.findIndex(d),m=i.maybeChild(f);if(m&&g==d&&g+m.nodeSize==p){let v=a[u+2].mapInner(n,m,c+1,e[u]+o+1,s);v!=ti?(a[u]=d,a[u+1]=p,a[u+2]=v):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=BL(a,e,t,n,r,o,s),c=lf(u,i,0,s);t=c.local;for(let d=0;d<a.length;d+=3)a[d+1]<0&&(a.splice(d,3),d-=3);for(let d=0,h=0;d<c.children.length;d+=3){let p=c.children[d];for(;h<a.length&&a[h]<p;)h+=3;a.splice(h,0,c.children[d],c.children[d+1],c.children[d+2])}}return new Pt(t.sort(Ga),a)}function Tk(e,t){if(!t||!e.length)return e;let n=[];for(let i=0;i<e.length;i++){let r=e[i];n.push(new Pn(r.from+t,r.to+t,r.type))}return n}function BL(e,t,n,i,r,o,s){function a(l,u){for(let c=0;c<l.local.length;c++){let d=l.local[c].map(i,r,u);d?n.push(d):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<e.length;l+=3)e[l+1]==-1&&a(e[l+2],t[l]+o+1);return n}function Ak(e,t,n){if(t.isLeaf)return null;let i=n+t.nodeSize,r=null;for(let o=0,s;o<e.length;o++)(s=e[o])&&s.from>n&&s.to<i&&((r||(r=[])).push(s),e[o]=null);return r}function Rk(e){let t=[];for(let n=0;n<e.length;n++)e[n]!=null&&t.push(e[n]);return t}function lf(e,t,n,i){let r=[],o=!1;t.forEach((a,l)=>{let u=Ak(e,a,l+n);if(u){o=!0;let c=lf(u,a,n+l+1,i);c!=ti&&r.push(l,l+a.nodeSize,c)}});let s=Tk(o?Rk(e):e,-n).sort(Ga);for(let a=0;a<s.length;a++)s[a].type.valid(t,s[a])||(i.onRemove&&i.onRemove(s[a].spec),s.splice(a--,1));return s.length||r.length?new Pt(s,r):ti}function Ga(e,t){return e.from-t.from||e.to-t.to}function Ob(e){let t=e;for(let n=0;n<t.length-1;n++){let i=t[n];if(i.from!=i.to)for(let r=n+1;r<t.length;r++){let o=t[r];if(o.from==i.from){o.to!=i.to&&(t==e&&(t=e.slice()),t[r]=o.copy(o.from,i.to),ox(t,r+1,o.copy(i.to,o.to)));continue}else{o.from<i.to&&(t==e&&(t=e.slice()),t[n]=i.copy(i.from,o.from),ox(t,r,i.copy(o.from,i.to)));break}}}return t}function ox(e,t,n){for(;t<e.length&&Ga(n,e[t])>0;)t++;e.splice(t,0,n)}function um(e){let t=[];return e.someProp("decorations",n=>{let i=n(e.state);i&&i!=ti&&t.push(i)}),e.cursorWrapper&&t.push(Pt.create(e.state.doc,[e.cursorWrapper.deco])),Bs.from(t)}const zL={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},HL=Li&&Qs<=11;class VL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset}}class _L{constructor(t,n){this.view=t,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new VL,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(i=>{for(let r=0;r<i.length;r++)this.queue.push(i[r]);Li&&Qs<=11&&i.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),HL&&(this.onCharData=i=>{this.queue.push({target:i.target,type:"characterData",oldValue:i.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,zL)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let t=this.observer.takeRecords();if(t.length){for(let n=0;n<t.length;n++)this.queue.push(t[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(JS(this.view)){if(this.suppressingSelectionUpdates)return Qo(this.view);if(Li&&Qs<=11&&!this.view.state.selection.empty){let t=this.view.domSelectionRange();if(t.focusNode&&sl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(t){if(!t.focusNode)return!0;let n=new Set,i;for(let o=t.focusNode;o;o=pu(o))n.add(o);for(let o=t.anchorNode;o;o=pu(o))if(n.has(o)){i=o;break}let r=i&&this.view.docView.nearestDesc(i);if(r&&r.ignoreMutation({type:"selection",target:i.nodeType==3?i.parentNode:i}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let t of this.observer.takeRecords())this.queue.push(t);return this.queue}flush(){let{view:t}=this;if(!t.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let i=t.domSelectionRange(),r=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(i)&&JS(t)&&!this.ignoreSelectionChange(i),o=-1,s=-1,a=!1,l=[];if(t.editable)for(let c=0;c<n.length;c++){let d=this.registerMutation(n[c],l);d&&(o=o<0?d.from:Math.min(d.from,o),s=s<0?d.to:Math.max(d.to,s),d.typeOver&&(a=!0))}if(wr&&l.length){let c=l.filter(d=>d.nodeName=="BR");if(c.length==2){let[d,h]=c;d.parentNode&&d.parentNode.parentNode==h.parentNode?h.remove():d.remove()}else{let{focusNode:d}=this.currentSelection;for(let h of c){let p=h.parentNode;p&&p.nodeName=="LI"&&(!d||$L(t,d)!=p)&&h.remove()}}}let u=null;o<0&&r&&t.input.lastFocus>Date.now()-200&&Math.max(t.input.lastTouch,t.input.lastClick.time)<Date.now()-300&&Y0(i)&&(u=Tb(t))&&u.eq(He.near(t.state.doc.resolve(0),1))?(t.input.lastFocus=0,Qo(t),this.currentSelection.set(i),t.scrollToSelection()):(o>-1||r)&&(o>-1&&(t.docView.markDirty(o,s),GL(t)),this.handleDOMChange(o,s,a,l),t.docView&&t.docView.dirty?t.updateState(t.state):this.currentSelection.eq(i)||Qo(t),this.currentSelection.set(i))}registerMutation(t,n){if(n.indexOf(t.target)>-1)return null;let i=this.view.docView.nearestDesc(t.target);if(t.type=="attributes"&&(i==this.view.docView||t.attributeName=="contenteditable"||t.attributeName=="style"&&!t.oldValue&&!t.target.getAttribute("style"))||!i||i.ignoreMutation(t))return null;if(t.type=="childList"){for(let c=0;c<t.addedNodes.length;c++){let d=t.addedNodes[c];n.push(d),d.nodeType==3&&(this.lastChangedTextNode=d)}if(i.contentDOM&&i.contentDOM!=i.dom&&!i.contentDOM.contains(t.target))return{from:i.posBefore,to:i.posAfter};let r=t.previousSibling,o=t.nextSibling;if(Li&&Qs<=11&&t.addedNodes.length)for(let c=0;c<t.addedNodes.length;c++){let{previousSibling:d,nextSibling:h}=t.addedNodes[c];(!d||Array.prototype.indexOf.call(t.addedNodes,d)<0)&&(r=d),(!h||Array.prototype.indexOf.call(t.addedNodes,h)<0)&&(o=h)}let s=r&&r.parentNode==t.target?Un(r)+1:0,a=i.localPosFromDOM(t.target,s,-1),l=o&&o.parentNode==t.target?Un(o):t.target.childNodes.length,u=i.localPosFromDOM(t.target,l,1);return{from:a,to:u}}else return t.type=="attributes"?{from:i.posAtStart-i.border,to:i.posAtEnd+i.border}:(this.lastChangedTextNode=t.target,{from:i.posAtStart,to:i.posAtEnd,typeOver:t.target.nodeValue==t.oldValue})}}let sx=new WeakMap,ax=!1;function GL(e){if(!sx.has(e)&&(sx.set(e,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(e.dom).whiteSpace)!==-1)){if(e.requiresGeckoHackNode=wr,ax)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),ax=!0}}function lx(e,t){let n=t.startContainer,i=t.startOffset,r=t.endContainer,o=t.endOffset,s=e.domAtPos(e.state.selection.anchor);return sl(s.node,s.offset,r,o)&&([n,i,r,o]=[r,o,n,i]),{anchorNode:n,anchorOffset:i,focusNode:r,focusOffset:o}}function WL(e,t){if(t.getComposedRanges){let r=t.getComposedRanges(e.root)[0];if(r)return lx(e,r)}let n;function i(r){r.preventDefault(),r.stopImmediatePropagation(),n=r.getTargetRanges()[0]}return e.dom.addEventListener("beforeinput",i,!0),document.execCommand("indent"),e.dom.removeEventListener("beforeinput",i,!0),n?lx(e,n):null}function $L(e,t){for(let n=t.parentNode;n&&n!=e.dom;n=n.parentNode){let i=e.docView.nearestDesc(n,!0);if(i&&i.node.isBlock)return n}return null}function UL(e,t,n){let{node:i,fromOffset:r,toOffset:o,from:s,to:a}=e.docView.parseRange(t,n),l=e.domSelectionRange(),u,c=l.anchorNode;if(c&&e.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],Y0(l)||u.push({node:l.focusNode,offset:l.focusOffset})),ri&&e.input.lastKeyCode===8)for(let m=o;m>r;m--){let v=i.childNodes[m-1],b=v.pmViewDesc;if(v.nodeName=="BR"&&!b){o=m;break}if(!b||b.size)break}let d=e.state.doc,h=e.someProp("domParser")||Jo.fromSchema(e.state.schema),p=d.resolve(s),f=null,g=h.parse(i,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:r,to:o,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:jL,context:p});if(u&&u[0].pos!=null){let m=u[0].pos,v=u[1]&&u[1].pos;v==null&&(v=m),f={anchor:m+s,head:v+s}}return{doc:g,sel:f,from:s,to:a}}function jL(e){let t=e.pmViewDesc;if(t)return t.parseRule();if(e.nodeName=="BR"&&e.parentNode){if(xi&&/^(ul|ol)$/i.test(e.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(e.parentNode.lastChild==e||xi&&/^(tr|table)$/i.test(e.parentNode.nodeName))return{ignore:!0}}else if(e.nodeName=="IMG"&&e.getAttribute("mark-placeholder"))return{ignore:!0};return null}const qL=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function KL(e,t,n,i,r){let o=e.input.compositionPendingChanges||(e.composing?e.input.compositionID:0);if(e.input.compositionPendingChanges=0,t<0){let T=e.input.lastSelectionTime>Date.now()-50?e.input.lastSelectionOrigin:null,F=Tb(e,T);if(F&&!e.state.selection.eq(F)){if(ri&&Wo&&e.input.lastKeyCode===13&&Date.now()-100<e.input.lastKeyCodeTime&&e.someProp("handleKeyDown",O=>O(e,Aa(13,"Enter"))))return;let D=e.state.tr.setSelection(F);T=="pointer"?D.setMeta("pointer",!0):T=="key"&&D.scrollIntoView(),o&&D.setMeta("composition",o),e.dispatch(D)}return}let s=e.state.doc.resolve(t),a=s.sharedDepth(n);t=s.before(a+1),n=e.state.doc.resolve(n).after(a+1);let l=e.state.selection,u=UL(e,t,n),c=e.state.doc,d=c.slice(u.from,u.to),h,p;e.input.lastKeyCode===8&&Date.now()-100<e.input.lastKeyCodeTime?(h=e.state.selection.to,p="end"):(h=e.state.selection.from,p="start"),e.input.lastKeyCode=null;let f=JL(d.content,u.doc.content,u.from,h,p);if(f&&e.input.domChangeCount++,(fu&&e.input.lastIOSEnter>Date.now()-225||Wo)&&r.some(T=>T.nodeType==1&&!qL.test(T.nodeName))&&(!f||f.endA>=f.endB)&&e.someProp("handleKeyDown",T=>T(e,Aa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(!f)if(i&&l instanceof Ne&&!l.empty&&l.$head.sameParent(l.$anchor)&&!e.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))f={start:l.from,endA:l.to,endB:l.to};else{if(u.sel){let T=ux(e,e.state.doc,u.sel);if(T&&!T.eq(e.state.selection)){let F=e.state.tr.setSelection(T);o&&F.setMeta("composition",o),e.dispatch(F)}}return}e.state.selection.from<e.state.selection.to&&f.start==f.endB&&e.state.selection instanceof Ne&&(f.start>e.state.selection.from&&f.start<=e.state.selection.from+2&&e.state.selection.from>=u.from?f.start=e.state.selection.from:f.endA<e.state.selection.to&&f.endA>=e.state.selection.to-2&&e.state.selection.to<=u.to&&(f.endB+=e.state.selection.to-f.endA,f.endA=e.state.selection.to)),Li&&Qs<=11&&f.endB==f.start+1&&f.endA==f.start&&f.start>u.from&&u.doc.textBetween(f.start-u.from-1,f.start-u.from+1)=="  "&&(f.start--,f.endA--,f.endB--);let g=u.doc.resolveNoCache(f.start-u.from),m=u.doc.resolveNoCache(f.endB-u.from),v=c.resolve(f.start),b=g.sameParent(m)&&g.parent.inlineContent&&v.end()>=f.endA,S;if((fu&&e.input.lastIOSEnter>Date.now()-225&&(!b||r.some(T=>T.nodeName=="DIV"||T.nodeName=="P"))||!b&&g.pos<u.doc.content.size&&(!g.sameParent(m)||!g.parent.inlineContent)&&!/\S/.test(u.doc.textBetween(g.pos,m.pos,"",""))&&(S=He.findFrom(u.doc.resolve(g.pos+1),1,!0))&&S.head>g.pos)&&e.someProp("handleKeyDown",T=>T(e,Aa(13,"Enter")))){e.input.lastIOSEnter=0;return}if(e.state.selection.anchor>f.start&&XL(c,f.start,f.endA,g,m)&&e.someProp("handleKeyDown",T=>T(e,Aa(8,"Backspace")))){Wo&&ri&&e.domObserver.suppressSelectionUpdates();return}ri&&f.endB==f.start&&(e.input.lastChromeDelete=Date.now()),Wo&&!b&&g.start()!=m.start()&&m.parentOffset==0&&g.depth==m.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==f.endA&&(f.endB-=2,m=u.doc.resolveNoCache(f.endB-u.from),setTimeout(()=>{e.someProp("handleKeyDown",function(T){return T(e,Aa(13,"Enter"))})},20));let y=f.start,x=f.endA,E=T=>{let F=T||e.state.tr.replace(y,x,u.doc.slice(f.start-u.from,f.endB-u.from));if(u.sel){let D=ux(e,F.doc,u.sel);D&&!(ri&&e.composing&&D.empty&&(f.start!=f.endB||e.input.lastChromeDelete<Date.now()-100)&&(D.head==y||D.head==F.mapping.map(x)-1)||Li&&D.empty&&D.head==y)&&F.setSelection(D)}return o&&F.setMeta("composition",o),F.scrollIntoView()},R;if(b){if(g.pos==m.pos){Li&&Qs<=11&&g.parentOffset==0&&(e.domObserver.suppressSelectionUpdates(),setTimeout(()=>Qo(e),20));let T=E(e.state.tr.delete(y,x)),F=c.resolve(f.start).marksAcross(c.resolve(f.endA));F&&T.ensureMarks(F),e.dispatch(T)}else if(f.endA==f.endB&&(R=YL(g.parent.content.cut(g.parentOffset,m.parentOffset),v.parent.content.cut(v.parentOffset,f.endA-v.start())))){let T=E(e.state.tr);R.type=="add"?T.addMark(y,x,R.mark):T.removeMark(y,x,R.mark),e.dispatch(T)}else if(g.parent.child(g.index()).isText&&g.index()==m.index()-(m.textOffset?0:1)){let T=g.parent.textBetween(g.parentOffset,m.parentOffset),F=()=>E(e.state.tr.insertText(T,y,x));e.someProp("handleTextInput",D=>D(e,y,x,T,F))||e.dispatch(F())}}else e.dispatch(E())}function ux(e,t,n){return Math.max(n.anchor,n.head)>t.content.size?null:Ab(e,t.resolve(n.anchor),t.resolve(n.head))}function YL(e,t){let n=e.firstChild.marks,i=t.firstChild.marks,r=n,o=i,s,a,l;for(let c=0;c<i.length;c++)r=i[c].removeFromSet(r);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(r.length==1&&o.length==0)a=r[0],s="add",l=c=>c.mark(a.addToSet(c.marks));else if(r.length==0&&o.length==1)a=o[0],s="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<t.childCount;c++)u.push(l(t.child(c)));if(J.from(u).eq(e))return{mark:a,type:s}}function XL(e,t,n,i,r){if(n-t<=r.pos-i.pos||cm(i,!0,!1)<r.pos)return!1;let o=e.resolve(t);if(!i.parent.isTextblock){let a=o.nodeAfter;return a!=null&&n==t+a.nodeSize}if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=e.resolve(cm(o,!0,!0));return!s.parent.isTextblock||s.pos>n||cm(s,!0,!1)<n?!1:i.parent.content.cut(i.parentOffset).eq(s.parent.content)}function cm(e,t,n){let i=e.depth,r=t?e.end():e.pos;for(;i>0&&(t||e.indexAfter(i)==e.node(i).childCount);)i--,r++,t=!1;if(n){let o=e.node(i).maybeChild(e.indexAfter(i));for(;o&&!o.isLeaf;)o=o.firstChild,r++}return r}function JL(e,t,n,i,r){let o=e.findDiffStart(t,n);if(o==null)return null;let{a:s,b:a}=e.findDiffEnd(t,n+e.size,n+t.size);if(r=="end"){let l=Math.max(0,o-Math.min(s,a));i-=s+l-o}if(s<o&&e.size<t.size){let l=i<=o&&i>=s?o-i:0;o-=l,o&&o<t.size&&cx(t.textBetween(o-1,o+1))&&(o+=l?1:-1),a=o+(a-s),s=o}else if(a<o){let l=i<=o&&i>=a?o-i:0;o-=l,o&&o<e.size&&cx(e.textBetween(o-1,o+1))&&(o+=l?1:-1),s=o+(s-a),a=o}return{start:o,endA:s,endB:a}}function cx(e){if(e.length!=2)return!1;let t=e.charCodeAt(0),n=e.charCodeAt(1);return t>=56320&&t<=57343&&n>=55296&&n<=56319}class Dk{constructor(t,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new mL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(gx),this.dispatch=this.dispatch.bind(this),this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):typeof t=="function"?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=px(this),hx(this),this.nodeViews=fx(this),this.docView=US(this.state.doc,dx(this),um(this),this.dom,this),this.domObserver=new _L(this,(i,r,o,s)=>KL(this,i,r,o,s)),this.domObserver.start(),vL(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let t=this._props;this._props={};for(let n in t)this._props[n]=t[n];this._props.state=this.state}return this._props}update(t){t.handleDOMEvents!=this._props.handleDOMEvents&&a1(this);let n=this._props;this._props=t,t.plugins&&(t.plugins.forEach(gx),this.directPlugins=t.plugins),this.updateStateInner(t.state,n)}setProps(t){let n={};for(let i in this._props)n[i]=this._props[i];n.state=this.state;for(let i in t)n[i]=t[i];this.update(n)}updateState(t){this.updateStateInner(t,this._props)}updateStateInner(t,n){var i;let r=this.state,o=!1,s=!1;t.storedMarks&&this.composing&&(xk(this),s=!0),this.state=t;let a=r.plugins!=t.plugins||this._props.plugins!=n.plugins;if(a||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let p=fx(this);QL(p,this.nodeViews)&&(this.nodeViews=p,o=!0)}(a||n.handleDOMEvents!=this._props.handleDOMEvents)&&a1(this),this.editable=px(this),hx(this);let l=um(this),u=dx(this),c=r.plugins!=t.plugins&&!r.doc.eq(t.doc)?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",d=o||!this.docView.matchesNode(t.doc,u,l);(d||!t.selection.eq(r.selection))&&(s=!0);let h=c=="preserve"&&s&&this.dom.style.overflowAnchor==null&&MO(this);if(s){this.domObserver.stop();let p=d&&(Li||ri)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&ZL(r.selection,t.selection);if(d){let f=ri?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=DL(this)),(o||!this.docView.update(t.doc,u,l,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=US(t.doc,u,l,this.dom,this)),f&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&tL(this))?Qo(this,p):(dk(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),!((i=this.dragging)===null||i===void 0)&&i.node&&!r.doc.eq(t.doc)&&this.updateDraggedNode(this.dragging,r),c=="reset"?this.dom.scrollTop=0:c=="to selection"?this.scrollToSelection():h&&PO(h)}scrollToSelection(){let t=this.domSelectionRange().focusNode;if(!(!t||!this.dom.contains(t.nodeType==1?t:t.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Pe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&HS(this,n.getBoundingClientRect(),t)}else HS(this,this.coordsAtPos(this.state.selection.head,1),t)}}destroyPluginViews(){let t;for(;t=this.pluginViews.pop();)t.destroy&&t.destroy()}updatePluginViews(t){if(!t||t.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let i=this.directPlugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let i=this.state.plugins[n];i.spec.view&&this.pluginViews.push(i.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let i=this.pluginViews[n];i.update&&i.update(this,t)}}updateDraggedNode(t,n){let i=t.node,r=-1;if(this.state.doc.nodeAt(i.from)==i.node)r=i.from;else{let o=i.from+(this.state.doc.content.size-n.doc.content.size);(o>0&&this.state.doc.nodeAt(o))==i.node&&(r=o)}this.dragging=new kk(t.slice,t.move,r<0?void 0:Pe.create(this.state.doc,r))}someProp(t,n){let i=this._props&&this._props[t],r;if(i!=null&&(r=n?n(i):i))return r;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[t];if(a!=null&&(r=n?n(a):a))return r}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[t];if(a!=null&&(r=n?n(a):a))return r}}hasFocus(){if(Li){let t=this.root.activeElement;if(t==this.dom)return!0;if(!t||!this.dom.contains(t))return!1;for(;t&&this.dom!=t&&this.dom.contains(t);){if(t.contentEditable=="false")return!1;t=t.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&IO(this.dom),Qo(this),this.domObserver.start()}get root(){let t=this._root;if(t==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return t||document}updateRoot(){this._root=null}posAtCoords(t){return zO(this,t)}coordsAtPos(t,n=1){return ik(this,t,n)}domAtPos(t,n=0){return this.docView.domFromPos(t,n)}nodeDOM(t){let n=this.docView.descAt(t);return n?n.nodeDOM:null}posAtDOM(t,n,i=-1){let r=this.docView.posFromDOM(t,n,i);if(r==null)throw new RangeError("DOM position not inside the editor");return r}endOfTextblock(t,n){return WO(this,n||this.state,t)}pasteHTML(t,n){return ld(this,"",t,!1,n||new ClipboardEvent("paste"))}pasteText(t,n){return ld(this,t,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(t){return Rb(this,t)}destroy(){this.docView&&(CL(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],um(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,yO())}get isDestroyed(){return this.docView==null}dispatchEvent(t){return yL(this,t)}domSelectionRange(){let t=this.domSelection();return t?xi&&this.root.nodeType===11&&kO(this.dom.ownerDocument)==this.dom&&WL(this,t)||t:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}Dk.prototype.dispatch=function(e){let t=this._props.dispatchTransaction;t?t.call(this,e):this.updateState(this.state.apply(e))};function dx(e){let t=Object.create(null);return t.class="ProseMirror",t.contenteditable=String(e.editable),e.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(e.state)),n)for(let i in n)i=="class"?t.class+=" "+n[i]:i=="style"?t.style=(t.style?t.style+";":"")+n[i]:!t[i]&&i!="contenteditable"&&i!="nodeName"&&(t[i]=String(n[i]))}),t.translate||(t.translate="no"),[Pn.node(0,e.state.doc.content.size,t)]}function hx(e){if(e.markCursor){let t=document.createElement("img");t.className="ProseMirror-separator",t.setAttribute("mark-placeholder","true"),t.setAttribute("alt",""),e.cursorWrapper={dom:t,deco:Pn.widget(e.state.selection.from,t,{raw:!0,marks:e.markCursor})}}else e.cursorWrapper=null}function px(e){return!e.someProp("editable",t=>t(e.state)===!1)}function ZL(e,t){let n=Math.min(e.$anchor.sharedDepth(e.head),t.$anchor.sharedDepth(t.head));return e.$anchor.start(n)!=t.$anchor.start(n)}function fx(e){let t=Object.create(null);function n(i){for(let r in i)Object.prototype.hasOwnProperty.call(t,r)||(t[r]=i[r])}return e.someProp("nodeViews",n),e.someProp("markViews",n),t}function QL(e,t){let n=0,i=0;for(let r in e){if(e[r]!=t[r])return!0;n++}for(let r in t)i++;return n!=i}function gx(e){if(e.spec.state||e.spec.filterTransaction||e.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var as={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},uf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},eN=typeof navigator<"u"&&/Mac/.test(navigator.platform),tN=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var jn=0;jn<10;jn++)as[48+jn]=as[96+jn]=String(jn);for(var jn=1;jn<=24;jn++)as[jn+111]="F"+jn;for(var jn=65;jn<=90;jn++)as[jn]=String.fromCharCode(jn+32),uf[jn]=String.fromCharCode(jn);for(var dm in as)uf.hasOwnProperty(dm)||(uf[dm]=as[dm]);function Mk(e){var t=eN&&e.metaKey&&e.shiftKey&&!e.ctrlKey&&!e.altKey||tN&&e.shiftKey&&e.key&&e.key.length==1||e.key=="Unidentified",n=!t&&e.key||(e.shiftKey?uf:as)[e.keyCode]||e.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const nN=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),iN=typeof navigator<"u"&&/Win/.test(navigator.platform);function rN(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let i,r,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))nN?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function oN(e){let t=Object.create(null);for(let n in e)t[rN(n)]=e[n];return t}function hm(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function sN(e){return new rn({props:{handleKeyDown:Pk(e)}})}function Pk(e){let t=oN(e);return function(n,i){let r=Mk(i),o,s=t[hm(r,i)];if(s&&s(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let a=t[hm(r,i,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(iN&&i.ctrlKey&&i.altKey)&&(o=as[i.keyCode])&&o!=r){let a=t[hm(o,i)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}const Lb=(e,t)=>e.selection.empty?!1:(t&&t(e.tr.deleteSelection().scrollIntoView()),!0);function Ik(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("backward",e):n.parentOffset>0)?null:n}const Ok=(e,t,n)=>{let i=Ik(e,n);if(!i)return!1;let r=Nb(i);if(!r){let s=i.blockRange(),a=s&&Lu(s);return a==null?!1:(t&&t(e.tr.lift(s,a).scrollIntoView()),!0)}let o=r.nodeBefore;if(Wk(e,r,t,-1))return!0;if(i.parent.content.size==0&&(gu(o,"end")||Pe.isSelectable(o)))for(let s=i.depth;;s--){let a=q0(e.doc,i.before(s),i.after(s),ge.empty);if(a&&a.slice.size<a.to-a.from){if(t){let l=e.tr.step(a);l.setSelection(gu(o,"end")?He.findFrom(l.doc.resolve(l.mapping.map(r.pos,-1)),-1):Pe.create(l.doc,r.pos-o.nodeSize)),t(l.scrollIntoView())}return!0}if(s==1||i.node(s-1).childCount>1)break}return o.isAtom&&r.depth==i.depth-1?(t&&t(e.tr.delete(r.pos-o.nodeSize,r.pos).scrollIntoView()),!0):!1},aN=(e,t,n)=>{let i=Ik(e,n);if(!i)return!1;let r=Nb(i);return r?Lk(e,r,t):!1},lN=(e,t,n)=>{let i=Bk(e,n);if(!i)return!1;let r=Bb(i);return r?Lk(e,r,t):!1};function Lk(e,t,n){let i=t.nodeBefore,r=i,o=t.pos-1;for(;!r.isTextblock;o--){if(r.type.spec.isolating)return!1;let c=r.lastChild;if(!c)return!1;r=c}let s=t.nodeAfter,a=s,l=t.pos+1;for(;!a.isTextblock;l++){if(a.type.spec.isolating)return!1;let c=a.firstChild;if(!c)return!1;a=c}let u=q0(e.doc,o,l,ge.empty);if(!u||u.from!=o||u instanceof Bn&&u.slice.size>=l-o)return!1;if(n){let c=e.tr.step(u);c.setSelection(Ne.create(c.doc,o)),n(c.scrollIntoView())}return!0}function gu(e,t,n=!1){for(let i=e;i;i=t=="start"?i.firstChild:i.lastChild){if(i.isTextblock)return!0;if(n&&i.childCount!=1)return!1}return!1}const Nk=(e,t,n)=>{let{$head:i,empty:r}=e.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("backward",e):i.parentOffset>0)return!1;o=Nb(i)}let s=o&&o.nodeBefore;return!s||!Pe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Pe.create(e.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function Nb(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){if(e.index(t)>0)return e.doc.resolve(e.before(t+1));if(e.node(t).type.spec.isolating)break}return null}function Bk(e,t){let{$cursor:n}=e.selection;return!n||(t?!t.endOfTextblock("forward",e):n.parentOffset<n.parent.content.size)?null:n}const zk=(e,t,n)=>{let i=Bk(e,n);if(!i)return!1;let r=Bb(i);if(!r)return!1;let o=r.nodeAfter;if(Wk(e,r,t,1))return!0;if(i.parent.content.size==0&&(gu(o,"start")||Pe.isSelectable(o))){let s=q0(e.doc,i.before(),i.after(),ge.empty);if(s&&s.slice.size<s.to-s.from){if(t){let a=e.tr.step(s);a.setSelection(gu(o,"start")?He.findFrom(a.doc.resolve(a.mapping.map(r.pos)),1):Pe.create(a.doc,a.mapping.map(r.pos))),t(a.scrollIntoView())}return!0}}return o.isAtom&&r.depth==i.depth-1?(t&&t(e.tr.delete(r.pos,r.pos+o.nodeSize).scrollIntoView()),!0):!1},Hk=(e,t,n)=>{let{$head:i,empty:r}=e.selection,o=i;if(!r)return!1;if(i.parent.isTextblock){if(n?!n.endOfTextblock("forward",e):i.parentOffset<i.parent.content.size)return!1;o=Bb(i)}let s=o&&o.nodeAfter;return!s||!Pe.isSelectable(s)?!1:(t&&t(e.tr.setSelection(Pe.create(e.doc,o.pos)).scrollIntoView()),!0)};function Bb(e){if(!e.parent.type.spec.isolating)for(let t=e.depth-1;t>=0;t--){let n=e.node(t);if(e.index(t)+1<n.childCount)return e.doc.resolve(e.after(t+1));if(n.type.spec.isolating)break}return null}const uN=(e,t)=>{let n=e.selection,i=n instanceof Pe,r;if(i){if(n.node.isTextblock||!ha(e.doc,n.from))return!1;r=n.from}else if(r=j0(e.doc,n.from,-1),r==null)return!1;if(t){let o=e.tr.join(r);i&&o.setSelection(Pe.create(o.doc,r-e.doc.resolve(r).nodeBefore.nodeSize)),t(o.scrollIntoView())}return!0},cN=(e,t)=>{let n=e.selection,i;if(n instanceof Pe){if(n.node.isTextblock||!ha(e.doc,n.to))return!1;i=n.to}else if(i=j0(e.doc,n.to,1),i==null)return!1;return t&&t(e.tr.join(i).scrollIntoView()),!0},dN=(e,t)=>{let{$from:n,$to:i}=e.selection,r=n.blockRange(i),o=r&&Lu(r);return o==null?!1:(t&&t(e.tr.lift(r,o).scrollIntoView()),!0)},Vk=(e,t)=>{let{$head:n,$anchor:i}=e.selection;return!n.parent.type.spec.code||!n.sameParent(i)?!1:(t&&t(e.tr.insertText(`
`).scrollIntoView()),!0)};function zb(e){for(let t=0;t<e.edgeCount;t++){let{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const hN=(e,t)=>{let{$head:n,$anchor:i}=e.selection;if(!n.parent.type.spec.code||!n.sameParent(i))return!1;let r=n.node(-1),o=n.indexAfter(-1),s=zb(r.contentMatchAt(o));if(!s||!r.canReplaceWith(o,o,s))return!1;if(t){let a=n.after(),l=e.tr.replaceWith(a,a,s.createAndFill());l.setSelection(He.near(l.doc.resolve(a),1)),t(l.scrollIntoView())}return!0},_k=(e,t)=>{let n=e.selection,{$from:i,$to:r}=n;if(n instanceof er||i.parent.inlineContent||r.parent.inlineContent)return!1;let o=zb(r.parent.contentMatchAt(r.indexAfter()));if(!o||!o.isTextblock)return!1;if(t){let s=(!i.parentOffset&&r.index()<r.parent.childCount?i:r).pos,a=e.tr.insert(s,o.createAndFill());a.setSelection(Ne.create(a.doc,s+1)),t(a.scrollIntoView())}return!0},Gk=(e,t)=>{let{$cursor:n}=e.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Zo(e.doc,o))return t&&t(e.tr.split(o).scrollIntoView()),!0}let i=n.blockRange(),r=i&&Lu(i);return r==null?!1:(t&&t(e.tr.lift(i,r).scrollIntoView()),!0)};function pN(e){return(t,n)=>{let{$from:i,$to:r}=t.selection;if(t.selection instanceof Pe&&t.selection.node.isBlock)return!i.parentOffset||!Zo(t.doc,i.pos)?!1:(n&&n(t.tr.split(i.pos).scrollIntoView()),!0);if(!i.depth)return!1;let o=[],s,a,l=!1,u=!1;for(let p=i.depth;;p--)if(i.node(p).isBlock){l=i.end(p)==i.pos+(i.depth-p),u=i.start(p)==i.pos-(i.depth-p),a=zb(i.node(p-1).contentMatchAt(i.indexAfter(p-1))),o.unshift(l&&a?{type:a}:null),s=p;break}else{if(p==1)return!1;o.unshift(null)}let c=t.tr;(t.selection instanceof Ne||t.selection instanceof er)&&c.deleteSelection();let d=c.mapping.map(i.pos),h=Zo(c.doc,d,o.length,o);if(h||(o[0]=a?{type:a}:null,h=Zo(c.doc,d,o.length,o)),!h)return!1;if(c.split(d,o.length,o),!l&&u&&i.node(s).type!=a){let p=c.mapping.map(i.before(s)),f=c.doc.resolve(p);a&&i.node(s-1).canReplaceWith(f.index(),f.index()+1,a)&&c.setNodeMarkup(c.mapping.map(i.before(s)),a)}return n&&n(c.scrollIntoView()),!0}}const fN=pN(),gN=(e,t)=>{let{$from:n,to:i}=e.selection,r,o=n.sharedDepth(i);return o==0?!1:(r=n.before(o),t&&t(e.tr.setSelection(Pe.create(e.doc,r))),!0)};function mN(e,t,n){let i=t.nodeBefore,r=t.nodeAfter,o=t.index();return!i||!r||!i.type.compatibleContent(r.type)?!1:!i.content.size&&t.parent.canReplace(o-1,o)?(n&&n(e.tr.delete(t.pos-i.nodeSize,t.pos).scrollIntoView()),!0):!t.parent.canReplace(o,o+1)||!(r.isTextblock||ha(e.doc,t.pos))?!1:(n&&n(e.tr.join(t.pos).scrollIntoView()),!0)}function Wk(e,t,n,i){let r=t.nodeBefore,o=t.nodeAfter,s,a,l=r.type.spec.isolating||o.type.spec.isolating;if(!l&&mN(e,t,n))return!0;let u=!l&&t.parent.canReplace(t.index(),t.index()+1);if(u&&(s=(a=r.contentMatchAt(r.childCount)).findWrapping(o.type))&&a.matchType(s[0]||o.type).validEnd){if(n){let p=t.pos+o.nodeSize,f=J.empty;for(let v=s.length-1;v>=0;v--)f=J.from(s[v].create(null,f));f=J.from(r.copy(f));let g=e.tr.step(new Hn(t.pos-1,p,t.pos,p,new ge(f,1,0),s.length,!0)),m=g.doc.resolve(p+2*s.length);m.nodeAfter&&m.nodeAfter.type==r.type&&ha(g.doc,m.pos)&&g.join(m.pos),n(g.scrollIntoView())}return!0}let c=o.type.spec.isolating||i>0&&l?null:He.findFrom(t,1),d=c&&c.$from.blockRange(c.$to),h=d&&Lu(d);if(h!=null&&h>=t.depth)return n&&n(e.tr.lift(d,h).scrollIntoView()),!0;if(u&&gu(o,"start",!0)&&gu(r,"end")){let p=r,f=[];for(;f.push(p),!p.isTextblock;)p=p.lastChild;let g=o,m=1;for(;!g.isTextblock;g=g.firstChild)m++;if(p.canReplace(p.childCount,p.childCount,g.content)){if(n){let v=J.empty;for(let S=f.length-1;S>=0;S--)v=J.from(f[S].copy(v));let b=e.tr.step(new Hn(t.pos-f.length,t.pos+o.nodeSize,t.pos+m,t.pos+o.nodeSize-m,new ge(v,f.length,0),0,!0));n(b.scrollIntoView())}return!0}}return!1}function $k(e){return function(t,n){let i=t.selection,r=e<0?i.$from:i.$to,o=r.depth;for(;r.node(o).isInline;){if(!o)return!1;o--}return r.node(o).isTextblock?(n&&n(t.tr.setSelection(Ne.create(t.doc,e<0?r.start(o):r.end(o)))),!0):!1}}const vN=$k(-1),CN=$k(1);function bN(e,t=null){return function(n,i){let{$from:r,$to:o}=n.selection,s=r.blockRange(o),a=s&&xb(s,e,t);return a?(i&&i(n.tr.wrap(s,a).scrollIntoView()),!0):!1}}function mx(e,t=null){return function(n,i){let r=!1;for(let o=0;o<n.selection.ranges.length&&!r;o++){let{$from:{pos:s},$to:{pos:a}}=n.selection.ranges[o];n.doc.nodesBetween(s,a,(l,u)=>{if(r)return!1;if(!(!l.isTextblock||l.hasMarkup(e,t)))if(l.type==e)r=!0;else{let c=n.doc.resolve(u),d=c.index();r=c.parent.canReplaceWith(d,d+1,e)}})}if(!r)return!1;if(i){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:a},$to:{pos:l}}=n.selection.ranges[s];o.setBlockType(a,l,e,t)}i(o.scrollIntoView())}return!0}}function Hb(...e){return function(t,n,i){for(let r=0;r<e.length;r++)if(e[r](t,n,i))return!0;return!1}}Hb(Lb,Ok,Nk);Hb(Lb,zk,Hk);Hb(Vk,_k,Gk,fN);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function yN(e,t=null){return function(n,i){let{$from:r,$to:o}=n.selection,s=r.blockRange(o);if(!s)return!1;let a=i?n.tr:null;return wN(a,s,e,t)?(i&&i(a.scrollIntoView()),!0):!1}}function wN(e,t,n,i=null){let r=!1,o=t,s=t.$from.doc;if(t.depth>=2&&t.$from.node(t.depth-1).type.compatibleContent(n)&&t.startIndex==0){if(t.$from.index(t.depth-1)==0)return!1;let l=s.resolve(t.start-2);o=new nf(l,l,t.depth),t.endIndex<t.parent.childCount&&(t=new nf(t.$from,s.resolve(t.$to.end(t.depth)),t.depth)),r=!0}let a=xb(o,n,i,t);return a?(e&&SN(e,t,a,r,n),!0):!1}function SN(e,t,n,i,r){let o=J.empty;for(let c=n.length-1;c>=0;c--)o=J.from(n[c].type.create(n[c].attrs,o));e.step(new Hn(t.start-(i?2:0),t.end,t.start,t.end,new ge(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==r&&(s=c+1);let a=n.length-s,l=t.start+n.length-(i?2:0),u=t.parent;for(let c=t.startIndex,d=t.endIndex,h=!0;c<d;c++,h=!1)!h&&Zo(e.doc,l,a)&&(e.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return e}function xN(e){return function(t,n){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,s=>s.childCount>0&&s.firstChild.type==e);return o?n?i.node(o.depth-1).type==e?EN(t,n,e,o):kN(t,n,o):!0:!1}}function EN(e,t,n,i){let r=e.tr,o=i.end,s=i.$to.end(i.depth);o<s&&(r.step(new Hn(o-1,s,o,s,new ge(J.from(n.create(null,i.parent.copy())),1,0),1,!0)),i=new nf(r.doc.resolve(i.$from.pos),r.doc.resolve(s),i.depth));const a=Lu(i);if(a==null)return!1;r.lift(i,a);let l=r.doc.resolve(r.mapping.map(o,-1)-1);return ha(r.doc,l.pos)&&l.nodeBefore.type==l.nodeAfter.type&&r.join(l.pos),t(r.scrollIntoView()),!0}function kN(e,t,n){let i=e.tr,r=n.parent;for(let p=n.end,f=n.endIndex-1,g=n.startIndex;f>g;f--)p-=r.child(f).nodeSize,i.delete(p-1,p+1);let o=i.doc.resolve(n.start),s=o.nodeAfter;if(i.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==r.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(a?0:1),c+1,s.content.append(l?J.empty:J.from(r))))return!1;let d=o.pos,h=d+s.nodeSize;return i.step(new Hn(d-(a?1:0),h+(l?1:0),d+1,h-1,new ge((a?J.empty:J.from(r.copy(J.empty))).append(l?J.empty:J.from(r.copy(J.empty))),a?0:1,l?0:1),a?0:1)),t(i.scrollIntoView()),!0}function FN(e){return function(t,n){let{$from:i,$to:r}=t.selection,o=i.blockRange(r,u=>u.childCount>0&&u.firstChild.type==e);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let a=o.parent,l=a.child(s-1);if(l.type!=e)return!1;if(n){let u=l.lastChild&&l.lastChild.type==a.type,c=J.from(u?e.create():null),d=new ge(J.from(e.create(null,J.from(a.type.create(null,c)))),u?3:1,0),h=o.start,p=o.end;n(t.tr.step(new Hn(h-(u?3:1),p,h,p,d,1,!0)).scrollIntoView())}return!0}}function Z0(e){const{state:t,transaction:n}=e;let{selection:i}=n,{doc:r}=n,{storedMarks:o}=n;return{...t,apply:t.apply.bind(t),applyTransaction:t.applyTransaction.bind(t),plugins:t.plugins,schema:t.schema,reconfigure:t.reconfigure.bind(t),toJSON:t.toJSON.bind(t),get storedMarks(){return o},get selection(){return i},get doc(){return r},get tr(){return i=n.selection,r=n.doc,o=n.storedMarks,n}}}class Q0{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:n,state:i}=this,{view:r}=n,{tr:o}=i,s=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([a,l])=>[a,(...c)=>{const d=l(...c)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&r.dispatch(o),d}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,n=!0){const{rawCommands:i,editor:r,state:o}=this,{view:s}=r,a=[],l=!!t,u=t||o.tr,c=()=>(!l&&n&&!u.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(u),a.every(h=>h===!0)),d={...Object.fromEntries(Object.entries(i).map(([h,p])=>[h,(...g)=>{const m=this.buildProps(u,n),v=p(...g)(m);return a.push(v),d}])),run:c};return d}createCan(t){const{rawCommands:n,state:i}=this,r=!1,o=t||i.tr,s=this.buildProps(o,r);return{...Object.fromEntries(Object.entries(n).map(([l,u])=>[l,(...c)=>u(...c)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,r)}}buildProps(t,n=!0){const{rawCommands:i,editor:r,state:o}=this,{view:s}=r,a={tr:t,editor:r,view:s,state:Z0({state:o,transaction:t}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(t,n),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(i).map(([l,u])=>[l,(...c)=>u(...c)(a)]))}};return a}}class TN{constructor(){this.callbacks={}}on(t,n){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(n),this}emit(t,...n){const i=this.callbacks[t];return i&&i.forEach(r=>r.apply(this,n)),this}off(t,n){const i=this.callbacks[t];return i&&(n?this.callbacks[t]=i.filter(r=>r!==n):delete this.callbacks[t]),this}once(t,n){const i=(...r)=>{this.off(t,i),n.apply(this,r)};return this.on(t,i)}removeAllListeners(){this.callbacks={}}}function Ee(e,t,n){return e.config[t]===void 0&&e.parent?Ee(e.parent,t,n):typeof e.config[t]=="function"?e.config[t].bind({...n,parent:e.parent?Ee(e.parent,t,n):null}):e.config[t]}function eg(e){const t=e.filter(r=>r.type==="extension"),n=e.filter(r=>r.type==="node"),i=e.filter(r=>r.type==="mark");return{baseExtensions:t,nodeExtensions:n,markExtensions:i}}function Uk(e){const t=[],{nodeExtensions:n,markExtensions:i}=eg(e),r=[...n,...i],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return e.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage,extensions:r},l=Ee(s,"addGlobalAttributes",a);if(!l)return;l().forEach(c=>{c.types.forEach(d=>{Object.entries(c.attributes).forEach(([h,p])=>{t.push({type:d,name:h,attribute:{...o,...p}})})})})}),r.forEach(s=>{const a={name:s.name,options:s.options,storage:s.storage},l=Ee(s,"addAttributes",a);if(!l)return;const u=l();Object.entries(u).forEach(([c,d])=>{const h={...o,...d};typeof(h==null?void 0:h.default)=="function"&&(h.default=h.default()),h!=null&&h.isRequired&&(h==null?void 0:h.default)===void 0&&delete h.default,t.push({type:s.name,name:c,attribute:h})})}),t}function _n(e,t){if(typeof e=="string"){if(!t.nodes[e])throw Error(`There is no node type named '${e}'. Maybe you forgot to add the extension?`);return t.nodes[e]}return e}function St(...e){return e.filter(t=>!!t).reduce((t,n)=>{const i={...t};return Object.entries(n).forEach(([r,o])=>{if(!i[r]){i[r]=o;return}if(r==="class"){const a=o?String(o).split(" "):[],l=i[r]?i[r].split(" "):[],u=a.filter(c=>!l.includes(c));i[r]=[...l,...u].join(" ")}else if(r==="style"){const a=o?o.split(";").map(c=>c.trim()).filter(Boolean):[],l=i[r]?i[r].split(";").map(c=>c.trim()).filter(Boolean):[],u=new Map;l.forEach(c=>{const[d,h]=c.split(":").map(p=>p.trim());u.set(d,h)}),a.forEach(c=>{const[d,h]=c.split(":").map(p=>p.trim());u.set(d,h)}),i[r]=Array.from(u.entries()).map(([c,d])=>`${c}: ${d}`).join("; ")}else i[r]=o}),i},{})}function l1(e,t){return t.filter(n=>n.type===e.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(e.attrs)||{}:{[n.name]:e.attrs[n.name]}).reduce((n,i)=>St(n,i),{})}function jk(e){return typeof e=="function"}function tt(e,t=void 0,...n){return jk(e)?t?e.bind(t)(...n):e(...n):e}function AN(e={}){return Object.keys(e).length===0&&e.constructor===Object}function RN(e){return typeof e!="string"?e:e.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(e):e==="true"?!0:e==="false"?!1:e}function vx(e,t){return"style"in e?e:{...e,getAttrs:n=>{const i=e.getAttrs?e.getAttrs(n):e.attrs;if(i===!1)return!1;const r=t.reduce((o,s)=>{const a=s.attribute.parseHTML?s.attribute.parseHTML(n):RN(n.getAttribute(s.name));return a==null?o:{...o,[s.name]:a}},{});return{...i,...r}}}}function Cx(e){return Object.fromEntries(Object.entries(e).filter(([t,n])=>t==="attrs"&&AN(n)?!1:n!=null))}function DN(e,t){var n;const i=Uk(e),{nodeExtensions:r,markExtensions:o}=eg(e),s=(n=r.find(u=>Ee(u,"topNode")))===null||n===void 0?void 0:n.name,a=Object.fromEntries(r.map(u=>{const c=i.filter(v=>v.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},h=e.reduce((v,b)=>{const S=Ee(b,"extendNodeSchema",d);return{...v,...S?S(u):{}}},{}),p=Cx({...h,content:tt(Ee(u,"content",d)),marks:tt(Ee(u,"marks",d)),group:tt(Ee(u,"group",d)),inline:tt(Ee(u,"inline",d)),atom:tt(Ee(u,"atom",d)),selectable:tt(Ee(u,"selectable",d)),draggable:tt(Ee(u,"draggable",d)),code:tt(Ee(u,"code",d)),whitespace:tt(Ee(u,"whitespace",d)),linebreakReplacement:tt(Ee(u,"linebreakReplacement",d)),defining:tt(Ee(u,"defining",d)),isolating:tt(Ee(u,"isolating",d)),attrs:Object.fromEntries(c.map(v=>{var b;return[v.name,{default:(b=v==null?void 0:v.attribute)===null||b===void 0?void 0:b.default}]}))}),f=tt(Ee(u,"parseHTML",d));f&&(p.parseDOM=f.map(v=>vx(v,c)));const g=Ee(u,"renderHTML",d);g&&(p.toDOM=v=>g({node:v,HTMLAttributes:l1(v,c)}));const m=Ee(u,"renderText",d);return m&&(p.toText=m),[u.name,p]})),l=Object.fromEntries(o.map(u=>{const c=i.filter(m=>m.type===u.name),d={name:u.name,options:u.options,storage:u.storage,editor:t},h=e.reduce((m,v)=>{const b=Ee(v,"extendMarkSchema",d);return{...m,...b?b(u):{}}},{}),p=Cx({...h,inclusive:tt(Ee(u,"inclusive",d)),excludes:tt(Ee(u,"excludes",d)),group:tt(Ee(u,"group",d)),spanning:tt(Ee(u,"spanning",d)),code:tt(Ee(u,"code",d)),attrs:Object.fromEntries(c.map(m=>{var v;return[m.name,{default:(v=m==null?void 0:m.attribute)===null||v===void 0?void 0:v.default}]}))}),f=tt(Ee(u,"parseHTML",d));f&&(p.parseDOM=f.map(m=>vx(m,c)));const g=Ee(u,"renderHTML",d);return g&&(p.toDOM=m=>g({mark:m,HTMLAttributes:l1(m,c)})),[u.name,p]}));return new yb({topNode:s,nodes:a,marks:l})}function pm(e,t){return t.nodes[e]||t.marks[e]||null}function bx(e,t){return Array.isArray(t)?t.some(n=>(typeof n=="string"?n:n.name)===e.name):t}function Kd(e,t){const n=gl.fromSchema(t).serializeFragment(e),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}const MN=(e,t=500)=>{let n="";const i=e.parentOffset;return e.parent.nodesBetween(Math.max(0,i-t),i,(r,o,s,a)=>{var l,u;const c=((u=(l=r.type.spec).toText)===null||u===void 0?void 0:u.call(l,{node:r,pos:o,parent:s,index:a}))||r.textContent||"%leaf%";n+=r.isAtom&&!r.isText?c:c.slice(0,Math.max(0,i-o))}),n};function Vb(e){return Object.prototype.toString.call(e)==="[object RegExp]"}class tg{constructor(t){this.find=t.find,this.handler=t.handler}}const PN=(e,t)=>{if(Vb(t))return t.exec(e);const n=t(e);if(!n)return null;const i=[n.text];return i.index=n.index,i.input=e,i.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),i.push(n.replaceWith)),i};function Eh(e){var t;const{editor:n,from:i,to:r,text:o,rules:s,plugin:a}=e,{view:l}=n;if(l.composing)return!1;const u=l.state.doc.resolve(i);if(u.parent.type.spec.code||!((t=u.nodeBefore||u.nodeAfter)===null||t===void 0)&&t.marks.find(h=>h.type.spec.code))return!1;let c=!1;const d=MN(u)+o;return s.forEach(h=>{if(c)return;const p=PN(d,h.find);if(!p)return;const f=l.state.tr,g=Z0({state:l.state,transaction:f}),m={from:i-(p[0].length-o.length),to:r},{commands:v,chain:b,can:S}=new Q0({editor:n,state:g});h.handler({state:g,range:m,match:p,commands:v,chain:b,can:S})===null||!f.steps.length||(f.setMeta(a,{transform:f,from:i,to:r,text:o}),l.dispatch(f),c=!0)}),c}function IN(e){const{editor:t,rules:n}=e,i=new rn({state:{init(){return null},apply(r,o,s){const a=r.getMeta(i);if(a)return a;const l=r.getMeta("applyInputRules");return!!l&&setTimeout(()=>{let{text:c}=l;typeof c=="string"?c=c:c=Kd(J.from(c),s.schema);const{from:d}=l,h=d+c.length;Eh({editor:t,from:d,to:h,text:c,rules:n,plugin:i})}),r.selectionSet||r.docChanged?null:o}},props:{handleTextInput(r,o,s,a){return Eh({editor:t,from:o,to:s,text:a,rules:n,plugin:i})},handleDOMEvents:{compositionend:r=>(setTimeout(()=>{const{$cursor:o}=r.state.selection;o&&Eh({editor:t,from:o.pos,to:o.pos,text:"",rules:n,plugin:i})}),!1)},handleKeyDown(r,o){if(o.key!=="Enter")return!1;const{$cursor:s}=r.state.selection;return s?Eh({editor:t,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:i}):!1}},isInputRules:!0});return i}function ON(e){return Object.prototype.toString.call(e).slice(8,-1)}function kh(e){return ON(e)!=="Object"?!1:e.constructor===Object&&Object.getPrototypeOf(e)===Object.prototype}function ng(e,t){const n={...e};return kh(e)&&kh(t)&&Object.keys(t).forEach(i=>{kh(t[i])&&kh(e[i])?n[i]=ng(e[i],t[i]):n[i]=t[i]}),n}class Jn{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(Ee(this,"addOptions",{name:this.name}))),this.storage=tt(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new Jn(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>ng(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new Jn(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=tt(Ee(n,"addOptions",{name:n.name})),n.storage=tt(Ee(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:t,mark:n}){const{tr:i}=t.state,r=t.state.selection.$from;if(r.pos===r.end()){const s=r.marks();if(!!!s.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=s.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&i.removeStoredMark(l),i.insertText(" ",r.pos),t.view.dispatch(i),!0}return!1}}function LN(e){return typeof e=="number"}class NN{constructor(t){this.find=t.find,this.handler=t.handler}}const BN=(e,t,n)=>{if(Vb(t))return[...e.matchAll(t)];const i=t(e,n);return i?i.map(r=>{const o=[r.text];return o.index=r.index,o.input=e,o.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),o.push(r.replaceWith)),o}):[]};function zN(e){const{editor:t,state:n,from:i,to:r,rule:o,pasteEvent:s,dropEvent:a}=e,{commands:l,chain:u,can:c}=new Q0({editor:t,state:n}),d=[];return n.doc.nodesBetween(i,r,(p,f)=>{if(!p.isTextblock||p.type.spec.code)return;const g=Math.max(i,f),m=Math.min(r,f+p.content.size),v=p.textBetween(g-f,m-f,void 0,"￼");BN(v,o.find,s).forEach(S=>{if(S.index===void 0)return;const y=g+S.index+1,x=y+S[0].length,E={from:n.tr.mapping.map(y),to:n.tr.mapping.map(x)},R=o.handler({state:n,range:E,match:S,commands:l,chain:u,can:c,pasteEvent:s,dropEvent:a});d.push(R)})}),d.every(p=>p!==null)}let Fh=null;const HN=e=>{var t;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(t=n.clipboardData)===null||t===void 0||t.setData("text/html",e),n};function VN(e){const{editor:t,rules:n}=e;let i=null,r=!1,o=!1,s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,a;try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}const l=({state:c,from:d,to:h,rule:p,pasteEvt:f})=>{const g=c.tr,m=Z0({state:c,transaction:g});if(!(!zN({editor:t,state:m,from:Math.max(d-1,0),to:h.b-1,rule:p,pasteEvent:f,dropEvent:a})||!g.steps.length)){try{a=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{a=null}return s=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,g}};return n.map(c=>new rn({view(d){const h=f=>{var g;i=!((g=d.dom.parentElement)===null||g===void 0)&&g.contains(f.target)?d.dom.parentElement:null,i&&(Fh=t)},p=()=>{Fh&&(Fh=null)};return window.addEventListener("dragstart",h),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",h),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(d,h)=>{if(o=i===d.dom.parentElement,a=h,!o){const p=Fh;p!=null&&p.isEditable&&setTimeout(()=>{const f=p.state.selection;f&&p.commands.deleteRange({from:f.from,to:f.to})},10)}return!1},paste:(d,h)=>{var p;const f=(p=h.clipboardData)===null||p===void 0?void 0:p.getData("text/html");return s=h,r=!!(f!=null&&f.includes("data-pm-slice")),!1}}},appendTransaction:(d,h,p)=>{const f=d[0],g=f.getMeta("uiEvent")==="paste"&&!r,m=f.getMeta("uiEvent")==="drop"&&!o,v=f.getMeta("applyPasteRules"),b=!!v;if(!g&&!m&&!b)return;if(b){let{text:x}=v;typeof x=="string"?x=x:x=Kd(J.from(x),p.schema);const{from:E}=v,R=E+x.length,T=HN(x);return l({rule:c,state:p,from:E,to:{b:R},pasteEvt:T})}const S=h.doc.content.findDiffStart(p.doc.content),y=h.doc.content.findDiffEnd(p.doc.content);if(!(!LN(S)||!y||S===y.b))return l({rule:c,state:p,from:S,to:y,pasteEvt:s})}}))}function _N(e){const t=e.filter((n,i)=>e.indexOf(n)!==i);return Array.from(new Set(t))}class Wl{constructor(t,n){this.splittableMarks=[],this.editor=n,this.extensions=Wl.resolve(t),this.schema=DN(this.extensions,n),this.setupExtensions()}static resolve(t){const n=Wl.sort(Wl.flatten(t)),i=_N(n.map(r=>r.name));return i.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${i.map(r=>`'${r}'`).join(", ")}]. This can lead to issues.`),n}static flatten(t){return t.map(n=>{const i={name:n.name,options:n.options,storage:n.storage},r=Ee(n,"addExtensions",i);return r?[n,...this.flatten(r())]:n}).flat(10)}static sort(t){return t.sort((i,r)=>{const o=Ee(i,"priority")||100,s=Ee(r,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((t,n)=>{const i={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:pm(n.name,this.schema)},r=Ee(n,"addCommands",i);return r?{...t,...r()}:t},{})}get plugins(){const{editor:t}=this,n=Wl.sort([...this.extensions].reverse()),i=[],r=[],o=n.map(s=>{const a={name:s.name,options:s.options,storage:s.storage,editor:t,type:pm(s.name,this.schema)},l=[],u=Ee(s,"addKeyboardShortcuts",a);let c={};if(s.type==="mark"&&Ee(s,"exitable",a)&&(c.ArrowRight=()=>Jn.handleExit({editor:t,mark:s})),u){const g=Object.fromEntries(Object.entries(u()).map(([m,v])=>[m,()=>v({editor:t})]));c={...c,...g}}const d=sN(c);l.push(d);const h=Ee(s,"addInputRules",a);bx(s,t.options.enableInputRules)&&h&&i.push(...h());const p=Ee(s,"addPasteRules",a);bx(s,t.options.enablePasteRules)&&p&&r.push(...p());const f=Ee(s,"addProseMirrorPlugins",a);if(f){const g=f();l.push(...g)}return l}).flat();return[IN({editor:t,rules:i}),...VN({editor:t,rules:r}),...o]}get attributes(){return Uk(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:n}=eg(this.extensions);return Object.fromEntries(n.filter(i=>!!Ee(i,"addNodeView")).map(i=>{const r=this.attributes.filter(l=>l.type===i.name),o={name:i.name,options:i.options,storage:i.storage,editor:t,type:_n(i.name,this.schema)},s=Ee(i,"addNodeView",o);if(!s)return[];const a=(l,u,c,d,h)=>{const p=l1(l,r);return s()({node:l,view:u,getPos:c,decorations:d,innerDecorations:h,editor:t,extension:i,HTMLAttributes:p})};return[i.name,a]}))}setupExtensions(){this.extensions.forEach(t=>{var n;this.editor.extensionStorage[t.name]=t.storage;const i={name:t.name,options:t.options,storage:t.storage,editor:this.editor,type:pm(t.name,this.schema)};t.type==="mark"&&(!((n=tt(Ee(t,"keepOnSplit",i)))!==null&&n!==void 0)||n)&&this.splittableMarks.push(t.name);const r=Ee(t,"onBeforeCreate",i),o=Ee(t,"onCreate",i),s=Ee(t,"onUpdate",i),a=Ee(t,"onSelectionUpdate",i),l=Ee(t,"onTransaction",i),u=Ee(t,"onFocus",i),c=Ee(t,"onBlur",i),d=Ee(t,"onDestroy",i);r&&this.editor.on("beforeCreate",r),o&&this.editor.on("create",o),s&&this.editor.on("update",s),a&&this.editor.on("selectionUpdate",a),l&&this.editor.on("transaction",l),u&&this.editor.on("focus",u),c&&this.editor.on("blur",c),d&&this.editor.on("destroy",d)})}}class mn{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(Ee(this,"addOptions",{name:this.name}))),this.storage=tt(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new mn(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>ng(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new mn({...this.config,...t});return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=tt(Ee(n,"addOptions",{name:n.name})),n.storage=tt(Ee(n,"addStorage",{name:n.name,options:n.options})),n}}function qk(e,t,n){const{from:i,to:r}=t,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let a="";return e.nodesBetween(i,r,(l,u,c,d)=>{var h;l.isBlock&&u>i&&(a+=o);const p=s==null?void 0:s[l.type.name];if(p)return c&&(a+=p({node:l,pos:u,parent:c,index:d,range:t})),!1;l.isText&&(a+=(h=l==null?void 0:l.text)===null||h===void 0?void 0:h.slice(Math.max(i,u)-u,r-u))}),a}function Kk(e){return Object.fromEntries(Object.entries(e.nodes).filter(([,t])=>t.spec.toText).map(([t,n])=>[t,n.spec.toText]))}const Yk=mn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new rn({key:new xn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:e}=this,{state:t,schema:n}=e,{doc:i,selection:r}=t,{ranges:o}=r,s=Math.min(...o.map(c=>c.$from.pos)),a=Math.max(...o.map(c=>c.$to.pos)),l=Kk(n);return qk(i,{from:s,to:a},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:l})}}})]}}),GN=()=>({editor:e,view:t})=>(requestAnimationFrame(()=>{var n;e.isDestroyed||(t.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),WN=(e=!1)=>({commands:t})=>t.setContent("",e),$N=()=>({state:e,tr:t,dispatch:n})=>{const{selection:i}=t,{ranges:r}=i;return n&&r.forEach(({$from:o,$to:s})=>{e.doc.nodesBetween(o.pos,s.pos,(a,l)=>{if(a.type.isText)return;const{doc:u,mapping:c}=t,d=u.resolve(c.map(l)),h=u.resolve(c.map(l+a.nodeSize)),p=d.blockRange(h);if(!p)return;const f=Lu(p);if(a.type.isTextblock){const{defaultType:g}=d.parent.contentMatchAt(d.index());t.setNodeMarkup(p.start,g)}(f||f===0)&&t.lift(p,f)})}),!0},UN=e=>t=>e(t),jN=()=>({state:e,dispatch:t})=>_k(e,t),qN=(e,t)=>({editor:n,tr:i})=>{const{state:r}=n,o=r.doc.slice(e.from,e.to);i.deleteRange(e.from,e.to);const s=i.mapping.map(t);return i.insert(s,o.content),i.setSelection(new Ne(i.doc.resolve(Math.max(s-1,0)))),!0},KN=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,i=n.$anchor.node();if(i.content.size>0)return!1;const r=e.selection.$anchor;for(let o=r.depth;o>0;o-=1)if(r.node(o).type===i.type){if(t){const a=r.before(o),l=r.after(o);e.delete(a,l).scrollIntoView()}return!0}return!1},YN=e=>({tr:t,state:n,dispatch:i})=>{const r=_n(e,n.schema),o=t.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===r){if(i){const l=o.before(s),u=o.after(s);t.delete(l,u).scrollIntoView()}return!0}return!1},XN=e=>({tr:t,dispatch:n})=>{const{from:i,to:r}=e;return n&&t.delete(i,r),!0},JN=()=>({state:e,dispatch:t})=>Lb(e,t),ZN=()=>({commands:e})=>e.keyboardShortcut("Enter"),QN=()=>({state:e,dispatch:t})=>hN(e,t);function cf(e,t,n={strict:!0}){const i=Object.keys(t);return i.length?i.every(r=>n.strict?t[r]===e[r]:Vb(t[r])?t[r].test(e[r]):t[r]===e[r]):!0}function Xk(e,t,n={}){return e.find(i=>i.type===t&&cf(Object.fromEntries(Object.keys(n).map(r=>[r,i.attrs[r]])),n))}function yx(e,t,n={}){return!!Xk(e,t,n)}function _b(e,t,n){var i;if(!e||!t)return;let r=e.parent.childAfter(e.parentOffset);if((!r.node||!r.node.marks.some(c=>c.type===t))&&(r=e.parent.childBefore(e.parentOffset)),!r.node||!r.node.marks.some(c=>c.type===t)||(n=n||((i=r.node.marks[0])===null||i===void 0?void 0:i.attrs),!Xk([...r.node.marks],t,n)))return;let s=r.index,a=e.start()+r.offset,l=s+1,u=a+r.node.nodeSize;for(;s>0&&yx([...e.parent.child(s-1).marks],t,n);)s-=1,a-=e.parent.child(s).nodeSize;for(;l<e.parent.childCount&&yx([...e.parent.child(l).marks],t,n);)u+=e.parent.child(l).nodeSize,l+=1;return{from:a,to:u}}function fa(e,t){if(typeof e=="string"){if(!t.marks[e])throw Error(`There is no mark type named '${e}'. Maybe you forgot to add the extension?`);return t.marks[e]}return e}const eB=(e,t={})=>({tr:n,state:i,dispatch:r})=>{const o=fa(e,i.schema),{doc:s,selection:a}=n,{$from:l,from:u,to:c}=a;if(r){const d=_b(l,o,t);if(d&&d.from<=u&&d.to>=c){const h=Ne.create(s,d.from,d.to);n.setSelection(h)}}return!0},tB=e=>t=>{const n=typeof e=="function"?e(t):e;for(let i=0;i<n.length;i+=1)if(n[i](t))return!0;return!1};function Jk(e){return e instanceof Ne}function Ia(e=0,t=0,n=0){return Math.min(Math.max(e,t),n)}function Zk(e,t=null){if(!t)return null;const n=He.atStart(e),i=He.atEnd(e);if(t==="start"||t===!0)return n;if(t==="end")return i;const r=n.from,o=i.to;return t==="all"?Ne.create(e,Ia(0,r,o),Ia(e.content.size,r,o)):Ne.create(e,Ia(t,r,o),Ia(t,r,o))}function nB(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function Gb(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const iB=(e=null,t={})=>({editor:n,view:i,tr:r,dispatch:o})=>{t={scrollIntoView:!0,...t};const s=()=>{(Gb()||nB())&&i.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(i.focus(),t!=null&&t.scrollIntoView&&n.commands.scrollIntoView())})};if(i.hasFocus()&&e===null||e===!1)return!0;if(o&&e===null&&!Jk(n.state.selection))return s(),!0;const a=Zk(r.doc,e)||n.state.selection,l=n.state.selection.eq(a);return o&&(l||r.setSelection(a),l&&r.storedMarks&&r.setStoredMarks(r.storedMarks),s()),!0},rB=(e,t)=>n=>e.every((i,r)=>t(i,{...n,index:r})),oB=(e,t)=>({tr:n,commands:i})=>i.insertContentAt({from:n.selection.from,to:n.selection.to},e,t),Qk=e=>{const t=e.childNodes;for(let n=t.length-1;n>=0;n-=1){const i=t[n];i.nodeType===3&&i.nodeValue&&/^(\n\s\s|\n)$/.test(i.nodeValue)?e.removeChild(i):i.nodeType===1&&Qk(i)}return e};function Th(e){const t=`<body>${e}</body>`,n=new window.DOMParser().parseFromString(t,"text/html").body;return Qk(n)}function cd(e,t,n){if(e instanceof Zs||e instanceof J)return e;n={slice:!0,parseOptions:{},...n};const i=typeof e=="object"&&e!==null,r=typeof e=="string";if(i)try{if(Array.isArray(e)&&e.length>0)return J.fromArray(e.map(a=>t.nodeFromJSON(a)));const s=t.nodeFromJSON(e);return n.errorOnInvalidContent&&s.check(),s}catch(o){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:o});return console.warn("[tiptap warn]: Invalid content.","Passed value:",e,"Error:",o),cd("",t,n)}if(r){if(n.errorOnInvalidContent){let s=!1,a="";const l=new yb({topNode:t.spec.topNode,marks:t.spec.marks,nodes:t.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(s=!0,a=typeof u=="string"?u:u.outerHTML,null)}]}})});if(n.slice?Jo.fromSchema(l).parseSlice(Th(e),n.parseOptions):Jo.fromSchema(l).parse(Th(e),n.parseOptions),n.errorOnInvalidContent&&s)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${a}`)})}const o=Jo.fromSchema(t);return n.slice?o.parseSlice(Th(e),n.parseOptions).content:o.parse(Th(e),n.parseOptions)}return cd("",t,n)}function sB(e,t,n){const i=e.steps.length-1;if(i<t)return;const r=e.steps[i];if(!(r instanceof Bn||r instanceof Hn))return;const o=e.mapping.maps[i];let s=0;o.forEach((a,l,u,c)=>{s===0&&(s=c)}),e.setSelection(He.near(e.doc.resolve(s),n))}const aB=e=>!("type"in e),lB=(e,t,n)=>({tr:i,dispatch:r,editor:o})=>{var s;if(r){n={parseOptions:o.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let a;const l=m=>{o.emit("contentError",{editor:o,error:m,disableCollaboration:()=>{o.storage.collaboration&&(o.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!o.options.enableContentCheck&&o.options.emitContentError)try{cd(t,o.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(m){l(m)}try{a=cd(t,o.schema,{parseOptions:u,errorOnInvalidContent:(s=n.errorOnInvalidContent)!==null&&s!==void 0?s:o.options.enableContentCheck})}catch(m){return l(m),!1}let{from:c,to:d}=typeof e=="number"?{from:e,to:e}:{from:e.from,to:e.to},h=!0,p=!0;if((aB(a)?a:[a]).forEach(m=>{m.check(),h=h?m.isText&&m.marks.length===0:!1,p=p?m.isBlock:!1}),c===d&&p){const{parent:m}=i.doc.resolve(c);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(c-=1,d+=1)}let g;if(h){if(Array.isArray(t))g=t.map(m=>m.text||"").join("");else if(t instanceof J){let m="";t.forEach(v=>{v.text&&(m+=v.text)}),g=m}else typeof t=="object"&&t&&t.text?g=t.text:g=t;i.insertText(g,c,d)}else g=a,i.replaceWith(c,d,g);n.updateSelection&&sB(i,i.steps.length-1,-1),n.applyInputRules&&i.setMeta("applyInputRules",{from:c,text:g}),n.applyPasteRules&&i.setMeta("applyPasteRules",{from:c,text:g})}return!0},uB=()=>({state:e,dispatch:t})=>uN(e,t),cB=()=>({state:e,dispatch:t})=>cN(e,t),dB=()=>({state:e,dispatch:t})=>Ok(e,t),hB=()=>({state:e,dispatch:t})=>zk(e,t),pB=()=>({state:e,dispatch:t,tr:n})=>{try{const i=j0(e.doc,e.selection.$from.pos,-1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},fB=()=>({state:e,dispatch:t,tr:n})=>{try{const i=j0(e.doc,e.selection.$from.pos,1);return i==null?!1:(n.join(i,2),t&&t(n),!0)}catch{return!1}},gB=()=>({state:e,dispatch:t})=>aN(e,t),mB=()=>({state:e,dispatch:t})=>lN(e,t);function eF(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function vB(e){const t=e.split(/-(?!$)/);let n=t[t.length-1];n==="Space"&&(n=" ");let i,r,o,s;for(let a=0;a<t.length-1;a+=1){const l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))Gb()||eF()?s=!0:r=!0;else throw new Error(`Unrecognized modifier name: ${l}`)}return i&&(n=`Alt-${n}`),r&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const CB=e=>({editor:t,view:n,tr:i,dispatch:r})=>{const o=vB(e).split(/-(?!$)/),s=o.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),a=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),l=t.captureTransaction(()=>{n.someProp("handleKeyDown",u=>u(n,a))});return l==null||l.steps.forEach(u=>{const c=u.map(i.mapping);c&&r&&i.maybeStep(c)}),!0};function dd(e,t,n={}){const{from:i,to:r,empty:o}=e.selection,s=t?_n(t,e.schema):null,a=[];e.doc.nodesBetween(i,r,(d,h)=>{if(d.isText)return;const p=Math.max(i,h),f=Math.min(r,h+d.nodeSize);a.push({node:d,from:p,to:f})});const l=r-i,u=a.filter(d=>s?s.name===d.node.type.name:!0).filter(d=>cf(d.node.attrs,n,{strict:!1}));return o?!!u.length:u.reduce((d,h)=>d+h.to-h.from,0)>=l}const bB=(e,t={})=>({state:n,dispatch:i})=>{const r=_n(e,n.schema);return dd(n,r,t)?dN(n,i):!1},yB=()=>({state:e,dispatch:t})=>Gk(e,t),wB=e=>({state:t,dispatch:n})=>{const i=_n(e,t.schema);return xN(i)(t,n)},SB=()=>({state:e,dispatch:t})=>Vk(e,t);function ig(e,t){return t.nodes[e]?"node":t.marks[e]?"mark":null}function wx(e,t){const n=typeof t=="string"?[t]:t;return Object.keys(e).reduce((i,r)=>(n.includes(r)||(i[r]=e[r]),i),{})}const xB=(e,t)=>({tr:n,state:i,dispatch:r})=>{let o=null,s=null;const a=ig(typeof e=="string"?e:e.name,i.schema);return a?(a==="node"&&(o=_n(e,i.schema)),a==="mark"&&(s=fa(e,i.schema)),r&&n.selection.ranges.forEach(l=>{i.doc.nodesBetween(l.$from.pos,l.$to.pos,(u,c)=>{o&&o===u.type&&n.setNodeMarkup(c,void 0,wx(u.attrs,t)),s&&u.marks.length&&u.marks.forEach(d=>{s===d.type&&n.addMark(c,c+u.nodeSize,s.create(wx(d.attrs,t)))})})}),!0):!1},EB=()=>({tr:e,dispatch:t})=>(t&&e.scrollIntoView(),!0),kB=()=>({tr:e,dispatch:t})=>{if(t){const n=new er(e.doc);e.setSelection(n)}return!0},FB=()=>({state:e,dispatch:t})=>Nk(e,t),TB=()=>({state:e,dispatch:t})=>Hk(e,t),AB=()=>({state:e,dispatch:t})=>gN(e,t),RB=()=>({state:e,dispatch:t})=>CN(e,t),DB=()=>({state:e,dispatch:t})=>vN(e,t);function u1(e,t,n={},i={}){return cd(e,t,{slice:!1,parseOptions:n,errorOnInvalidContent:i.errorOnInvalidContent})}const MB=(e,t=!1,n={},i={})=>({editor:r,tr:o,dispatch:s,commands:a})=>{var l,u;const{doc:c}=o;if(n.preserveWhitespace!=="full"){const d=u1(e,r.schema,n,{errorOnInvalidContent:(l=i.errorOnInvalidContent)!==null&&l!==void 0?l:r.options.enableContentCheck});return s&&o.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!t),!0}return s&&o.setMeta("preventUpdate",!t),a.insertContentAt({from:0,to:c.content.size},e,{parseOptions:n,errorOnInvalidContent:(u=i.errorOnInvalidContent)!==null&&u!==void 0?u:r.options.enableContentCheck})};function Wb(e,t){const n=fa(t,e.schema),{from:i,to:r,empty:o}=e.selection,s=[];o?(e.storedMarks&&s.push(...e.storedMarks),s.push(...e.selection.$head.marks())):e.doc.nodesBetween(i,r,l=>{s.push(...l.marks)});const a=s.find(l=>l.type.name===n.name);return a?{...a.attrs}:{}}function PB(e,t){const n=new Eb(e);return t.forEach(i=>{i.steps.forEach(r=>{n.step(r)})}),n}function IB(e){for(let t=0;t<e.edgeCount;t+=1){const{type:n}=e.edge(t);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function OB(e,t,n){const i=[];return e.nodesBetween(t.from,t.to,(r,o)=>{n(r)&&i.push({node:r,pos:o})}),i}function tF(e,t){for(let n=e.depth;n>0;n-=1){const i=e.node(n);if(t(i))return{pos:n>0?e.before(n):0,start:e.start(n),depth:n,node:i}}}function $b(e){return t=>tF(t.$from,e)}function LB(e,t){const n={from:0,to:e.content.size};return qk(e,n,t)}function NB(e,t){const n=_n(t,e.schema),{from:i,to:r}=e.selection,o=[];e.doc.nodesBetween(i,r,a=>{o.push(a)});const s=o.reverse().find(a=>a.type.name===n.name);return s?{...s.attrs}:{}}function nF(e,t){const n=ig(typeof t=="string"?t:t.name,e.schema);return n==="node"?NB(e,t):n==="mark"?Wb(e,t):{}}function BB(e,t=JSON.stringify){const n={};return e.filter(i=>{const r=t(i);return Object.prototype.hasOwnProperty.call(n,r)?!1:n[r]=!0})}function zB(e){const t=BB(e);return t.length===1?t:t.filter((n,i)=>!t.filter((o,s)=>s!==i).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function iF(e){const{mapping:t,steps:n}=e,i=[];return t.maps.forEach((r,o)=>{const s=[];if(r.ranges.length)r.forEach((a,l)=>{s.push({from:a,to:l})});else{const{from:a,to:l}=n[o];if(a===void 0||l===void 0)return;s.push({from:a,to:l})}s.forEach(({from:a,to:l})=>{const u=t.slice(o).map(a,-1),c=t.slice(o).map(l),d=t.invert().map(u,-1),h=t.invert().map(c);i.push({oldRange:{from:d,to:h},newRange:{from:u,to:c}})})}),zB(i)}function Ub(e,t,n){const i=[];return e===t?n.resolve(e).marks().forEach(r=>{const o=n.resolve(e),s=_b(o,r.type);s&&i.push({mark:r,...s})}):n.nodesBetween(e,t,(r,o)=>{!r||(r==null?void 0:r.nodeSize)===void 0||i.push(...r.marks.map(s=>({from:o,to:o+r.nodeSize,mark:s})))}),i}function yp(e,t,n){return Object.fromEntries(Object.entries(n).filter(([i])=>{const r=e.find(o=>o.type===t&&o.name===i);return r?r.attribute.keepOnSplit:!1}))}function c1(e,t,n={}){const{empty:i,ranges:r}=e.selection,o=t?fa(t,e.schema):null;if(i)return!!(e.storedMarks||e.selection.$from.marks()).filter(d=>o?o.name===d.type.name:!0).find(d=>cf(d.attrs,n,{strict:!1}));let s=0;const a=[];if(r.forEach(({$from:d,$to:h})=>{const p=d.pos,f=h.pos;e.doc.nodesBetween(p,f,(g,m)=>{if(!g.isText&&!g.marks.length)return;const v=Math.max(p,m),b=Math.min(f,m+g.nodeSize),S=b-v;s+=S,a.push(...g.marks.map(y=>({mark:y,from:v,to:b})))})}),s===0)return!1;const l=a.filter(d=>o?o.name===d.mark.type.name:!0).filter(d=>cf(d.mark.attrs,n,{strict:!1})).reduce((d,h)=>d+h.to-h.from,0),u=a.filter(d=>o?d.mark.type!==o&&d.mark.type.excludes(o):!0).reduce((d,h)=>d+h.to-h.from,0);return(l>0?l+u:l)>=s}function HB(e,t,n={}){if(!t)return dd(e,null,n)||c1(e,null,n);const i=ig(t,e.schema);return i==="node"?dd(e,t,n):i==="mark"?c1(e,t,n):!1}function Sx(e,t){const{nodeExtensions:n}=eg(t),i=n.find(s=>s.name===e);if(!i)return!1;const r={name:i.name,options:i.options,storage:i.storage},o=tt(Ee(i,"group",r));return typeof o!="string"?!1:o.split(" ").includes("list")}function rg(e,{checkChildren:t=!0,ignoreWhitespace:n=!1}={}){var i;if(n){if(e.type.name==="hardBreak")return!0;if(e.isText)return/^\s*$/m.test((i=e.text)!==null&&i!==void 0?i:"")}if(e.isText)return!e.text;if(e.isAtom||e.isLeaf)return!1;if(e.content.childCount===0)return!0;if(t){let r=!0;return e.content.forEach(o=>{r!==!1&&(rg(o,{ignoreWhitespace:n,checkChildren:t})||(r=!1))}),r}return!1}function VB(e){return e instanceof Pe}function _B(e,t,n){var i;const{selection:r}=t;let o=null;if(Jk(r)&&(o=r.$cursor),o){const a=(i=e.storedMarks)!==null&&i!==void 0?i:o.marks();return!!n.isInSet(a)||!a.some(l=>l.type.excludes(n))}const{ranges:s}=r;return s.some(({$from:a,$to:l})=>{let u=a.depth===0?e.doc.inlineContent&&e.doc.type.allowsMarkType(n):!1;return e.doc.nodesBetween(a.pos,l.pos,(c,d,h)=>{if(u)return!1;if(c.isInline){const p=!h||h.type.allowsMarkType(n),f=!!n.isInSet(c.marks)||!c.marks.some(g=>g.type.excludes(n));u=p&&f}return!u}),u})}const GB=(e,t={})=>({tr:n,state:i,dispatch:r})=>{const{selection:o}=n,{empty:s,ranges:a}=o,l=fa(e,i.schema);if(r)if(s){const u=Wb(i,l);n.addStoredMark(l.create({...u,...t}))}else a.forEach(u=>{const c=u.$from.pos,d=u.$to.pos;i.doc.nodesBetween(c,d,(h,p)=>{const f=Math.max(p,c),g=Math.min(p+h.nodeSize,d);h.marks.find(v=>v.type===l)?h.marks.forEach(v=>{l===v.type&&n.addMark(f,g,l.create({...v.attrs,...t}))}):n.addMark(f,g,l.create(t))})});return _B(i,n,l)},WB=(e,t)=>({tr:n})=>(n.setMeta(e,t),!0),$B=(e,t={})=>({state:n,dispatch:i,chain:r})=>{const o=_n(e,n.schema);let s;return n.selection.$anchor.sameParent(n.selection.$head)&&(s=n.selection.$anchor.parent.attrs),o.isTextblock?r().command(({commands:a})=>mx(o,{...s,...t})(n)?!0:a.clearNodes()).command(({state:a})=>mx(o,{...s,...t})(a,i)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},UB=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,r=Ia(e,0,i.content.size),o=Pe.create(i,r);t.setSelection(o)}return!0},jB=e=>({tr:t,dispatch:n})=>{if(n){const{doc:i}=t,{from:r,to:o}=typeof e=="number"?{from:e,to:e}:e,s=Ne.atStart(i).from,a=Ne.atEnd(i).to,l=Ia(r,s,a),u=Ia(o,s,a),c=Ne.create(i,l,u);t.setSelection(c)}return!0},qB=e=>({state:t,dispatch:n})=>{const i=_n(e,t.schema);return FN(i)(t,n)};function xx(e,t){const n=e.storedMarks||e.selection.$to.parentOffset&&e.selection.$from.marks();if(n){const i=n.filter(r=>t==null?void 0:t.includes(r.type.name));e.tr.ensureMarks(i)}}const KB=({keepMarks:e=!0}={})=>({tr:t,state:n,dispatch:i,editor:r})=>{const{selection:o,doc:s}=t,{$from:a,$to:l}=o,u=r.extensionManager.attributes,c=yp(u,a.node().type.name,a.node().attrs);if(o instanceof Pe&&o.node.isBlock)return!a.parentOffset||!Zo(s,a.pos)?!1:(i&&(e&&xx(n,r.extensionManager.splittableMarks),t.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;const d=l.parentOffset===l.parent.content.size,h=a.depth===0?void 0:IB(a.node(-1).contentMatchAt(a.indexAfter(-1)));let p=d&&h?[{type:h,attrs:c}]:void 0,f=Zo(t.doc,t.mapping.map(a.pos),1,p);if(!p&&!f&&Zo(t.doc,t.mapping.map(a.pos),1,h?[{type:h}]:void 0)&&(f=!0,p=h?[{type:h,attrs:c}]:void 0),i){if(f&&(o instanceof Ne&&t.deleteSelection(),t.split(t.mapping.map(a.pos),1,p),h&&!d&&!a.parentOffset&&a.parent.type!==h)){const g=t.mapping.map(a.before()),m=t.doc.resolve(g);a.node(-1).canReplaceWith(m.index(),m.index()+1,h)&&t.setNodeMarkup(t.mapping.map(a.before()),h)}e&&xx(n,r.extensionManager.splittableMarks),t.scrollIntoView()}return f},YB=(e,t={})=>({tr:n,state:i,dispatch:r,editor:o})=>{var s;const a=_n(e,i.schema),{$from:l,$to:u}=i.selection,c=i.selection.node;if(c&&c.isBlock||l.depth<2||!l.sameParent(u))return!1;const d=l.node(-1);if(d.type!==a)return!1;const h=o.extensionManager.attributes;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){let v=J.empty;const b=l.index(-1)?1:l.index(-2)?2:3;for(let T=l.depth-b;T>=l.depth-3;T-=1)v=J.from(l.node(T).copy(v));const S=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3,y={...yp(h,l.node().type.name,l.node().attrs),...t},x=((s=a.contentMatch.defaultType)===null||s===void 0?void 0:s.createAndFill(y))||void 0;v=v.append(J.from(a.createAndFill(null,x)||void 0));const E=l.before(l.depth-(b-1));n.replace(E,l.after(-S),new ge(v,4-b,0));let R=-1;n.doc.nodesBetween(E,n.doc.content.size,(T,F)=>{if(R>-1)return!1;T.isTextblock&&T.content.size===0&&(R=F+1)}),R>-1&&n.setSelection(Ne.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const p=u.pos===l.end()?d.contentMatchAt(0).defaultType:null,f={...yp(h,d.type.name,d.attrs),...t},g={...yp(h,l.node().type.name,l.node().attrs),...t};n.delete(l.pos,u.pos);const m=p?[{type:a,attrs:f},{type:p,attrs:g}]:[{type:a,attrs:f}];if(!Zo(n.doc,l.pos,2))return!1;if(r){const{selection:v,storedMarks:b}=i,{splittableMarks:S}=o.extensionManager,y=b||v.$to.parentOffset&&v.$from.marks();if(n.split(l.pos,2,m).scrollIntoView(),!y||!r)return!0;const x=y.filter(E=>S.includes(E.type.name));n.ensureMarks(x)}return!0},fm=(e,t)=>{const n=$b(s=>s.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(i===void 0)return!0;const r=e.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&ha(e.doc,n.pos)&&e.join(n.pos),!0},gm=(e,t)=>{const n=$b(s=>s.type===t)(e.selection);if(!n)return!0;const i=e.doc.resolve(n.start).after(n.depth);if(i===void 0)return!0;const r=e.doc.nodeAt(i);return n.node.type===(r==null?void 0:r.type)&&ha(e.doc,i)&&e.join(i),!0},XB=(e,t,n,i={})=>({editor:r,tr:o,state:s,dispatch:a,chain:l,commands:u,can:c})=>{const{extensions:d,splittableMarks:h}=r.extensionManager,p=_n(e,s.schema),f=_n(t,s.schema),{selection:g,storedMarks:m}=s,{$from:v,$to:b}=g,S=v.blockRange(b),y=m||g.$to.parentOffset&&g.$from.marks();if(!S)return!1;const x=$b(E=>Sx(E.type.name,d))(g);if(S.depth>=1&&x&&S.depth-x.depth<=1){if(x.node.type===p)return u.liftListItem(f);if(Sx(x.node.type.name,d)&&p.validContent(x.node.content)&&a)return l().command(()=>(o.setNodeMarkup(x.pos,p),!0)).command(()=>fm(o,p)).command(()=>gm(o,p)).run()}return!n||!y||!a?l().command(()=>c().wrapInList(p,i)?!0:u.clearNodes()).wrapInList(p,i).command(()=>fm(o,p)).command(()=>gm(o,p)).run():l().command(()=>{const E=c().wrapInList(p,i),R=y.filter(T=>h.includes(T.type.name));return o.ensureMarks(R),E?!0:u.clearNodes()}).wrapInList(p,i).command(()=>fm(o,p)).command(()=>gm(o,p)).run()},JB=(e,t={},n={})=>({state:i,commands:r})=>{const{extendEmptyMarkRange:o=!1}=n,s=fa(e,i.schema);return c1(i,s,t)?r.unsetMark(s,{extendEmptyMarkRange:o}):r.setMark(s,t)},ZB=(e,t,n={})=>({state:i,commands:r})=>{const o=_n(e,i.schema),s=_n(t,i.schema),a=dd(i,o,n);let l;return i.selection.$anchor.sameParent(i.selection.$head)&&(l=i.selection.$anchor.parent.attrs),a?r.setNode(s,l):r.setNode(o,{...l,...n})},QB=(e,t={})=>({state:n,commands:i})=>{const r=_n(e,n.schema);return dd(n,r,t)?i.lift(r):i.wrapIn(r,t)},ez=()=>({state:e,dispatch:t})=>{const n=e.plugins;for(let i=0;i<n.length;i+=1){const r=n[i];let o;if(r.spec.isInputRules&&(o=r.getState(e))){if(t){const s=e.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l-=1)s.step(a.steps[l].invert(a.docs[l]));if(o.text){const l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,e.schema.text(o.text,l))}else s.delete(o.from,o.to)}return!0}}return!1},tz=()=>({tr:e,dispatch:t})=>{const{selection:n}=e,{empty:i,ranges:r}=n;return i||t&&r.forEach(o=>{e.removeMark(o.$from.pos,o.$to.pos)}),!0},nz=(e,t={})=>({tr:n,state:i,dispatch:r})=>{var o;const{extendEmptyMarkRange:s=!1}=t,{selection:a}=n,l=fa(e,i.schema),{$from:u,empty:c,ranges:d}=a;if(!r)return!0;if(c&&s){let{from:h,to:p}=a;const f=(o=u.marks().find(m=>m.type===l))===null||o===void 0?void 0:o.attrs,g=_b(u,l,f);g&&(h=g.from,p=g.to),n.removeMark(h,p,l)}else d.forEach(h=>{n.removeMark(h.$from.pos,h.$to.pos,l)});return n.removeStoredMark(l),!0},iz=(e,t={})=>({tr:n,state:i,dispatch:r})=>{let o=null,s=null;const a=ig(typeof e=="string"?e:e.name,i.schema);return a?(a==="node"&&(o=_n(e,i.schema)),a==="mark"&&(s=fa(e,i.schema)),r&&n.selection.ranges.forEach(l=>{const u=l.$from.pos,c=l.$to.pos;let d,h,p,f;n.selection.empty?i.doc.nodesBetween(u,c,(g,m)=>{o&&o===g.type&&(p=Math.max(m,u),f=Math.min(m+g.nodeSize,c),d=m,h=g)}):i.doc.nodesBetween(u,c,(g,m)=>{m<u&&o&&o===g.type&&(p=Math.max(m,u),f=Math.min(m+g.nodeSize,c),d=m,h=g),m>=u&&m<=c&&(o&&o===g.type&&n.setNodeMarkup(m,void 0,{...g.attrs,...t}),s&&g.marks.length&&g.marks.forEach(v=>{if(s===v.type){const b=Math.max(m,u),S=Math.min(m+g.nodeSize,c);n.addMark(b,S,s.create({...v.attrs,...t}))}}))}),h&&(d!==void 0&&n.setNodeMarkup(d,void 0,{...h.attrs,...t}),s&&h.marks.length&&h.marks.forEach(g=>{s===g.type&&n.addMark(p,f,s.create({...g.attrs,...t}))}))}),!0):!1},rz=(e,t={})=>({state:n,dispatch:i})=>{const r=_n(e,n.schema);return bN(r,t)(n,i)},oz=(e,t={})=>({state:n,dispatch:i})=>{const r=_n(e,n.schema);return yN(r,t)(n,i)};var sz=Object.freeze({__proto__:null,blur:GN,clearContent:WN,clearNodes:$N,command:UN,createParagraphNear:jN,cut:qN,deleteCurrentNode:KN,deleteNode:YN,deleteRange:XN,deleteSelection:JN,enter:ZN,exitCode:QN,extendMarkRange:eB,first:tB,focus:iB,forEach:rB,insertContent:oB,insertContentAt:lB,joinBackward:dB,joinDown:cB,joinForward:hB,joinItemBackward:pB,joinItemForward:fB,joinTextblockBackward:gB,joinTextblockForward:mB,joinUp:uB,keyboardShortcut:CB,lift:bB,liftEmptyBlock:yB,liftListItem:wB,newlineInCode:SB,resetAttributes:xB,scrollIntoView:EB,selectAll:kB,selectNodeBackward:FB,selectNodeForward:TB,selectParentNode:AB,selectTextblockEnd:RB,selectTextblockStart:DB,setContent:MB,setMark:GB,setMeta:WB,setNode:$B,setNodeSelection:UB,setTextSelection:jB,sinkListItem:qB,splitBlock:KB,splitListItem:YB,toggleList:XB,toggleMark:JB,toggleNode:ZB,toggleWrap:QB,undoInputRule:ez,unsetAllMarks:tz,unsetMark:nz,updateAttributes:iz,wrapIn:rz,wrapInList:oz});const rF=mn.create({name:"commands",addCommands(){return{...sz}}}),oF=mn.create({name:"drop",addProseMirrorPlugins(){return[new rn({key:new xn("tiptapDrop"),props:{handleDrop:(e,t,n,i)=>{this.editor.emit("drop",{editor:this.editor,event:t,slice:n,moved:i})}}})]}}),sF=mn.create({name:"editable",addProseMirrorPlugins(){return[new rn({key:new xn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),aF=new xn("focusEvents"),lF=mn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:e}=this;return[new rn({key:aF,props:{handleDOMEvents:{focus:(t,n)=>{e.isFocused=!0;const i=e.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1},blur:(t,n)=>{e.isFocused=!1;const i=e.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return t.dispatch(i),!1}}}})]}}),uF=mn.create({name:"keymap",addKeyboardShortcuts(){const e=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:a})=>{const{selection:l,doc:u}=a,{empty:c,$anchor:d}=l,{pos:h,parent:p}=d,f=d.parent.isTextblock&&h>0?a.doc.resolve(h-1):d,g=f.parent.type.spec.isolating,m=d.pos-d.parentOffset,v=g&&f.parent.childCount===1?m===d.pos:He.atStart(u).from===h;return!c||!p.type.isTextblock||p.textContent.length||!v||v&&d.parent.type.name==="paragraph"?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),t=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),i={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:e,"Mod-Backspace":e,"Shift-Backspace":e,Delete:t,"Mod-Delete":t,"Mod-a":()=>this.editor.commands.selectAll()},r={...i},o={...i,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":t,"Ctrl-Alt-Backspace":t,"Alt-Delete":t,"Alt-d":t,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Gb()||eF()?o:r},addProseMirrorPlugins(){return[new rn({key:new xn("clearDocument"),appendTransaction:(e,t,n)=>{if(e.some(g=>g.getMeta("composition")))return;const i=e.some(g=>g.docChanged)&&!t.doc.eq(n.doc),r=e.some(g=>g.getMeta("preventClearDocument"));if(!i||r)return;const{empty:o,from:s,to:a}=t.selection,l=He.atStart(t.doc).from,u=He.atEnd(t.doc).to;if(o||!(s===l&&a===u)||!rg(n.doc))return;const h=n.tr,p=Z0({state:n,transaction:h}),{commands:f}=new Q0({editor:this.editor,state:p});if(f.clearNodes(),!!h.steps.length)return h}})]}}),cF=mn.create({name:"paste",addProseMirrorPlugins(){return[new rn({key:new xn("tiptapPaste"),props:{handlePaste:(e,t,n)=>{this.editor.emit("paste",{editor:this.editor,event:t,slice:n})}}})]}}),dF=mn.create({name:"tabindex",addProseMirrorPlugins(){return[new rn({key:new xn("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}});var az=Object.freeze({__proto__:null,ClipboardTextSerializer:Yk,Commands:rF,Drop:oF,Editable:sF,FocusEvents:lF,Keymap:uF,Paste:cF,Tabindex:dF,focusEventsPluginKey:aF});class Ra{get name(){return this.node.type.name}constructor(t,n,i=!1,r=null){this.currentNode=null,this.actualDepth=null,this.isBlock=i,this.resolvedPos=t,this.editor=n,this.currentNode=r}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var t;return(t=this.actualDepth)!==null&&t!==void 0?t:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(t){let n=this.from,i=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,i=this.to-1}this.editor.commands.insertContentAt({from:n,to:i},t)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const t=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(t);return new Ra(n,this.editor)}get before(){let t=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.from-3)),new Ra(t,this.editor)}get after(){let t=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return t.depth!==this.depth&&(t=this.resolvedPos.doc.resolve(this.to+3)),new Ra(t,this.editor)}get children(){const t=[];return this.node.content.forEach((n,i)=>{const r=n.isBlock&&!n.isTextblock,o=n.isAtom&&!n.isText,s=this.pos+i+(o?0:1);if(s<0||s>this.resolvedPos.doc.nodeSize-2)return;const a=this.resolvedPos.doc.resolve(s);if(!r&&a.depth<=this.depth)return;const l=new Ra(a,this.editor,r,r?n:null);r&&(l.actualDepth=this.depth+1),t.push(new Ra(a,this.editor,r,r?n:null))}),t}get firstChild(){return this.children[0]||null}get lastChild(){const t=this.children;return t[t.length-1]||null}closest(t,n={}){let i=null,r=this.parent;for(;r&&!i;){if(r.node.type.name===t)if(Object.keys(n).length>0){const o=r.node.attrs,s=Object.keys(n);for(let a=0;a<s.length;a+=1){const l=s[a];if(o[l]!==n[l])break}}else i=r;r=r.parent}return i}querySelector(t,n={}){return this.querySelectorAll(t,n,!0)[0]||null}querySelectorAll(t,n={},i=!1){let r=[];if(!this.children||this.children.length===0)return r;const o=Object.keys(n);return this.children.forEach(s=>{i&&r.length>0||(s.node.type.name===t&&o.every(l=>n[l]===s.node.attrs[l])&&r.push(s),!(i&&r.length>0)&&(r=r.concat(s.querySelectorAll(t,n,i))))}),r}setAttribute(t){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...t}),this.editor.view.dispatch(n)}}const lz=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function uz(e,t,n){const i=document.querySelector("style[data-tiptap-style]");if(i!==null)return i;const r=document.createElement("style");return t&&r.setAttribute("nonce",t),r.setAttribute("data-tiptap-style",""),r.innerHTML=e,document.getElementsByTagName("head")[0].appendChild(r),r}let cz=class extends TN{constructor(t={}){super(),this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("contentError",this.options.onContentError),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:i,moved:r})=>this.options.onDrop(n,i,r)),this.on("paste",({event:n,slice:i})=>this.options.onPaste(n,i)),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=uz(lz,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,n=!0){this.setOptions({editable:t}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,n){const i=jk(n)?n(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}unregisterPlugin(t){if(this.isDestroyed)return;const n=this.state.plugins;let i=n;if([].concat(t).forEach(o=>{const s=typeof o=="string"?`${o}$`:o.key;i=i.filter(a=>!a.key.startsWith(s))}),n.length===i.length)return;const r=this.state.reconfigure({plugins:i});return this.view.updateState(r),r}createExtensionManager(){var t,n;const r=[...this.options.enableCoreExtensions?[sF,Yk.configure({blockSeparator:(n=(t=this.options.coreExtensionOptions)===null||t===void 0?void 0:t.clipboardTextSerializer)===null||n===void 0?void 0:n.blockSeparator}),rF,lF,uF,dF,oF,cF].filter(o=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[o.name]!==!1:!0):[],...this.options.extensions].filter(o=>["extension","node","mark"].includes(o==null?void 0:o.type));this.extensionManager=new Wl(r,this)}createCommandManager(){this.commandManager=new Q0({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){var t;let n;try{n=u1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(s){if(!(s instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(s.message))throw s;this.emit("contentError",{editor:this,error:s,disableCollaboration:()=>{this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(a=>a.name!=="collaboration"),this.createExtensionManager()}}),n=u1(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}const i=Zk(n,this.options.autofocus);this.view=new Dk(this.options.element,{...this.options.editorProps,attributes:{role:"textbox",...(t=this.options.editorProps)===null||t===void 0?void 0:t.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:Gl.create({doc:n,selection:i||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews(),this.prependClass();const o=this.view.dom;o.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(s=>{var a;return(a=this.capturedTransaction)===null||a===void 0?void 0:a.step(s)});return}const n=this.state.apply(t),i=!this.state.selection.eq(n.selection);this.emit("beforeTransaction",{editor:this,transaction:t,nextState:n}),this.view.updateState(n),this.emit("transaction",{editor:this,transaction:t}),i&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),o=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return nF(this.state,t)}isActive(t,n){const i=typeof t=="string"?t:null,r=typeof t=="string"?n:t;return HB(this.state,i,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Kd(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:n=`

`,textSerializers:i={}}=t||{};return LB(this.state.doc,{blockSeparator:n,textSerializers:{...Kk(this.schema),...i}})}get isEmpty(){return rg(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){if(this.emit("destroy"),this.view){const t=this.view.dom;t&&t.editor&&delete t.editor,this.view.destroy()}this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}$node(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelector(t,n))||null}$nodes(t,n){var i;return((i=this.$doc)===null||i===void 0?void 0:i.querySelectorAll(t,n))||null}$pos(t){const n=this.state.doc.resolve(t);return new Ra(n,this)}get $doc(){return this.$pos(0)}};function mu(e){return new tg({find:e.find,handler:({state:t,range:n,match:i})=>{const r=tt(e.getAttributes,void 0,i);if(r===!1||r===null)return null;const{tr:o}=t,s=i[i.length-1],a=i[0];if(s){const l=a.search(/\S/),u=n.from+a.indexOf(s),c=u+s.length;if(Ub(n.from,n.to,t.doc).filter(p=>p.mark.type.excluded.find(g=>g===e.type&&g!==p.mark.type)).filter(p=>p.to>u).length)return null;c<n.to&&o.delete(c,n.to),u>n.from&&o.delete(n.from+l,u);const h=n.from+l+s.length;o.addMark(n.from+l,h,e.type.create(r||{})),o.removeStoredMark(e.type)}}})}function hF(e){return new tg({find:e.find,handler:({state:t,range:n,match:i})=>{const r=tt(e.getAttributes,void 0,i)||{},{tr:o}=t,s=n.from;let a=n.to;const l=e.type.create(r);if(i[1]){const u=i[0].lastIndexOf(i[1]);let c=s+u;c>a?c=a:a=c+i[1].length;const d=i[0][i[0].length-1];o.insertText(d,s+i[0].length-1),o.replaceWith(c,a,l)}else if(i[0]){const u=e.type.isInline?s:s-1;o.insert(u,e.type.create(r)).delete(o.mapping.map(s),o.mapping.map(a))}o.scrollIntoView()}})}function d1(e){return new tg({find:e.find,handler:({state:t,range:n,match:i})=>{const r=t.doc.resolve(n.from),o=tt(e.getAttributes,void 0,i)||{};if(!r.node(-1).canReplaceWith(r.index(-1),r.indexAfter(-1),e.type))return null;t.tr.delete(n.from,n.to).setBlockType(n.from,n.from,e.type,o)}})}function vu(e){return new tg({find:e.find,handler:({state:t,range:n,match:i,chain:r})=>{const o=tt(e.getAttributes,void 0,i)||{},s=t.tr.delete(n.from,n.to),l=s.doc.resolve(n.from).blockRange(),u=l&&xb(l,e.type,o);if(!u)return null;if(s.wrap(l,u),e.keepMarks&&e.editor){const{selection:d,storedMarks:h}=t,{splittableMarks:p}=e.editor.extensionManager,f=h||d.$to.parentOffset&&d.$from.marks();if(f){const g=f.filter(m=>p.includes(m.type.name));s.ensureMarks(g)}}if(e.keepAttributes){const d=e.type.name==="bulletList"||e.type.name==="orderedList"?"listItem":"taskList";r().updateAttributes(d,o).run()}const c=s.doc.resolve(n.from-1).nodeBefore;c&&c.type===e.type&&ha(s.doc,n.from-1)&&(!e.joinPredicate||e.joinPredicate(i,c))&&s.join(n.from-1)}})}let ct=class h1{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=tt(Ee(this,"addOptions",{name:this.name}))),this.storage=tt(Ee(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(t={}){return new h1(t)}configure(t={}){const n=this.extend({...this.config,addOptions:()=>ng(this.options,t)});return n.name=this.name,n.parent=this.parent,n}extend(t={}){const n=new h1(t);return n.parent=this,this.child=n,n.name=t.name?t.name:n.parent.name,t.defaultOptions&&Object.keys(t.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=tt(Ee(n,"addOptions",{name:n.name})),n.storage=tt(Ee(n,"addStorage",{name:n.name,options:n.options})),n}};function ll(e){return new NN({find:e.find,handler:({state:t,range:n,match:i,pasteEvent:r})=>{const o=tt(e.getAttributes,void 0,i,r);if(o===!1||o===null)return null;const{tr:s}=t,a=i[i.length-1],l=i[0];let u=n.to;if(a){const c=l.search(/\S/),d=n.from+l.indexOf(a),h=d+a.length;if(Ub(n.from,n.to,t.doc).filter(f=>f.mark.type.excluded.find(m=>m===e.type&&m!==f.mark.type)).filter(f=>f.to>d).length)return null;h<n.to&&s.delete(h,n.to),d>n.from&&s.delete(n.from+c,d),u=n.from+c+a.length,s.addMark(n.from+c,u,e.type.create(o||{})),s.removeStoredMark(e.type)}}})}function dz(e,t){const{selection:n}=e,{$from:i}=n;if(n instanceof Pe){const o=i.index();return i.parent.canReplaceWith(o,o+1,t)}let r=i.depth;for(;r>=0;){const o=i.index(r);if(i.node(r).contentMatchAt(o).matchType(t))return!0;r-=1}return!1}function hz(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}var Ni="top",Tr="bottom",Ar="right",Bi="left",jb="auto",Yd=[Ni,Tr,Ar,Bi],Cu="start",hd="end",pz="clippingParents",pF="viewport",Yu="popper",fz="reference",Ex=Yd.reduce(function(e,t){return e.concat([t+"-"+Cu,t+"-"+hd])},[]),fF=[].concat(Yd,[jb]).reduce(function(e,t){return e.concat([t,t+"-"+Cu,t+"-"+hd])},[]),gz="beforeRead",mz="read",vz="afterRead",Cz="beforeMain",bz="main",yz="afterMain",wz="beforeWrite",Sz="write",xz="afterWrite",Ez=[gz,mz,vz,Cz,bz,yz,wz,Sz,xz];function bo(e){return e?(e.nodeName||"").toLowerCase():null}function nr(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function ul(e){var t=nr(e).Element;return e instanceof t||e instanceof Element}function xr(e){var t=nr(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function qb(e){if(typeof ShadowRoot>"u")return!1;var t=nr(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function kz(e){var t=e.state;Object.keys(t.elements).forEach(function(n){var i=t.styles[n]||{},r=t.attributes[n]||{},o=t.elements[n];!xr(o)||!bo(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(s){var a=r[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Fz(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach(function(i){var r=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:n[i]),a=s.reduce(function(l,u){return l[u]="",l},{});!xr(r)||!bo(r)||(Object.assign(r.style,a),Object.keys(o).forEach(function(l){r.removeAttribute(l)}))})}}const gF={name:"applyStyles",enabled:!0,phase:"write",fn:kz,effect:Fz,requires:["computeStyles"]};function po(e){return e.split("-")[0]}var Wa=Math.max,df=Math.min,bu=Math.round;function p1(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function mF(){return!/^((?!chrome|android).)*safari/i.test(p1())}function yu(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var i=e.getBoundingClientRect(),r=1,o=1;t&&xr(e)&&(r=e.offsetWidth>0&&bu(i.width)/e.offsetWidth||1,o=e.offsetHeight>0&&bu(i.height)/e.offsetHeight||1);var s=ul(e)?nr(e):window,a=s.visualViewport,l=!mF()&&n,u=(i.left+(l&&a?a.offsetLeft:0))/r,c=(i.top+(l&&a?a.offsetTop:0))/o,d=i.width/r,h=i.height/o;return{width:d,height:h,top:c,right:u+d,bottom:c+h,left:u,x:u,y:c}}function Kb(e){var t=yu(e),n=e.offsetWidth,i=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:i}}function vF(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&qb(n)){var i=t;do{if(i&&e.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function ls(e){return nr(e).getComputedStyle(e)}function Tz(e){return["table","td","th"].indexOf(bo(e))>=0}function ga(e){return((ul(e)?e.ownerDocument:e.document)||window.document).documentElement}function og(e){return bo(e)==="html"?e:e.assignedSlot||e.parentNode||(qb(e)?e.host:null)||ga(e)}function kx(e){return!xr(e)||ls(e).position==="fixed"?null:e.offsetParent}function Az(e){var t=/firefox/i.test(p1()),n=/Trident/i.test(p1());if(n&&xr(e)){var i=ls(e);if(i.position==="fixed")return null}var r=og(e);for(qb(r)&&(r=r.host);xr(r)&&["html","body"].indexOf(bo(r))<0;){var o=ls(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Xd(e){for(var t=nr(e),n=kx(e);n&&Tz(n)&&ls(n).position==="static";)n=kx(n);return n&&(bo(n)==="html"||bo(n)==="body"&&ls(n).position==="static")?t:n||Az(e)||t}function Yb(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Mc(e,t,n){return Wa(e,df(t,n))}function Rz(e,t,n){var i=Mc(e,t,n);return i>n?n:i}function CF(){return{top:0,right:0,bottom:0,left:0}}function bF(e){return Object.assign({},CF(),e)}function yF(e,t){return t.reduce(function(n,i){return n[i]=e,n},{})}var Dz=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,bF(typeof t!="number"?t:yF(t,Yd))};function Mz(e){var t,n=e.state,i=e.name,r=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=po(n.placement),l=Yb(a),u=[Bi,Ar].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var d=Dz(r.padding,n),h=Kb(o),p=l==="y"?Ni:Bi,f=l==="y"?Tr:Ar,g=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],m=s[l]-n.rects.reference[l],v=Xd(o),b=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,S=g/2-m/2,y=d[p],x=b-h[c]-d[f],E=b/2-h[c]/2+S,R=Mc(y,E,x),T=l;n.modifiersData[i]=(t={},t[T]=R,t.centerOffset=R-E,t)}}function Pz(e){var t=e.state,n=e.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=t.elements.popper.querySelector(r),!r)||vF(t.elements.popper,r)&&(t.elements.arrow=r))}const Iz={name:"arrow",enabled:!0,phase:"main",fn:Mz,effect:Pz,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wu(e){return e.split("-")[1]}var Oz={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Lz(e,t){var n=e.x,i=e.y,r=t.devicePixelRatio||1;return{x:bu(n*r)/r||0,y:bu(i*r)/r||0}}function Fx(e){var t,n=e.popper,i=e.popperRect,r=e.placement,o=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,h=s.x,p=h===void 0?0:h,f=s.y,g=f===void 0?0:f,m=typeof c=="function"?c({x:p,y:g}):{x:p,y:g};p=m.x,g=m.y;var v=s.hasOwnProperty("x"),b=s.hasOwnProperty("y"),S=Bi,y=Ni,x=window;if(u){var E=Xd(n),R="clientHeight",T="clientWidth";if(E===nr(n)&&(E=ga(n),ls(E).position!=="static"&&a==="absolute"&&(R="scrollHeight",T="scrollWidth")),E=E,r===Ni||(r===Bi||r===Ar)&&o===hd){y=Tr;var F=d&&E===x&&x.visualViewport?x.visualViewport.height:E[R];g-=F-i.height,g*=l?1:-1}if(r===Bi||(r===Ni||r===Tr)&&o===hd){S=Ar;var D=d&&E===x&&x.visualViewport?x.visualViewport.width:E[T];p-=D-i.width,p*=l?1:-1}}var O=Object.assign({position:a},u&&Oz),L=c===!0?Lz({x:p,y:g},nr(n)):{x:p,y:g};if(p=L.x,g=L.y,l){var I;return Object.assign({},O,(I={},I[y]=b?"0":"",I[S]=v?"0":"",I.transform=(x.devicePixelRatio||1)<=1?"translate("+p+"px, "+g+"px)":"translate3d("+p+"px, "+g+"px, 0)",I))}return Object.assign({},O,(t={},t[y]=b?g+"px":"",t[S]=v?p+"px":"",t.transform="",t))}function Nz(e){var t=e.state,n=e.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:po(t.placement),variation:wu(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:r,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Fx(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Fx(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Bz={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nz,data:{}};var Ah={passive:!0};function zz(e){var t=e.state,n=e.instance,i=e.options,r=i.scroll,o=r===void 0?!0:r,s=i.resize,a=s===void 0?!0:s,l=nr(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Ah)}),a&&l.addEventListener("resize",n.update,Ah),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Ah)}),a&&l.removeEventListener("resize",n.update,Ah)}}const Hz={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:zz,data:{}};var Vz={left:"right",right:"left",bottom:"top",top:"bottom"};function wp(e){return e.replace(/left|right|bottom|top/g,function(t){return Vz[t]})}var _z={start:"end",end:"start"};function Tx(e){return e.replace(/start|end/g,function(t){return _z[t]})}function Xb(e){var t=nr(e),n=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Jb(e){return yu(ga(e)).left+Xb(e).scrollLeft}function Gz(e,t){var n=nr(e),i=ga(e),r=n.visualViewport,o=i.clientWidth,s=i.clientHeight,a=0,l=0;if(r){o=r.width,s=r.height;var u=mF();(u||!u&&t==="fixed")&&(a=r.offsetLeft,l=r.offsetTop)}return{width:o,height:s,x:a+Jb(e),y:l}}function Wz(e){var t,n=ga(e),i=Xb(e),r=(t=e.ownerDocument)==null?void 0:t.body,o=Wa(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),s=Wa(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),a=-i.scrollLeft+Jb(e),l=-i.scrollTop;return ls(r||n).direction==="rtl"&&(a+=Wa(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function Zb(e){var t=ls(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function wF(e){return["html","body","#document"].indexOf(bo(e))>=0?e.ownerDocument.body:xr(e)&&Zb(e)?e:wF(og(e))}function Pc(e,t){var n;t===void 0&&(t=[]);var i=wF(e),r=i===((n=e.ownerDocument)==null?void 0:n.body),o=nr(i),s=r?[o].concat(o.visualViewport||[],Zb(i)?i:[]):i,a=t.concat(s);return r?a:a.concat(Pc(og(s)))}function f1(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function $z(e,t){var n=yu(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function Ax(e,t,n){return t===pF?f1(Gz(e,n)):ul(t)?$z(t,n):f1(Wz(ga(e)))}function Uz(e){var t=Pc(og(e)),n=["absolute","fixed"].indexOf(ls(e).position)>=0,i=n&&xr(e)?Xd(e):e;return ul(i)?t.filter(function(r){return ul(r)&&vF(r,i)&&bo(r)!=="body"}):[]}function jz(e,t,n,i){var r=t==="clippingParents"?Uz(e):[].concat(t),o=[].concat(r,[n]),s=o[0],a=o.reduce(function(l,u){var c=Ax(e,u,i);return l.top=Wa(c.top,l.top),l.right=df(c.right,l.right),l.bottom=df(c.bottom,l.bottom),l.left=Wa(c.left,l.left),l},Ax(e,s,i));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function SF(e){var t=e.reference,n=e.element,i=e.placement,r=i?po(i):null,o=i?wu(i):null,s=t.x+t.width/2-n.width/2,a=t.y+t.height/2-n.height/2,l;switch(r){case Ni:l={x:s,y:t.y-n.height};break;case Tr:l={x:s,y:t.y+t.height};break;case Ar:l={x:t.x+t.width,y:a};break;case Bi:l={x:t.x-n.width,y:a};break;default:l={x:t.x,y:t.y}}var u=r?Yb(r):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Cu:l[u]=l[u]-(t[c]/2-n[c]/2);break;case hd:l[u]=l[u]+(t[c]/2-n[c]/2);break}}return l}function pd(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=i===void 0?e.placement:i,o=n.strategy,s=o===void 0?e.strategy:o,a=n.boundary,l=a===void 0?pz:a,u=n.rootBoundary,c=u===void 0?pF:u,d=n.elementContext,h=d===void 0?Yu:d,p=n.altBoundary,f=p===void 0?!1:p,g=n.padding,m=g===void 0?0:g,v=bF(typeof m!="number"?m:yF(m,Yd)),b=h===Yu?fz:Yu,S=e.rects.popper,y=e.elements[f?b:h],x=jz(ul(y)?y:y.contextElement||ga(e.elements.popper),l,c,s),E=yu(e.elements.reference),R=SF({reference:E,element:S,placement:r}),T=f1(Object.assign({},S,R)),F=h===Yu?T:E,D={top:x.top-F.top+v.top,bottom:F.bottom-x.bottom+v.bottom,left:x.left-F.left+v.left,right:F.right-x.right+v.right},O=e.modifiersData.offset;if(h===Yu&&O){var L=O[r];Object.keys(D).forEach(function(I){var B=[Ar,Tr].indexOf(I)>=0?1:-1,U=[Ni,Tr].indexOf(I)>=0?"y":"x";D[I]+=L[U]*B})}return D}function qz(e,t){t===void 0&&(t={});var n=t,i=n.placement,r=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?fF:l,c=wu(i),d=c?a?Ex:Ex.filter(function(f){return wu(f)===c}):Yd,h=d.filter(function(f){return u.indexOf(f)>=0});h.length===0&&(h=d);var p=h.reduce(function(f,g){return f[g]=pd(e,{placement:g,boundary:r,rootBoundary:o,padding:s})[po(g)],f},{});return Object.keys(p).sort(function(f,g){return p[f]-p[g]})}function Kz(e){if(po(e)===jb)return[];var t=wp(e);return[Tx(e),t,Tx(t)]}function Yz(e){var t=e.state,n=e.options,i=e.name;if(!t.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,f=p===void 0?!0:p,g=n.allowedAutoPlacements,m=t.options.placement,v=po(m),b=v===m,S=l||(b||!f?[wp(m)]:Kz(m)),y=[m].concat(S).reduce(function(Xe,Te){return Xe.concat(po(Te)===jb?qz(t,{placement:Te,boundary:c,rootBoundary:d,padding:u,flipVariations:f,allowedAutoPlacements:g}):Te)},[]),x=t.rects.reference,E=t.rects.popper,R=new Map,T=!0,F=y[0],D=0;D<y.length;D++){var O=y[D],L=po(O),I=wu(O)===Cu,B=[Ni,Tr].indexOf(L)>=0,U=B?"width":"height",V=pd(t,{placement:O,boundary:c,rootBoundary:d,altBoundary:h,padding:u}),Y=B?I?Ar:Bi:I?Tr:Ni;x[U]>E[U]&&(Y=wp(Y));var oe=wp(Y),ke=[];if(o&&ke.push(V[L]<=0),a&&ke.push(V[Y]<=0,V[oe]<=0),ke.every(function(Xe){return Xe})){F=O,T=!1;break}R.set(O,ke)}if(T)for(var we=f?3:1,Ae=function(Te){var $e=y.find(function(Ze){var ot=R.get(Ze);if(ot)return ot.slice(0,Te).every(function(gt){return gt})});if($e)return F=$e,"break"},ve=we;ve>0;ve--){var Ve=Ae(ve);if(Ve==="break")break}t.placement!==F&&(t.modifiersData[i]._skip=!0,t.placement=F,t.reset=!0)}}const Xz={name:"flip",enabled:!0,phase:"main",fn:Yz,requiresIfExists:["offset"],data:{_skip:!1}};function Rx(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Dx(e){return[Ni,Ar,Tr,Bi].some(function(t){return e[t]>=0})}function Jz(e){var t=e.state,n=e.name,i=t.rects.reference,r=t.rects.popper,o=t.modifiersData.preventOverflow,s=pd(t,{elementContext:"reference"}),a=pd(t,{altBoundary:!0}),l=Rx(s,i),u=Rx(a,r,o),c=Dx(l),d=Dx(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}const Zz={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Jz};function Qz(e,t,n){var i=po(e),r=[Bi,Ni].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*r,[Bi,Ar].indexOf(i)>=0?{x:a,y:s}:{x:s,y:a}}function eH(e){var t=e.state,n=e.options,i=e.name,r=n.offset,o=r===void 0?[0,0]:r,s=fF.reduce(function(c,d){return c[d]=Qz(d,t.rects,o),c},{}),a=s[t.placement],l=a.x,u=a.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[i]=s}const tH={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eH};function nH(e){var t=e.state,n=e.name;t.modifiersData[n]=SF({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const iH={name:"popperOffsets",enabled:!0,phase:"read",fn:nH,data:{}};function rH(e){return e==="x"?"y":"x"}function oH(e){var t=e.state,n=e.options,i=e.name,r=n.mainAxis,o=r===void 0?!0:r,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,h=n.tether,p=h===void 0?!0:h,f=n.tetherOffset,g=f===void 0?0:f,m=pd(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),v=po(t.placement),b=wu(t.placement),S=!b,y=Yb(v),x=rH(y),E=t.modifiersData.popperOffsets,R=t.rects.reference,T=t.rects.popper,F=typeof g=="function"?g(Object.assign({},t.rects,{placement:t.placement})):g,D=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,L={x:0,y:0};if(E){if(o){var I,B=y==="y"?Ni:Bi,U=y==="y"?Tr:Ar,V=y==="y"?"height":"width",Y=E[y],oe=Y+m[B],ke=Y-m[U],we=p?-T[V]/2:0,Ae=b===Cu?R[V]:T[V],ve=b===Cu?-T[V]:-R[V],Ve=t.elements.arrow,Xe=p&&Ve?Kb(Ve):{width:0,height:0},Te=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:CF(),$e=Te[B],Ze=Te[U],ot=Mc(0,R[V],Xe[V]),gt=S?R[V]/2-we-ot-$e-D.mainAxis:Ae-ot-$e-D.mainAxis,Rt=S?-R[V]/2+we+ot+Ze+D.mainAxis:ve+ot+Ze+D.mainAxis,on=t.elements.arrow&&Xd(t.elements.arrow),vn=on?y==="y"?on.clientTop||0:on.clientLeft||0:0,mt=(I=O==null?void 0:O[y])!=null?I:0,Ct=Y+gt-mt-vn,Cn=Y+Rt-mt,Jt=Mc(p?df(oe,Ct):oe,Y,p?Wa(ke,Cn):ke);E[y]=Jt,L[y]=Jt-Y}if(a){var Wt,Rn=y==="x"?Ni:Bi,di=y==="x"?Tr:Ar,bt=E[x],Dt=x==="y"?"height":"width",$t=bt+m[Rn],bn=bt-m[di],Zn=[Ni,Bi].indexOf(v)!==-1,or=(Wt=O==null?void 0:O[x])!=null?Wt:0,sr=Zn?$t:bt-R[Dt]-T[Dt]-or+D.altAxis,ar=Zn?bt+R[Dt]+T[Dt]-or-D.altAxis:bn,lr=p&&Zn?Rz(sr,bt,ar):Mc(p?sr:$t,bt,p?ar:bn);E[x]=lr,L[x]=lr-bt}t.modifiersData[i]=L}}const sH={name:"preventOverflow",enabled:!0,phase:"main",fn:oH,requiresIfExists:["offset"]};function aH(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function lH(e){return e===nr(e)||!xr(e)?Xb(e):aH(e)}function uH(e){var t=e.getBoundingClientRect(),n=bu(t.width)/e.offsetWidth||1,i=bu(t.height)/e.offsetHeight||1;return n!==1||i!==1}function cH(e,t,n){n===void 0&&(n=!1);var i=xr(t),r=xr(t)&&uH(t),o=ga(t),s=yu(e,r,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&((bo(t)!=="body"||Zb(o))&&(a=lH(t)),xr(t)?(l=yu(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=Jb(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function dH(e){var t=new Map,n=new Set,i=[];e.forEach(function(o){t.set(o.name,o)});function r(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=t.get(a);l&&r(l)}}),i.push(o)}return e.forEach(function(o){n.has(o.name)||r(o)}),i}function hH(e){var t=dH(e);return Ez.reduce(function(n,i){return n.concat(t.filter(function(r){return r.phase===i}))},[])}function pH(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function fH(e){var t=e.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(t).map(function(n){return t[n]})}var Mx={placement:"bottom",modifiers:[],strategy:"absolute"};function Px(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function gH(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,i=n===void 0?[]:n,r=t.defaultOptions,o=r===void 0?Mx:r;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mx,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},d=[],h=!1,p={state:c,setOptions:function(v){var b=typeof v=="function"?v(c.options):v;g(),c.options=Object.assign({},o,c.options,b),c.scrollParents={reference:ul(a)?Pc(a):a.contextElement?Pc(a.contextElement):[],popper:Pc(l)};var S=hH(fH([].concat(i,c.options.modifiers)));return c.orderedModifiers=S.filter(function(y){return y.enabled}),f(),p.update()},forceUpdate:function(){if(!h){var v=c.elements,b=v.reference,S=v.popper;if(Px(b,S)){c.rects={reference:cH(b,Xd(S),c.options.strategy==="fixed"),popper:Kb(S)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(D){return c.modifiersData[D.name]=Object.assign({},D.data)});for(var y=0;y<c.orderedModifiers.length;y++){if(c.reset===!0){c.reset=!1,y=-1;continue}var x=c.orderedModifiers[y],E=x.fn,R=x.options,T=R===void 0?{}:R,F=x.name;typeof E=="function"&&(c=E({state:c,options:T,name:F,instance:p})||c)}}}},update:pH(function(){return new Promise(function(m){p.forceUpdate(),m(c)})}),destroy:function(){g(),h=!0}};if(!Px(a,l))return p;p.setOptions(u).then(function(m){!h&&u.onFirstUpdate&&u.onFirstUpdate(m)});function f(){c.orderedModifiers.forEach(function(m){var v=m.name,b=m.options,S=b===void 0?{}:b,y=m.effect;if(typeof y=="function"){var x=y({state:c,name:v,instance:p,options:S}),E=function(){};d.push(x||E)}})}function g(){d.forEach(function(m){return m()}),d=[]}return p}}var mH=[Hz,iH,Bz,gF,tH,Xz,sH,Iz,Zz],vH=gH({defaultModifiers:mH}),CH="tippy-box",xF="tippy-content",bH="tippy-backdrop",EF="tippy-arrow",kF="tippy-svg-arrow",Fa={passive:!0,capture:!0},FF=function(){return document.body};function mm(e,t,n){if(Array.isArray(e)){var i=e[t];return i??(Array.isArray(n)?n[t]:n)}return e}function Qb(e,t){var n={}.toString.call(e);return n.indexOf("[object")===0&&n.indexOf(t+"]")>-1}function TF(e,t){return typeof e=="function"?e.apply(void 0,t):e}function Ix(e,t){if(t===0)return e;var n;return function(i){clearTimeout(n),n=setTimeout(function(){e(i)},t)}}function yH(e){return e.split(/\s+/).filter(Boolean)}function zl(e){return[].concat(e)}function Ox(e,t){e.indexOf(t)===-1&&e.push(t)}function wH(e){return e.filter(function(t,n){return e.indexOf(t)===n})}function SH(e){return e.split("-")[0]}function hf(e){return[].slice.call(e)}function Lx(e){return Object.keys(e).reduce(function(t,n){return e[n]!==void 0&&(t[n]=e[n]),t},{})}function Ic(){return document.createElement("div")}function sg(e){return["Element","Fragment"].some(function(t){return Qb(e,t)})}function xH(e){return Qb(e,"NodeList")}function EH(e){return Qb(e,"MouseEvent")}function kH(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function FH(e){return sg(e)?[e]:xH(e)?hf(e):Array.isArray(e)?e:hf(document.querySelectorAll(e))}function vm(e,t){e.forEach(function(n){n&&(n.style.transitionDuration=t+"ms")})}function Nx(e,t){e.forEach(function(n){n&&n.setAttribute("data-state",t)})}function TH(e){var t,n=zl(e),i=n[0];return i!=null&&(t=i.ownerDocument)!=null&&t.body?i.ownerDocument:document}function AH(e,t){var n=t.clientX,i=t.clientY;return e.every(function(r){var o=r.popperRect,s=r.popperState,a=r.props,l=a.interactiveBorder,u=SH(s.placement),c=s.modifiersData.offset;if(!c)return!0;var d=u==="bottom"?c.top.y:0,h=u==="top"?c.bottom.y:0,p=u==="right"?c.left.x:0,f=u==="left"?c.right.x:0,g=o.top-i+d>l,m=i-o.bottom-h>l,v=o.left-n+p>l,b=n-o.right-f>l;return g||m||v||b})}function Cm(e,t,n){var i=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){e[i](r,n)})}function Bx(e,t){for(var n=t;n;){var i;if(e.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Qr={isTouch:!1},zx=0;function RH(){Qr.isTouch||(Qr.isTouch=!0,window.performance&&document.addEventListener("mousemove",AF))}function AF(){var e=performance.now();e-zx<20&&(Qr.isTouch=!1,document.removeEventListener("mousemove",AF)),zx=e}function DH(){var e=document.activeElement;if(kH(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function MH(){document.addEventListener("touchstart",RH,Fa),window.addEventListener("blur",DH)}var PH=typeof window<"u"&&typeof document<"u",IH=PH?!!window.msCrypto:!1,OH={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},LH={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},Gr=Object.assign({appendTo:FF,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},OH,LH),NH=Object.keys(Gr),BH=function(t){var n=Object.keys(t);n.forEach(function(i){Gr[i]=t[i]})};function RF(e){var t=e.plugins||[],n=t.reduce(function(i,r){var o=r.name,s=r.defaultValue;if(o){var a;i[o]=e[o]!==void 0?e[o]:(a=Gr[o])!=null?a:s}return i},{});return Object.assign({},e,n)}function zH(e,t){var n=t?Object.keys(RF(Object.assign({},Gr,{plugins:t}))):NH,i=n.reduce(function(r,o){var s=(e.getAttribute("data-tippy-"+o)||"").trim();if(!s)return r;if(o==="content")r[o]=s;else try{r[o]=JSON.parse(s)}catch{r[o]=s}return r},{});return i}function Hx(e,t){var n=Object.assign({},t,{content:TF(t.content,[e])},t.ignoreAttributes?{}:zH(e,t.plugins));return n.aria=Object.assign({},Gr.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?t.interactive:n.aria.expanded,content:n.aria.content==="auto"?t.interactive?null:"describedby":n.aria.content},n}var HH=function(){return"innerHTML"};function g1(e,t){e[HH()]=t}function Vx(e){var t=Ic();return e===!0?t.className=EF:(t.className=kF,sg(e)?t.appendChild(e):g1(t,e)),t}function _x(e,t){sg(t.content)?(g1(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?g1(e,t.content):e.textContent=t.content)}function m1(e){var t=e.firstElementChild,n=hf(t.children);return{box:t,content:n.find(function(i){return i.classList.contains(xF)}),arrow:n.find(function(i){return i.classList.contains(EF)||i.classList.contains(kF)}),backdrop:n.find(function(i){return i.classList.contains(bH)})}}function DF(e){var t=Ic(),n=Ic();n.className=CH,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Ic();i.className=xF,i.setAttribute("data-state","hidden"),_x(i,e.props),t.appendChild(n),n.appendChild(i),r(e.props,e.props);function r(o,s){var a=m1(t),l=a.box,u=a.content,c=a.arrow;s.theme?l.setAttribute("data-theme",s.theme):l.removeAttribute("data-theme"),typeof s.animation=="string"?l.setAttribute("data-animation",s.animation):l.removeAttribute("data-animation"),s.inertia?l.setAttribute("data-inertia",""):l.removeAttribute("data-inertia"),l.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?l.setAttribute("role",s.role):l.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&_x(u,e.props),s.arrow?c?o.arrow!==s.arrow&&(l.removeChild(c),l.appendChild(Vx(s.arrow))):l.appendChild(Vx(s.arrow)):c&&l.removeChild(c)}return{popper:t,onUpdate:r}}DF.$$tippy=!0;var VH=1,Rh=[],bm=[];function _H(e,t){var n=Hx(e,Object.assign({},Gr,RF(Lx(t)))),i,r,o,s=!1,a=!1,l=!1,u=!1,c,d,h,p=[],f=Ix(Ct,n.interactiveDebounce),g,m=VH++,v=null,b=wH(n.plugins),S={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},y={id:m,reference:e,popper:Ic(),popperInstance:v,props:n,state:S,plugins:b,clearDelayTimeouts:sr,setProps:ar,setContent:lr,show:$,hide:G,hideWithInteractivity:q,enable:Zn,disable:or,unmount:te,destroy:Se};if(!n.render)return y;var x=n.render(y),E=x.popper,R=x.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+y.id,y.popper=E,e._tippy=y,E._tippy=y;var T=b.map(function(H){return H.fn(y)}),F=e.hasAttribute("aria-expanded");return on(),we(),Y(),oe("onCreate",[y]),n.showOnCreate&&$t(),E.addEventListener("mouseenter",function(){y.props.interactive&&y.state.isVisible&&y.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){y.props.interactive&&y.props.trigger.indexOf("mouseenter")>=0&&B().addEventListener("mousemove",f)}),y;function D(){var H=y.props.touch;return Array.isArray(H)?H:[H,0]}function O(){return D()[0]==="hold"}function L(){var H;return!!((H=y.props.render)!=null&&H.$$tippy)}function I(){return g||e}function B(){var H=I().parentNode;return H?TH(H):document}function U(){return m1(E)}function V(H){return y.state.isMounted&&!y.state.isVisible||Qr.isTouch||c&&c.type==="focus"?0:mm(y.props.delay,H?0:1,Gr.delay)}function Y(H){H===void 0&&(H=!1),E.style.pointerEvents=y.props.interactive&&!H?"":"none",E.style.zIndex=""+y.props.zIndex}function oe(H,Q,fe){if(fe===void 0&&(fe=!0),T.forEach(function(de){de[H]&&de[H].apply(de,Q)}),fe){var Oe;(Oe=y.props)[H].apply(Oe,Q)}}function ke(){var H=y.props.aria;if(H.content){var Q="aria-"+H.content,fe=E.id,Oe=zl(y.props.triggerTarget||e);Oe.forEach(function(de){var me=de.getAttribute(Q);if(y.state.isVisible)de.setAttribute(Q,me?me+" "+fe:fe);else{var xe=me&&me.replace(fe,"").trim();xe?de.setAttribute(Q,xe):de.removeAttribute(Q)}})}}function we(){if(!(F||!y.props.aria.expanded)){var H=zl(y.props.triggerTarget||e);H.forEach(function(Q){y.props.interactive?Q.setAttribute("aria-expanded",y.state.isVisible&&Q===I()?"true":"false"):Q.removeAttribute("aria-expanded")})}}function Ae(){B().removeEventListener("mousemove",f),Rh=Rh.filter(function(H){return H!==f})}function ve(H){if(!(Qr.isTouch&&(l||H.type==="mousedown"))){var Q=H.composedPath&&H.composedPath()[0]||H.target;if(!(y.props.interactive&&Bx(E,Q))){if(zl(y.props.triggerTarget||e).some(function(fe){return Bx(fe,Q)})){if(Qr.isTouch||y.state.isVisible&&y.props.trigger.indexOf("click")>=0)return}else oe("onClickOutside",[y,H]);y.props.hideOnClick===!0&&(y.clearDelayTimeouts(),y.hide(),a=!0,setTimeout(function(){a=!1}),y.state.isMounted||$e())}}}function Ve(){l=!0}function Xe(){l=!1}function Te(){var H=B();H.addEventListener("mousedown",ve,!0),H.addEventListener("touchend",ve,Fa),H.addEventListener("touchstart",Xe,Fa),H.addEventListener("touchmove",Ve,Fa)}function $e(){var H=B();H.removeEventListener("mousedown",ve,!0),H.removeEventListener("touchend",ve,Fa),H.removeEventListener("touchstart",Xe,Fa),H.removeEventListener("touchmove",Ve,Fa)}function Ze(H,Q){gt(H,function(){!y.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&Q()})}function ot(H,Q){gt(H,Q)}function gt(H,Q){var fe=U().box;function Oe(de){de.target===fe&&(Cm(fe,"remove",Oe),Q())}if(H===0)return Q();Cm(fe,"remove",d),Cm(fe,"add",Oe),d=Oe}function Rt(H,Q,fe){fe===void 0&&(fe=!1);var Oe=zl(y.props.triggerTarget||e);Oe.forEach(function(de){de.addEventListener(H,Q,fe),p.push({node:de,eventType:H,handler:Q,options:fe})})}function on(){O()&&(Rt("touchstart",mt,{passive:!0}),Rt("touchend",Cn,{passive:!0})),yH(y.props.trigger).forEach(function(H){if(H!=="manual")switch(Rt(H,mt),H){case"mouseenter":Rt("mouseleave",Cn);break;case"focus":Rt(IH?"focusout":"blur",Jt);break;case"focusin":Rt("focusout",Jt);break}})}function vn(){p.forEach(function(H){var Q=H.node,fe=H.eventType,Oe=H.handler,de=H.options;Q.removeEventListener(fe,Oe,de)}),p=[]}function mt(H){var Q,fe=!1;if(!(!y.state.isEnabled||Wt(H)||a)){var Oe=((Q=c)==null?void 0:Q.type)==="focus";c=H,g=H.currentTarget,we(),!y.state.isVisible&&EH(H)&&Rh.forEach(function(de){return de(H)}),H.type==="click"&&(y.props.trigger.indexOf("mouseenter")<0||s)&&y.props.hideOnClick!==!1&&y.state.isVisible?fe=!0:$t(H),H.type==="click"&&(s=!fe),fe&&!Oe&&bn(H)}}function Ct(H){var Q=H.target,fe=I().contains(Q)||E.contains(Q);if(!(H.type==="mousemove"&&fe)){var Oe=Dt().concat(E).map(function(de){var me,xe=de._tippy,Ue=(me=xe.popperInstance)==null?void 0:me.state;return Ue?{popperRect:de.getBoundingClientRect(),popperState:Ue,props:n}:null}).filter(Boolean);AH(Oe,H)&&(Ae(),bn(H))}}function Cn(H){var Q=Wt(H)||y.props.trigger.indexOf("click")>=0&&s;if(!Q){if(y.props.interactive){y.hideWithInteractivity(H);return}bn(H)}}function Jt(H){y.props.trigger.indexOf("focusin")<0&&H.target!==I()||y.props.interactive&&H.relatedTarget&&E.contains(H.relatedTarget)||bn(H)}function Wt(H){return Qr.isTouch?O()!==H.type.indexOf("touch")>=0:!1}function Rn(){di();var H=y.props,Q=H.popperOptions,fe=H.placement,Oe=H.offset,de=H.getReferenceClientRect,me=H.moveTransition,xe=L()?m1(E).arrow:null,Ue=de?{getBoundingClientRect:de,contextElement:de.contextElement||I()}:e,it={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(ws){var _i=ws.state;if(L()){var Lg=U(),Sl=Lg.box;["placement","reference-hidden","escaped"].forEach(function(xl){xl==="placement"?Sl.setAttribute("data-placement",_i.placement):_i.attributes.popper["data-popper-"+xl]?Sl.setAttribute("data-"+xl,""):Sl.removeAttribute("data-"+xl)}),_i.attributes.popper={}}}},Ut=[{name:"offset",options:{offset:Oe}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!me}},it];L()&&xe&&Ut.push({name:"arrow",options:{element:xe,padding:3}}),Ut.push.apply(Ut,(Q==null?void 0:Q.modifiers)||[]),y.popperInstance=vH(Ue,E,Object.assign({},Q,{placement:fe,onFirstUpdate:h,modifiers:Ut}))}function di(){y.popperInstance&&(y.popperInstance.destroy(),y.popperInstance=null)}function bt(){var H=y.props.appendTo,Q,fe=I();y.props.interactive&&H===FF||H==="parent"?Q=fe.parentNode:Q=TF(H,[fe]),Q.contains(E)||Q.appendChild(E),y.state.isMounted=!0,Rn()}function Dt(){return hf(E.querySelectorAll("[data-tippy-root]"))}function $t(H){y.clearDelayTimeouts(),H&&oe("onTrigger",[y,H]),Te();var Q=V(!0),fe=D(),Oe=fe[0],de=fe[1];Qr.isTouch&&Oe==="hold"&&de&&(Q=de),Q?i=setTimeout(function(){y.show()},Q):y.show()}function bn(H){if(y.clearDelayTimeouts(),oe("onUntrigger",[y,H]),!y.state.isVisible){$e();return}if(!(y.props.trigger.indexOf("mouseenter")>=0&&y.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(H.type)>=0&&s)){var Q=V(!1);Q?r=setTimeout(function(){y.state.isVisible&&y.hide()},Q):o=requestAnimationFrame(function(){y.hide()})}}function Zn(){y.state.isEnabled=!0}function or(){y.hide(),y.state.isEnabled=!1}function sr(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function ar(H){if(!y.state.isDestroyed){oe("onBeforeUpdate",[y,H]),vn();var Q=y.props,fe=Hx(e,Object.assign({},Q,Lx(H),{ignoreAttributes:!0}));y.props=fe,on(),Q.interactiveDebounce!==fe.interactiveDebounce&&(Ae(),f=Ix(Ct,fe.interactiveDebounce)),Q.triggerTarget&&!fe.triggerTarget?zl(Q.triggerTarget).forEach(function(Oe){Oe.removeAttribute("aria-expanded")}):fe.triggerTarget&&e.removeAttribute("aria-expanded"),we(),Y(),R&&R(Q,fe),y.popperInstance&&(Rn(),Dt().forEach(function(Oe){requestAnimationFrame(Oe._tippy.popperInstance.forceUpdate)})),oe("onAfterUpdate",[y,H])}}function lr(H){y.setProps({content:H})}function $(){var H=y.state.isVisible,Q=y.state.isDestroyed,fe=!y.state.isEnabled,Oe=Qr.isTouch&&!y.props.touch,de=mm(y.props.duration,0,Gr.duration);if(!(H||Q||fe||Oe)&&!I().hasAttribute("disabled")&&(oe("onShow",[y],!1),y.props.onShow(y)!==!1)){if(y.state.isVisible=!0,L()&&(E.style.visibility="visible"),Y(),Te(),y.state.isMounted||(E.style.transition="none"),L()){var me=U(),xe=me.box,Ue=me.content;vm([xe,Ue],0)}h=function(){var Ut;if(!(!y.state.isVisible||u)){if(u=!0,E.offsetHeight,E.style.transition=y.props.moveTransition,L()&&y.props.animation){var Ro=U(),ws=Ro.box,_i=Ro.content;vm([ws,_i],de),Nx([ws,_i],"visible")}ke(),we(),Ox(bm,y),(Ut=y.popperInstance)==null||Ut.forceUpdate(),oe("onMount",[y]),y.props.animation&&L()&&ot(de,function(){y.state.isShown=!0,oe("onShown",[y])})}},bt()}}function G(){var H=!y.state.isVisible,Q=y.state.isDestroyed,fe=!y.state.isEnabled,Oe=mm(y.props.duration,1,Gr.duration);if(!(H||Q||fe)&&(oe("onHide",[y],!1),y.props.onHide(y)!==!1)){if(y.state.isVisible=!1,y.state.isShown=!1,u=!1,s=!1,L()&&(E.style.visibility="hidden"),Ae(),$e(),Y(!0),L()){var de=U(),me=de.box,xe=de.content;y.props.animation&&(vm([me,xe],Oe),Nx([me,xe],"hidden"))}ke(),we(),y.props.animation?L()&&Ze(Oe,y.unmount):y.unmount()}}function q(H){B().addEventListener("mousemove",f),Ox(Rh,f),f(H)}function te(){y.state.isVisible&&y.hide(),y.state.isMounted&&(di(),Dt().forEach(function(H){H._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),bm=bm.filter(function(H){return H!==y}),y.state.isMounted=!1,oe("onHidden",[y]))}function Se(){y.state.isDestroyed||(y.clearDelayTimeouts(),y.unmount(),vn(),delete e._tippy,y.state.isDestroyed=!0,oe("onDestroy",[y]))}}function Jd(e,t){t===void 0&&(t={});var n=Gr.plugins.concat(t.plugins||[]);MH();var i=Object.assign({},t,{plugins:n}),r=FH(e),o=r.reduce(function(s,a){var l=a&&_H(a,i);return l&&s.push(l),s},[]);return sg(e)?o[0]:o}Jd.defaultProps=Gr;Jd.setDefaultProps=BH;Jd.currentInput=Qr;Object.assign({},gF,{effect:function(t){var n=t.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}});Jd.setDefaultProps({render:DF});function Gx(e){return MD((t,n)=>({get(){return t(),e},set(i){e=i,requestAnimationFrame(()=>{requestAnimationFrame(()=>{n()})})}}))}class GH extends cz{constructor(t={}){return super(t),this.contentComponent=null,this.appContext=null,this.reactiveState=Gx(this.view.state),this.reactiveExtensionStorage=Gx(this.extensionStorage),this.on("beforeTransaction",({nextState:n})=>{this.reactiveState.value=n,this.reactiveExtensionStorage.value=this.extensionStorage}),wC(this)}get state(){return this.reactiveState?this.reactiveState.value:this.view.state}get storage(){return this.reactiveExtensionStorage?this.reactiveExtensionStorage.value:super.storage}registerPlugin(t,n){const i=super.registerPlugin(t,n);return this.reactiveState&&(this.reactiveState.value=i),i}unregisterPlugin(t){const n=super.unregisterPlugin(t);return this.reactiveState&&n&&(this.reactiveState.value=n),n}}const WH=yC({name:"EditorContent",props:{editor:{default:null,type:Object}},setup(e){const t=Et(),n=rc();return D3(()=>{const i=e.editor;i&&i.options.element&&t.value&&M3(()=>{if(!t.value||!i.options.element.firstChild)return;const r=DD(t.value);t.value.append(...i.options.element.childNodes),i.contentComponent=n.ctx._,n&&(i.appContext={...n.appContext,provides:n.provides}),i.setOptions({element:r}),i.createNodeViews()})}),A3(()=>{const i=e.editor;if(!i||(i.isDestroyed||i.view.setProps({nodeViews:{}}),i.contentComponent=null,i.appContext=null,!i.options.element.firstChild))return;const r=document.createElement("div");r.append(...i.options.element.childNodes),i.setOptions({element:r})}),{rootEl:t}},render(){return R3("div",{ref:e=>{this.rootEl=e}})}});class $H{constructor(t,{props:n={},editor:i}){this.editor=i,this.component=wC(t),this.el=document.createElement("div"),this.props=Pv(n),this.renderedComponent=this.renderComponent()}get element(){return this.renderedComponent.el}get ref(){var t,n,i,r;return!((n=(t=this.renderedComponent.vNode)===null||t===void 0?void 0:t.component)===null||n===void 0)&&n.exposed?this.renderedComponent.vNode.component.exposed:(r=(i=this.renderedComponent.vNode)===null||i===void 0?void 0:i.component)===null||r===void 0?void 0:r.proxy}renderComponent(){let t=R3(this.component,this.props);return this.editor.appContext&&(t.appContext=this.editor.appContext),typeof document<"u"&&this.el&&Np(t,this.el),{vNode:t,destroy:()=>{this.el&&Np(null,this.el),this.el=null,t=null},el:this.el?this.el.firstElementChild:null}}updateProps(t={}){Object.entries(t).forEach(([n,i])=>{this.props[n]=i}),this.renderComponent()}destroy(){this.renderedComponent.destroy()}}const UH=/^\s*>\s$/,jH=ct.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:e}){return["blockquote",St(this.options.HTMLAttributes,e),0]},addCommands(){return{setBlockquote:()=>({commands:e})=>e.wrapIn(this.name),toggleBlockquote:()=>({commands:e})=>e.toggleWrap(this.name),unsetBlockquote:()=>({commands:e})=>e.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[vu({find:UH,type:this.type})]}}),qH=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,KH=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,YH=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,XH=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,JH=Jn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name===this.name},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}]},renderHTML({HTMLAttributes:e}){return["strong",St(this.options.HTMLAttributes,e),0]},addCommands(){return{setBold:()=>({commands:e})=>e.setMark(this.name),toggleBold:()=>({commands:e})=>e.toggleMark(this.name),unsetBold:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[mu({find:qH,type:this.type}),mu({find:YH,type:this.type})]},addPasteRules(){return[ll({find:KH,type:this.type}),ll({find:XH,type:this.type})]}}),ZH="listItem",Wx="textStyle",$x=/^\s*([-+*])\s$/,QH=ct.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:e}){return["ul",St(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleBulletList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(ZH,this.editor.getAttributes(Wx)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let e=vu({find:$x,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(e=vu({find:$x,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Wx),editor:this.editor})),[e]}}),eV=/(^|[^`])`([^`]+)`(?!`)/,tV=/(^|[^`])`([^`]+)`(?!`)/g,nV=Jn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:e}){return["code",St(this.options.HTMLAttributes,e),0]},addCommands(){return{setCode:()=>({commands:e})=>e.setMark(this.name),toggleCode:()=>({commands:e})=>e.toggleMark(this.name),unsetCode:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[mu({find:eV,type:this.type})]},addPasteRules(){return[ll({find:tV,type:this.type})]}}),iV=/^```([a-z]+)?[\s\n]$/,rV=/^~~~([a-z]+)?[\s\n]$/,oV=ct.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:e=>{var t;const{languageClassPrefix:n}=this.options,o=[...((t=e.firstElementChild)===null||t===void 0?void 0:t.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:e,HTMLAttributes:t}){return["pre",St(this.options.HTMLAttributes,t),["code",{class:e.attrs.language?this.options.languageClassPrefix+e.attrs.language:null},0]]},addCommands(){return{setCodeBlock:e=>({commands:t})=>t.setNode(this.name,e),toggleCodeBlock:e=>({commands:t})=>t.toggleNode(this.name,"paragraph",e)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:e,$anchor:t}=this.editor.state.selection,n=t.pos===1;return!e||t.parent.type.name!==this.name?!1:n||!t.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:e})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:t}=e,{selection:n}=t,{$from:i,empty:r}=n;if(!r||i.parent.type!==this.type)return!1;const o=i.parentOffset===i.parent.nodeSize-2,s=i.parent.textContent.endsWith(`

`);return!o||!s?!1:e.chain().command(({tr:a})=>(a.delete(i.pos-2,i.pos),!0)).exitCode().run()},ArrowDown:({editor:e})=>{if(!this.options.exitOnArrowDown)return!1;const{state:t}=e,{selection:n,doc:i}=t,{$from:r,empty:o}=n;if(!o||r.parent.type!==this.type||!(r.parentOffset===r.parent.nodeSize-2))return!1;const a=r.after();return a===void 0?!1:i.nodeAt(a)?e.commands.command(({tr:u})=>(u.setSelection(He.near(i.resolve(a))),!0)):e.commands.exitCode()}}},addInputRules(){return[d1({find:iV,type:this.type,getAttributes:e=>({language:e[1]})}),d1({find:rV,type:this.type,getAttributes:e=>({language:e[1]})})]},addProseMirrorPlugins(){return[new rn({key:new xn("codeBlockVSCodeHandler"),props:{handlePaste:(e,t)=>{if(!t.clipboardData||this.editor.isActive(this.type.name))return!1;const n=t.clipboardData.getData("text/plain"),i=t.clipboardData.getData("vscode-editor-data"),r=i?JSON.parse(i):void 0,o=r==null?void 0:r.mode;if(!n||!o)return!1;const{tr:s,schema:a}=e.state,l=a.text(n.replace(/\r\n?/g,`
`));return s.replaceSelectionWith(this.type.create({language:o},l)),s.selection.$from.parent.type!==this.type&&s.setSelection(Ne.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.setMeta("paste",!0),e.dispatch(s),!0}}})]}}),sV=ct.create({name:"doc",topNode:!0,content:"block+"});function aV(e={}){return new rn({view(t){return new lV(t,e)}})}class lV{constructor(t,n){var i;this.editorView=t,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(i=n.width)!==null&&i!==void 0?i:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let o=s=>{this[r](s)};return t.dom.addEventListener(r,o),{name:r,handler:o}})}destroy(){this.handlers.forEach(({name:t,handler:n})=>this.editorView.dom.removeEventListener(t,n))}update(t,n){this.cursorPos!=null&&n.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(t){t!=this.cursorPos&&(this.cursorPos=t,t==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let t=this.editorView.state.doc.resolve(this.cursorPos),n=!t.parent.inlineContent,i,r=this.editorView.dom,o=r.getBoundingClientRect(),s=o.width/r.offsetWidth,a=o.height/r.offsetHeight;if(n){let d=t.nodeBefore,h=t.nodeAfter;if(d||h){let p=this.editorView.nodeDOM(this.cursorPos-(d?d.nodeSize:0));if(p){let f=p.getBoundingClientRect(),g=d?f.bottom:f.top;d&&h&&(g=(g+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let m=this.width/2*a;i={left:f.left,right:f.right,top:g-m,bottom:g+m}}}}if(!i){let d=this.editorView.coordsAtPos(this.cursorPos),h=this.width/2*s;i={left:d.left-h,right:d.left+h,top:d.top,bottom:d.bottom}}let l=this.editorView.dom.offsetParent;this.element||(this.element=l.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let u,c;if(!l||l==document.body&&getComputedStyle(l).position=="static")u=-pageXOffset,c=-pageYOffset;else{let d=l.getBoundingClientRect(),h=d.width/l.offsetWidth,p=d.height/l.offsetHeight;u=d.left-l.scrollLeft*h,c=d.top-l.scrollTop*p}this.element.style.left=(i.left-u)/s+"px",this.element.style.top=(i.top-c)/a+"px",this.element.style.width=(i.right-i.left)/s+"px",this.element.style.height=(i.bottom-i.top)/a+"px"}scheduleRemoval(t){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),t)}dragover(t){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:t.clientX,top:t.clientY}),i=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),r=i&&i.type.spec.disableDropCursor,o=typeof r=="function"?r(this.editorView,n,t):r;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let a=W6(this.editorView.state.doc,s,this.editorView.dragging.slice);a!=null&&(s=a)}this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(t){this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)}}const uV=mn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[aV(this.options)]}});class dn extends He{constructor(t){super(t,t)}map(t,n){let i=t.resolve(n.map(this.head));return dn.valid(i)?new dn(i):He.near(i)}content(){return ge.empty}eq(t){return t instanceof dn&&t.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(t,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new dn(t.resolve(n.pos))}getBookmark(){return new ey(this.anchor)}static valid(t){let n=t.parent;if(n.isTextblock||!cV(t)||!dV(t))return!1;let i=n.type.spec.allowGapCursor;if(i!=null)return i;let r=n.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock}static findGapCursorFrom(t,n,i=!1){e:for(;;){if(!i&&dn.valid(t))return t;let r=t.pos,o=null;for(let s=t.depth;;s--){let a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){o=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}else if(s==0)return null;r+=n;let l=t.doc.resolve(r);if(dn.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Pe.isSelectable(o)){t=t.doc.resolve(r+o.nodeSize*n),i=!1;continue e}break}o=s,r+=n;let a=t.doc.resolve(r);if(dn.valid(a))return a}return null}}}dn.prototype.visible=!1;dn.findFrom=dn.findGapCursorFrom;He.jsonID("gapcursor",dn);class ey{constructor(t){this.pos=t}map(t){return new ey(t.map(this.pos))}resolve(t){let n=t.resolve(this.pos);return dn.valid(n)?new dn(n):He.near(n)}}function cV(e){for(let t=e.depth;t>=0;t--){let n=e.index(t),i=e.node(t);if(n==0){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n-1);;r=r.lastChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function dV(e){for(let t=e.depth;t>=0;t--){let n=e.indexAfter(t),i=e.node(t);if(n==i.childCount){if(i.type.spec.isolating)return!0;continue}for(let r=i.child(n);;r=r.firstChild){if(r.childCount==0&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}function hV(){return new rn({props:{decorations:mV,createSelectionBetween(e,t,n){return t.pos==n.pos&&dn.valid(n)?new dn(n):null},handleClick:fV,handleKeyDown:pV,handleDOMEvents:{beforeinput:gV}}})}const pV=Pk({ArrowLeft:Dh("horiz",-1),ArrowRight:Dh("horiz",1),ArrowUp:Dh("vert",-1),ArrowDown:Dh("vert",1)});function Dh(e,t){const n=e=="vert"?t>0?"down":"up":t>0?"right":"left";return function(i,r,o){let s=i.selection,a=t>0?s.$to:s.$from,l=s.empty;if(s instanceof Ne){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=i.doc.resolve(t>0?a.after():a.before())}let u=dn.findGapCursorFrom(a,t,l);return u?(r&&r(i.tr.setSelection(new dn(u))),!0):!1}}function fV(e,t,n){if(!e||!e.editable)return!1;let i=e.state.doc.resolve(t);if(!dn.valid(i))return!1;let r=e.posAtCoords({left:n.clientX,top:n.clientY});return r&&r.inside>-1&&Pe.isSelectable(e.state.doc.nodeAt(r.inside))?!1:(e.dispatch(e.state.tr.setSelection(new dn(i))),!0)}function gV(e,t){if(t.inputType!="insertCompositionText"||!(e.state.selection instanceof dn))return!1;let{$from:n}=e.state.selection,i=n.parent.contentMatchAt(n.index()).findWrapping(e.state.schema.nodes.text);if(!i)return!1;let r=J.empty;for(let s=i.length-1;s>=0;s--)r=J.from(i[s].createAndFill(null,r));let o=e.state.tr.replace(n.pos,n.pos,new ge(r,0,0));return o.setSelection(Ne.near(o.doc.resolve(n.pos+1))),e.dispatch(o),!1}function mV(e){if(!(e.selection instanceof dn))return null;let t=document.createElement("div");return t.className="ProseMirror-gapcursor",Pt.create(e.doc,[Pn.widget(e.selection.head,t,{key:"gapcursor"})])}const vV=mn.create({name:"gapCursor",addProseMirrorPlugins(){return[hV()]},extendNodeSchema(e){var t;const n={name:e.name,options:e.options,storage:e.storage};return{allowGapCursor:(t=tt(Ee(e,"allowGapCursor",n)))!==null&&t!==void 0?t:null}}}),CV=ct.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:e}){return["br",St(this.options.HTMLAttributes,e)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:e,chain:t,state:n,editor:i})=>e.first([()=>e.exitCode(),()=>e.command(()=>{const{selection:r,storedMarks:o}=n;if(r.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:a}=i.extensionManager,l=o||r.$to.parentOffset&&r.$from.marks();return t().insertContent({type:this.name}).command(({tr:u,dispatch:c})=>{if(c&&l&&s){const d=l.filter(h=>a.includes(h.type.name));u.ensureMarks(d)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),bV=ct.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(e=>({tag:`h${e}`,attrs:{level:e}}))},renderHTML({node:e,HTMLAttributes:t}){return[`h${this.options.levels.includes(e.attrs.level)?e.attrs.level:this.options.levels[0]}`,St(this.options.HTMLAttributes,t),0]},addCommands(){return{setHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.setNode(this.name,e):!1,toggleHeading:e=>({commands:t})=>this.options.levels.includes(e.level)?t.toggleNode(this.name,"paragraph",e):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((e,t)=>({...e,[`Mod-Alt-${t}`]:()=>this.editor.commands.toggleHeading({level:t})}),{})},addInputRules(){return this.options.levels.map(e=>d1({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${e}})\\s$`),type:this.type,getAttributes:{level:e}}))}});var pf=200,Vn=function(){};Vn.prototype.append=function(t){return t.length?(t=Vn.from(t),!this.length&&t||t.length<pf&&this.leafAppend(t)||this.length<pf&&t.leafPrepend(this)||this.appendInner(t)):this};Vn.prototype.prepend=function(t){return t.length?Vn.from(t).append(this):this};Vn.prototype.appendInner=function(t){return new yV(this,t)};Vn.prototype.slice=function(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.length),t>=n?Vn.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,n))};Vn.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};Vn.prototype.forEach=function(t,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length),n<=i?this.forEachInner(t,n,i,0):this.forEachInvertedInner(t,n,i,0)};Vn.prototype.map=function(t,n,i){n===void 0&&(n=0),i===void 0&&(i=this.length);var r=[];return this.forEach(function(o,s){return r.push(t(o,s))},n,i),r};Vn.from=function(t){return t instanceof Vn?t:t&&t.length?new MF(t):Vn.empty};var MF=(function(e){function t(i){e.call(this),this.values=i}e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t;var n={length:{configurable:!0},depth:{configurable:!0}};return t.prototype.flatten=function(){return this.values},t.prototype.sliceInner=function(r,o){return r==0&&o==this.length?this:new t(this.values.slice(r,o))},t.prototype.getInner=function(r){return this.values[r]},t.prototype.forEachInner=function(r,o,s,a){for(var l=o;l<s;l++)if(r(this.values[l],a+l)===!1)return!1},t.prototype.forEachInvertedInner=function(r,o,s,a){for(var l=o-1;l>=s;l--)if(r(this.values[l],a+l)===!1)return!1},t.prototype.leafAppend=function(r){if(this.length+r.length<=pf)return new t(this.values.concat(r.flatten()))},t.prototype.leafPrepend=function(r){if(this.length+r.length<=pf)return new t(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(t.prototype,n),t})(Vn);Vn.empty=new MF([]);var yV=(function(e){function t(n,i){e.call(this),this.left=n,this.right=i,this.length=n.length+i.length,this.depth=Math.max(n.depth,i.depth)+1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},t.prototype.getInner=function(i){return i<this.left.length?this.left.get(i):this.right.get(i-this.left.length)},t.prototype.forEachInner=function(i,r,o,s){var a=this.left.length;if(r<a&&this.left.forEachInner(i,r,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(i,Math.max(r-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},t.prototype.forEachInvertedInner=function(i,r,o,s){var a=this.left.length;if(r>a&&this.right.forEachInvertedInner(i,r-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(i,Math.min(r,a),o,s)===!1)return!1},t.prototype.sliceInner=function(i,r){if(i==0&&r==this.length)return this;var o=this.left.length;return r<=o?this.left.slice(i,r):i>=o?this.right.slice(i-o,r-o):this.left.slice(i,o).append(this.right.slice(0,r-o))},t.prototype.leafAppend=function(i){var r=this.right.leafAppend(i);if(r)return new t(this.left,r)},t.prototype.leafPrepend=function(i){var r=this.left.leafPrepend(i);if(r)return new t(r,this.right)},t.prototype.appendInner=function(i){return this.left.depth>=Math.max(this.right.depth,i.depth)+1?new t(this.left,new t(this.right,i)):new t(this,i)},t})(Vn);const wV=500;class Vr{constructor(t,n){this.items=t,this.eventCount=n}popEvent(t,n){if(this.eventCount==0)return null;let i=this.items.length;for(;;i--)if(this.items.get(i-1).selection){--i;break}let r,o;n&&(r=this.remapping(i,this.items.length),o=r.maps.length);let s=t.tr,a,l,u=[],c=[];return this.items.forEach((d,h)=>{if(!d.step){r||(r=this.remapping(i,h+1),o=r.maps.length),o--,c.push(d);return}if(r){c.push(new Yr(d.map));let p=d.step.map(r.slice(o)),f;p&&s.maybeStep(p).doc&&(f=s.mapping.maps[s.mapping.maps.length-1],u.push(new Yr(f,void 0,void 0,u.length+c.length))),o--,f&&r.appendMap(f,o)}else s.maybeStep(d.step);if(d.selection)return a=r?d.selection.map(r.slice(o)):d.selection,l=new Vr(this.items.slice(0,i).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(t,n,i,r){let o=[],s=this.eventCount,a=this.items,l=!r&&a.length?a.get(a.length-1):null;for(let c=0;c<t.steps.length;c++){let d=t.steps[c].invert(t.docs[c]),h=new Yr(t.mapping.maps[c],d,n),p;(p=l&&l.merge(h))&&(h=p,c?o.pop():a=a.slice(0,a.length-1)),o.push(h),n&&(s++,n=void 0),r||(l=h)}let u=s-i.depth;return u>xV&&(a=SV(a,u),s-=u),new Vr(a.append(o),s)}remapping(t,n){let i=new od;return this.items.forEach((r,o)=>{let s=r.mirrorOffset!=null&&o-r.mirrorOffset>=t?i.maps.length-r.mirrorOffset:void 0;i.appendMap(r.map,s)},t,n),i}addMaps(t){return this.eventCount==0?this:new Vr(this.items.append(t.map(n=>new Yr(n))),this.eventCount)}rebased(t,n){if(!this.eventCount)return this;let i=[],r=Math.max(0,this.items.length-n),o=t.mapping,s=t.steps.length,a=this.eventCount;this.items.forEach(h=>{h.selection&&a--},r);let l=n;this.items.forEach(h=>{let p=o.getMirror(--l);if(p==null)return;s=Math.min(s,p);let f=o.maps[p];if(h.step){let g=t.steps[p].invert(t.docs[p]),m=h.selection&&h.selection.map(o.slice(l+1,p));m&&a++,i.push(new Yr(f,g,m))}else i.push(new Yr(f))},r);let u=[];for(let h=n;h<s;h++)u.push(new Yr(o.maps[h]));let c=this.items.slice(0,r).append(u).append(i),d=new Vr(c,a);return d.emptyItemCount()>wV&&(d=d.compress(this.items.length-i.length)),d}emptyItemCount(){let t=0;return this.items.forEach(n=>{n.step||t++}),t}compress(t=this.items.length){let n=this.remapping(0,t),i=n.maps.length,r=[],o=0;return this.items.forEach((s,a)=>{if(a>=t)r.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(i)),u=l&&l.getMap();if(i--,u&&n.appendMap(u,i),l){let c=s.selection&&s.selection.map(n.slice(i));c&&o++;let d=new Yr(u.invert(),l,c),h,p=r.length-1;(h=r.length&&r[p].merge(d))?r[p]=h:r.push(d)}}else s.map&&i--},this.items.length,0),new Vr(Vn.from(r.reverse()),o)}}Vr.empty=new Vr(Vn.empty,0);function SV(e,t){let n;return e.forEach((i,r)=>{if(i.selection&&t--==0)return n=r,!1}),e.slice(n)}class Yr{constructor(t,n,i,r){this.map=t,this.step=n,this.selection=i,this.mirrorOffset=r}merge(t){if(this.step&&t.step&&!t.selection){let n=t.step.merge(this.step);if(n)return new Yr(n.getMap().invert(),n,this.selection)}}}class Ps{constructor(t,n,i,r,o){this.done=t,this.undone=n,this.prevRanges=i,this.prevTime=r,this.prevComposition=o}}const xV=20;function EV(e,t,n,i){let r=n.getMeta($a),o;if(r)return r.historyState;n.getMeta(TV)&&(e=new Ps(e.done,e.undone,null,0,-1));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return e;if(s&&s.getMeta($a))return s.getMeta($a).redo?new Ps(e.done.addTransform(n,void 0,i,Sp(t)),e.undone,Ux(n.mapping.maps),e.prevTime,e.prevComposition):new Ps(e.done,e.undone.addTransform(n,void 0,i,Sp(t)),null,e.prevTime,e.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=n.getMeta("composition"),l=e.prevTime==0||!s&&e.prevComposition!=a&&(e.prevTime<(n.time||0)-i.newGroupDelay||!kV(n,e.prevRanges)),u=s?ym(e.prevRanges,n.mapping):Ux(n.mapping.maps);return new Ps(e.done.addTransform(n,l?t.selection.getBookmark():void 0,i,Sp(t)),Vr.empty,u,n.time,a??e.prevComposition)}else return(o=n.getMeta("rebased"))?new Ps(e.done.rebased(n,o),e.undone.rebased(n,o),ym(e.prevRanges,n.mapping),e.prevTime,e.prevComposition):new Ps(e.done.addMaps(n.mapping.maps),e.undone.addMaps(n.mapping.maps),ym(e.prevRanges,n.mapping),e.prevTime,e.prevComposition)}function kV(e,t){if(!t)return!1;if(!e.docChanged)return!0;let n=!1;return e.mapping.maps[0].forEach((i,r)=>{for(let o=0;o<t.length;o+=2)i<=t[o+1]&&r>=t[o]&&(n=!0)}),n}function Ux(e){let t=[];for(let n=e.length-1;n>=0&&t.length==0;n--)e[n].forEach((i,r,o,s)=>t.push(o,s));return t}function ym(e,t){if(!e)return null;let n=[];for(let i=0;i<e.length;i+=2){let r=t.map(e[i],1),o=t.map(e[i+1],-1);r<=o&&n.push(r,o)}return n}function FV(e,t,n){let i=Sp(t),r=$a.get(t).spec.config,o=(n?e.undone:e.done).popEvent(t,i);if(!o)return null;let s=o.selection.resolve(o.transform.doc),a=(n?e.done:e.undone).addTransform(o.transform,t.selection.getBookmark(),r,i),l=new Ps(n?a:o.remaining,n?o.remaining:a,null,0,-1);return o.transform.setSelection(s).setMeta($a,{redo:n,historyState:l})}let wm=!1,jx=null;function Sp(e){let t=e.plugins;if(jx!=t){wm=!1,jx=t;for(let n=0;n<t.length;n++)if(t[n].spec.historyPreserveItems){wm=!0;break}}return wm}const $a=new xn("history"),TV=new xn("closeHistory");function AV(e={}){return e={depth:e.depth||100,newGroupDelay:e.newGroupDelay||500},new rn({key:$a,state:{init(){return new Ps(Vr.empty,Vr.empty,null,0,-1)},apply(t,n,i){return EV(n,i,t,e)}},config:e,props:{handleDOMEvents:{beforeinput(t,n){let i=n.inputType,r=i=="historyUndo"?IF:i=="historyRedo"?OF:null;return r?(n.preventDefault(),r(t.state,t.dispatch)):!1}}}})}function PF(e,t){return(n,i)=>{let r=$a.getState(n);if(!r||(e?r.undone:r.done).eventCount==0)return!1;if(i){let o=FV(r,n,e);o&&i(t?o.scrollIntoView():o)}return!0}}const IF=PF(!1,!0),OF=PF(!0,!0),RV=mn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:e,dispatch:t})=>IF(e,t),redo:()=>({state:e,dispatch:t})=>OF(e,t)}},addProseMirrorPlugins(){return[AV(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),DV=ct.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:e}){return["hr",St(this.options.HTMLAttributes,e)]},addCommands(){return{setHorizontalRule:()=>({chain:e,state:t})=>{if(!dz(t,t.schema.nodes[this.name]))return!1;const{selection:n}=t,{$from:i,$to:r}=n,o=e();return i.parentOffset===0?o.insertContentAt({from:Math.max(i.pos-1,0),to:r.pos},{type:this.name}):VB(n)?o.insertContentAt(r.pos,{type:this.name}):o.insertContent({type:this.name}),o.command(({tr:s,dispatch:a})=>{var l;if(a){const{$to:u}=s.selection,c=u.end();if(u.nodeAfter)u.nodeAfter.isTextblock?s.setSelection(Ne.create(s.doc,u.pos+1)):u.nodeAfter.isBlock?s.setSelection(Pe.create(s.doc,u.pos)):s.setSelection(Ne.create(s.doc,u.pos));else{const d=(l=u.parent.type.contentMatch.defaultType)===null||l===void 0?void 0:l.create();d&&(s.insert(c,d),s.setSelection(Ne.create(s.doc,c+1)))}s.scrollIntoView()}return!0}).run()}}},addInputRules(){return[hF({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),MV=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,PV=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,IV=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,OV=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,LV=Jn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:e=>e.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:e=>e.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:e}){return["em",St(this.options.HTMLAttributes,e),0]},addCommands(){return{setItalic:()=>({commands:e})=>e.setMark(this.name),toggleItalic:()=>({commands:e})=>e.toggleMark(this.name),unsetItalic:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[mu({find:MV,type:this.type}),mu({find:IV,type:this.type})]},addPasteRules(){return[ll({find:PV,type:this.type}),ll({find:OV,type:this.type})]}}),NV=ct.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:e}){return["li",St(this.options.HTMLAttributes,e),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),BV="listItem",qx="textStyle",Kx=/^(\d+)\.\s$/,zV=ct.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:e=>e.hasAttribute("start")?parseInt(e.getAttribute("start")||"",10):1},type:{default:null,parseHTML:e=>e.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:e}){const{start:t,...n}=e;return t===1?["ol",St(this.options.HTMLAttributes,n),0]:["ol",St(this.options.HTMLAttributes,e),0]},addCommands(){return{toggleOrderedList:()=>({commands:e,chain:t})=>this.options.keepAttributes?t().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BV,this.editor.getAttributes(qx)).run():e.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let e=vu({find:Kx,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(e=vu({find:Kx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:t=>({start:+t[1],...this.editor.getAttributes(qx)}),joinPredicate:(t,n)=>n.childCount+n.attrs.start===+t[1],editor:this.editor})),[e]}}),HV=ct.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:e}){return["p",St(this.options.HTMLAttributes,e),0]},addCommands(){return{setParagraph:()=>({commands:e})=>e.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),VV=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,_V=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,GV=Jn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["s",St(this.options.HTMLAttributes,e),0]},addCommands(){return{setStrike:()=>({commands:e})=>e.setMark(this.name),toggleStrike:()=>({commands:e})=>e.toggleMark(this.name),unsetStrike:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[mu({find:VV,type:this.type})]},addPasteRules(){return[ll({find:_V,type:this.type})]}}),WV=ct.create({name:"text",group:"inline"}),$V=mn.create({name:"starterKit",addExtensions(){var e,t,n,i,r,o,s,a,l,u,c,d,h,p,f,g,m,v;const b=[];return this.options.bold!==!1&&b.push(JH.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.blockquote!==!1&&b.push(jH.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bulletList!==!1&&b.push(QH.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&b.push(nV.configure((i=this.options)===null||i===void 0?void 0:i.code)),this.options.codeBlock!==!1&&b.push(oV.configure((r=this.options)===null||r===void 0?void 0:r.codeBlock)),this.options.document!==!1&&b.push(sV.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&b.push(uV.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&b.push(vV.configure((a=this.options)===null||a===void 0?void 0:a.gapcursor)),this.options.hardBreak!==!1&&b.push(CV.configure((l=this.options)===null||l===void 0?void 0:l.hardBreak)),this.options.heading!==!1&&b.push(bV.configure((u=this.options)===null||u===void 0?void 0:u.heading)),this.options.history!==!1&&b.push(RV.configure((c=this.options)===null||c===void 0?void 0:c.history)),this.options.horizontalRule!==!1&&b.push(DV.configure((d=this.options)===null||d===void 0?void 0:d.horizontalRule)),this.options.italic!==!1&&b.push(LV.configure((h=this.options)===null||h===void 0?void 0:h.italic)),this.options.listItem!==!1&&b.push(NV.configure((p=this.options)===null||p===void 0?void 0:p.listItem)),this.options.orderedList!==!1&&b.push(zV.configure((f=this.options)===null||f===void 0?void 0:f.orderedList)),this.options.paragraph!==!1&&b.push(HV.configure((g=this.options)===null||g===void 0?void 0:g.paragraph)),this.options.strike!==!1&&b.push(GV.configure((m=this.options)===null||m===void 0?void 0:m.strike)),this.options.text!==!1&&b.push(WV.configure((v=this.options)===null||v===void 0?void 0:v.text)),b}});function UV(e){var t;const{char:n,allowSpaces:i,allowedPrefixes:r,startOfLine:o,$position:s}=e,a=hz(n),l=new RegExp(`\\s${a}$`),u=o?"^":"",c=i?new RegExp(`${u}${a}.*?(?=\\s${a}|$)`,"gm"):new RegExp(`${u}(?:^)?${a}[^\\s${a}]*`,"gm"),d=((t=s.nodeBefore)===null||t===void 0?void 0:t.isText)&&s.nodeBefore.text;if(!d)return null;const h=s.pos-d.length,p=Array.from(d.matchAll(c)).pop();if(!p||p.input===void 0||p.index===void 0)return null;const f=p.input.slice(Math.max(0,p.index-1),p.index),g=new RegExp(`^[${r==null?void 0:r.join("")}\0]?$`).test(f);if(r!==null&&!g)return null;const m=h+p.index;let v=m+p[0].length;return i&&l.test(d.slice(v-1,v+1))&&(p[0]+=" ",v+=1),m<s.pos&&v>=s.pos?{range:{from:m,to:v},query:p[0].slice(n.length),text:p[0]}:null}const jV=new xn("suggestion");function qV({pluginKey:e=jV,editor:t,char:n="@",allowSpaces:i=!1,allowedPrefixes:r=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:a="suggestion",command:l=()=>null,items:u=()=>[],render:c=()=>({}),allow:d=()=>!0,findSuggestionMatch:h=UV}){let p;const f=c==null?void 0:c(),g=new rn({key:e,view(){return{update:async(m,v)=>{var b,S,y,x,E,R,T;const F=(b=this.key)===null||b===void 0?void 0:b.getState(v),D=(S=this.key)===null||S===void 0?void 0:S.getState(m.state),O=F.active&&D.active&&F.range.from!==D.range.from,L=!F.active&&D.active,I=F.active&&!D.active,B=!L&&!I&&F.query!==D.query,U=L||O&&B,V=B||O,Y=I||O&&B;if(!U&&!V&&!Y)return;const oe=Y&&!U?F:D,ke=m.dom.querySelector(`[data-decoration-id="${oe.decorationId}"]`);p={editor:t,range:oe.range,query:oe.query,text:oe.text,items:[],command:we=>l({editor:t,range:oe.range,props:we}),decorationNode:ke,clientRect:ke?()=>{var we;const{decorationId:Ae}=(we=this.key)===null||we===void 0?void 0:we.getState(t.state),ve=m.dom.querySelector(`[data-decoration-id="${Ae}"]`);return(ve==null?void 0:ve.getBoundingClientRect())||null}:null},U&&((y=f==null?void 0:f.onBeforeStart)===null||y===void 0||y.call(f,p)),V&&((x=f==null?void 0:f.onBeforeUpdate)===null||x===void 0||x.call(f,p)),(V||U)&&(p.items=await u({editor:t,query:oe.query})),Y&&((E=f==null?void 0:f.onExit)===null||E===void 0||E.call(f,p)),V&&((R=f==null?void 0:f.onUpdate)===null||R===void 0||R.call(f,p)),U&&((T=f==null?void 0:f.onStart)===null||T===void 0||T.call(f,p))},destroy:()=>{var m;p&&((m=f==null?void 0:f.onExit)===null||m===void 0||m.call(f,p))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(m,v,b,S){const{isEditable:y}=t,{composing:x}=t.view,{selection:E}=m,{empty:R,from:T}=E,F={...v};if(F.composing=x,y&&(R||t.view.composing)){(T<v.range.from||T>v.range.to)&&!x&&!v.composing&&(F.active=!1);const D=h({char:n,allowSpaces:i,allowedPrefixes:r,startOfLine:o,$position:E.$from}),O=`id_${Math.floor(Math.random()*4294967295)}`;D&&d({editor:t,state:S,range:D.range,isActive:v.active})?(F.active=!0,F.decorationId=v.decorationId?v.decorationId:O,F.range=D.range,F.query=D.query,F.text=D.text):F.active=!1}else F.active=!1;return F.active||(F.decorationId=null,F.range={from:0,to:0},F.query=null,F.text=null),F}},props:{handleKeyDown(m,v){var b;const{active:S,range:y}=g.getState(m.state);return S&&((b=f==null?void 0:f.onKeyDown)===null||b===void 0?void 0:b.call(f,{view:m,event:v,range:y}))||!1},decorations(m){const{active:v,range:b,decorationId:S}=g.getState(m);return v?Pt.create(m.doc,[Pn.inline(b.from,b.to,{nodeName:s,class:a,"data-decoration-id":S})]):null}}});return g}const KV=new xn("mention"),YV=ct.create({name:"mention",addOptions(){return{HTMLAttributes:{},renderText({options:e,node:t}){var n;return`${e.suggestion.char}${(n=t.attrs.label)!==null&&n!==void 0?n:t.attrs.id}`},deleteTriggerWithBackspace:!1,renderHTML({options:e,node:t}){var n;return["span",St(this.HTMLAttributes,e.HTMLAttributes),`${e.suggestion.char}${(n=t.attrs.label)!==null&&n!==void 0?n:t.attrs.id}`]},suggestion:{char:"@",pluginKey:KV,command:({editor:e,range:t,props:n})=>{var i,r,o;const s=e.view.state.selection.$to.nodeAfter;((i=s==null?void 0:s.text)===null||i===void 0?void 0:i.startsWith(" "))&&(t.to+=1),e.chain().focus().insertContentAt(t,[{type:this.name,attrs:n},{type:"text",text:" "}]).run(),(o=(r=e.view.dom.ownerDocument.defaultView)===null||r===void 0?void 0:r.getSelection())===null||o===void 0||o.collapseToEnd()},allow:({state:e,range:t})=>{const n=e.doc.resolve(t.from),i=e.schema.nodes[this.name];return!!n.parent.type.contentMatch.matchType(i)}}}},group:"inline",inline:!0,selectable:!1,atom:!0,addAttributes(){return{id:{default:null,parseHTML:e=>e.getAttribute("data-id"),renderHTML:e=>e.id?{"data-id":e.id}:{}},label:{default:null,parseHTML:e=>e.getAttribute("data-label"),renderHTML:e=>e.label?{"data-label":e.label}:{}}}},parseHTML(){return[{tag:`span[data-type="${this.name}"]`}]},renderHTML({node:e,HTMLAttributes:t}){if(this.options.renderLabel!==void 0)return console.warn("renderLabel is deprecated use renderText and renderHTML instead"),["span",St({"data-type":this.name},this.options.HTMLAttributes,t),this.options.renderLabel({options:this.options,node:e})];const n={...this.options};n.HTMLAttributes=St({"data-type":this.name},this.options.HTMLAttributes,t);const i=this.options.renderHTML({options:n,node:e});return typeof i=="string"?["span",St({"data-type":this.name},this.options.HTMLAttributes,t),i]:i},renderText({node:e}){return this.options.renderLabel!==void 0?(console.warn("renderLabel is deprecated use renderText and renderHTML instead"),this.options.renderLabel({options:this.options,node:e})):this.options.renderText({options:this.options,node:e})},addKeyboardShortcuts(){return{Backspace:()=>this.editor.commands.command(({tr:e,state:t})=>{let n=!1;const{selection:i}=t,{empty:r,anchor:o}=i;return r?(t.doc.nodesBetween(o-1,o,(s,a)=>{if(s.type.name===this.name)return n=!0,e.insertText(this.options.deleteTriggerWithBackspace?"":this.options.suggestion.char||"",a,a+s.nodeSize),!1}),n):!1})}},addProseMirrorPlugins(){return[qV({editor:this.editor,...this.options.suggestion})]}}),XV=Jn.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:e=>e.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["span",St(this.options.HTMLAttributes,e),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:e,commands:t})=>{const n=Wb(e,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:t.unsetMark(this.name)}}}}),JV=mn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:e=>{var t;return(t=e.style.color)===null||t===void 0?void 0:t.replace(/['"]+/g,"")},renderHTML:e=>e.color?{style:`color: ${e.color}`}:{}}}}]},addCommands(){return{setColor:e=>({chain:t})=>t().setMark("textStyle",{color:e}).run(),unsetColor:()=>({chain:e})=>e().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),ZV="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",QV="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",v1="numeric",C1="ascii",b1="alpha",Oc="asciinumeric",hc="alphanumeric",y1="domain",LF="emoji",e_="scheme",t_="slashscheme",Sm="whitespace";function n_(e,t){return e in t||(t[e]=[]),t[e]}function Oa(e,t,n){t[v1]&&(t[Oc]=!0,t[hc]=!0),t[C1]&&(t[Oc]=!0,t[b1]=!0),t[Oc]&&(t[hc]=!0),t[b1]&&(t[hc]=!0),t[hc]&&(t[y1]=!0),t[LF]&&(t[y1]=!0);for(const i in t){const r=n_(i,n);r.indexOf(e)<0&&r.push(e)}}function i_(e,t){const n={};for(const i in t)t[i].indexOf(e)>=0&&(n[i]=!0);return n}function Pi(e=null){this.j={},this.jr=[],this.jd=null,this.t=e}Pi.groups={};Pi.prototype={accepts(){return!!this.t},go(e){const t=this,n=t.j[e];if(n)return n;for(let i=0;i<t.jr.length;i++){const r=t.jr[i][0],o=t.jr[i][1];if(o&&r.test(e))return o}return t.jd},has(e,t=!1){return t?e in this.j:!!this.go(e)},ta(e,t,n,i){for(let r=0;r<e.length;r++)this.tt(e[r],t,n,i)},tr(e,t,n,i){i=i||Pi.groups;let r;return t&&t.j?r=t:(r=new Pi(t),n&&i&&Oa(t,n,i)),this.jr.push([e,r]),r},ts(e,t,n,i){let r=this;const o=e.length;if(!o)return r;for(let s=0;s<o-1;s++)r=r.tt(e[s]);return r.tt(e[o-1],t,n,i)},tt(e,t,n,i){i=i||Pi.groups;const r=this;if(t&&t.j)return r.j[e]=t,t;const o=t;let s,a=r.go(e);if(a?(s=new Pi,Object.assign(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Pi,o){if(i)if(s.t&&typeof s.t=="string"){const l=Object.assign(i_(s.t,i),n);Oa(o,l,i)}else n&&Oa(o,n,i);s.t=o}return r.j[e]=s,s}};const et=(e,t,n,i,r)=>e.ta(t,n,i,r),sn=(e,t,n,i,r)=>e.tr(t,n,i,r),Yx=(e,t,n,i,r)=>e.ts(t,n,i,r),se=(e,t,n,i,r)=>e.tt(t,n,i,r),No="WORD",w1="UWORD",NF="ASCIINUMERICAL",BF="ALPHANUMERICAL",fd="LOCALHOST",S1="TLD",x1="UTLD",xp="SCHEME",Hl="SLASH_SCHEME",ty="NUM",E1="WS",ny="NL",Lc="OPENBRACE",Nc="CLOSEBRACE",ff="OPENBRACKET",gf="CLOSEBRACKET",mf="OPENPAREN",vf="CLOSEPAREN",Cf="OPENANGLEBRACKET",bf="CLOSEANGLEBRACKET",yf="FULLWIDTHLEFTPAREN",wf="FULLWIDTHRIGHTPAREN",Sf="LEFTCORNERBRACKET",xf="RIGHTCORNERBRACKET",Ef="LEFTWHITECORNERBRACKET",kf="RIGHTWHITECORNERBRACKET",Ff="FULLWIDTHLESSTHAN",Tf="FULLWIDTHGREATERTHAN",Af="AMPERSAND",Rf="APOSTROPHE",Df="ASTERISK",Is="AT",Mf="BACKSLASH",Pf="BACKTICK",If="CARET",zs="COLON",iy="COMMA",Of="DOLLAR",Xr="DOT",Lf="EQUALS",ry="EXCLAMATION",dr="HYPHEN",Bc="PERCENT",Nf="PIPE",Bf="PLUS",zf="POUND",zc="QUERY",oy="QUOTE",zF="FULLWIDTHMIDDLEDOT",sy="SEMI",Jr="SLASH",Hc="TILDE",Hf="UNDERSCORE",HF="EMOJI",Vf="SYM";var VF=Object.freeze({__proto__:null,ALPHANUMERICAL:BF,AMPERSAND:Af,APOSTROPHE:Rf,ASCIINUMERICAL:NF,ASTERISK:Df,AT:Is,BACKSLASH:Mf,BACKTICK:Pf,CARET:If,CLOSEANGLEBRACKET:bf,CLOSEBRACE:Nc,CLOSEBRACKET:gf,CLOSEPAREN:vf,COLON:zs,COMMA:iy,DOLLAR:Of,DOT:Xr,EMOJI:HF,EQUALS:Lf,EXCLAMATION:ry,FULLWIDTHGREATERTHAN:Tf,FULLWIDTHLEFTPAREN:yf,FULLWIDTHLESSTHAN:Ff,FULLWIDTHMIDDLEDOT:zF,FULLWIDTHRIGHTPAREN:wf,HYPHEN:dr,LEFTCORNERBRACKET:Sf,LEFTWHITECORNERBRACKET:Ef,LOCALHOST:fd,NL:ny,NUM:ty,OPENANGLEBRACKET:Cf,OPENBRACE:Lc,OPENBRACKET:ff,OPENPAREN:mf,PERCENT:Bc,PIPE:Nf,PLUS:Bf,POUND:zf,QUERY:zc,QUOTE:oy,RIGHTCORNERBRACKET:xf,RIGHTWHITECORNERBRACKET:kf,SCHEME:xp,SEMI:sy,SLASH:Jr,SLASH_SCHEME:Hl,SYM:Vf,TILDE:Hc,TLD:S1,UNDERSCORE:Hf,UTLD:x1,UWORD:w1,WORD:No,WS:E1});const Po=/[a-z]/,Xu=new RegExp("\\p{L}","u"),xm=new RegExp("\\p{Emoji}","u"),Io=/\d/,Em=/\s/,Xx="\r",km=`
`,r_="️",o_="‍",Fm="￼";let Mh=null,Ph=null;function s_(e=[]){const t={};Pi.groups=t;const n=new Pi;Mh==null&&(Mh=Jx(ZV)),Ph==null&&(Ph=Jx(QV)),se(n,"'",Rf),se(n,"{",Lc),se(n,"}",Nc),se(n,"[",ff),se(n,"]",gf),se(n,"(",mf),se(n,")",vf),se(n,"<",Cf),se(n,">",bf),se(n,"（",yf),se(n,"）",wf),se(n,"「",Sf),se(n,"」",xf),se(n,"『",Ef),se(n,"』",kf),se(n,"＜",Ff),se(n,"＞",Tf),se(n,"&",Af),se(n,"*",Df),se(n,"@",Is),se(n,"`",Pf),se(n,"^",If),se(n,":",zs),se(n,",",iy),se(n,"$",Of),se(n,".",Xr),se(n,"=",Lf),se(n,"!",ry),se(n,"-",dr),se(n,"%",Bc),se(n,"|",Nf),se(n,"+",Bf),se(n,"#",zf),se(n,"?",zc),se(n,'"',oy),se(n,"/",Jr),se(n,";",sy),se(n,"~",Hc),se(n,"_",Hf),se(n,"\\",Mf),se(n,"・",zF);const i=sn(n,Io,ty,{[v1]:!0});sn(i,Io,i);const r=sn(i,Po,NF,{[Oc]:!0}),o=sn(i,Xu,BF,{[hc]:!0}),s=sn(n,Po,No,{[C1]:!0});sn(s,Io,r),sn(s,Po,s),sn(r,Io,r),sn(r,Po,r);const a=sn(n,Xu,w1,{[b1]:!0});sn(a,Po),sn(a,Io,o),sn(a,Xu,a),sn(o,Io,o),sn(o,Po),sn(o,Xu,o);const l=se(n,km,ny,{[Sm]:!0}),u=se(n,Xx,E1,{[Sm]:!0}),c=sn(n,Em,E1,{[Sm]:!0});se(n,Fm,c),se(u,km,l),se(u,Fm,c),sn(u,Em,c),se(c,Xx),se(c,km),sn(c,Em,c),se(c,Fm,c);const d=sn(n,xm,HF,{[LF]:!0});se(d,"#"),sn(d,xm,d),se(d,r_,d);const h=se(d,o_);se(h,"#"),sn(h,xm,d);const p=[[Po,s],[Io,r]],f=[[Po,null],[Xu,a],[Io,o]];for(let g=0;g<Mh.length;g++)xs(n,Mh[g],S1,No,p);for(let g=0;g<Ph.length;g++)xs(n,Ph[g],x1,w1,f);Oa(S1,{tld:!0,ascii:!0},t),Oa(x1,{utld:!0,alpha:!0},t),xs(n,"file",xp,No,p),xs(n,"mailto",xp,No,p),xs(n,"http",Hl,No,p),xs(n,"https",Hl,No,p),xs(n,"ftp",Hl,No,p),xs(n,"ftps",Hl,No,p),Oa(xp,{scheme:!0,ascii:!0},t),Oa(Hl,{slashscheme:!0,ascii:!0},t),e=e.sort((g,m)=>g[0]>m[0]?1:-1);for(let g=0;g<e.length;g++){const m=e[g][0],b=e[g][1]?{[e_]:!0}:{[t_]:!0};m.indexOf("-")>=0?b[y1]=!0:Po.test(m)?Io.test(m)?b[Oc]=!0:b[C1]=!0:b[v1]=!0,Yx(n,m,m,b)}return Yx(n,"localhost",fd,{ascii:!0}),n.jd=new Pi(Vf),{start:n,tokens:Object.assign({groups:t},VF)}}function _F(e,t){const n=a_(t.replace(/[A-Z]/g,a=>a.toLowerCase())),i=n.length,r=[];let o=0,s=0;for(;s<i;){let a=e,l=null,u=0,c=null,d=-1,h=-1;for(;s<i&&(l=a.go(n[s]));)a=l,a.accepts()?(d=0,h=0,c=a):d>=0&&(d+=n[s].length,h++),u+=n[s].length,o+=n[s].length,s++;o-=d,s-=h,u-=d,r.push({t:c.t,v:t.slice(o-u,o),s:o-u,e:o})}return r}function a_(e){const t=[],n=e.length;let i=0;for(;i<n;){let r=e.charCodeAt(i),o,s=r<55296||r>56319||i+1===n||(o=e.charCodeAt(i+1))<56320||o>57343?e[i]:e.slice(i,i+2);t.push(s),i+=s.length}return t}function xs(e,t,n,i,r){let o;const s=t.length;for(let a=0;a<s-1;a++){const l=t[a];e.j[l]?o=e.j[l]:(o=new Pi(i),o.jr=r.slice(),e.j[l]=o),e=o}return o=new Pi(n),o.jr=r.slice(),e.j[t[s-1]]=o,o}function Jx(e){const t=[],n=[];let i=0,r="0123456789";for(;i<e.length;){let o=0;for(;r.indexOf(e[i+o])>=0;)o++;if(o>0){t.push(n.join(""));for(let s=parseInt(e.substring(i,i+o),10);s>0;s--)n.pop();i+=o}else n.push(e[i]),i++}return t}const gd={defaultProtocol:"http",events:null,format:Zx,formatHref:Zx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function ay(e,t=null){let n=Object.assign({},gd);e&&(n=Object.assign(n,e instanceof ay?e.o:e));const i=n.ignoreTags,r=[];for(let o=0;o<i.length;o++)r.push(i[o].toUpperCase());this.o=n,t&&(this.defaultRender=t),this.ignoreTags=r}ay.prototype={o:gd,ignoreTags:[],defaultRender(e){return e},check(e){return this.get("validate",e.toString(),e)},get(e,t,n){const i=t!=null;let r=this.o[e];return r&&(typeof r=="object"?(r=n.t in r?r[n.t]:gd[e],typeof r=="function"&&i&&(r=r(t,n))):typeof r=="function"&&i&&(r=r(t,n.t,n)),r)},getObj(e,t,n){let i=this.o[e];return typeof i=="function"&&t!=null&&(i=i(t,n.t,n)),i},render(e){const t=e.render(this);return(this.get("render",null,e)||this.defaultRender)(t,e.t,e)}};function Zx(e){return e}function GF(e,t){this.t="token",this.v=e,this.tk=t}GF.prototype={isLink:!1,toString(){return this.v},toHref(e){return this.toString()},toFormattedString(e){const t=this.toString(),n=e.get("truncate",t,this),i=e.get("format",t,this);return n&&i.length>n?i.substring(0,n)+"…":i},toFormattedHref(e){return e.get("formatHref",this.toHref(e.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(e=gd.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(e){return{type:this.t,value:this.toFormattedString(e),isLink:this.isLink,href:this.toFormattedHref(e),start:this.startIndex(),end:this.endIndex()}},validate(e){return e.get("validate",this.toString(),this)},render(e){const t=this,n=this.toHref(e.get("defaultProtocol")),i=e.get("formatHref",n,this),r=e.get("tagName",n,t),o=this.toFormattedString(e),s={},a=e.get("className",n,t),l=e.get("target",n,t),u=e.get("rel",n,t),c=e.getObj("attributes",n,t),d=e.getObj("events",n,t);return s.href=i,a&&(s.class=a),l&&(s.target=l),u&&(s.rel=u),c&&Object.assign(s,c),{tagName:r,attributes:s,content:o,eventListeners:d}}};function ag(e,t){class n extends GF{constructor(r,o){super(r,o),this.t=e}}for(const i in t)n.prototype[i]=t[i];return n.t=e,n}const Qx=ag("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),e2=ag("text"),l_=ag("nl"),Ih=ag("url",{isLink:!0,toHref(e=gd.defaultProtocol){return this.hasProtocol()?this.v:`${e}://${this.v}`},hasProtocol(){const e=this.tk;return e.length>=2&&e[0].t!==fd&&e[1].t===zs}}),cr=e=>new Pi(e);function u_({groups:e}){const t=e.domain.concat([Af,Df,Is,Mf,Pf,If,Of,Lf,dr,ty,Bc,Nf,Bf,zf,Jr,Vf,Hc,Hf]),n=[Rf,zs,iy,Xr,ry,Bc,zc,oy,sy,Cf,bf,Lc,Nc,gf,ff,mf,vf,yf,wf,Sf,xf,Ef,kf,Ff,Tf],i=[Af,Rf,Df,Mf,Pf,If,Of,Lf,dr,Lc,Nc,Bc,Nf,Bf,zf,zc,Jr,Vf,Hc,Hf],r=cr(),o=se(r,Hc);et(o,i,o),et(o,e.domain,o);const s=cr(),a=cr(),l=cr();et(r,e.domain,s),et(r,e.scheme,a),et(r,e.slashscheme,l),et(s,i,o),et(s,e.domain,s);const u=se(s,Is);se(o,Is,u),se(a,Is,u),se(l,Is,u);const c=se(o,Xr);et(c,i,o),et(c,e.domain,o);const d=cr();et(u,e.domain,d),et(d,e.domain,d);const h=se(d,Xr);et(h,e.domain,d);const p=cr(Qx);et(h,e.tld,p),et(h,e.utld,p),se(u,fd,p);const f=se(d,dr);se(f,dr,f),et(f,e.domain,d),et(p,e.domain,d),se(p,Xr,h),se(p,dr,f);const g=se(p,zs);et(g,e.numeric,Qx);const m=se(s,dr),v=se(s,Xr);se(m,dr,m),et(m,e.domain,s),et(v,i,o),et(v,e.domain,s);const b=cr(Ih);et(v,e.tld,b),et(v,e.utld,b),et(b,e.domain,s),et(b,i,o),se(b,Xr,v),se(b,dr,m),se(b,Is,u);const S=se(b,zs),y=cr(Ih);et(S,e.numeric,y);const x=cr(Ih),E=cr();et(x,t,x),et(x,n,E),et(E,t,x),et(E,n,E),se(b,Jr,x),se(y,Jr,x);const R=se(a,zs),T=se(l,zs),F=se(T,Jr),D=se(F,Jr);et(a,e.domain,s),se(a,Xr,v),se(a,dr,m),et(l,e.domain,s),se(l,Xr,v),se(l,dr,m),et(R,e.domain,x),se(R,Jr,x),se(R,zc,x),et(D,e.domain,x),et(D,t,x),se(D,Jr,x);const O=[[Lc,Nc],[ff,gf],[mf,vf],[Cf,bf],[yf,wf],[Sf,xf],[Ef,kf],[Ff,Tf]];for(let L=0;L<O.length;L++){const[I,B]=O[L],U=se(x,I);se(E,I,U),se(U,B,x);const V=cr(Ih);et(U,t,V);const Y=cr();et(U,n),et(V,t,V),et(V,n,Y),et(Y,t,V),et(Y,n,Y),se(V,B,x),se(Y,B,x)}return se(r,fd,b),se(r,ny,l_),{start:r,tokens:VF}}function c_(e,t,n){let i=n.length,r=0,o=[],s=[];for(;r<i;){let a=e,l=null,u=null,c=0,d=null,h=-1;for(;r<i&&!(l=a.go(n[r].t));)s.push(n[r++]);for(;r<i&&(u=l||a.go(n[r].t));)l=null,a=u,a.accepts()?(h=0,d=a):h>=0&&h++,r++,c++;if(h<0)r-=c,r<i&&(s.push(n[r]),r++);else{s.length>0&&(o.push(Tm(e2,t,s)),s=[]),r-=h,c-=h;const p=d.t,f=n.slice(r-c,r);o.push(Tm(p,t,f))}}return s.length>0&&o.push(Tm(e2,t,s)),o}function Tm(e,t,n){const i=n[0].s,r=n[n.length-1].e,o=t.slice(i,r);return new e(o,n)}const d_=typeof console<"u"&&console&&console.warn||(()=>{}),h_="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",zt={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function p_(){return Pi.groups={},zt.scanner=null,zt.parser=null,zt.tokenQueue=[],zt.pluginQueue=[],zt.customSchemes=[],zt.initialized=!1,zt}function t2(e,t=!1){if(zt.initialized&&d_(`linkifyjs: already initialized - will not register custom scheme "${e}" ${h_}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(e))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);zt.customSchemes.push([e,t])}function f_(){zt.scanner=s_(zt.customSchemes);for(let e=0;e<zt.tokenQueue.length;e++)zt.tokenQueue[e][1]({scanner:zt.scanner});zt.parser=u_(zt.scanner.tokens);for(let e=0;e<zt.pluginQueue.length;e++)zt.pluginQueue[e][1]({scanner:zt.scanner,parser:zt.parser});return zt.initialized=!0,zt}function ly(e){return zt.initialized||f_(),c_(zt.parser.start,e,_F(zt.scanner.start,e))}ly.scan=_F;function WF(e,t=null,n=null){if(t&&typeof t=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${t}; must be a string`);n=t,t=null}const i=new ay(n),r=ly(e),o=[];for(let s=0;s<r.length;s++){const a=r[s];a.isLink&&(!t||a.t===t)&&i.check(a)&&o.push(a.toFormattedObject(i))}return o}function g_(e){return e.length===1?e[0].isLink:e.length===3&&e[1].isLink?["()","[]"].includes(e[0].value+e[2].value):!1}function m_(e){return new rn({key:new xn("autolink"),appendTransaction:(t,n,i)=>{const r=t.some(u=>u.docChanged)&&!n.doc.eq(i.doc),o=t.some(u=>u.getMeta("preventAutolink"));if(!r||o)return;const{tr:s}=i,a=PB(n.doc,[...t]);if(iF(a).forEach(({newRange:u})=>{const c=OB(i.doc,u,p=>p.isTextblock);let d,h;if(c.length>1?(d=c[0],h=i.doc.textBetween(d.pos,d.pos+d.node.nodeSize,void 0," ")):c.length&&i.doc.textBetween(u.from,u.to," "," ").endsWith(" ")&&(d=c[0],h=i.doc.textBetween(d.pos,u.to,void 0," ")),d&&h){const p=h.split(" ").filter(v=>v!=="");if(p.length<=0)return!1;const f=p[p.length-1],g=d.pos+h.lastIndexOf(f);if(!f)return!1;const m=ly(f).map(v=>v.toObject(e.defaultProtocol));if(!g_(m))return!1;m.filter(v=>v.isLink).map(v=>({...v,from:g+v.start+1,to:g+v.end+1})).filter(v=>i.schema.marks.code?!i.doc.rangeHasMark(v.from,v.to,i.schema.marks.code):!0).filter(v=>e.validate(v.value)).forEach(v=>{Ub(v.from,v.to,i.doc).some(b=>b.mark.type===e.type)||s.addMark(v.from,v.to,e.type.create({href:v.href}))})}}),!!s.steps.length)return s}})}function v_(e){return new rn({key:new xn("handleClickLink"),props:{handleClick:(t,n,i)=>{var r,o;if(i.button!==0||!t.editable)return!1;let s=i.target;const a=[];for(;s.nodeName!=="DIV";)a.push(s),s=s.parentNode;if(!a.find(h=>h.nodeName==="A"))return!1;const l=nF(t.state,e.type.name),u=i.target,c=(r=u==null?void 0:u.href)!==null&&r!==void 0?r:l.href,d=(o=u==null?void 0:u.target)!==null&&o!==void 0?o:l.target;return u&&c?(window.open(c,d),!0):!1}}})}function C_(e){return new rn({key:new xn("handlePasteLink"),props:{handlePaste:(t,n,i)=>{const{state:r}=t,{selection:o}=r,{empty:s}=o;if(s)return!1;let a="";i.content.forEach(u=>{a+=u.textContent});const l=WF(a,{defaultProtocol:e.defaultProtocol}).find(u=>u.isLink&&u.value===a);return!a||!l?!1:(e.editor.commands.setMark(e.type,{href:l.href}),!0)}}})}const b_=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g;function n2(e,t){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return t&&t.forEach(i=>{const r=typeof i=="string"?i:i.scheme;r&&n.push(r)}),!e||e.replace(b_,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z+.-]+(?:[^a-z+.-:]|$))`,"i"))}const y_=Jn.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.protocols.forEach(e=>{if(typeof e=="string"){t2(e);return}t2(e.scheme,e.optionalSlashes)})},onDestroy(){p_()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:e=>!!e}},addAttributes(){return{href:{default:null,parseHTML(e){return e.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:e=>{const t=e.getAttribute("href");return!t||!n2(t,this.options.protocols)?!1:null}}]},renderHTML({HTMLAttributes:e}){return n2(e.href,this.options.protocols)?["a",St(this.options.HTMLAttributes,e),0]:["a",St(this.options.HTMLAttributes,{...e,href:""}),0]},addCommands(){return{setLink:e=>({chain:t})=>t().setMark(this.name,e).setMeta("preventAutolink",!0).run(),toggleLink:e=>({chain:t})=>t().toggleMark(this.name,e,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:e})=>e().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[ll({find:e=>{const t=[];if(e){const{validate:n}=this.options,i=WF(e).filter(r=>r.isLink&&n(r.value));i.length&&i.forEach(r=>t.push({text:r.value,data:{href:r.href},index:r.start}))}return t},type:this.type,getAttributes:e=>{var t;return{href:(t=e.data)===null||t===void 0?void 0:t.href}}})]},addProseMirrorPlugins(){const e=[];return this.options.autolink&&e.push(m_({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:this.options.validate})),this.options.openOnClick===!0&&e.push(v_({type:this.type})),this.options.linkOnPaste&&e.push(C_({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),e}}),w_=mn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new rn({key:new xn("placeholder"),props:{decorations:({doc:e,selection:t})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:i}=t,r=[];if(!n)return null;const o=this.editor.isEmpty;return e.descendants((s,a)=>{const l=i>=a&&i<=a+s.nodeSize,u=!s.isLeaf&&rg(s);if((l||!this.options.showOnlyCurrent)&&u){const c=[this.options.emptyNodeClass];o&&c.push(this.options.emptyEditorClass);const d=Pn.node(a,a+s.nodeSize,{class:c.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:s,pos:a,hasAnchor:l}):this.options.placeholder});r.push(d)}return this.options.includeChildren}),Pt.create(e,r)}}})]}}),S_=Jn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:e=>e.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:e}){return["u",St(this.options.HTMLAttributes,e),0]},addCommands(){return{setUnderline:()=>({commands:e})=>e.setMark(this.name),toggleUnderline:()=>({commands:e})=>e.toggleMark(this.name),unsetUnderline:()=>({commands:e})=>e.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),x_=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,E_=ct.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:e}){return["img",St(this.options.HTMLAttributes,e)]},addCommands(){return{setImage:e=>({commands:t})=>t.insertContent({type:this.name,attrs:e})}},addInputRules(){return[hF({find:x_,type:this.type,getAttributes:e=>{const[,,t,n,i]=e;return{src:n,alt:t,title:i}}})]}}),k_=/^\s*(\[([( |x])?\])\s$/,F_=ct.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:e=>{const t=e.getAttribute("data-checked");return t===""||t==="true"},renderHTML:e=>({"data-checked":e.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:e,HTMLAttributes:t}){return["li",St(this.options.HTMLAttributes,t,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:e.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const e={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...e,Tab:()=>this.editor.commands.sinkListItem(this.name)}:e},addNodeView(){return({node:e,HTMLAttributes:t,getPos:n,editor:i})=>{const r=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),a=document.createElement("input"),l=document.createElement("div");return o.contentEditable="false",a.type="checkbox",a.addEventListener("mousedown",u=>u.preventDefault()),a.addEventListener("change",u=>{if(!i.isEditable&&!this.options.onReadOnlyChecked){a.checked=!a.checked;return}const{checked:c}=u.target;i.isEditable&&typeof n=="function"&&i.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:d})=>{const h=n();if(typeof h!="number")return!1;const p=d.doc.nodeAt(h);return d.setNodeMarkup(h,void 0,{...p==null?void 0:p.attrs,checked:c}),!0}).run(),!i.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(e,c)||(a.checked=!a.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([u,c])=>{r.setAttribute(u,c)}),r.dataset.checked=e.attrs.checked,e.attrs.checked&&a.setAttribute("checked","checked"),o.append(a,s),r.append(o,l),Object.entries(t).forEach(([u,c])=>{r.setAttribute(u,c)}),{dom:r,contentDOM:l,update:u=>u.type!==this.type?!1:(r.dataset.checked=u.attrs.checked,u.attrs.checked?a.setAttribute("checked","checked"):a.removeAttribute("checked"),!0)}}},addInputRules(){return[vu({find:k_,type:this.type,getAttributes:e=>({checked:e[e.length-1]==="x"})})]}}),T_=mn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:"left"}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:e=>{const t=e.style.textAlign||this.options.defaultAlignment;return this.options.alignments.includes(t)?t:this.options.defaultAlignment},renderHTML:e=>e.textAlign===this.options.defaultAlignment?{}:{style:`text-align: ${e.textAlign}`}}}}]},addCommands(){return{setTextAlign:e=>({commands:t})=>this.options.alignments.includes(e)?this.options.types.map(n=>t.updateAttributes(n,{textAlign:e})).every(n=>n):!1,unsetTextAlign:()=>({commands:e})=>this.options.types.map(t=>e.resetAttributes(t,"textAlign")).every(t=>t)}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),A_=ct.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:e}){return["ul",St(this.options.HTMLAttributes,e,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:e})=>e.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),R_=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),D_=typeof navigator<"u"&&/Win/.test(navigator.platform);function M_(e){let t=e.split(/-(?!$)/),n=t[t.length-1];n=="Space"&&(n=" ");let i,r,o,s;for(let a=0;a<t.length-1;a++){let l=t[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))i=!0;else if(/^(c|ctrl|control)$/i.test(l))r=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))R_?s=!0:r=!0;else throw new Error("Unrecognized modifier name: "+l)}return i&&(n="Alt-"+n),r&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function P_(e){let t=Object.create(null);for(let n in e)t[M_(n)]=e[n];return t}function Am(e,t,n=!0){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),n&&t.shiftKey&&(e="Shift-"+e),e}function I_(e){let t=P_(e);return function(n,i){let r=Mk(i),o,s=t[Am(r,i)];if(s&&s(n.state,n.dispatch,n))return!0;if(r.length==1&&r!=" "){if(i.shiftKey){let a=t[Am(r,i,!1)];if(a&&a(n.state,n.dispatch,n))return!0}if((i.altKey||i.metaKey||i.ctrlKey)&&!(D_&&i.ctrlKey&&i.altKey)&&(o=as[i.keyCode])&&o!=r){let a=t[Am(o,i)];if(a&&a(n.state,n.dispatch,n))return!0}}return!1}}var k1,F1;if(typeof WeakMap<"u"){let e=new WeakMap;k1=t=>e.get(t),F1=(t,n)=>(e.set(t,n),n)}else{const e=[];let n=0;k1=i=>{for(let r=0;r<e.length;r+=2)if(e[r]==i)return e[r+1]},F1=(i,r)=>(n==10&&(n=0),e[n++]=i,e[n++]=r)}var pn=class{constructor(e,t,n,i){this.width=e,this.height=t,this.map=n,this.problems=i}findCell(e){for(let t=0;t<this.map.length;t++){const n=this.map[t];if(n!=e)continue;const i=t%this.width,r=t/this.width|0;let o=i+1,s=r+1;for(let a=1;o<this.width&&this.map[t+a]==n;a++)o++;for(let a=1;s<this.height&&this.map[t+this.width*a]==n;a++)s++;return{left:i,top:r,right:o,bottom:s}}throw new RangeError(`No cell with offset ${e} found`)}colCount(e){for(let t=0;t<this.map.length;t++)if(this.map[t]==e)return t%this.width;throw new RangeError(`No cell with offset ${e} found`)}nextCell(e,t,n){const{left:i,right:r,top:o,bottom:s}=this.findCell(e);return t=="horiz"?(n<0?i==0:r==this.width)?null:this.map[o*this.width+(n<0?i-1:r)]:(n<0?o==0:s==this.height)?null:this.map[i+this.width*(n<0?o-1:s)]}rectBetween(e,t){const{left:n,right:i,top:r,bottom:o}=this.findCell(e),{left:s,right:a,top:l,bottom:u}=this.findCell(t);return{left:Math.min(n,s),top:Math.min(r,l),right:Math.max(i,a),bottom:Math.max(o,u)}}cellsInRect(e){const t=[],n={};for(let i=e.top;i<e.bottom;i++)for(let r=e.left;r<e.right;r++){const o=i*this.width+r,s=this.map[o];n[s]||(n[s]=!0,!(r==e.left&&r&&this.map[o-1]==s||i==e.top&&i&&this.map[o-this.width]==s)&&t.push(s))}return t}positionAt(e,t,n){for(let i=0,r=0;;i++){const o=r+n.child(i).nodeSize;if(i==e){let s=t+e*this.width;const a=(e+1)*this.width;for(;s<a&&this.map[s]<r;)s++;return s==a?o-1:this.map[s]}r=o}}static get(e){return k1(e)||F1(e,O_(e))}};function O_(e){if(e.type.spec.tableRole!="table")throw new RangeError("Not a table node: "+e.type.name);const t=L_(e),n=e.childCount,i=[];let r=0,o=null;const s=[];for(let u=0,c=t*n;u<c;u++)i[u]=0;for(let u=0,c=0;u<n;u++){const d=e.child(u);c++;for(let f=0;;f++){for(;r<i.length&&i[r]!=0;)r++;if(f==d.childCount)break;const g=d.child(f),{colspan:m,rowspan:v,colwidth:b}=g.attrs;for(let S=0;S<v;S++){if(S+u>=n){(o||(o=[])).push({type:"overlong_rowspan",pos:c,n:v-S});break}const y=r+S*t;for(let x=0;x<m;x++){i[y+x]==0?i[y+x]=c:(o||(o=[])).push({type:"collision",row:u,pos:c,n:m-x});const E=b&&b[x];if(E){const R=(y+x)%t*2,T=s[R];T==null||T!=E&&s[R+1]==1?(s[R]=E,s[R+1]=1):T==E&&s[R+1]++}}}r+=m,c+=g.nodeSize}const h=(u+1)*t;let p=0;for(;r<h;)i[r++]==0&&p++;p&&(o||(o=[])).push({type:"missing",row:u,n:p}),c++}(t===0||n===0)&&(o||(o=[])).push({type:"zero_sized"});const a=new pn(t,n,i,o);let l=!1;for(let u=0;!l&&u<s.length;u+=2)s[u]!=null&&s[u+1]<n&&(l=!0);return l&&N_(a,s,e),a}function L_(e){let t=-1,n=!1;for(let i=0;i<e.childCount;i++){const r=e.child(i);let o=0;if(n)for(let s=0;s<i;s++){const a=e.child(s);for(let l=0;l<a.childCount;l++){const u=a.child(l);s+u.attrs.rowspan>i&&(o+=u.attrs.colspan)}}for(let s=0;s<r.childCount;s++){const a=r.child(s);o+=a.attrs.colspan,a.attrs.rowspan>1&&(n=!0)}t==-1?t=o:t!=o&&(t=Math.max(t,o))}return t}function N_(e,t,n){e.problems||(e.problems=[]);const i={};for(let r=0;r<e.map.length;r++){const o=e.map[r];if(i[o])continue;i[o]=!0;const s=n.nodeAt(o);if(!s)throw new RangeError(`No cell with offset ${o} found`);let a=null;const l=s.attrs;for(let u=0;u<l.colspan;u++){const c=(r+u)%e.width,d=t[c*2];d!=null&&(!l.colwidth||l.colwidth[u]!=d)&&((a||(a=B_(l)))[u]=d)}a&&e.problems.unshift({type:"colwidth mismatch",pos:o,colwidth:a})}}function B_(e){if(e.colwidth)return e.colwidth.slice();const t=[];for(let n=0;n<e.colspan;n++)t.push(0);return t}function ui(e){let t=e.cached.tableNodeTypes;if(!t){t=e.cached.tableNodeTypes={};for(const n in e.nodes){const i=e.nodes[n],r=i.spec.tableRole;r&&(t[r]=i)}}return t}var Hs=new xn("selectingCells");function Nu(e){for(let t=e.depth-1;t>0;t--)if(e.node(t).type.spec.tableRole=="row")return e.node(0).resolve(e.before(t+1));return null}function z_(e){for(let t=e.depth;t>0;t--){const n=e.node(t).type.spec.tableRole;if(n==="cell"||n==="header_cell")return e.node(t)}return null}function jr(e){const t=e.selection.$head;for(let n=t.depth;n>0;n--)if(t.node(n).type.spec.tableRole=="row")return!0;return!1}function lg(e){const t=e.selection;if("$anchorCell"in t&&t.$anchorCell)return t.$anchorCell.pos>t.$headCell.pos?t.$anchorCell:t.$headCell;if("node"in t&&t.node&&t.node.type.spec.tableRole=="cell")return t.$anchor;const n=Nu(t.$head)||H_(t.$head);if(n)return n;throw new RangeError(`No cell found around position ${t.head}`)}function H_(e){for(let t=e.nodeAfter,n=e.pos;t;t=t.firstChild,n++){const i=t.type.spec.tableRole;if(i=="cell"||i=="header_cell")return e.doc.resolve(n)}for(let t=e.nodeBefore,n=e.pos;t;t=t.lastChild,n--){const i=t.type.spec.tableRole;if(i=="cell"||i=="header_cell")return e.doc.resolve(n-t.nodeSize)}}function T1(e){return e.parent.type.spec.tableRole=="row"&&!!e.nodeAfter}function V_(e){return e.node(0).resolve(e.pos+e.nodeAfter.nodeSize)}function uy(e,t){return e.depth==t.depth&&e.pos>=t.start(-1)&&e.pos<=t.end(-1)}function $F(e,t,n){const i=e.node(-1),r=pn.get(i),o=e.start(-1),s=r.nextCell(e.pos-o,t,n);return s==null?null:e.node(0).resolve(o+s)}function cl(e,t,n=1){const i={...e,colspan:e.colspan-n};return i.colwidth&&(i.colwidth=i.colwidth.slice(),i.colwidth.splice(t,n),i.colwidth.some(r=>r>0)||(i.colwidth=null)),i}function UF(e,t,n=1){const i={...e,colspan:e.colspan+n};if(i.colwidth){i.colwidth=i.colwidth.slice();for(let r=0;r<n;r++)i.colwidth.splice(t,0,0)}return i}function __(e,t,n){const i=ui(t.type.schema).header_cell;for(let r=0;r<e.height;r++)if(t.nodeAt(e.map[n+r*e.width]).type!=i)return!1;return!0}var Lt=class Bo extends He{constructor(t,n=t){const i=t.node(-1),r=pn.get(i),o=t.start(-1),s=r.rectBetween(t.pos-o,n.pos-o),a=t.node(0),l=r.cellsInRect(s).filter(c=>c!=n.pos-o);l.unshift(n.pos-o);const u=l.map(c=>{const d=i.nodeAt(c);if(!d)throw RangeError(`No cell with offset ${c} found`);const h=o+c+1;return new K6(a.resolve(h),a.resolve(h+d.content.size))});super(u[0].$from,u[0].$to,u),this.$anchorCell=t,this.$headCell=n}map(t,n){const i=t.resolve(n.map(this.$anchorCell.pos)),r=t.resolve(n.map(this.$headCell.pos));if(T1(i)&&T1(r)&&uy(i,r)){const o=this.$anchorCell.node(-1)!=i.node(-1);return o&&this.isRowSelection()?Bo.rowSelection(i,r):o&&this.isColSelection()?Bo.colSelection(i,r):new Bo(i,r)}return Ne.between(i,r)}content(){const t=this.$anchorCell.node(-1),n=pn.get(t),i=this.$anchorCell.start(-1),r=n.rectBetween(this.$anchorCell.pos-i,this.$headCell.pos-i),o={},s=[];for(let l=r.top;l<r.bottom;l++){const u=[];for(let c=l*n.width+r.left,d=r.left;d<r.right;d++,c++){const h=n.map[c];if(o[h])continue;o[h]=!0;const p=n.findCell(h);let f=t.nodeAt(h);if(!f)throw RangeError(`No cell with offset ${h} found`);const g=r.left-p.left,m=p.right-r.right;if(g>0||m>0){let v=f.attrs;if(g>0&&(v=cl(v,0,g)),m>0&&(v=cl(v,v.colspan-m,m)),p.left<r.left){if(f=f.type.createAndFill(v),!f)throw RangeError(`Could not create cell with attrs ${JSON.stringify(v)}`)}else f=f.type.create(v,f.content)}if(p.top<r.top||p.bottom>r.bottom){const v={...f.attrs,rowspan:Math.min(p.bottom,r.bottom)-Math.max(p.top,r.top)};p.top<r.top?f=f.type.createAndFill(v):f=f.type.create(v,f.content)}u.push(f)}s.push(t.child(l).copy(J.from(u)))}const a=this.isColSelection()&&this.isRowSelection()?t:s;return new ge(J.from(a),1,1)}replace(t,n=ge.empty){const i=t.steps.length,r=this.ranges;for(let s=0;s<r.length;s++){const{$from:a,$to:l}=r[s],u=t.mapping.slice(i);t.replace(u.map(a.pos),u.map(l.pos),s?ge.empty:n)}const o=He.findFrom(t.doc.resolve(t.mapping.slice(i).map(this.to)),-1);o&&t.setSelection(o)}replaceWith(t,n){this.replace(t,new ge(J.from(n),0,0))}forEachCell(t){const n=this.$anchorCell.node(-1),i=pn.get(n),r=this.$anchorCell.start(-1),o=i.cellsInRect(i.rectBetween(this.$anchorCell.pos-r,this.$headCell.pos-r));for(let s=0;s<o.length;s++)t(n.nodeAt(o[s]),r+o[s])}isColSelection(){const t=this.$anchorCell.index(-1),n=this.$headCell.index(-1);if(Math.min(t,n)>0)return!1;const i=t+this.$anchorCell.nodeAfter.attrs.rowspan,r=n+this.$headCell.nodeAfter.attrs.rowspan;return Math.max(i,r)==this.$headCell.node(-1).childCount}static colSelection(t,n=t){const i=t.node(-1),r=pn.get(i),o=t.start(-1),s=r.findCell(t.pos-o),a=r.findCell(n.pos-o),l=t.node(0);return s.top<=a.top?(s.top>0&&(t=l.resolve(o+r.map[s.left])),a.bottom<r.height&&(n=l.resolve(o+r.map[r.width*(r.height-1)+a.right-1]))):(a.top>0&&(n=l.resolve(o+r.map[a.left])),s.bottom<r.height&&(t=l.resolve(o+r.map[r.width*(r.height-1)+s.right-1]))),new Bo(t,n)}isRowSelection(){const t=this.$anchorCell.node(-1),n=pn.get(t),i=this.$anchorCell.start(-1),r=n.colCount(this.$anchorCell.pos-i),o=n.colCount(this.$headCell.pos-i);if(Math.min(r,o)>0)return!1;const s=r+this.$anchorCell.nodeAfter.attrs.colspan,a=o+this.$headCell.nodeAfter.attrs.colspan;return Math.max(s,a)==n.width}eq(t){return t instanceof Bo&&t.$anchorCell.pos==this.$anchorCell.pos&&t.$headCell.pos==this.$headCell.pos}static rowSelection(t,n=t){const i=t.node(-1),r=pn.get(i),o=t.start(-1),s=r.findCell(t.pos-o),a=r.findCell(n.pos-o),l=t.node(0);return s.left<=a.left?(s.left>0&&(t=l.resolve(o+r.map[s.top*r.width])),a.right<r.width&&(n=l.resolve(o+r.map[r.width*(a.top+1)-1]))):(a.left>0&&(n=l.resolve(o+r.map[a.top*r.width])),s.right<r.width&&(t=l.resolve(o+r.map[r.width*(s.top+1)-1]))),new Bo(t,n)}toJSON(){return{type:"cell",anchor:this.$anchorCell.pos,head:this.$headCell.pos}}static fromJSON(t,n){return new Bo(t.resolve(n.anchor),t.resolve(n.head))}static create(t,n,i=n){return new Bo(t.resolve(n),t.resolve(i))}getBookmark(){return new G_(this.$anchorCell.pos,this.$headCell.pos)}};Lt.prototype.visible=!1;He.jsonID("cell",Lt);var G_=class jF{constructor(t,n){this.anchor=t,this.head=n}map(t){return new jF(t.map(this.anchor),t.map(this.head))}resolve(t){const n=t.resolve(this.anchor),i=t.resolve(this.head);return n.parent.type.spec.tableRole=="row"&&i.parent.type.spec.tableRole=="row"&&n.index()<n.parent.childCount&&i.index()<i.parent.childCount&&uy(n,i)?new Lt(n,i):He.near(i,1)}};function W_(e){if(!(e.selection instanceof Lt))return null;const t=[];return e.selection.forEachCell((n,i)=>{t.push(Pn.node(i,i+n.nodeSize,{class:"selectedCell"}))}),Pt.create(e.doc,t)}function $_({$from:e,$to:t}){if(e.pos==t.pos||e.pos<t.pos-6)return!1;let n=e.pos,i=t.pos,r=e.depth;for(;r>=0&&!(e.after(r+1)<e.end(r));r--,n++);for(let o=t.depth;o>=0&&!(t.before(o+1)>t.start(o));o--,i--);return n==i&&/row|table/.test(e.node(r).type.spec.tableRole)}function U_({$from:e,$to:t}){let n,i;for(let r=e.depth;r>0;r--){const o=e.node(r);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){n=o;break}}for(let r=t.depth;r>0;r--){const o=t.node(r);if(o.type.spec.tableRole==="cell"||o.type.spec.tableRole==="header_cell"){i=o;break}}return n!==i&&t.parentOffset===0}function j_(e,t,n){const i=(t||e).selection,r=(t||e).doc;let o,s;if(i instanceof Pe&&(s=i.node.type.spec.tableRole)){if(s=="cell"||s=="header_cell")o=Lt.create(r,i.from);else if(s=="row"){const a=r.resolve(i.from+1);o=Lt.rowSelection(a,a)}else if(!n){const a=pn.get(i.node),l=i.from+1,u=l+a.map[a.width*a.height-1];o=Lt.create(r,l+1,u)}}else i instanceof Ne&&$_(i)?o=Ne.create(r,i.from):i instanceof Ne&&U_(i)&&(o=Ne.create(r,i.$from.start(),i.$from.end()));return o&&(t||(t=e.tr)).setSelection(o),t}var q_=new xn("fix-tables");function qF(e,t,n,i){const r=e.childCount,o=t.childCount;e:for(let s=0,a=0;s<o;s++){const l=t.child(s);for(let u=a,c=Math.min(r,s+3);u<c;u++)if(e.child(u)==l){a=u+1,n+=l.nodeSize;continue e}i(l,n),a<r&&e.child(a).sameMarkup(l)?qF(e.child(a),l,n+1,i):l.nodesBetween(0,l.content.size,i,n+1),n+=l.nodeSize}}function KF(e,t){let n;const i=(r,o)=>{r.type.spec.tableRole=="table"&&(n=K_(e,r,o,n))};return t?t.doc!=e.doc&&qF(t.doc,e.doc,0,i):e.doc.descendants(i),n}function K_(e,t,n,i){const r=pn.get(t);if(!r.problems)return i;i||(i=e.tr);const o=[];for(let l=0;l<r.height;l++)o.push(0);for(let l=0;l<r.problems.length;l++){const u=r.problems[l];if(u.type=="collision"){const c=t.nodeAt(u.pos);if(!c)continue;const d=c.attrs;for(let h=0;h<d.rowspan;h++)o[u.row+h]+=u.n;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,cl(d,d.colspan-u.n,u.n))}else if(u.type=="missing")o[u.row]+=u.n;else if(u.type=="overlong_rowspan"){const c=t.nodeAt(u.pos);if(!c)continue;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,{...c.attrs,rowspan:c.attrs.rowspan-u.n})}else if(u.type=="colwidth mismatch"){const c=t.nodeAt(u.pos);if(!c)continue;i.setNodeMarkup(i.mapping.map(n+1+u.pos),null,{...c.attrs,colwidth:u.colwidth})}else if(u.type=="zero_sized"){const c=i.mapping.map(n);i.delete(c,c+t.nodeSize)}}let s,a;for(let l=0;l<o.length;l++)o[l]&&(s==null&&(s=l),a=l);for(let l=0,u=n+1;l<r.height;l++){const c=t.child(l),d=u+c.nodeSize,h=o[l];if(h>0){let p="cell";c.firstChild&&(p=c.firstChild.type.spec.tableRole);const f=[];for(let m=0;m<h;m++){const v=ui(e.schema)[p].createAndFill();v&&f.push(v)}const g=(l==0||s==l-1)&&a==l?u+1:d-1;i.insert(i.mapping.map(g),f)}u=d}return i.setMeta(q_,{fixTables:!0})}function wo(e){const t=e.selection,n=lg(e),i=n.node(-1),r=n.start(-1),o=pn.get(i);return{...t instanceof Lt?o.rectBetween(t.$anchorCell.pos-r,t.$headCell.pos-r):o.findCell(n.pos-r),tableStart:r,map:o,table:i}}function YF(e,{map:t,tableStart:n,table:i},r){let o=r>0?-1:0;__(t,i,r+o)&&(o=r==0||r==t.width?null:0);for(let s=0;s<t.height;s++){const a=s*t.width+r;if(r>0&&r<t.width&&t.map[a-1]==t.map[a]){const l=t.map[a],u=i.nodeAt(l);e.setNodeMarkup(e.mapping.map(n+l),null,UF(u.attrs,r-t.colCount(l))),s+=u.attrs.rowspan-1}else{const l=o==null?ui(i.type.schema).cell:i.nodeAt(t.map[a+o]).type,u=t.positionAt(s,r,i);e.insert(e.mapping.map(n+u),l.createAndFill())}}return e}function Y_(e,t){if(!jr(e))return!1;if(t){const n=wo(e);t(YF(e.tr,n,n.left))}return!0}function X_(e,t){if(!jr(e))return!1;if(t){const n=wo(e);t(YF(e.tr,n,n.right))}return!0}function J_(e,{map:t,table:n,tableStart:i},r){const o=e.mapping.maps.length;for(let s=0;s<t.height;){const a=s*t.width+r,l=t.map[a],u=n.nodeAt(l),c=u.attrs;if(r>0&&t.map[a-1]==l||r<t.width-1&&t.map[a+1]==l)e.setNodeMarkup(e.mapping.slice(o).map(i+l),null,cl(c,r-t.colCount(l)));else{const d=e.mapping.slice(o).map(i+l);e.delete(d,d+u.nodeSize)}s+=c.rowspan}}function Z_(e,t){if(!jr(e))return!1;if(t){const n=wo(e),i=e.tr;if(n.left==0&&n.right==n.map.width)return!1;for(let r=n.right-1;J_(i,n,r),r!=n.left;r--){const o=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=pn.get(o)}t(i)}return!0}function Q_(e,t,n){var i;const r=ui(t.type.schema).header_cell;for(let o=0;o<e.width;o++)if(((i=t.nodeAt(e.map[o+n*e.width]))==null?void 0:i.type)!=r)return!1;return!0}function XF(e,{map:t,tableStart:n,table:i},r){var o;let s=n;for(let u=0;u<r;u++)s+=i.child(u).nodeSize;const a=[];let l=r>0?-1:0;Q_(t,i,r+l)&&(l=r==0||r==t.height?null:0);for(let u=0,c=t.width*r;u<t.width;u++,c++)if(r>0&&r<t.height&&t.map[c]==t.map[c-t.width]){const d=t.map[c],h=i.nodeAt(d).attrs;e.setNodeMarkup(n+d,null,{...h,rowspan:h.rowspan+1}),u+=h.colspan-1}else{const d=l==null?ui(i.type.schema).cell:(o=i.nodeAt(t.map[c+l*t.width]))==null?void 0:o.type,h=d==null?void 0:d.createAndFill();h&&a.push(h)}return e.insert(s,ui(i.type.schema).row.create(null,a)),e}function eG(e,t){if(!jr(e))return!1;if(t){const n=wo(e);t(XF(e.tr,n,n.top))}return!0}function tG(e,t){if(!jr(e))return!1;if(t){const n=wo(e);t(XF(e.tr,n,n.bottom))}return!0}function nG(e,{map:t,table:n,tableStart:i},r){let o=0;for(let u=0;u<r;u++)o+=n.child(u).nodeSize;const s=o+n.child(r).nodeSize,a=e.mapping.maps.length;e.delete(o+i,s+i);const l=new Set;for(let u=0,c=r*t.width;u<t.width;u++,c++){const d=t.map[c];if(!l.has(d)){if(l.add(d),r>0&&d==t.map[c-t.width]){const h=n.nodeAt(d).attrs;e.setNodeMarkup(e.mapping.slice(a).map(d+i),null,{...h,rowspan:h.rowspan-1}),u+=h.colspan-1}else if(r<t.height&&d==t.map[c+t.width]){const h=n.nodeAt(d),p=h.attrs,f=h.type.create({...p,rowspan:h.attrs.rowspan-1},h.content),g=t.positionAt(r+1,u,n);e.insert(e.mapping.slice(a).map(i+g),f),u+=p.colspan-1}}}}function iG(e,t){if(!jr(e))return!1;if(t){const n=wo(e),i=e.tr;if(n.top==0&&n.bottom==n.map.height)return!1;for(let r=n.bottom-1;nG(i,n,r),r!=n.top;r--){const o=n.tableStart?i.doc.nodeAt(n.tableStart-1):i.doc;if(!o)throw RangeError("No table found");n.table=o,n.map=pn.get(n.table)}t(i)}return!0}function i2(e){const t=e.content;return t.childCount==1&&t.child(0).isTextblock&&t.child(0).childCount==0}function rG({width:e,height:t,map:n},i){let r=i.top*e+i.left,o=r,s=(i.bottom-1)*e+i.left,a=r+(i.right-i.left-1);for(let l=i.top;l<i.bottom;l++){if(i.left>0&&n[o]==n[o-1]||i.right<e&&n[a]==n[a+1])return!0;o+=e,a+=e}for(let l=i.left;l<i.right;l++){if(i.top>0&&n[r]==n[r-e]||i.bottom<t&&n[s]==n[s+e])return!0;r++,s++}return!1}function r2(e,t){const n=e.selection;if(!(n instanceof Lt)||n.$anchorCell.pos==n.$headCell.pos)return!1;const i=wo(e),{map:r}=i;if(rG(r,i))return!1;if(t){const o=e.tr,s={};let a=J.empty,l,u;for(let c=i.top;c<i.bottom;c++)for(let d=i.left;d<i.right;d++){const h=r.map[c*r.width+d],p=i.table.nodeAt(h);if(!(s[h]||!p))if(s[h]=!0,l==null)l=h,u=p;else{i2(p)||(a=a.append(p.content));const f=o.mapping.map(h+i.tableStart);o.delete(f,f+p.nodeSize)}}if(l==null||u==null)return!0;if(o.setNodeMarkup(l+i.tableStart,null,{...UF(u.attrs,u.attrs.colspan,i.right-i.left-u.attrs.colspan),rowspan:i.bottom-i.top}),a.size){const c=l+1+u.content.size,d=i2(u)?l+1:c;o.replaceWith(d+i.tableStart,c+i.tableStart,a)}o.setSelection(new Lt(o.doc.resolve(l+i.tableStart))),t(o)}return!0}function o2(e,t){const n=ui(e.schema);return oG(({node:i})=>n[i.type.spec.tableRole])(e,t)}function oG(e){return(t,n)=>{var i;const r=t.selection;let o,s;if(r instanceof Lt){if(r.$anchorCell.pos!=r.$headCell.pos)return!1;o=r.$anchorCell.nodeAfter,s=r.$anchorCell.pos}else{if(o=z_(r.$from),!o)return!1;s=(i=Nu(r.$from))==null?void 0:i.pos}if(o==null||s==null||o.attrs.colspan==1&&o.attrs.rowspan==1)return!1;if(n){let a=o.attrs;const l=[],u=a.colwidth;a.rowspan>1&&(a={...a,rowspan:1}),a.colspan>1&&(a={...a,colspan:1});const c=wo(t),d=t.tr;for(let p=0;p<c.right-c.left;p++)l.push(u?{...a,colwidth:u&&u[p]?[u[p]]:null}:a);let h;for(let p=c.top;p<c.bottom;p++){let f=c.map.positionAt(p,c.left,c.table);p==c.top&&(f+=o.nodeSize);for(let g=c.left,m=0;g<c.right;g++,m++)g==c.left&&p==c.top||d.insert(h=d.mapping.map(f+c.tableStart,1),e({node:o,row:p,col:g}).createAndFill(l[m]))}d.setNodeMarkup(s,e({node:o,row:c.top,col:c.left}),l[0]),r instanceof Lt&&d.setSelection(new Lt(d.doc.resolve(r.$anchorCell.pos),h?d.doc.resolve(h):void 0)),n(d)}return!0}}function sG(e,t){return function(n,i){if(!jr(n))return!1;const r=lg(n);if(r.nodeAfter.attrs[e]===t)return!1;if(i){const o=n.tr;n.selection instanceof Lt?n.selection.forEachCell((s,a)=>{s.attrs[e]!==t&&o.setNodeMarkup(a,null,{...s.attrs,[e]:t})}):o.setNodeMarkup(r.pos,null,{...r.nodeAfter.attrs,[e]:t}),i(o)}return!0}}function aG(e){return function(t,n){if(!jr(t))return!1;if(n){const i=ui(t.schema),r=wo(t),o=t.tr,s=r.map.cellsInRect(e=="column"?{left:r.left,top:0,right:r.right,bottom:r.map.height}:e=="row"?{left:0,top:r.top,right:r.map.width,bottom:r.bottom}:r),a=s.map(l=>r.table.nodeAt(l));for(let l=0;l<s.length;l++)a[l].type==i.header_cell&&o.setNodeMarkup(r.tableStart+s[l],i.cell,a[l].attrs);if(o.steps.length==0)for(let l=0;l<s.length;l++)o.setNodeMarkup(r.tableStart+s[l],i.header_cell,a[l].attrs);n(o)}return!0}}function s2(e,t,n){const i=t.map.cellsInRect({left:0,top:0,right:e=="row"?t.map.width:1,bottom:e=="column"?t.map.height:1});for(let r=0;r<i.length;r++){const o=t.table.nodeAt(i[r]);if(o&&o.type!==n.header_cell)return!1}return!0}function md(e,t){return t=t||{useDeprecatedLogic:!1},t.useDeprecatedLogic?aG(e):function(n,i){if(!jr(n))return!1;if(i){const r=ui(n.schema),o=wo(n),s=n.tr,a=s2("row",o,r),l=s2("column",o,r),c=(e==="column"?a:e==="row"?l:!1)?1:0,d=e=="column"?{left:0,top:c,right:1,bottom:o.map.height}:e=="row"?{left:c,top:0,right:o.map.width,bottom:1}:o,h=e=="column"?l?r.cell:r.header_cell:e=="row"?a?r.cell:r.header_cell:r.cell;o.map.cellsInRect(d).forEach(p=>{const f=p+o.tableStart,g=s.doc.nodeAt(f);g&&s.setNodeMarkup(f,h,g.attrs)}),i(s)}return!0}}md("row",{useDeprecatedLogic:!0});md("column",{useDeprecatedLogic:!0});var lG=md("cell",{useDeprecatedLogic:!0});function uG(e,t){if(t<0){const n=e.nodeBefore;if(n)return e.pos-n.nodeSize;for(let i=e.index(-1)-1,r=e.before();i>=0;i--){const o=e.node(-1).child(i),s=o.lastChild;if(s)return r-1-s.nodeSize;r-=o.nodeSize}}else{if(e.index()<e.parent.childCount-1)return e.pos+e.nodeAfter.nodeSize;const n=e.node(-1);for(let i=e.indexAfter(-1),r=e.after();i<n.childCount;i++){const o=n.child(i);if(o.childCount)return r+1;r+=o.nodeSize}}return null}function a2(e){return function(t,n){if(!jr(t))return!1;const i=uG(lg(t),e);if(i==null)return!1;if(n){const r=t.doc.resolve(i);n(t.tr.setSelection(Ne.between(r,V_(r))).scrollIntoView())}return!0}}function cG(e,t){const n=e.selection.$anchor;for(let i=n.depth;i>0;i--)if(n.node(i).type.spec.tableRole=="table")return t&&t(e.tr.delete(n.before(i),n.after(i)).scrollIntoView()),!0;return!1}function Oh(e,t){const n=e.selection;if(!(n instanceof Lt))return!1;if(t){const i=e.tr,r=ui(e.schema).cell.createAndFill().content;n.forEachCell((o,s)=>{o.content.eq(r)||i.replace(i.mapping.map(s+1),i.mapping.map(s+o.nodeSize-1),new ge(r,0,0))}),i.docChanged&&t(i)}return!0}function dG(e){if(!e.size)return null;let{content:t,openStart:n,openEnd:i}=e;for(;t.childCount==1&&(n>0&&i>0||t.child(0).type.spec.tableRole=="table");)n--,i--,t=t.child(0).content;const r=t.child(0),o=r.type.spec.tableRole,s=r.type.schema,a=[];if(o=="row")for(let l=0;l<t.childCount;l++){let u=t.child(l).content;const c=l?0:Math.max(0,n-1),d=l<t.childCount-1?0:Math.max(0,i-1);(c||d)&&(u=A1(ui(s).row,new ge(u,c,d)).content),a.push(u)}else if(o=="cell"||o=="header_cell")a.push(n||i?A1(ui(s).row,new ge(t,n,i)).content:t);else return null;return hG(s,a)}function hG(e,t){const n=[];for(let r=0;r<t.length;r++){const o=t[r];for(let s=o.childCount-1;s>=0;s--){const{rowspan:a,colspan:l}=o.child(s).attrs;for(let u=r;u<r+a;u++)n[u]=(n[u]||0)+l}}let i=0;for(let r=0;r<n.length;r++)i=Math.max(i,n[r]);for(let r=0;r<n.length;r++)if(r>=t.length&&t.push(J.empty),n[r]<i){const o=ui(e).cell.createAndFill(),s=[];for(let a=n[r];a<i;a++)s.push(o);t[r]=t[r].append(J.from(s))}return{height:t.length,width:i,rows:t}}function A1(e,t){const n=e.createAndFill();return new Eb(n).replace(0,n.content.size,t).doc}function pG({width:e,height:t,rows:n},i,r){if(e!=i){const o=[],s=[];for(let a=0;a<n.length;a++){const l=n[a],u=[];for(let c=o[a]||0,d=0;c<i;d++){let h=l.child(d%l.childCount);c+h.attrs.colspan>i&&(h=h.type.createChecked(cl(h.attrs,h.attrs.colspan,c+h.attrs.colspan-i),h.content)),u.push(h),c+=h.attrs.colspan;for(let p=1;p<h.attrs.rowspan;p++)o[a+p]=(o[a+p]||0)+h.attrs.colspan}s.push(J.from(u))}n=s,e=i}if(t!=r){const o=[];for(let s=0,a=0;s<r;s++,a++){const l=[],u=n[a%t];for(let c=0;c<u.childCount;c++){let d=u.child(c);s+d.attrs.rowspan>r&&(d=d.type.create({...d.attrs,rowspan:Math.max(1,r-d.attrs.rowspan)},d.content)),l.push(d)}o.push(J.from(l))}n=o,t=r}return{width:e,height:t,rows:n}}function fG(e,t,n,i,r,o,s){const a=e.doc.type.schema,l=ui(a);let u,c;if(r>t.width)for(let d=0,h=0;d<t.height;d++){const p=n.child(d);h+=p.nodeSize;const f=[];let g;p.lastChild==null||p.lastChild.type==l.cell?g=u||(u=l.cell.createAndFill()):g=c||(c=l.header_cell.createAndFill());for(let m=t.width;m<r;m++)f.push(g);e.insert(e.mapping.slice(s).map(h-1+i),f)}if(o>t.height){const d=[];for(let f=0,g=(t.height-1)*t.width;f<Math.max(t.width,r);f++){const m=f>=t.width?!1:n.nodeAt(t.map[g+f]).type==l.header_cell;d.push(m?c||(c=l.header_cell.createAndFill()):u||(u=l.cell.createAndFill()))}const h=l.row.create(null,J.from(d)),p=[];for(let f=t.height;f<o;f++)p.push(h);e.insert(e.mapping.slice(s).map(i+n.nodeSize-2),p)}return!!(u||c)}function l2(e,t,n,i,r,o,s,a){if(s==0||s==t.height)return!1;let l=!1;for(let u=r;u<o;u++){const c=s*t.width+u,d=t.map[c];if(t.map[c-t.width]==d){l=!0;const h=n.nodeAt(d),{top:p,left:f}=t.findCell(d);e.setNodeMarkup(e.mapping.slice(a).map(d+i),null,{...h.attrs,rowspan:s-p}),e.insert(e.mapping.slice(a).map(t.positionAt(s,f,n)),h.type.createAndFill({...h.attrs,rowspan:p+h.attrs.rowspan-s})),u+=h.attrs.colspan-1}}return l}function u2(e,t,n,i,r,o,s,a){if(s==0||s==t.width)return!1;let l=!1;for(let u=r;u<o;u++){const c=u*t.width+s,d=t.map[c];if(t.map[c-1]==d){l=!0;const h=n.nodeAt(d),p=t.colCount(d),f=e.mapping.slice(a).map(d+i);e.setNodeMarkup(f,null,cl(h.attrs,s-p,h.attrs.colspan-(s-p))),e.insert(f+h.nodeSize,h.type.createAndFill(cl(h.attrs,0,s-p))),u+=h.attrs.rowspan-1}}return l}function c2(e,t,n,i,r){let o=n?e.doc.nodeAt(n-1):e.doc;if(!o)throw new Error("No table found");let s=pn.get(o);const{top:a,left:l}=i,u=l+r.width,c=a+r.height,d=e.tr;let h=0;function p(){if(o=n?d.doc.nodeAt(n-1):d.doc,!o)throw new Error("No table found");s=pn.get(o),h=d.mapping.maps.length}fG(d,s,o,n,u,c,h)&&p(),l2(d,s,o,n,l,u,a,h)&&p(),l2(d,s,o,n,l,u,c,h)&&p(),u2(d,s,o,n,a,c,l,h)&&p(),u2(d,s,o,n,a,c,u,h)&&p();for(let f=a;f<c;f++){const g=s.positionAt(f,l,o),m=s.positionAt(f,u,o);d.replace(d.mapping.slice(h).map(g+n),d.mapping.slice(h).map(m+n),new ge(r.rows[f-a],0,0))}p(),d.setSelection(new Lt(d.doc.resolve(n+s.positionAt(a,l,o)),d.doc.resolve(n+s.positionAt(c-1,u-1,o)))),t(d)}var gG=I_({ArrowLeft:Lh("horiz",-1),ArrowRight:Lh("horiz",1),ArrowUp:Lh("vert",-1),ArrowDown:Lh("vert",1),"Shift-ArrowLeft":Nh("horiz",-1),"Shift-ArrowRight":Nh("horiz",1),"Shift-ArrowUp":Nh("vert",-1),"Shift-ArrowDown":Nh("vert",1),Backspace:Oh,"Mod-Backspace":Oh,Delete:Oh,"Mod-Delete":Oh});function Ep(e,t,n){return n.eq(e.selection)?!1:(t&&t(e.tr.setSelection(n).scrollIntoView()),!0)}function Lh(e,t){return(n,i,r)=>{if(!r)return!1;const o=n.selection;if(o instanceof Lt)return Ep(n,i,He.near(o.$headCell,t));if(e!="horiz"&&!o.empty)return!1;const s=JF(r,e,t);if(s==null)return!1;if(e=="horiz")return Ep(n,i,He.near(n.doc.resolve(o.head+t),t));{const a=n.doc.resolve(s),l=$F(a,e,t);let u;return l?u=He.near(l,1):t<0?u=He.near(n.doc.resolve(a.before(-1)),-1):u=He.near(n.doc.resolve(a.after(-1)),1),Ep(n,i,u)}}}function Nh(e,t){return(n,i,r)=>{if(!r)return!1;const o=n.selection;let s;if(o instanceof Lt)s=o;else{const l=JF(r,e,t);if(l==null)return!1;s=new Lt(n.doc.resolve(l))}const a=$F(s.$headCell,e,t);return a?Ep(n,i,new Lt(s.$anchorCell,a)):!1}}function mG(e,t){const n=e.state.doc,i=Nu(n.resolve(t));return i?(e.dispatch(e.state.tr.setSelection(new Lt(i))),!0):!1}function vG(e,t,n){if(!jr(e.state))return!1;let i=dG(n);const r=e.state.selection;if(r instanceof Lt){i||(i={width:1,height:1,rows:[J.from(A1(ui(e.state.schema).cell,n))]});const o=r.$anchorCell.node(-1),s=r.$anchorCell.start(-1),a=pn.get(o).rectBetween(r.$anchorCell.pos-s,r.$headCell.pos-s);return i=pG(i,a.right-a.left,a.bottom-a.top),c2(e.state,e.dispatch,s,a,i),!0}else if(i){const o=lg(e.state),s=o.start(-1);return c2(e.state,e.dispatch,s,pn.get(o.node(-1)).findCell(o.pos-s),i),!0}else return!1}function CG(e,t){var n;if(t.ctrlKey||t.metaKey)return;const i=d2(e,t.target);let r;if(t.shiftKey&&e.state.selection instanceof Lt)o(e.state.selection.$anchorCell,t),t.preventDefault();else if(t.shiftKey&&i&&(r=Nu(e.state.selection.$anchor))!=null&&((n=Rm(e,t))==null?void 0:n.pos)!=r.pos)o(r,t),t.preventDefault();else if(!i)return;function o(l,u){let c=Rm(e,u);const d=Hs.getState(e.state)==null;if(!c||!uy(l,c))if(d)c=l;else return;const h=new Lt(l,c);if(d||!e.state.selection.eq(h)){const p=e.state.tr.setSelection(h);d&&p.setMeta(Hs,l.pos),e.dispatch(p)}}function s(){e.root.removeEventListener("mouseup",s),e.root.removeEventListener("dragstart",s),e.root.removeEventListener("mousemove",a),Hs.getState(e.state)!=null&&e.dispatch(e.state.tr.setMeta(Hs,-1))}function a(l){const u=l,c=Hs.getState(e.state);let d;if(c!=null)d=e.state.doc.resolve(c);else if(d2(e,u.target)!=i&&(d=Rm(e,t),!d))return s();d&&o(d,u)}e.root.addEventListener("mouseup",s),e.root.addEventListener("dragstart",s),e.root.addEventListener("mousemove",a)}function JF(e,t,n){if(!(e.state.selection instanceof Ne))return null;const{$head:i}=e.state.selection;for(let r=i.depth-1;r>=0;r--){const o=i.node(r);if((n<0?i.index(r):i.indexAfter(r))!=(n<0?0:o.childCount))return null;if(o.type.spec.tableRole=="cell"||o.type.spec.tableRole=="header_cell"){const a=i.before(r),l=t=="vert"?n>0?"down":"up":n>0?"right":"left";return e.endOfTextblock(l)?a:null}}return null}function d2(e,t){for(;t&&t!=e.dom;t=t.parentNode)if(t.nodeName=="TD"||t.nodeName=="TH")return t;return null}function Rm(e,t){const n=e.posAtCoords({left:t.clientX,top:t.clientY});return n&&n?Nu(e.state.doc.resolve(n.pos)):null}var bG=class{constructor(t,n){this.node=t,this.defaultCellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.table.style.setProperty("--default-cell-min-width",`${n}px`),this.colgroup=this.table.appendChild(document.createElement("colgroup")),R1(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!=this.node.type?!1:(this.node=t,R1(t,this.colgroup,this.table,this.defaultCellMinWidth),!0)}ignoreMutation(t){return t.type=="attributes"&&(t.target==this.table||this.colgroup.contains(t.target))}};function R1(e,t,n,i,r,o){var s;let a=0,l=!0,u=t.firstChild;const c=e.firstChild;if(c){for(let d=0,h=0;d<c.childCount;d++){const{colspan:p,colwidth:f}=c.child(d).attrs;for(let g=0;g<p;g++,h++){const m=r==h?o:f&&f[g],v=m?m+"px":"";if(a+=m||i,m||(l=!1),u)u.style.width!=v&&(u.style.width=v),u=u.nextSibling;else{const b=document.createElement("col");b.style.width=v,t.appendChild(b)}}}for(;u;){const d=u.nextSibling;(s=u.parentNode)==null||s.removeChild(u),u=d}l?(n.style.width=a+"px",n.style.minWidth=""):(n.style.width="",n.style.minWidth=a+"px")}}var Yi=new xn("tableColumnResizing");function yG({handleWidth:e=5,cellMinWidth:t=25,defaultCellMinWidth:n=100,View:i=bG,lastColumnResizable:r=!0}={}){const o=new rn({key:Yi,state:{init(s,a){var l,u;const c=(u=(l=o.spec)==null?void 0:l.props)==null?void 0:u.nodeViews,d=ui(a.schema).table.name;return i&&c&&(c[d]=(h,p)=>new i(h,n,p)),new wG(-1,!1)},apply(s,a){return a.apply(s)}},props:{attributes:s=>{const a=Yi.getState(s);return a&&a.activeHandle>-1?{class:"resize-cursor"}:{}},handleDOMEvents:{mousemove:(s,a)=>{SG(s,a,e,r)},mouseleave:s=>{xG(s)},mousedown:(s,a)=>{EG(s,a,t,n)}},decorations:s=>{const a=Yi.getState(s);if(a&&a.activeHandle>-1)return RG(s,a.activeHandle)},nodeViews:{}}});return o}var wG=class kp{constructor(t,n){this.activeHandle=t,this.dragging=n}apply(t){const n=this,i=t.getMeta(Yi);if(i&&i.setHandle!=null)return new kp(i.setHandle,!1);if(i&&i.setDragging!==void 0)return new kp(n.activeHandle,i.setDragging);if(n.activeHandle>-1&&t.docChanged){let r=t.mapping.map(n.activeHandle,-1);return T1(t.doc.resolve(r))||(r=-1),new kp(r,n.dragging)}return n}};function SG(e,t,n,i){if(!e.editable)return;const r=Yi.getState(e.state);if(r&&!r.dragging){const o=FG(t.target);let s=-1;if(o){const{left:a,right:l}=o.getBoundingClientRect();t.clientX-a<=n?s=h2(e,t,"left",n):l-t.clientX<=n&&(s=h2(e,t,"right",n))}if(s!=r.activeHandle){if(!i&&s!==-1){const a=e.state.doc.resolve(s),l=a.node(-1),u=pn.get(l),c=a.start(-1);if(u.colCount(a.pos-c)+a.nodeAfter.attrs.colspan-1==u.width-1)return}ZF(e,s)}}}function xG(e){if(!e.editable)return;const t=Yi.getState(e.state);t&&t.activeHandle>-1&&!t.dragging&&ZF(e,-1)}function EG(e,t,n,i){var r;if(!e.editable)return!1;const o=(r=e.dom.ownerDocument.defaultView)!=null?r:window,s=Yi.getState(e.state);if(!s||s.activeHandle==-1||s.dragging)return!1;const a=e.state.doc.nodeAt(s.activeHandle),l=kG(e,s.activeHandle,a.attrs);e.dispatch(e.state.tr.setMeta(Yi,{setDragging:{startX:t.clientX,startWidth:l}}));function u(d){o.removeEventListener("mouseup",u),o.removeEventListener("mousemove",c);const h=Yi.getState(e.state);h!=null&&h.dragging&&(TG(e,h.activeHandle,p2(h.dragging,d,n)),e.dispatch(e.state.tr.setMeta(Yi,{setDragging:null})))}function c(d){if(!d.which)return u(d);const h=Yi.getState(e.state);if(h&&h.dragging){const p=p2(h.dragging,d,n);f2(e,h.activeHandle,p,i)}}return f2(e,s.activeHandle,l,i),o.addEventListener("mouseup",u),o.addEventListener("mousemove",c),t.preventDefault(),!0}function kG(e,t,{colspan:n,colwidth:i}){const r=i&&i[i.length-1];if(r)return r;const o=e.domAtPos(t);let a=o.node.childNodes[o.offset].offsetWidth,l=n;if(i)for(let u=0;u<n;u++)i[u]&&(a-=i[u],l--);return a/l}function FG(e){for(;e&&e.nodeName!="TD"&&e.nodeName!="TH";)e=e.classList&&e.classList.contains("ProseMirror")?null:e.parentNode;return e}function h2(e,t,n,i){const r=n=="right"?-i:i,o=e.posAtCoords({left:t.clientX+r,top:t.clientY});if(!o)return-1;const{pos:s}=o,a=Nu(e.state.doc.resolve(s));if(!a)return-1;if(n=="right")return a.pos;const l=pn.get(a.node(-1)),u=a.start(-1),c=l.map.indexOf(a.pos-u);return c%l.width==0?-1:u+l.map[c-1]}function p2(e,t,n){const i=t.clientX-e.startX;return Math.max(n,e.startWidth+i)}function ZF(e,t){e.dispatch(e.state.tr.setMeta(Yi,{setHandle:t}))}function TG(e,t,n){const i=e.state.doc.resolve(t),r=i.node(-1),o=pn.get(r),s=i.start(-1),a=o.colCount(i.pos-s)+i.nodeAfter.attrs.colspan-1,l=e.state.tr;for(let u=0;u<o.height;u++){const c=u*o.width+a;if(u&&o.map[c]==o.map[c-o.width])continue;const d=o.map[c],h=r.nodeAt(d).attrs,p=h.colspan==1?0:a-o.colCount(d);if(h.colwidth&&h.colwidth[p]==n)continue;const f=h.colwidth?h.colwidth.slice():AG(h.colspan);f[p]=n,l.setNodeMarkup(s+d,null,{...h,colwidth:f})}l.docChanged&&e.dispatch(l)}function f2(e,t,n,i){const r=e.state.doc.resolve(t),o=r.node(-1),s=r.start(-1),a=pn.get(o).colCount(r.pos-s)+r.nodeAfter.attrs.colspan-1;let l=e.domAtPos(r.start(-1)).node;for(;l&&l.nodeName!="TABLE";)l=l.parentNode;l&&R1(o,l.firstChild,l,i,a,n)}function AG(e){return Array(e).fill(0)}function RG(e,t){var n;const i=[],r=e.doc.resolve(t),o=r.node(-1);if(!o)return Pt.empty;const s=pn.get(o),a=r.start(-1),l=s.colCount(r.pos-a)+r.nodeAfter.attrs.colspan-1;for(let u=0;u<s.height;u++){const c=l+u*s.width;if((l==s.width-1||s.map[c]!=s.map[c+1])&&(u==0||s.map[c]!=s.map[c-s.width])){const d=s.map[c],h=a+d+o.nodeAt(d).nodeSize-1,p=document.createElement("div");p.className="column-resize-handle",(n=Yi.getState(e))!=null&&n.dragging&&i.push(Pn.node(a+d,a+d+o.nodeAt(d).nodeSize,{class:"column-resize-dragging"})),i.push(Pn.widget(h,p))}}return Pt.create(e.doc,i)}function DG({allowTableNodeSelection:e=!1}={}){return new rn({key:Hs,state:{init(){return null},apply(t,n){const i=t.getMeta(Hs);if(i!=null)return i==-1?null:i;if(n==null||!t.docChanged)return n;const{deleted:r,pos:o}=t.mapping.mapResult(n);return r?null:o}},props:{decorations:W_,handleDOMEvents:{mousedown:CG},createSelectionBetween(t){return Hs.getState(t.state)!=null?t.state.selection:null},handleTripleClick:mG,handleKeyDown:gG,handlePaste:vG},appendTransaction(t,n,i){return j_(i,KF(i,n),e)}})}function g2(e,t,n,i,r,o){let s=0,a=!0,l=t.firstChild;const u=e.firstChild;for(let c=0,d=0;c<u.childCount;c+=1){const{colspan:h,colwidth:p}=u.child(c).attrs;for(let f=0;f<h;f+=1,d+=1){const g=r===d?o:p&&p[f],m=g?`${g}px`:"";s+=g||i,g||(a=!1),l?(l.style.width!==m&&(l.style.width=m),l=l.nextSibling):t.appendChild(document.createElement("col")).style.width=m}}for(;l;){const c=l.nextSibling;l.parentNode.removeChild(l),l=c}a?(n.style.width=`${s}px`,n.style.minWidth=""):(n.style.width="",n.style.minWidth=`${s}px`)}class MG{constructor(t,n){this.node=t,this.cellMinWidth=n,this.dom=document.createElement("div"),this.dom.className="tableWrapper",this.table=this.dom.appendChild(document.createElement("table")),this.colgroup=this.table.appendChild(document.createElement("colgroup")),g2(t,this.colgroup,this.table,n),this.contentDOM=this.table.appendChild(document.createElement("tbody"))}update(t){return t.type!==this.node.type?!1:(this.node=t,g2(t,this.colgroup,this.table,this.cellMinWidth),!0)}ignoreMutation(t){return t.type==="attributes"&&(t.target===this.table||this.colgroup.contains(t.target))}}function PG(e,t,n,i){let r=0,o=!0;const s=[],a=e.firstChild;if(!a)return{};for(let d=0,h=0;d<a.childCount;d+=1){const{colspan:p,colwidth:f}=a.child(d).attrs;for(let g=0;g<p;g+=1,h+=1){const m=n===h?i:f&&f[g],v=m?`${m}px`:"";r+=m||t,m||(o=!1),s.push(["col",v?{style:`width: ${v}`}:{}])}}const l=o?`${r}px`:"",u=o?"":`${r}px`;return{colgroup:["colgroup",{},...s],tableWidth:l,tableMinWidth:u}}function m2(e,t){return e.createAndFill()}function IG(e){if(e.cached.tableNodeTypes)return e.cached.tableNodeTypes;const t={};return Object.keys(e.nodes).forEach(n=>{const i=e.nodes[n];i.spec.tableRole&&(t[i.spec.tableRole]=i)}),e.cached.tableNodeTypes=t,t}function OG(e,t,n,i,r){const o=IG(e),s=[],a=[];for(let u=0;u<n;u+=1){const c=m2(o.cell);if(c&&a.push(c),i){const d=m2(o.header_cell);d&&s.push(d)}}const l=[];for(let u=0;u<t;u+=1)l.push(o.row.createChecked(null,i&&u===0?s:a));return o.table.createChecked(null,l)}function LG(e){return e instanceof Lt}const Bh=({editor:e})=>{const{selection:t}=e.state;if(!LG(t))return!1;let n=0;const i=tF(t.ranges[0].$from,o=>o.type.name==="table");return i==null||i.node.descendants(o=>{if(o.type.name==="table")return!1;["tableCell","tableHeader"].includes(o.type.name)&&(n+=1)}),n===t.ranges.length?(e.commands.deleteTable(),!0):!1},NG=ct.create({name:"table",addOptions(){return{HTMLAttributes:{},resizable:!1,handleWidth:5,cellMinWidth:25,View:MG,lastColumnResizable:!0,allowTableNodeSelection:!1}},content:"tableRow+",tableRole:"table",isolating:!0,group:"block",parseHTML(){return[{tag:"table"}]},renderHTML({node:e,HTMLAttributes:t}){const{colgroup:n,tableWidth:i,tableMinWidth:r}=PG(e,this.options.cellMinWidth);return["table",St(this.options.HTMLAttributes,t,{style:i?`width: ${i}`:`min-width: ${r}`}),n,["tbody",0]]},addCommands(){return{insertTable:({rows:e=3,cols:t=3,withHeaderRow:n=!0}={})=>({tr:i,dispatch:r,editor:o})=>{const s=OG(o.schema,e,t,n);if(r){const a=i.selection.from+1;i.replaceSelectionWith(s).scrollIntoView().setSelection(Ne.near(i.doc.resolve(a)))}return!0},addColumnBefore:()=>({state:e,dispatch:t})=>Y_(e,t),addColumnAfter:()=>({state:e,dispatch:t})=>X_(e,t),deleteColumn:()=>({state:e,dispatch:t})=>Z_(e,t),addRowBefore:()=>({state:e,dispatch:t})=>eG(e,t),addRowAfter:()=>({state:e,dispatch:t})=>tG(e,t),deleteRow:()=>({state:e,dispatch:t})=>iG(e,t),deleteTable:()=>({state:e,dispatch:t})=>cG(e,t),mergeCells:()=>({state:e,dispatch:t})=>r2(e,t),splitCell:()=>({state:e,dispatch:t})=>o2(e,t),toggleHeaderColumn:()=>({state:e,dispatch:t})=>md("column")(e,t),toggleHeaderRow:()=>({state:e,dispatch:t})=>md("row")(e,t),toggleHeaderCell:()=>({state:e,dispatch:t})=>lG(e,t),mergeOrSplit:()=>({state:e,dispatch:t})=>r2(e,t)?!0:o2(e,t),setCellAttribute:(e,t)=>({state:n,dispatch:i})=>sG(e,t)(n,i),goToNextCell:()=>({state:e,dispatch:t})=>a2(1)(e,t),goToPreviousCell:()=>({state:e,dispatch:t})=>a2(-1)(e,t),fixTables:()=>({state:e,dispatch:t})=>(t&&KF(e),!0),setCellSelection:e=>({tr:t,dispatch:n})=>{if(n){const i=Lt.create(t.doc,e.anchorCell,e.headCell);t.setSelection(i)}return!0}}},addKeyboardShortcuts(){return{Tab:()=>this.editor.commands.goToNextCell()?!0:this.editor.can().addRowAfter()?this.editor.chain().addRowAfter().goToNextCell().run():!1,"Shift-Tab":()=>this.editor.commands.goToPreviousCell(),Backspace:Bh,"Mod-Backspace":Bh,Delete:Bh,"Mod-Delete":Bh}},addProseMirrorPlugins(){return[...this.options.resizable&&this.editor.isEditable?[yG({handleWidth:this.options.handleWidth,cellMinWidth:this.options.cellMinWidth,View:this.options.View,lastColumnResizable:this.options.lastColumnResizable})]:[],DG({allowTableNodeSelection:this.options.allowTableNodeSelection})]},extendNodeSchema(e){const t={name:e.name,options:e.options,storage:e.storage};return{tableRole:tt(Ee(e,"tableRole",t))}}}),BG=ct.create({name:"tableCell",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"cell",isolating:!0,parseHTML(){return[{tag:"td"}]},renderHTML({HTMLAttributes:e}){return["td",St(this.options.HTMLAttributes,e),0]}}),zG=ct.create({name:"tableHeader",addOptions(){return{HTMLAttributes:{}}},content:"block+",addAttributes(){return{colspan:{default:1},rowspan:{default:1},colwidth:{default:null,parseHTML:e=>{const t=e.getAttribute("colwidth");return t?[parseInt(t,10)]:null}}}},tableRole:"header_cell",isolating:!0,parseHTML(){return[{tag:"th"}]},renderHTML({HTMLAttributes:e}){return["th",St(this.options.HTMLAttributes,e),0]}}),HG=ct.create({name:"tableRow",addOptions(){return{HTMLAttributes:{}}},content:"(tableCell | tableHeader)*",tableRole:"row",parseHTML(){return[{tag:"tr"}]},renderHTML({HTMLAttributes:e}){return["tr",St(this.options.HTMLAttributes,e),0]}});class ji{constructor(t,n,i){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=t,this.start=n,this.end=i}static range(t,n){return n?!t||!t.loc||!n.loc||t.loc.lexer!==n.loc.lexer?null:new ji(t.loc.lexer,t.loc.start,n.loc.end):t&&t.loc}}let fo=class QF{constructor(t,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=t,this.loc=n}range(t,n){return new QF(n,ji.range(this,t))}};class ae{constructor(t,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var i="KaTeX parse error: "+t,r,o,s=n&&n.loc;if(s&&s.start<=s.end){var a=s.lexer.input;r=s.start,o=s.end,r===a.length?i+=" at end of input: ":i+=" at position "+(r+1)+": ";var l=a.slice(r,o).replace(/[^]/g,"$&̲"),u;r>15?u="…"+a.slice(r-15,r):u=a.slice(0,r);var c;o+15<a.length?c=a.slice(o,o+15)+"…":c=a.slice(o),i+=u+l+c}var d=new Error(i);return d.name="ParseError",d.__proto__=ae.prototype,d.position=r,r!=null&&o!=null&&(d.length=o-r),d.rawMessage=t,d}}ae.prototype.__proto__=Error.prototype;var VG=function(t,n){return t.indexOf(n)!==-1},_G=function(t,n){return t===void 0?n:t},GG=/([A-Z])/g,WG=function(t){return t.replace(GG,"-$1").toLowerCase()},$G={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},UG=/[&><"']/g;function jG(e){return String(e).replace(UG,t=>$G[t])}var eT=function e(t){return t.type==="ordgroup"||t.type==="color"?t.body.length===1?e(t.body[0]):t:t.type==="font"?e(t.body):t},qG=function(t){var n=eT(t);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},KG=function(t){if(!t)throw new Error("Expected non-null, but got "+String(t));return t},YG=function(t){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(t);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},Ie={contains:VG,deflt:_G,escape:jG,hyphenate:WG,getBaseElem:eT,isCharacterBox:qG,protocolFromUrl:YG},Fp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:e=>"#"+e},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(e,t)=>(t.push(e),t)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:e=>Math.max(0,e),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:e=>Math.max(0,e),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:e=>Math.max(0,e),cli:"-e, --max-expand <n>",cliProcessor:e=>e==="Infinity"?1/0:parseInt(e)},globalGroup:{type:"boolean",cli:!1}};function XG(e){if(e.default)return e.default;var t=e.type,n=Array.isArray(t)?t[0]:t;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class cy{constructor(t){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,t=t||{};for(var n in Fp)if(Fp.hasOwnProperty(n)){var i=Fp[n];this[n]=t[n]!==void 0?i.processor?i.processor(t[n]):t[n]:XG(i)}}reportNonstrict(t,n,i){var r=this.strict;if(typeof r=="function"&&(r=r(t,n,i)),!(!r||r==="ignore")){if(r===!0||r==="error")throw new ae("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+t+"]"),i);r==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+t+"]"))}}useStrictBehavior(t,n,i){var r=this.strict;if(typeof r=="function")try{r=r(t,n,i)}catch{r="error"}return!r||r==="ignore"?!1:r===!0||r==="error"?!0:r==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+t+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+r+"': "+n+" ["+t+"]")),!1)}isTrusted(t){if(t.url&&!t.protocol){var n=Ie.protocolFromUrl(t.url);if(n==null)return!1;t.protocol=n}var i=typeof this.trust=="function"?this.trust(t):this.trust;return!!i}}class Es{constructor(t,n,i){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=t,this.size=n,this.cramped=i}sup(){return eo[JG[this.id]]}sub(){return eo[ZG[this.id]]}fracNum(){return eo[QG[this.id]]}fracDen(){return eo[eW[this.id]]}cramp(){return eo[tW[this.id]]}text(){return eo[nW[this.id]]}isTight(){return this.size>=2}}var dy=0,_f=1,Yl=2,es=3,vd=4,vr=5,Su=6,wi=7,eo=[new Es(dy,0,!1),new Es(_f,0,!0),new Es(Yl,1,!1),new Es(es,1,!0),new Es(vd,2,!1),new Es(vr,2,!0),new Es(Su,3,!1),new Es(wi,3,!0)],JG=[vd,vr,vd,vr,Su,wi,Su,wi],ZG=[vr,vr,vr,vr,wi,wi,wi,wi],QG=[Yl,es,vd,vr,Su,wi,Su,wi],eW=[es,es,vr,vr,wi,wi,wi,wi],tW=[_f,_f,es,es,vr,vr,wi,wi],nW=[dy,_f,Yl,es,Yl,es,Yl,es],ze={DISPLAY:eo[dy],TEXT:eo[Yl],SCRIPT:eo[vd],SCRIPTSCRIPT:eo[Su]},D1=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function iW(e){for(var t=0;t<D1.length;t++)for(var n=D1[t],i=0;i<n.blocks.length;i++){var r=n.blocks[i];if(e>=r[0]&&e<=r[1])return n.name}return null}var Tp=[];D1.forEach(e=>e.blocks.forEach(t=>Tp.push(...t)));function tT(e){for(var t=0;t<Tp.length;t+=2)if(e>=Tp[t]&&e<=Tp[t+1])return!0;return!1}var Ml=80,rW=function(t,n){return"M95,"+(622+t+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+t/2.075+" -"+t+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+t)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},oW=function(t,n){return"M263,"+(601+t+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+t/2.084+" -"+t+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+t)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},sW=function(t,n){return"M983 "+(10+t+n)+`
l`+t/3.13+" -"+t+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+t)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+t)+" "+n+"h400000v"+(40+t)+"h-400000z"},aW=function(t,n){return"M424,"+(2398+t+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+t/4.223+" -"+t+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+t)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+t)+" "+n+`
h400000v`+(40+t)+"h-400000z"},lW=function(t,n){return"M473,"+(2713+t+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+t/5.298+" -"+t+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+t)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+t)+" "+n+"h400000v"+(40+t)+"H1017.7z"},uW=function(t){var n=t/2;return"M400000 "+t+" H0 L"+n+" 0 l65 45 L145 "+(t-80)+" H400000z"},cW=function(t,n,i){var r=i-54-n-t;return"M702 "+(t+n)+"H400000"+(40+t)+`
H742v`+r+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+t)+"H742z"},dW=function(t,n,i){n=1e3*n;var r="";switch(t){case"sqrtMain":r=rW(n,Ml);break;case"sqrtSize1":r=oW(n,Ml);break;case"sqrtSize2":r=sW(n,Ml);break;case"sqrtSize3":r=aW(n,Ml);break;case"sqrtSize4":r=lW(n,Ml);break;case"sqrtTall":r=cW(n,Ml,i)}return r},hW=function(t,n){switch(t){case"⎜":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"∣":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"∥":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"⎟":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"⎢":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"⎥":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"⎪":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"⏐":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"‖":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},v2={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},pW=function(t,n){switch(t){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Zd{constructor(t){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=t,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(t){return Ie.contains(this.classes,t)}toNode(){for(var t=document.createDocumentFragment(),n=0;n<this.children.length;n++)t.appendChild(this.children[n].toNode());return t}toMarkup(){for(var t="",n=0;n<this.children.length;n++)t+=this.children[n].toMarkup();return t}toText(){var t=n=>n.toText();return this.children.map(t).join("")}}var oo={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},zh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},C2={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function fW(e,t){oo[e]=t}function hy(e,t,n){if(!oo[t])throw new Error("Font metrics not found for font: "+t+".");var i=e.charCodeAt(0),r=oo[t][i];if(!r&&e[0]in C2&&(i=C2[e[0]].charCodeAt(0),r=oo[t][i]),!r&&n==="text"&&tT(i)&&(r=oo[t][77]),r)return{depth:r[0],height:r[1],italic:r[2],skew:r[3],width:r[4]}}var Dm={};function gW(e){var t;if(e>=5?t=0:e>=3?t=1:t=2,!Dm[t]){var n=Dm[t]={cssEmPerMu:zh.quad[t]/18};for(var i in zh)zh.hasOwnProperty(i)&&(n[i]=zh[i][t])}return Dm[t]}var mW=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],b2=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],y2=function(t,n){return n.size<2?t:mW[t-1][n.size-1]};class Ho{constructor(t){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=t.style,this.color=t.color,this.size=t.size||Ho.BASESIZE,this.textSize=t.textSize||this.size,this.phantom=!!t.phantom,this.font=t.font||"",this.fontFamily=t.fontFamily||"",this.fontWeight=t.fontWeight||"",this.fontShape=t.fontShape||"",this.sizeMultiplier=b2[this.size-1],this.maxSize=t.maxSize,this.minRuleThickness=t.minRuleThickness,this._fontMetrics=void 0}extend(t){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return new Ho(n)}havingStyle(t){return this.style===t?this:this.extend({style:t,size:y2(this.textSize,t)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(t){return this.size===t&&this.textSize===t?this:this.extend({style:this.style.text(),size:t,textSize:t,sizeMultiplier:b2[t-1]})}havingBaseStyle(t){t=t||this.style.text();var n=y2(Ho.BASESIZE,t);return this.size===n&&this.textSize===Ho.BASESIZE&&this.style===t?this:this.extend({style:t,size:n})}havingBaseSizing(){var t;switch(this.style.id){case 4:case 5:t=3;break;case 6:case 7:t=1;break;default:t=6}return this.extend({style:this.style.text(),size:t})}withColor(t){return this.extend({color:t})}withPhantom(){return this.extend({phantom:!0})}withFont(t){return this.extend({font:t})}withTextFontFamily(t){return this.extend({fontFamily:t,font:""})}withTextFontWeight(t){return this.extend({fontWeight:t,font:""})}withTextFontShape(t){return this.extend({fontShape:t,font:""})}sizingClasses(t){return t.size!==this.size?["sizing","reset-size"+t.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Ho.BASESIZE?["sizing","reset-size"+this.size,"size"+Ho.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=gW(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Ho.BASESIZE=6;var M1={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},vW={ex:!0,em:!0,mu:!0},nT=function(t){return typeof t!="string"&&(t=t.unit),t in M1||t in vW||t==="ex"},tn=function(t,n){var i;if(t.unit in M1)i=M1[t.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(t.unit==="mu")i=n.fontMetrics().cssEmPerMu;else{var r;if(n.style.isTight()?r=n.havingStyle(n.style.text()):r=n,t.unit==="ex")i=r.fontMetrics().xHeight;else if(t.unit==="em")i=r.fontMetrics().quad;else throw new ae("Invalid unit: '"+t.unit+"'");r!==n&&(i*=r.sizeMultiplier/n.sizeMultiplier)}return Math.min(t.number*i,n.maxSize)},ce=function(t){return+t.toFixed(4)+"em"},sa=function(t){return t.filter(n=>n).join(" ")},iT=function(t,n,i){if(this.classes=t||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=i||{},n){n.style.isTight()&&this.classes.push("mtight");var r=n.getColor();r&&(this.style.color=r)}},rT=function(t){var n=document.createElement(t);n.className=sa(this.classes);for(var i in this.style)this.style.hasOwnProperty(i)&&(n.style[i]=this.style[i]);for(var r in this.attributes)this.attributes.hasOwnProperty(r)&&n.setAttribute(r,this.attributes[r]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},CW=/[\s"'>/=\x00-\x1f]/,oT=function(t){var n="<"+t;this.classes.length&&(n+=' class="'+Ie.escape(sa(this.classes))+'"');var i="";for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=Ie.hyphenate(r)+":"+this.style[r]+";");i&&(n+=' style="'+Ie.escape(i)+'"');for(var o in this.attributes)if(this.attributes.hasOwnProperty(o)){if(CW.test(o))throw new ae("Invalid attribute name '"+o+"'");n+=" "+o+'="'+Ie.escape(this.attributes[o])+'"'}n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+t+">",n};class Qd{constructor(t,n,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,iT.call(this,t,i,r),this.children=n||[]}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return Ie.contains(this.classes,t)}toNode(){return rT.call(this,"span")}toMarkup(){return oT.call(this,"span")}}class py{constructor(t,n,i,r){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,iT.call(this,n,r),this.children=i||[],this.setAttribute("href",t)}setAttribute(t,n){this.attributes[t]=n}hasClass(t){return Ie.contains(this.classes,t)}toNode(){return rT.call(this,"a")}toMarkup(){return oT.call(this,"a")}}class bW{constructor(t,n,i){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=t,this.classes=["mord"],this.style=i}hasClass(t){return Ie.contains(this.classes,t)}toNode(){var t=document.createElement("img");t.src=this.src,t.alt=this.alt,t.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(t.style[n]=this.style[n]);return t}toMarkup(){var t='<img src="'+Ie.escape(this.src)+'"'+(' alt="'+Ie.escape(this.alt)+'"'),n="";for(var i in this.style)this.style.hasOwnProperty(i)&&(n+=Ie.hyphenate(i)+":"+this.style[i]+";");return n&&(t+=' style="'+Ie.escape(n)+'"'),t+="'/>",t}}var yW={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class Rr{constructor(t,n,i,r,o,s,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=t,this.height=n||0,this.depth=i||0,this.italic=r||0,this.skew=o||0,this.width=s||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var u=iW(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=yW[this.text])}hasClass(t){return Ie.contains(this.classes,t)}toNode(){var t=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ce(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=sa(this.classes));for(var i in this.style)this.style.hasOwnProperty(i)&&(n=n||document.createElement("span"),n.style[i]=this.style[i]);return n?(n.appendChild(t),n):t}toMarkup(){var t=!1,n="<span";this.classes.length&&(t=!0,n+=' class="',n+=Ie.escape(sa(this.classes)),n+='"');var i="";this.italic>0&&(i+="margin-right:"+this.italic+"em;");for(var r in this.style)this.style.hasOwnProperty(r)&&(i+=Ie.hyphenate(r)+":"+this.style[r]+";");i&&(t=!0,n+=' style="'+Ie.escape(i)+'"');var o=Ie.escape(this.text);return t?(n+=">",n+=o,n+="</span>",n):o}}class us{constructor(t,n){this.children=void 0,this.attributes=void 0,this.children=t||[],this.attributes=n||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"svg");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);for(var r=0;r<this.children.length;r++)n.appendChild(this.children[r].toNode());return n}toMarkup(){var t='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ie.escape(this.attributes[n])+'"');t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</svg>",t}}class aa{constructor(t,n){this.pathName=void 0,this.alternate=void 0,this.pathName=t,this.alternate=n}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",v2[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+Ie.escape(this.alternate)+'"/>':'<path d="'+Ie.escape(v2[this.pathName])+'"/>'}}class P1{constructor(t){this.attributes=void 0,this.attributes=t||{}}toNode(){var t="http://www.w3.org/2000/svg",n=document.createElementNS(t,"line");for(var i in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,i)&&n.setAttribute(i,this.attributes[i]);return n}toMarkup(){var t="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="'+Ie.escape(this.attributes[n])+'"');return t+="/>",t}}function w2(e){if(e instanceof Rr)return e;throw new Error("Expected symbolNode but got "+String(e)+".")}function wW(e){if(e instanceof Qd)return e;throw new Error("Expected span<HtmlDomNode> but got "+String(e)+".")}var SW={bin:1,close:1,inner:1,open:1,punct:1,rel:1},xW={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},Nt={math:{},text:{}};function C(e,t,n,i,r,o){Nt[e][r]={font:t,group:n,replace:i},o&&i&&(Nt[e][i]=Nt[e][r])}var w="math",ee="text",k="main",M="ams",Xt="accent-token",be="bin",Fi="close",Bu="inner",Be="mathord",An="op-token",rr="open",ug="punct",P="rel",Cs="spacing",N="textord";C(w,k,P,"≡","\\equiv",!0);C(w,k,P,"≺","\\prec",!0);C(w,k,P,"≻","\\succ",!0);C(w,k,P,"∼","\\sim",!0);C(w,k,P,"⊥","\\perp");C(w,k,P,"⪯","\\preceq",!0);C(w,k,P,"⪰","\\succeq",!0);C(w,k,P,"≃","\\simeq",!0);C(w,k,P,"∣","\\mid",!0);C(w,k,P,"≪","\\ll",!0);C(w,k,P,"≫","\\gg",!0);C(w,k,P,"≍","\\asymp",!0);C(w,k,P,"∥","\\parallel");C(w,k,P,"⋈","\\bowtie",!0);C(w,k,P,"⌣","\\smile",!0);C(w,k,P,"⊑","\\sqsubseteq",!0);C(w,k,P,"⊒","\\sqsupseteq",!0);C(w,k,P,"≐","\\doteq",!0);C(w,k,P,"⌢","\\frown",!0);C(w,k,P,"∋","\\ni",!0);C(w,k,P,"∝","\\propto",!0);C(w,k,P,"⊢","\\vdash",!0);C(w,k,P,"⊣","\\dashv",!0);C(w,k,P,"∋","\\owns");C(w,k,ug,".","\\ldotp");C(w,k,ug,"⋅","\\cdotp");C(w,k,N,"#","\\#");C(ee,k,N,"#","\\#");C(w,k,N,"&","\\&");C(ee,k,N,"&","\\&");C(w,k,N,"ℵ","\\aleph",!0);C(w,k,N,"∀","\\forall",!0);C(w,k,N,"ℏ","\\hbar",!0);C(w,k,N,"∃","\\exists",!0);C(w,k,N,"∇","\\nabla",!0);C(w,k,N,"♭","\\flat",!0);C(w,k,N,"ℓ","\\ell",!0);C(w,k,N,"♮","\\natural",!0);C(w,k,N,"♣","\\clubsuit",!0);C(w,k,N,"℘","\\wp",!0);C(w,k,N,"♯","\\sharp",!0);C(w,k,N,"♢","\\diamondsuit",!0);C(w,k,N,"ℜ","\\Re",!0);C(w,k,N,"♡","\\heartsuit",!0);C(w,k,N,"ℑ","\\Im",!0);C(w,k,N,"♠","\\spadesuit",!0);C(w,k,N,"§","\\S",!0);C(ee,k,N,"§","\\S");C(w,k,N,"¶","\\P",!0);C(ee,k,N,"¶","\\P");C(w,k,N,"†","\\dag");C(ee,k,N,"†","\\dag");C(ee,k,N,"†","\\textdagger");C(w,k,N,"‡","\\ddag");C(ee,k,N,"‡","\\ddag");C(ee,k,N,"‡","\\textdaggerdbl");C(w,k,Fi,"⎱","\\rmoustache",!0);C(w,k,rr,"⎰","\\lmoustache",!0);C(w,k,Fi,"⟯","\\rgroup",!0);C(w,k,rr,"⟮","\\lgroup",!0);C(w,k,be,"∓","\\mp",!0);C(w,k,be,"⊖","\\ominus",!0);C(w,k,be,"⊎","\\uplus",!0);C(w,k,be,"⊓","\\sqcap",!0);C(w,k,be,"∗","\\ast");C(w,k,be,"⊔","\\sqcup",!0);C(w,k,be,"◯","\\bigcirc",!0);C(w,k,be,"∙","\\bullet",!0);C(w,k,be,"‡","\\ddagger");C(w,k,be,"≀","\\wr",!0);C(w,k,be,"⨿","\\amalg");C(w,k,be,"&","\\And");C(w,k,P,"⟵","\\longleftarrow",!0);C(w,k,P,"⇐","\\Leftarrow",!0);C(w,k,P,"⟸","\\Longleftarrow",!0);C(w,k,P,"⟶","\\longrightarrow",!0);C(w,k,P,"⇒","\\Rightarrow",!0);C(w,k,P,"⟹","\\Longrightarrow",!0);C(w,k,P,"↔","\\leftrightarrow",!0);C(w,k,P,"⟷","\\longleftrightarrow",!0);C(w,k,P,"⇔","\\Leftrightarrow",!0);C(w,k,P,"⟺","\\Longleftrightarrow",!0);C(w,k,P,"↦","\\mapsto",!0);C(w,k,P,"⟼","\\longmapsto",!0);C(w,k,P,"↗","\\nearrow",!0);C(w,k,P,"↩","\\hookleftarrow",!0);C(w,k,P,"↪","\\hookrightarrow",!0);C(w,k,P,"↘","\\searrow",!0);C(w,k,P,"↼","\\leftharpoonup",!0);C(w,k,P,"⇀","\\rightharpoonup",!0);C(w,k,P,"↙","\\swarrow",!0);C(w,k,P,"↽","\\leftharpoondown",!0);C(w,k,P,"⇁","\\rightharpoondown",!0);C(w,k,P,"↖","\\nwarrow",!0);C(w,k,P,"⇌","\\rightleftharpoons",!0);C(w,M,P,"≮","\\nless",!0);C(w,M,P,"","\\@nleqslant");C(w,M,P,"","\\@nleqq");C(w,M,P,"⪇","\\lneq",!0);C(w,M,P,"≨","\\lneqq",!0);C(w,M,P,"","\\@lvertneqq");C(w,M,P,"⋦","\\lnsim",!0);C(w,M,P,"⪉","\\lnapprox",!0);C(w,M,P,"⊀","\\nprec",!0);C(w,M,P,"⋠","\\npreceq",!0);C(w,M,P,"⋨","\\precnsim",!0);C(w,M,P,"⪹","\\precnapprox",!0);C(w,M,P,"≁","\\nsim",!0);C(w,M,P,"","\\@nshortmid");C(w,M,P,"∤","\\nmid",!0);C(w,M,P,"⊬","\\nvdash",!0);C(w,M,P,"⊭","\\nvDash",!0);C(w,M,P,"⋪","\\ntriangleleft");C(w,M,P,"⋬","\\ntrianglelefteq",!0);C(w,M,P,"⊊","\\subsetneq",!0);C(w,M,P,"","\\@varsubsetneq");C(w,M,P,"⫋","\\subsetneqq",!0);C(w,M,P,"","\\@varsubsetneqq");C(w,M,P,"≯","\\ngtr",!0);C(w,M,P,"","\\@ngeqslant");C(w,M,P,"","\\@ngeqq");C(w,M,P,"⪈","\\gneq",!0);C(w,M,P,"≩","\\gneqq",!0);C(w,M,P,"","\\@gvertneqq");C(w,M,P,"⋧","\\gnsim",!0);C(w,M,P,"⪊","\\gnapprox",!0);C(w,M,P,"⊁","\\nsucc",!0);C(w,M,P,"⋡","\\nsucceq",!0);C(w,M,P,"⋩","\\succnsim",!0);C(w,M,P,"⪺","\\succnapprox",!0);C(w,M,P,"≆","\\ncong",!0);C(w,M,P,"","\\@nshortparallel");C(w,M,P,"∦","\\nparallel",!0);C(w,M,P,"⊯","\\nVDash",!0);C(w,M,P,"⋫","\\ntriangleright");C(w,M,P,"⋭","\\ntrianglerighteq",!0);C(w,M,P,"","\\@nsupseteqq");C(w,M,P,"⊋","\\supsetneq",!0);C(w,M,P,"","\\@varsupsetneq");C(w,M,P,"⫌","\\supsetneqq",!0);C(w,M,P,"","\\@varsupsetneqq");C(w,M,P,"⊮","\\nVdash",!0);C(w,M,P,"⪵","\\precneqq",!0);C(w,M,P,"⪶","\\succneqq",!0);C(w,M,P,"","\\@nsubseteqq");C(w,M,be,"⊴","\\unlhd");C(w,M,be,"⊵","\\unrhd");C(w,M,P,"↚","\\nleftarrow",!0);C(w,M,P,"↛","\\nrightarrow",!0);C(w,M,P,"⇍","\\nLeftarrow",!0);C(w,M,P,"⇏","\\nRightarrow",!0);C(w,M,P,"↮","\\nleftrightarrow",!0);C(w,M,P,"⇎","\\nLeftrightarrow",!0);C(w,M,P,"△","\\vartriangle");C(w,M,N,"ℏ","\\hslash");C(w,M,N,"▽","\\triangledown");C(w,M,N,"◊","\\lozenge");C(w,M,N,"Ⓢ","\\circledS");C(w,M,N,"®","\\circledR");C(ee,M,N,"®","\\circledR");C(w,M,N,"∡","\\measuredangle",!0);C(w,M,N,"∄","\\nexists");C(w,M,N,"℧","\\mho");C(w,M,N,"Ⅎ","\\Finv",!0);C(w,M,N,"⅁","\\Game",!0);C(w,M,N,"‵","\\backprime");C(w,M,N,"▲","\\blacktriangle");C(w,M,N,"▼","\\blacktriangledown");C(w,M,N,"■","\\blacksquare");C(w,M,N,"⧫","\\blacklozenge");C(w,M,N,"★","\\bigstar");C(w,M,N,"∢","\\sphericalangle",!0);C(w,M,N,"∁","\\complement",!0);C(w,M,N,"ð","\\eth",!0);C(ee,k,N,"ð","ð");C(w,M,N,"╱","\\diagup");C(w,M,N,"╲","\\diagdown");C(w,M,N,"□","\\square");C(w,M,N,"□","\\Box");C(w,M,N,"◊","\\Diamond");C(w,M,N,"¥","\\yen",!0);C(ee,M,N,"¥","\\yen",!0);C(w,M,N,"✓","\\checkmark",!0);C(ee,M,N,"✓","\\checkmark");C(w,M,N,"ℶ","\\beth",!0);C(w,M,N,"ℸ","\\daleth",!0);C(w,M,N,"ℷ","\\gimel",!0);C(w,M,N,"ϝ","\\digamma",!0);C(w,M,N,"ϰ","\\varkappa");C(w,M,rr,"┌","\\@ulcorner",!0);C(w,M,Fi,"┐","\\@urcorner",!0);C(w,M,rr,"└","\\@llcorner",!0);C(w,M,Fi,"┘","\\@lrcorner",!0);C(w,M,P,"≦","\\leqq",!0);C(w,M,P,"⩽","\\leqslant",!0);C(w,M,P,"⪕","\\eqslantless",!0);C(w,M,P,"≲","\\lesssim",!0);C(w,M,P,"⪅","\\lessapprox",!0);C(w,M,P,"≊","\\approxeq",!0);C(w,M,be,"⋖","\\lessdot");C(w,M,P,"⋘","\\lll",!0);C(w,M,P,"≶","\\lessgtr",!0);C(w,M,P,"⋚","\\lesseqgtr",!0);C(w,M,P,"⪋","\\lesseqqgtr",!0);C(w,M,P,"≑","\\doteqdot");C(w,M,P,"≓","\\risingdotseq",!0);C(w,M,P,"≒","\\fallingdotseq",!0);C(w,M,P,"∽","\\backsim",!0);C(w,M,P,"⋍","\\backsimeq",!0);C(w,M,P,"⫅","\\subseteqq",!0);C(w,M,P,"⋐","\\Subset",!0);C(w,M,P,"⊏","\\sqsubset",!0);C(w,M,P,"≼","\\preccurlyeq",!0);C(w,M,P,"⋞","\\curlyeqprec",!0);C(w,M,P,"≾","\\precsim",!0);C(w,M,P,"⪷","\\precapprox",!0);C(w,M,P,"⊲","\\vartriangleleft");C(w,M,P,"⊴","\\trianglelefteq");C(w,M,P,"⊨","\\vDash",!0);C(w,M,P,"⊪","\\Vvdash",!0);C(w,M,P,"⌣","\\smallsmile");C(w,M,P,"⌢","\\smallfrown");C(w,M,P,"≏","\\bumpeq",!0);C(w,M,P,"≎","\\Bumpeq",!0);C(w,M,P,"≧","\\geqq",!0);C(w,M,P,"⩾","\\geqslant",!0);C(w,M,P,"⪖","\\eqslantgtr",!0);C(w,M,P,"≳","\\gtrsim",!0);C(w,M,P,"⪆","\\gtrapprox",!0);C(w,M,be,"⋗","\\gtrdot");C(w,M,P,"⋙","\\ggg",!0);C(w,M,P,"≷","\\gtrless",!0);C(w,M,P,"⋛","\\gtreqless",!0);C(w,M,P,"⪌","\\gtreqqless",!0);C(w,M,P,"≖","\\eqcirc",!0);C(w,M,P,"≗","\\circeq",!0);C(w,M,P,"≜","\\triangleq",!0);C(w,M,P,"∼","\\thicksim");C(w,M,P,"≈","\\thickapprox");C(w,M,P,"⫆","\\supseteqq",!0);C(w,M,P,"⋑","\\Supset",!0);C(w,M,P,"⊐","\\sqsupset",!0);C(w,M,P,"≽","\\succcurlyeq",!0);C(w,M,P,"⋟","\\curlyeqsucc",!0);C(w,M,P,"≿","\\succsim",!0);C(w,M,P,"⪸","\\succapprox",!0);C(w,M,P,"⊳","\\vartriangleright");C(w,M,P,"⊵","\\trianglerighteq");C(w,M,P,"⊩","\\Vdash",!0);C(w,M,P,"∣","\\shortmid");C(w,M,P,"∥","\\shortparallel");C(w,M,P,"≬","\\between",!0);C(w,M,P,"⋔","\\pitchfork",!0);C(w,M,P,"∝","\\varpropto");C(w,M,P,"◀","\\blacktriangleleft");C(w,M,P,"∴","\\therefore",!0);C(w,M,P,"∍","\\backepsilon");C(w,M,P,"▶","\\blacktriangleright");C(w,M,P,"∵","\\because",!0);C(w,M,P,"⋘","\\llless");C(w,M,P,"⋙","\\gggtr");C(w,M,be,"⊲","\\lhd");C(w,M,be,"⊳","\\rhd");C(w,M,P,"≂","\\eqsim",!0);C(w,k,P,"⋈","\\Join");C(w,M,P,"≑","\\Doteq",!0);C(w,M,be,"∔","\\dotplus",!0);C(w,M,be,"∖","\\smallsetminus");C(w,M,be,"⋒","\\Cap",!0);C(w,M,be,"⋓","\\Cup",!0);C(w,M,be,"⩞","\\doublebarwedge",!0);C(w,M,be,"⊟","\\boxminus",!0);C(w,M,be,"⊞","\\boxplus",!0);C(w,M,be,"⋇","\\divideontimes",!0);C(w,M,be,"⋉","\\ltimes",!0);C(w,M,be,"⋊","\\rtimes",!0);C(w,M,be,"⋋","\\leftthreetimes",!0);C(w,M,be,"⋌","\\rightthreetimes",!0);C(w,M,be,"⋏","\\curlywedge",!0);C(w,M,be,"⋎","\\curlyvee",!0);C(w,M,be,"⊝","\\circleddash",!0);C(w,M,be,"⊛","\\circledast",!0);C(w,M,be,"⋅","\\centerdot");C(w,M,be,"⊺","\\intercal",!0);C(w,M,be,"⋒","\\doublecap");C(w,M,be,"⋓","\\doublecup");C(w,M,be,"⊠","\\boxtimes",!0);C(w,M,P,"⇢","\\dashrightarrow",!0);C(w,M,P,"⇠","\\dashleftarrow",!0);C(w,M,P,"⇇","\\leftleftarrows",!0);C(w,M,P,"⇆","\\leftrightarrows",!0);C(w,M,P,"⇚","\\Lleftarrow",!0);C(w,M,P,"↞","\\twoheadleftarrow",!0);C(w,M,P,"↢","\\leftarrowtail",!0);C(w,M,P,"↫","\\looparrowleft",!0);C(w,M,P,"⇋","\\leftrightharpoons",!0);C(w,M,P,"↶","\\curvearrowleft",!0);C(w,M,P,"↺","\\circlearrowleft",!0);C(w,M,P,"↰","\\Lsh",!0);C(w,M,P,"⇈","\\upuparrows",!0);C(w,M,P,"↿","\\upharpoonleft",!0);C(w,M,P,"⇃","\\downharpoonleft",!0);C(w,k,P,"⊶","\\origof",!0);C(w,k,P,"⊷","\\imageof",!0);C(w,M,P,"⊸","\\multimap",!0);C(w,M,P,"↭","\\leftrightsquigarrow",!0);C(w,M,P,"⇉","\\rightrightarrows",!0);C(w,M,P,"⇄","\\rightleftarrows",!0);C(w,M,P,"↠","\\twoheadrightarrow",!0);C(w,M,P,"↣","\\rightarrowtail",!0);C(w,M,P,"↬","\\looparrowright",!0);C(w,M,P,"↷","\\curvearrowright",!0);C(w,M,P,"↻","\\circlearrowright",!0);C(w,M,P,"↱","\\Rsh",!0);C(w,M,P,"⇊","\\downdownarrows",!0);C(w,M,P,"↾","\\upharpoonright",!0);C(w,M,P,"⇂","\\downharpoonright",!0);C(w,M,P,"⇝","\\rightsquigarrow",!0);C(w,M,P,"⇝","\\leadsto");C(w,M,P,"⇛","\\Rrightarrow",!0);C(w,M,P,"↾","\\restriction");C(w,k,N,"‘","`");C(w,k,N,"$","\\$");C(ee,k,N,"$","\\$");C(ee,k,N,"$","\\textdollar");C(w,k,N,"%","\\%");C(ee,k,N,"%","\\%");C(w,k,N,"_","\\_");C(ee,k,N,"_","\\_");C(ee,k,N,"_","\\textunderscore");C(w,k,N,"∠","\\angle",!0);C(w,k,N,"∞","\\infty",!0);C(w,k,N,"′","\\prime");C(w,k,N,"△","\\triangle");C(w,k,N,"Γ","\\Gamma",!0);C(w,k,N,"Δ","\\Delta",!0);C(w,k,N,"Θ","\\Theta",!0);C(w,k,N,"Λ","\\Lambda",!0);C(w,k,N,"Ξ","\\Xi",!0);C(w,k,N,"Π","\\Pi",!0);C(w,k,N,"Σ","\\Sigma",!0);C(w,k,N,"Υ","\\Upsilon",!0);C(w,k,N,"Φ","\\Phi",!0);C(w,k,N,"Ψ","\\Psi",!0);C(w,k,N,"Ω","\\Omega",!0);C(w,k,N,"A","Α");C(w,k,N,"B","Β");C(w,k,N,"E","Ε");C(w,k,N,"Z","Ζ");C(w,k,N,"H","Η");C(w,k,N,"I","Ι");C(w,k,N,"K","Κ");C(w,k,N,"M","Μ");C(w,k,N,"N","Ν");C(w,k,N,"O","Ο");C(w,k,N,"P","Ρ");C(w,k,N,"T","Τ");C(w,k,N,"X","Χ");C(w,k,N,"¬","\\neg",!0);C(w,k,N,"¬","\\lnot");C(w,k,N,"⊤","\\top");C(w,k,N,"⊥","\\bot");C(w,k,N,"∅","\\emptyset");C(w,M,N,"∅","\\varnothing");C(w,k,Be,"α","\\alpha",!0);C(w,k,Be,"β","\\beta",!0);C(w,k,Be,"γ","\\gamma",!0);C(w,k,Be,"δ","\\delta",!0);C(w,k,Be,"ϵ","\\epsilon",!0);C(w,k,Be,"ζ","\\zeta",!0);C(w,k,Be,"η","\\eta",!0);C(w,k,Be,"θ","\\theta",!0);C(w,k,Be,"ι","\\iota",!0);C(w,k,Be,"κ","\\kappa",!0);C(w,k,Be,"λ","\\lambda",!0);C(w,k,Be,"μ","\\mu",!0);C(w,k,Be,"ν","\\nu",!0);C(w,k,Be,"ξ","\\xi",!0);C(w,k,Be,"ο","\\omicron",!0);C(w,k,Be,"π","\\pi",!0);C(w,k,Be,"ρ","\\rho",!0);C(w,k,Be,"σ","\\sigma",!0);C(w,k,Be,"τ","\\tau",!0);C(w,k,Be,"υ","\\upsilon",!0);C(w,k,Be,"ϕ","\\phi",!0);C(w,k,Be,"χ","\\chi",!0);C(w,k,Be,"ψ","\\psi",!0);C(w,k,Be,"ω","\\omega",!0);C(w,k,Be,"ε","\\varepsilon",!0);C(w,k,Be,"ϑ","\\vartheta",!0);C(w,k,Be,"ϖ","\\varpi",!0);C(w,k,Be,"ϱ","\\varrho",!0);C(w,k,Be,"ς","\\varsigma",!0);C(w,k,Be,"φ","\\varphi",!0);C(w,k,be,"∗","*",!0);C(w,k,be,"+","+");C(w,k,be,"−","-",!0);C(w,k,be,"⋅","\\cdot",!0);C(w,k,be,"∘","\\circ",!0);C(w,k,be,"÷","\\div",!0);C(w,k,be,"±","\\pm",!0);C(w,k,be,"×","\\times",!0);C(w,k,be,"∩","\\cap",!0);C(w,k,be,"∪","\\cup",!0);C(w,k,be,"∖","\\setminus",!0);C(w,k,be,"∧","\\land");C(w,k,be,"∨","\\lor");C(w,k,be,"∧","\\wedge",!0);C(w,k,be,"∨","\\vee",!0);C(w,k,N,"√","\\surd");C(w,k,rr,"⟨","\\langle",!0);C(w,k,rr,"∣","\\lvert");C(w,k,rr,"∥","\\lVert");C(w,k,Fi,"?","?");C(w,k,Fi,"!","!");C(w,k,Fi,"⟩","\\rangle",!0);C(w,k,Fi,"∣","\\rvert");C(w,k,Fi,"∥","\\rVert");C(w,k,P,"=","=");C(w,k,P,":",":");C(w,k,P,"≈","\\approx",!0);C(w,k,P,"≅","\\cong",!0);C(w,k,P,"≥","\\ge");C(w,k,P,"≥","\\geq",!0);C(w,k,P,"←","\\gets");C(w,k,P,">","\\gt",!0);C(w,k,P,"∈","\\in",!0);C(w,k,P,"","\\@not");C(w,k,P,"⊂","\\subset",!0);C(w,k,P,"⊃","\\supset",!0);C(w,k,P,"⊆","\\subseteq",!0);C(w,k,P,"⊇","\\supseteq",!0);C(w,M,P,"⊈","\\nsubseteq",!0);C(w,M,P,"⊉","\\nsupseteq",!0);C(w,k,P,"⊨","\\models");C(w,k,P,"←","\\leftarrow",!0);C(w,k,P,"≤","\\le");C(w,k,P,"≤","\\leq",!0);C(w,k,P,"<","\\lt",!0);C(w,k,P,"→","\\rightarrow",!0);C(w,k,P,"→","\\to");C(w,M,P,"≱","\\ngeq",!0);C(w,M,P,"≰","\\nleq",!0);C(w,k,Cs," ","\\ ");C(w,k,Cs," ","\\space");C(w,k,Cs," ","\\nobreakspace");C(ee,k,Cs," ","\\ ");C(ee,k,Cs," "," ");C(ee,k,Cs," ","\\space");C(ee,k,Cs," ","\\nobreakspace");C(w,k,Cs,null,"\\nobreak");C(w,k,Cs,null,"\\allowbreak");C(w,k,ug,",",",");C(w,k,ug,";",";");C(w,M,be,"⊼","\\barwedge",!0);C(w,M,be,"⊻","\\veebar",!0);C(w,k,be,"⊙","\\odot",!0);C(w,k,be,"⊕","\\oplus",!0);C(w,k,be,"⊗","\\otimes",!0);C(w,k,N,"∂","\\partial",!0);C(w,k,be,"⊘","\\oslash",!0);C(w,M,be,"⊚","\\circledcirc",!0);C(w,M,be,"⊡","\\boxdot",!0);C(w,k,be,"△","\\bigtriangleup");C(w,k,be,"▽","\\bigtriangledown");C(w,k,be,"†","\\dagger");C(w,k,be,"⋄","\\diamond");C(w,k,be,"⋆","\\star");C(w,k,be,"◃","\\triangleleft");C(w,k,be,"▹","\\triangleright");C(w,k,rr,"{","\\{");C(ee,k,N,"{","\\{");C(ee,k,N,"{","\\textbraceleft");C(w,k,Fi,"}","\\}");C(ee,k,N,"}","\\}");C(ee,k,N,"}","\\textbraceright");C(w,k,rr,"{","\\lbrace");C(w,k,Fi,"}","\\rbrace");C(w,k,rr,"[","\\lbrack",!0);C(ee,k,N,"[","\\lbrack",!0);C(w,k,Fi,"]","\\rbrack",!0);C(ee,k,N,"]","\\rbrack",!0);C(w,k,rr,"(","\\lparen",!0);C(w,k,Fi,")","\\rparen",!0);C(ee,k,N,"<","\\textless",!0);C(ee,k,N,">","\\textgreater",!0);C(w,k,rr,"⌊","\\lfloor",!0);C(w,k,Fi,"⌋","\\rfloor",!0);C(w,k,rr,"⌈","\\lceil",!0);C(w,k,Fi,"⌉","\\rceil",!0);C(w,k,N,"\\","\\backslash");C(w,k,N,"∣","|");C(w,k,N,"∣","\\vert");C(ee,k,N,"|","\\textbar",!0);C(w,k,N,"∥","\\|");C(w,k,N,"∥","\\Vert");C(ee,k,N,"∥","\\textbardbl");C(ee,k,N,"~","\\textasciitilde");C(ee,k,N,"\\","\\textbackslash");C(ee,k,N,"^","\\textasciicircum");C(w,k,P,"↑","\\uparrow",!0);C(w,k,P,"⇑","\\Uparrow",!0);C(w,k,P,"↓","\\downarrow",!0);C(w,k,P,"⇓","\\Downarrow",!0);C(w,k,P,"↕","\\updownarrow",!0);C(w,k,P,"⇕","\\Updownarrow",!0);C(w,k,An,"∐","\\coprod");C(w,k,An,"⋁","\\bigvee");C(w,k,An,"⋀","\\bigwedge");C(w,k,An,"⨄","\\biguplus");C(w,k,An,"⋂","\\bigcap");C(w,k,An,"⋃","\\bigcup");C(w,k,An,"∫","\\int");C(w,k,An,"∫","\\intop");C(w,k,An,"∬","\\iint");C(w,k,An,"∭","\\iiint");C(w,k,An,"∏","\\prod");C(w,k,An,"∑","\\sum");C(w,k,An,"⨂","\\bigotimes");C(w,k,An,"⨁","\\bigoplus");C(w,k,An,"⨀","\\bigodot");C(w,k,An,"∮","\\oint");C(w,k,An,"∯","\\oiint");C(w,k,An,"∰","\\oiiint");C(w,k,An,"⨆","\\bigsqcup");C(w,k,An,"∫","\\smallint");C(ee,k,Bu,"…","\\textellipsis");C(w,k,Bu,"…","\\mathellipsis");C(ee,k,Bu,"…","\\ldots",!0);C(w,k,Bu,"…","\\ldots",!0);C(w,k,Bu,"⋯","\\@cdots",!0);C(w,k,Bu,"⋱","\\ddots",!0);C(w,k,N,"⋮","\\varvdots");C(ee,k,N,"⋮","\\varvdots");C(w,k,Xt,"ˊ","\\acute");C(w,k,Xt,"ˋ","\\grave");C(w,k,Xt,"¨","\\ddot");C(w,k,Xt,"~","\\tilde");C(w,k,Xt,"ˉ","\\bar");C(w,k,Xt,"˘","\\breve");C(w,k,Xt,"ˇ","\\check");C(w,k,Xt,"^","\\hat");C(w,k,Xt,"⃗","\\vec");C(w,k,Xt,"˙","\\dot");C(w,k,Xt,"˚","\\mathring");C(w,k,Be,"","\\@imath");C(w,k,Be,"","\\@jmath");C(w,k,N,"ı","ı");C(w,k,N,"ȷ","ȷ");C(ee,k,N,"ı","\\i",!0);C(ee,k,N,"ȷ","\\j",!0);C(ee,k,N,"ß","\\ss",!0);C(ee,k,N,"æ","\\ae",!0);C(ee,k,N,"œ","\\oe",!0);C(ee,k,N,"ø","\\o",!0);C(ee,k,N,"Æ","\\AE",!0);C(ee,k,N,"Œ","\\OE",!0);C(ee,k,N,"Ø","\\O",!0);C(ee,k,Xt,"ˊ","\\'");C(ee,k,Xt,"ˋ","\\`");C(ee,k,Xt,"ˆ","\\^");C(ee,k,Xt,"˜","\\~");C(ee,k,Xt,"ˉ","\\=");C(ee,k,Xt,"˘","\\u");C(ee,k,Xt,"˙","\\.");C(ee,k,Xt,"¸","\\c");C(ee,k,Xt,"˚","\\r");C(ee,k,Xt,"ˇ","\\v");C(ee,k,Xt,"¨",'\\"');C(ee,k,Xt,"˝","\\H");C(ee,k,Xt,"◯","\\textcircled");var sT={"--":!0,"---":!0,"``":!0,"''":!0};C(ee,k,N,"–","--",!0);C(ee,k,N,"–","\\textendash");C(ee,k,N,"—","---",!0);C(ee,k,N,"—","\\textemdash");C(ee,k,N,"‘","`",!0);C(ee,k,N,"‘","\\textquoteleft");C(ee,k,N,"’","'",!0);C(ee,k,N,"’","\\textquoteright");C(ee,k,N,"“","``",!0);C(ee,k,N,"“","\\textquotedblleft");C(ee,k,N,"”","''",!0);C(ee,k,N,"”","\\textquotedblright");C(w,k,N,"°","\\degree",!0);C(ee,k,N,"°","\\degree");C(ee,k,N,"°","\\textdegree",!0);C(w,k,N,"£","\\pounds");C(w,k,N,"£","\\mathsterling",!0);C(ee,k,N,"£","\\pounds");C(ee,k,N,"£","\\textsterling",!0);C(w,M,N,"✠","\\maltese");C(ee,M,N,"✠","\\maltese");var S2='0123456789/@."';for(var Mm=0;Mm<S2.length;Mm++){var x2=S2.charAt(Mm);C(w,k,N,x2,x2)}var E2='0123456789!@*()-=+";:?/.,';for(var Pm=0;Pm<E2.length;Pm++){var k2=E2.charAt(Pm);C(ee,k,N,k2,k2)}var Gf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Im=0;Im<Gf.length;Im++){var Hh=Gf.charAt(Im);C(w,k,Be,Hh,Hh),C(ee,k,N,Hh,Hh)}C(w,M,N,"C","ℂ");C(ee,M,N,"C","ℂ");C(w,M,N,"H","ℍ");C(ee,M,N,"H","ℍ");C(w,M,N,"N","ℕ");C(ee,M,N,"N","ℕ");C(w,M,N,"P","ℙ");C(ee,M,N,"P","ℙ");C(w,M,N,"Q","ℚ");C(ee,M,N,"Q","ℚ");C(w,M,N,"R","ℝ");C(ee,M,N,"R","ℝ");C(w,M,N,"Z","ℤ");C(ee,M,N,"Z","ℤ");C(w,k,Be,"h","ℎ");C(ee,k,Be,"h","ℎ");var We="";for(var pi=0;pi<Gf.length;pi++){var an=Gf.charAt(pi);We=String.fromCharCode(55349,56320+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56372+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56424+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56580+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56684+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56736+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56788+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56840+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56944+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),pi<26&&(We=String.fromCharCode(55349,56632+pi),C(w,k,Be,an,We),C(ee,k,N,an,We),We=String.fromCharCode(55349,56476+pi),C(w,k,Be,an,We),C(ee,k,N,an,We))}We="𝕜";C(w,k,Be,"k",We);C(ee,k,N,"k",We);for(var wa=0;wa<10;wa++){var ks=wa.toString();We=String.fromCharCode(55349,57294+wa),C(w,k,Be,ks,We),C(ee,k,N,ks,We),We=String.fromCharCode(55349,57314+wa),C(w,k,Be,ks,We),C(ee,k,N,ks,We),We=String.fromCharCode(55349,57324+wa),C(w,k,Be,ks,We),C(ee,k,N,ks,We),We=String.fromCharCode(55349,57334+wa),C(w,k,Be,ks,We),C(ee,k,N,ks,We)}var I1="ÐÞþ";for(var Om=0;Om<I1.length;Om++){var Vh=I1.charAt(Om);C(w,k,Be,Vh,Vh),C(ee,k,N,Vh,Vh)}var _h=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],F2=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],EW=function(t,n){var i=t.charCodeAt(0),r=t.charCodeAt(1),o=(i-55296)*1024+(r-56320)+65536,s=n==="math"?0:1;if(119808<=o&&o<120484){var a=Math.floor((o-119808)/26);return[_h[a][2],_h[a][s]]}else if(120782<=o&&o<=120831){var l=Math.floor((o-120782)/10);return[F2[l][2],F2[l][s]]}else{if(o===120485||o===120486)return[_h[0][2],_h[0][s]];if(120486<o&&o<120782)return["",""];throw new ae("Unsupported character: "+t)}},cg=function(t,n,i){return Nt[i][t]&&Nt[i][t].replace&&(t=Nt[i][t].replace),{value:t,metrics:hy(t,n,i)}},Br=function(t,n,i,r,o){var s=cg(t,n,i),a=s.metrics;t=s.value;var l;if(a){var u=a.italic;(i==="text"||r&&r.font==="mathit")&&(u=0),l=new Rr(t,a.height,a.depth,u,a.skew,a.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+t+"' in style '"+n+"' and mode '"+i+"'")),l=new Rr(t,0,0,0,0,0,o);if(r){l.maxFontSize=r.sizeMultiplier,r.style.isTight()&&l.classes.push("mtight");var c=r.getColor();c&&(l.style.color=c)}return l},kW=function(t,n,i,r){return r===void 0&&(r=[]),i.font==="boldsymbol"&&cg(t,"Main-Bold",n).metrics?Br(t,"Main-Bold",n,i,r.concat(["mathbf"])):t==="\\"||Nt[n][t].font==="main"?Br(t,"Main-Regular",n,i,r):Br(t,"AMS-Regular",n,i,r.concat(["amsrm"]))},FW=function(t,n,i,r,o){return o!=="textord"&&cg(t,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},TW=function(t,n,i){var r=t.mode,o=t.text,s=["mord"],a=r==="math"||r==="text"&&n.font,l=a?n.font:n.fontFamily,u="",c="";if(o.charCodeAt(0)===55349&&([u,c]=EW(o,r)),u.length>0)return Br(o,u,r,n,s.concat(c));if(l){var d,h;if(l==="boldsymbol"){var p=FW(o,r,n,s,i);d=p.fontName,h=[p.fontClass]}else a?(d=uT[l].fontName,h=[l]):(d=Gh(l,n.fontWeight,n.fontShape),h=[l,n.fontWeight,n.fontShape]);if(cg(o,d,r).metrics)return Br(o,d,r,n,s.concat(h));if(sT.hasOwnProperty(o)&&d.slice(0,10)==="Typewriter"){for(var f=[],g=0;g<o.length;g++)f.push(Br(o[g],d,r,n,s.concat(h)));return lT(f)}}if(i==="mathord")return Br(o,"Math-Italic",r,n,s.concat(["mathnormal"]));if(i==="textord"){var m=Nt[r][o]&&Nt[r][o].font;if(m==="ams"){var v=Gh("amsrm",n.fontWeight,n.fontShape);return Br(o,v,r,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(m==="main"||!m){var b=Gh("textrm",n.fontWeight,n.fontShape);return Br(o,b,r,n,s.concat(n.fontWeight,n.fontShape))}else{var S=Gh(m,n.fontWeight,n.fontShape);return Br(o,S,r,n,s.concat(S,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+i+" in makeOrd")},AW=(e,t)=>{if(sa(e.classes)!==sa(t.classes)||e.skew!==t.skew||e.maxFontSize!==t.maxFontSize)return!1;if(e.classes.length===1){var n=e.classes[0];if(n==="mbin"||n==="mord")return!1}for(var i in e.style)if(e.style.hasOwnProperty(i)&&e.style[i]!==t.style[i])return!1;for(var r in t.style)if(t.style.hasOwnProperty(r)&&e.style[r]!==t.style[r])return!1;return!0},RW=e=>{for(var t=0;t<e.length-1;t++){var n=e[t],i=e[t+1];n instanceof Rr&&i instanceof Rr&&AW(n,i)&&(n.text+=i.text,n.height=Math.max(n.height,i.height),n.depth=Math.max(n.depth,i.depth),n.italic=i.italic,e.splice(t+1,1),t--)}return e},fy=function(t){for(var n=0,i=0,r=0,o=0;o<t.children.length;o++){var s=t.children[o];s.height>n&&(n=s.height),s.depth>i&&(i=s.depth),s.maxFontSize>r&&(r=s.maxFontSize)}t.height=n,t.depth=i,t.maxFontSize=r},Mi=function(t,n,i,r){var o=new Qd(t,n,i,r);return fy(o),o},aT=(e,t,n,i)=>new Qd(e,t,n,i),DW=function(t,n,i){var r=Mi([t],[],n);return r.height=Math.max(i||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),r.style.borderBottomWidth=ce(r.height),r.maxFontSize=1,r},MW=function(t,n,i,r){var o=new py(t,n,i,r);return fy(o),o},lT=function(t){var n=new Zd(t);return fy(n),n},PW=function(t,n){return t instanceof Zd?Mi([],[t],n):t},IW=function(t){if(t.positionType==="individualShift"){for(var n=t.children,i=[n[0]],r=-n[0].shift-n[0].elem.depth,o=r,s=1;s<n.length;s++){var a=-n[s].shift-o-n[s].elem.depth,l=a-(n[s-1].elem.height+n[s-1].elem.depth);o=o+a,i.push({type:"kern",size:l}),i.push(n[s])}return{children:i,depth:r}}var u;if(t.positionType==="top"){for(var c=t.positionData,d=0;d<t.children.length;d++){var h=t.children[d];c-=h.type==="kern"?h.size:h.elem.height+h.elem.depth}u=c}else if(t.positionType==="bottom")u=-t.positionData;else{var p=t.children[0];if(p.type!=="elem")throw new Error('First child must have type "elem".');if(t.positionType==="shift")u=-p.elem.depth-t.positionData;else if(t.positionType==="firstBaseline")u=-p.elem.depth;else throw new Error("Invalid positionType "+t.positionType+".")}return{children:t.children,depth:u}},OW=function(t,n){for(var{children:i,depth:r}=IW(t),o=0,s=0;s<i.length;s++){var a=i[s];if(a.type==="elem"){var l=a.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var u=Mi(["pstrut"],[]);u.style.height=ce(o);for(var c=[],d=r,h=r,p=r,f=0;f<i.length;f++){var g=i[f];if(g.type==="kern")p+=g.size;else{var m=g.elem,v=g.wrapperClasses||[],b=g.wrapperStyle||{},S=Mi(v,[u,m],void 0,b);S.style.top=ce(-o-p-m.depth),g.marginLeft&&(S.style.marginLeft=g.marginLeft),g.marginRight&&(S.style.marginRight=g.marginRight),c.push(S),p+=m.height+m.depth}d=Math.min(d,p),h=Math.max(h,p)}var y=Mi(["vlist"],c);y.style.height=ce(h);var x;if(d<0){var E=Mi([],[]),R=Mi(["vlist"],[E]);R.style.height=ce(-d);var T=Mi(["vlist-s"],[new Rr("​")]);x=[Mi(["vlist-r"],[y,T]),Mi(["vlist-r"],[R])]}else x=[Mi(["vlist-r"],[y])];var F=Mi(["vlist-t"],x);return x.length===2&&F.classes.push("vlist-t2"),F.height=h,F.depth=-d,F},LW=(e,t)=>{var n=Mi(["mspace"],[],t),i=tn(e,t);return n.style.marginRight=ce(i),n},Gh=function(t,n,i){var r="";switch(t){case"amsrm":r="AMS";break;case"textrm":r="Main";break;case"textsf":r="SansSerif";break;case"texttt":r="Typewriter";break;default:r=t}var o;return n==="textbf"&&i==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",r+"-"+o},uT={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},cT={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},NW=function(t,n){var[i,r,o]=cT[t],s=new aa(i),a=new us([s],{width:ce(r),height:ce(o),style:"width:"+ce(r),viewBox:"0 0 "+1e3*r+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=aT(["overlay"],[a],n);return l.height=o,l.style.height=ce(o),l.style.width=ce(r),l},W={fontMap:uT,makeSymbol:Br,mathsym:kW,makeSpan:Mi,makeSvgSpan:aT,makeLineSpan:DW,makeAnchor:MW,makeFragment:lT,wrapFragment:PW,makeVList:OW,makeOrd:TW,makeGlue:LW,staticSvg:NW,svgData:cT,tryCombineChars:RW},Zt={number:3,unit:"mu"},Sa={number:4,unit:"mu"},Oo={number:5,unit:"mu"},BW={mord:{mop:Zt,mbin:Sa,mrel:Oo,minner:Zt},mop:{mord:Zt,mop:Zt,mrel:Oo,minner:Zt},mbin:{mord:Sa,mop:Sa,mopen:Sa,minner:Sa},mrel:{mord:Oo,mop:Oo,mopen:Oo,minner:Oo},mopen:{},mclose:{mop:Zt,mbin:Sa,mrel:Oo,minner:Zt},mpunct:{mord:Zt,mop:Zt,mrel:Oo,mopen:Zt,mclose:Zt,mpunct:Zt,minner:Zt},minner:{mord:Zt,mop:Zt,mbin:Sa,mrel:Oo,mopen:Zt,mpunct:Zt,minner:Zt}},zW={mord:{mop:Zt},mop:{mord:Zt,mop:Zt},mbin:{},mrel:{},mopen:{},mclose:{mop:Zt},mpunct:{},minner:{mop:Zt}},dT={},Wf={},$f={};function Ce(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:o,mathmlBuilder:s}=e,a={type:t,numArgs:i.numArgs,argTypes:i.argTypes,allowedInArgument:!!i.allowedInArgument,allowedInText:!!i.allowedInText,allowedInMath:i.allowedInMath===void 0?!0:i.allowedInMath,numOptionalArgs:i.numOptionalArgs||0,infix:!!i.infix,primitive:!!i.primitive,handler:r},l=0;l<n.length;++l)dT[n[l]]=a;t&&(o&&(Wf[t]=o),s&&($f[t]=s))}function ml(e){var{type:t,htmlBuilder:n,mathmlBuilder:i}=e;Ce({type:t,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:i})}var Uf=function(t){return t.type==="ordgroup"&&t.body.length===1?t.body[0]:t},Sn=function(t){return t.type==="ordgroup"?t.body:[t]},cs=W.makeSpan,HW=["leftmost","mbin","mopen","mrel","mop","mpunct"],VW=["rightmost","mrel","mclose","mpunct"],_W={display:ze.DISPLAY,text:ze.TEXT,script:ze.SCRIPT,scriptscript:ze.SCRIPTSCRIPT},GW={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},On=function(t,n,i,r){r===void 0&&(r=[null,null]);for(var o=[],s=0;s<t.length;s++){var a=ht(t[s],n);if(a instanceof Zd){var l=a.children;o.push(...l)}else o.push(a)}if(W.tryCombineChars(o),!i)return o;var u=n;if(t.length===1){var c=t[0];c.type==="sizing"?u=n.havingSize(c.size):c.type==="styling"&&(u=n.havingStyle(_W[c.style]))}var d=cs([r[0]||"leftmost"],[],n),h=cs([r[1]||"rightmost"],[],n),p=i==="root";return T2(o,(f,g)=>{var m=g.classes[0],v=f.classes[0];m==="mbin"&&Ie.contains(VW,v)?g.classes[0]="mord":v==="mbin"&&Ie.contains(HW,m)&&(f.classes[0]="mord")},{node:d},h,p),T2(o,(f,g)=>{var m=O1(g),v=O1(f),b=m&&v?f.hasClass("mtight")?zW[m][v]:BW[m][v]:null;if(b)return W.makeGlue(b,u)},{node:d},h,p),o},T2=function e(t,n,i,r,o){r&&t.push(r);for(var s=0;s<t.length;s++){var a=t[s],l=hT(a);if(l){e(l.children,n,i,null,o);continue}var u=!a.hasClass("mspace");if(u){var c=n(a,i.node);c&&(i.insertAfter?i.insertAfter(c):(t.unshift(c),s++))}u?i.node=a:o&&a.hasClass("newline")&&(i.node=cs(["leftmost"])),i.insertAfter=(d=>h=>{t.splice(d+1,0,h),s++})(s)}r&&t.pop()},hT=function(t){return t instanceof Zd||t instanceof py||t instanceof Qd&&t.hasClass("enclosing")?t:null},WW=function e(t,n){var i=hT(t);if(i){var r=i.children;if(r.length){if(n==="right")return e(r[r.length-1],"right");if(n==="left")return e(r[0],"left")}}return t},O1=function(t,n){return t?(n&&(t=WW(t,n)),GW[t.classes[0]]||null):null},Cd=function(t,n){var i=["nulldelimiter"].concat(t.baseSizingClasses());return cs(n.concat(i))},ht=function(t,n,i){if(!t)return cs();if(Wf[t.type]){var r=Wf[t.type](t,n);if(i&&n.size!==i.size){r=cs(n.sizingClasses(i),[r],n);var o=n.sizeMultiplier/i.sizeMultiplier;r.height*=o,r.depth*=o}return r}else throw new ae("Got group of unknown type: '"+t.type+"'")};function Wh(e,t){var n=cs(["base"],e,t),i=cs(["strut"]);return i.style.height=ce(n.height+n.depth),n.depth&&(i.style.verticalAlign=ce(-n.depth)),n.children.unshift(i),n}function L1(e,t){var n=null;e.length===1&&e[0].type==="tag"&&(n=e[0].tag,e=e[0].body);var i=On(e,t,"root"),r;i.length===2&&i[1].hasClass("tag")&&(r=i.pop());for(var o=[],s=[],a=0;a<i.length;a++)if(s.push(i[a]),i[a].hasClass("mbin")||i[a].hasClass("mrel")||i[a].hasClass("allowbreak")){for(var l=!1;a<i.length-1&&i[a+1].hasClass("mspace")&&!i[a+1].hasClass("newline");)a++,s.push(i[a]),i[a].hasClass("nobreak")&&(l=!0);l||(o.push(Wh(s,t)),s=[])}else i[a].hasClass("newline")&&(s.pop(),s.length>0&&(o.push(Wh(s,t)),s=[]),o.push(i[a]));s.length>0&&o.push(Wh(s,t));var u;n?(u=Wh(On(n,t,!0)),u.classes=["tag"],o.push(u)):r&&o.push(r);var c=cs(["katex-html"],o);if(c.setAttribute("aria-hidden","true"),u){var d=u.children[0];d.style.height=ce(c.height+c.depth),c.depth&&(d.style.verticalAlign=ce(-c.depth))}return c}function pT(e){return new Zd(e)}class Xi{constructor(t,n,i){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=t,this.attributes={},this.children=n||[],this.classes=i||[]}setAttribute(t,n){this.attributes[t]=n}getAttribute(t){return this.attributes[t]}toNode(){var t=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&t.setAttribute(n,this.attributes[n]);this.classes.length>0&&(t.className=sa(this.classes));for(var i=0;i<this.children.length;i++)if(this.children[i]instanceof so&&this.children[i+1]instanceof so){for(var r=this.children[i].toText()+this.children[++i].toText();this.children[i+1]instanceof so;)r+=this.children[++i].toText();t.appendChild(new so(r).toNode())}else t.appendChild(this.children[i].toNode());return t}toMarkup(){var t="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(t+=" "+n+'="',t+=Ie.escape(this.attributes[n]),t+='"');this.classes.length>0&&(t+=' class ="'+Ie.escape(sa(this.classes))+'"'),t+=">";for(var i=0;i<this.children.length;i++)t+=this.children[i].toMarkup();return t+="</"+this.type+">",t}toText(){return this.children.map(t=>t.toText()).join("")}}class so{constructor(t){this.text=void 0,this.text=t}toNode(){return document.createTextNode(this.text)}toMarkup(){return Ie.escape(this.toText())}toText(){return this.text}}class $W{constructor(t){this.width=void 0,this.character=void 0,this.width=t,t>=.05555&&t<=.05556?this.character=" ":t>=.1666&&t<=.1667?this.character=" ":t>=.2222&&t<=.2223?this.character=" ":t>=.2777&&t<=.2778?this.character="  ":t>=-.05556&&t<=-.05555?this.character=" ⁣":t>=-.1667&&t<=-.1666?this.character=" ⁣":t>=-.2223&&t<=-.2222?this.character=" ⁣":t>=-.2778&&t<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var t=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return t.setAttribute("width",ce(this.width)),t}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ce(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var re={MathNode:Xi,TextNode:so,SpaceNode:$W,newDocumentFragment:pT},Dr=function(t,n,i){return Nt[n][t]&&Nt[n][t].replace&&t.charCodeAt(0)!==55349&&!(sT.hasOwnProperty(t)&&i&&(i.fontFamily&&i.fontFamily.slice(4,6)==="tt"||i.font&&i.font.slice(4,6)==="tt"))&&(t=Nt[n][t].replace),new re.TextNode(t)},gy=function(t){return t.length===1?t[0]:new re.MathNode("mrow",t)},my=function(t,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var i=n.font;if(!i||i==="mathnormal")return null;var r=t.mode;if(i==="mathit")return"italic";if(i==="boldsymbol")return t.type==="textord"?"bold":"bold-italic";if(i==="mathbf")return"bold";if(i==="mathbb")return"double-struck";if(i==="mathsfit")return"sans-serif-italic";if(i==="mathfrak")return"fraktur";if(i==="mathscr"||i==="mathcal")return"script";if(i==="mathsf")return"sans-serif";if(i==="mathtt")return"monospace";var o=t.text;if(Ie.contains(["\\imath","\\jmath"],o))return null;Nt[r][o]&&Nt[r][o].replace&&(o=Nt[r][o].replace);var s=W.fontMap[i].fontName;return hy(o,s,r)?W.fontMap[i].variant:null};function Lm(e){if(!e)return!1;if(e.type==="mi"&&e.children.length===1){var t=e.children[0];return t instanceof so&&t.text==="."}else if(e.type==="mo"&&e.children.length===1&&e.getAttribute("separator")==="true"&&e.getAttribute("lspace")==="0em"&&e.getAttribute("rspace")==="0em"){var n=e.children[0];return n instanceof so&&n.text===","}else return!1}var Vi=function(t,n,i){if(t.length===1){var r=At(t[0],n);return i&&r instanceof Xi&&r.type==="mo"&&(r.setAttribute("lspace","0em"),r.setAttribute("rspace","0em")),[r]}for(var o=[],s,a=0;a<t.length;a++){var l=At(t[a],n);if(l instanceof Xi&&s instanceof Xi){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(Lm(l)&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mn"&&Lm(s))l.children=[...s.children,...l.children],o.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(s.type==="mn"||Lm(s))){var u=l.children[0];u instanceof Xi&&u.type==="mn"&&(u.children=[...s.children,...u.children],o.pop())}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof so&&c.text==="̸"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var d=l.children[0];d instanceof so&&d.text.length>0&&(d.text=d.text.slice(0,1)+"̸"+d.text.slice(1),o.pop())}}}o.push(l),s=l}return o},la=function(t,n,i){return gy(Vi(t,n,i))},At=function(t,n){if(!t)return new re.MathNode("mrow");if($f[t.type]){var i=$f[t.type](t,n);return i}else throw new ae("Got group of unknown type: '"+t.type+"'")};function A2(e,t,n,i,r){var o=Vi(e,n),s;o.length===1&&o[0]instanceof Xi&&Ie.contains(["mrow","mtable"],o[0].type)?s=o[0]:s=new re.MathNode("mrow",o);var a=new re.MathNode("annotation",[new re.TextNode(t)]);a.setAttribute("encoding","application/x-tex");var l=new re.MathNode("semantics",[s,a]),u=new re.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),i&&u.setAttribute("display","block");var c=r?"katex":"katex-mathml";return W.makeSpan([c],[u])}var fT=function(t){return new Ho({style:t.displayMode?ze.DISPLAY:ze.TEXT,maxSize:t.maxSize,minRuleThickness:t.minRuleThickness})},gT=function(t,n){if(n.displayMode){var i=["katex-display"];n.leqno&&i.push("leqno"),n.fleqn&&i.push("fleqn"),t=W.makeSpan(i,[t])}return t},UW=function(t,n,i){var r=fT(i),o;if(i.output==="mathml")return A2(t,n,r,i.displayMode,!0);if(i.output==="html"){var s=L1(t,r);o=W.makeSpan(["katex"],[s])}else{var a=A2(t,n,r,i.displayMode,!1),l=L1(t,r);o=W.makeSpan(["katex"],[a,l])}return gT(o,i)},jW=function(t,n,i){var r=fT(i),o=L1(t,r),s=W.makeSpan(["katex"],[o]);return gT(s,i)},qW={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},KW=function(t){var n=new re.MathNode("mo",[new re.TextNode(qW[t.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},YW={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},XW=function(t){return t.type==="ordgroup"?t.body.length:1},JW=function(t,n){function i(){var a=4e5,l=t.label.slice(1);if(Ie.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=t,c=XW(u.base),d,h,p;if(c>5)l==="widehat"||l==="widecheck"?(d=420,a=2364,p=.42,h=l+"4"):(d=312,a=2340,p=.34,h="tilde4");else{var f=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][f],d=[0,239,300,360,420][f],p=[0,.24,.3,.3,.36,.42][f],h=l+f):(a=[0,600,1033,2339,2340][f],d=[0,260,286,306,312][f],p=[0,.26,.286,.3,.306,.34][f],h="tilde"+f)}var g=new aa(h),m=new us([g],{width:"100%",height:ce(p),viewBox:"0 0 "+a+" "+d,preserveAspectRatio:"none"});return{span:W.makeSvgSpan([],[m],n),minWidth:0,height:p}}else{var v=[],b=YW[l],[S,y,x]=b,E=x/1e3,R=S.length,T,F;if(R===1){var D=b[3];T=["hide-tail"],F=[D]}else if(R===2)T=["halfarrow-left","halfarrow-right"],F=["xMinYMin","xMaxYMin"];else if(R===3)T=["brace-left","brace-center","brace-right"],F=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+R+" children.");for(var O=0;O<R;O++){var L=new aa(S[O]),I=new us([L],{width:"400em",height:ce(E),viewBox:"0 0 "+a+" "+x,preserveAspectRatio:F[O]+" slice"}),B=W.makeSvgSpan([T[O]],[I],n);if(R===1)return{span:B,minWidth:y,height:E};B.style.height=ce(E),v.push(B)}return{span:W.makeSpan(["stretchy"],v,n),minWidth:y,height:E}}}var{span:r,minWidth:o,height:s}=i();return r.height=s,r.style.height=ce(s),o>0&&(r.style.minWidth=ce(o)),r},ZW=function(t,n,i,r,o){var s,a=t.height+t.depth+i+r;if(/fbox|color|angl/.test(n)){if(s=W.makeSpan(["stretchy",n],[],o),n==="fbox"){var l=o.color&&o.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new P1({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new P1({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new us(u,{width:"100%",height:ce(a)});s=W.makeSvgSpan([],[c],o)}return s.height=a,s.style.height=ce(a),s},ds={encloseSpan:ZW,mathMLnode:KW,svgSpan:JW};function Qe(e,t){if(!e||e.type!==t)throw new Error("Expected node of type "+t+", but got "+(e?"node of type "+e.type:String(e)));return e}function vy(e){var t=dg(e);if(!t)throw new Error("Expected node of symbol group type, but got "+(e?"node of type "+e.type:String(e)));return t}function dg(e){return e&&(e.type==="atom"||xW.hasOwnProperty(e.type))?e:null}var Cy=(e,t)=>{var n,i,r;e&&e.type==="supsub"?(i=Qe(e.base,"accent"),n=i.base,e.base=n,r=wW(ht(e,t)),e.base=i):(i=Qe(e,"accent"),n=i.base);var o=ht(n,t.havingCrampedStyle()),s=i.isShifty&&Ie.isCharacterBox(n),a=0;if(s){var l=Ie.getBaseElem(n),u=ht(l,t.havingCrampedStyle());a=w2(u).skew}var c=i.label==="\\c",d=c?o.height+o.depth:Math.min(o.height,t.fontMetrics().xHeight),h;if(i.isStretchy)h=ds.svgSpan(i,t),h=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:h,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+ce(2*a)+")",marginLeft:ce(2*a)}:void 0}]},t);else{var p,f;i.label==="\\vec"?(p=W.staticSvg("vec",t),f=W.svgData.vec[1]):(p=W.makeOrd({mode:i.mode,text:i.label},t,"textord"),p=w2(p),p.italic=0,f=p.width,c&&(d+=p.depth)),h=W.makeSpan(["accent-body"],[p]);var g=i.label==="\\textcircled";g&&(h.classes.push("accent-full"),d=o.height);var m=a;g||(m-=f/2),h.style.left=ce(m),i.label==="\\textcircled"&&(h.style.top=".2em"),h=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-d},{type:"elem",elem:h}]},t)}var v=W.makeSpan(["mord","accent"],[h],t);return r?(r.children[0]=v,r.height=Math.max(v.height,r.height),r.classes[0]="mord",r):v},mT=(e,t)=>{var n=e.isStretchy?ds.mathMLnode(e.label):new re.MathNode("mo",[Dr(e.label,e.mode)]),i=new re.MathNode("mover",[At(e.base,t),n]);return i.setAttribute("accent","true"),i},QW=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(e=>"\\"+e).join("|"));Ce({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(e,t)=>{var n=Uf(t[0]),i=!QW.test(e.funcName),r=!i||e.funcName==="\\widehat"||e.funcName==="\\widetilde"||e.funcName==="\\widecheck";return{type:"accent",mode:e.parser.mode,label:e.funcName,isStretchy:i,isShifty:r,base:n}},htmlBuilder:Cy,mathmlBuilder:mT});Ce({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(e,t)=>{var n=t[0],i=e.parser.mode;return i==="math"&&(e.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+e.funcName+" works only in text mode"),i="text"),{type:"accent",mode:i,label:e.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:Cy,mathmlBuilder:mT});Ce({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"accentUnder",mode:n.mode,label:i,base:r}},htmlBuilder:(e,t)=>{var n=ht(e.base,t),i=ds.svgSpan(e,t),r=e.label==="\\utilde"?.12:0,o=W.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:i,wrapperClasses:["svg-align"]},{type:"kern",size:r},{type:"elem",elem:n}]},t);return W.makeSpan(["mord","accentunder"],[o],t)},mathmlBuilder:(e,t)=>{var n=ds.mathMLnode(e.label),i=new re.MathNode("munder",[At(e.base,t),n]);return i.setAttribute("accentunder","true"),i}});var $h=e=>{var t=new re.MathNode("mpadded",e?[e]:[]);return t.setAttribute("width","+0.6em"),t.setAttribute("lspace","0.3em"),t};Ce({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i,funcName:r}=e;return{type:"xArrow",mode:i.mode,label:r,body:t[0],below:n[0]}},htmlBuilder(e,t){var n=t.style,i=t.havingStyle(n.sup()),r=W.wrapFragment(ht(e.body,i,t),t),o=e.label.slice(0,2)==="\\x"?"x":"cd";r.classes.push(o+"-arrow-pad");var s;e.below&&(i=t.havingStyle(n.sub()),s=W.wrapFragment(ht(e.below,i,t),t),s.classes.push(o+"-arrow-pad"));var a=ds.svgSpan(e,t),l=-t.fontMetrics().axisHeight+.5*a.height,u=-t.fontMetrics().axisHeight-.5*a.height-.111;(r.depth>.25||e.label==="\\xleftequilibrium")&&(u-=r.depth);var c;if(s){var d=-t.fontMetrics().axisHeight+s.height+.5*a.height+.111;c=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:u},{type:"elem",elem:a,shift:l},{type:"elem",elem:s,shift:d}]},t)}else c=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:r,shift:u},{type:"elem",elem:a,shift:l}]},t);return c.children[0].children[0].children[1].classes.push("svg-align"),W.makeSpan(["mrel","x-arrow"],[c],t)},mathmlBuilder(e,t){var n=ds.mathMLnode(e.label);n.setAttribute("minsize",e.label.charAt(0)==="x"?"1.75em":"3.0em");var i;if(e.body){var r=$h(At(e.body,t));if(e.below){var o=$h(At(e.below,t));i=new re.MathNode("munderover",[n,o,r])}else i=new re.MathNode("mover",[n,r])}else if(e.below){var s=$h(At(e.below,t));i=new re.MathNode("munder",[n,s])}else i=$h(),i=new re.MathNode("mover",[n,i]);return i}});var e$=W.makeSpan;function vT(e,t){var n=On(e.body,t,!0);return e$([e.mclass],n,t)}function CT(e,t){var n,i=Vi(e.body,t);return e.mclass==="minner"?n=new re.MathNode("mpadded",i):e.mclass==="mord"?e.isCharacterBox?(n=i[0],n.type="mi"):n=new re.MathNode("mi",i):(e.isCharacterBox?(n=i[0],n.type="mo"):n=new re.MathNode("mo",i),e.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):e.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):e.mclass==="mopen"||e.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):e.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}Ce({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"mclass",mode:n.mode,mclass:"m"+i.slice(5),body:Sn(r),isCharacterBox:Ie.isCharacterBox(r)}},htmlBuilder:vT,mathmlBuilder:CT});var hg=e=>{var t=e.type==="ordgroup"&&e.body.length?e.body[0]:e;return t.type==="atom"&&(t.family==="bin"||t.family==="rel")?"m"+t.family:"mord"};Ce({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(e,t){var{parser:n}=e;return{type:"mclass",mode:n.mode,mclass:hg(t[0]),body:Sn(t[1]),isCharacterBox:Ie.isCharacterBox(t[1])}}});Ce({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(e,t){var{parser:n,funcName:i}=e,r=t[1],o=t[0],s;i!=="\\stackrel"?s=hg(r):s="mrel";var a={type:"op",mode:r.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:i!=="\\stackrel",body:Sn(r)},l={type:"supsub",mode:o.mode,base:a,sup:i==="\\underset"?null:o,sub:i==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:Ie.isCharacterBox(l)}},htmlBuilder:vT,mathmlBuilder:CT});Ce({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"pmb",mode:n.mode,mclass:hg(t[0]),body:Sn(t[0])}},htmlBuilder(e,t){var n=On(e.body,t,!0),i=W.makeSpan([e.mclass],n,t);return i.style.textShadow="0.02em 0.01em 0.04px",i},mathmlBuilder(e,t){var n=Vi(e.body,t),i=new re.MathNode("mstyle",n);return i.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),i}});var t$={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},R2=()=>({type:"styling",body:[],mode:"math",style:"display"}),D2=e=>e.type==="textord"&&e.text==="@",n$=(e,t)=>(e.type==="mathord"||e.type==="atom")&&e.text===t;function i$(e,t,n){var i=t$[e];switch(i){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(i,[t[0]],[t[1]]);case"\\uparrow":case"\\downarrow":{var r=n.callFunction("\\\\cdleft",[t[0]],[]),o={type:"atom",text:i,mode:"math",family:"rel"},s=n.callFunction("\\Big",[o],[]),a=n.callFunction("\\\\cdright",[t[1]],[]),l={type:"ordgroup",mode:"math",body:[r,s,a]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function r$(e){var t=[];for(e.gullet.beginGroup(),e.gullet.macros.set("\\cr","\\\\\\relax"),e.gullet.beginGroup();;){t.push(e.parseExpression(!1,"\\\\")),e.gullet.endGroup(),e.gullet.beginGroup();var n=e.fetch().text;if(n==="&"||n==="\\\\")e.consume();else if(n==="\\end"){t[t.length-1].length===0&&t.pop();break}else throw new ae("Expected \\\\ or \\cr or \\end",e.nextToken)}for(var i=[],r=[i],o=0;o<t.length;o++){for(var s=t[o],a=R2(),l=0;l<s.length;l++)if(!D2(s[l]))a.body.push(s[l]);else{i.push(a),l+=1;var u=vy(s[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var d=0;d<2;d++){for(var h=!0,p=l+1;p<s.length;p++){if(n$(s[p],u)){h=!1,l=p;break}if(D2(s[p]))throw new ae("Missing a "+u+" character to complete a CD arrow.",s[p]);c[d].body.push(s[p])}if(h)throw new ae("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new ae('Expected one of "<>AV=|." after @',s[l]);var f=i$(u,c,e),g={type:"styling",body:[f],mode:"math",style:"display"};i.push(g),a=R2()}o%2===0?i.push(a):i.shift(),i=[],r.push(i)}e.gullet.endGroup(),e.gullet.endGroup();var m=new Array(r[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:r,arraystretch:1,addJot:!0,rowGaps:[null],cols:m,colSeparationType:"CD",hLinesBeforeRow:new Array(r.length+1).fill([])}}Ce({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"cdlabel",mode:n.mode,side:i.slice(4),label:t[0]}},htmlBuilder(e,t){var n=t.havingStyle(t.style.sup()),i=W.wrapFragment(ht(e.label,n,t),t);return i.classes.push("cd-label-"+e.side),i.style.bottom=ce(.8-i.depth),i.height=0,i.depth=0,i},mathmlBuilder(e,t){var n=new re.MathNode("mrow",[At(e.label,t)]);return n=new re.MathNode("mpadded",[n]),n.setAttribute("width","0"),e.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new re.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});Ce({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(e,t){var{parser:n}=e;return{type:"cdlabelparent",mode:n.mode,fragment:t[0]}},htmlBuilder(e,t){var n=W.wrapFragment(ht(e.fragment,t),t);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(e,t){return new re.MathNode("mrow",[At(e.fragment,t)])}});Ce({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(e,t){for(var{parser:n}=e,i=Qe(t[0],"ordgroup"),r=i.body,o="",s=0;s<r.length;s++){var a=Qe(r[s],"textord");o+=a.text}var l=parseInt(o),u;if(isNaN(l))throw new ae("\\@char has non-numeric argument "+o);if(l<0||l>=1114111)throw new ae("\\@char with invalid code point "+o);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var bT=(e,t)=>{var n=On(e.body,t.withColor(e.color),!1);return W.makeFragment(n)},yT=(e,t)=>{var n=Vi(e.body,t.withColor(e.color)),i=new re.MathNode("mstyle",n);return i.setAttribute("mathcolor",e.color),i};Ce({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(e,t){var{parser:n}=e,i=Qe(t[0],"color-token").color,r=t[1];return{type:"color",mode:n.mode,color:i,body:Sn(r)}},htmlBuilder:bT,mathmlBuilder:yT});Ce({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(e,t){var{parser:n,breakOnTokenText:i}=e,r=Qe(t[0],"color-token").color;n.gullet.macros.set("\\current@color",r);var o=n.parseExpression(!0,i);return{type:"color",mode:n.mode,color:r,body:o}},htmlBuilder:bT,mathmlBuilder:yT});Ce({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(e,t,n){var{parser:i}=e,r=i.gullet.future().text==="["?i.parseSizeGroup(!0):null,o=!i.settings.displayMode||!i.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:i.mode,newLine:o,size:r&&Qe(r,"size").value}},htmlBuilder(e,t){var n=W.makeSpan(["mspace"],[],t);return e.newLine&&(n.classes.push("newline"),e.size&&(n.style.marginTop=ce(tn(e.size,t)))),n},mathmlBuilder(e,t){var n=new re.MathNode("mspace");return e.newLine&&(n.setAttribute("linebreak","newline"),e.size&&n.setAttribute("height",ce(tn(e.size,t)))),n}});var N1={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},wT=e=>{var t=e.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(t))throw new ae("Expected a control sequence",e);return t},o$=e=>{var t=e.gullet.popToken();return t.text==="="&&(t=e.gullet.popToken(),t.text===" "&&(t=e.gullet.popToken())),t},ST=(e,t,n,i)=>{var r=e.gullet.macros.get(n.text);r==null&&(n.noexpand=!0,r={tokens:[n],numArgs:0,unexpandable:!e.gullet.isExpandable(n.text)}),e.gullet.macros.set(t,r,i)};Ce({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(e){var{parser:t,funcName:n}=e;t.consumeSpaces();var i=t.fetch();if(N1[i.text])return(n==="\\global"||n==="\\\\globallong")&&(i.text=N1[i.text]),Qe(t.parseFunction(),"internal");throw new ae("Invalid token after macro prefix",i)}});Ce({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=t.gullet.popToken(),r=i.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(r))throw new ae("Expected a control sequence",i);for(var o=0,s,a=[[]];t.gullet.future().text!=="{";)if(i=t.gullet.popToken(),i.text==="#"){if(t.gullet.future().text==="{"){s=t.gullet.future(),a[o].push("{");break}if(i=t.gullet.popToken(),!/^[1-9]$/.test(i.text))throw new ae('Invalid argument number "'+i.text+'"');if(parseInt(i.text)!==o+1)throw new ae('Argument number "'+i.text+'" out of order');o++,a.push([])}else{if(i.text==="EOF")throw new ae("Expected a macro definition");a[o].push(i.text)}var{tokens:l}=t.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=t.gullet.expandTokens(l),l.reverse()),t.gullet.macros.set(r,{tokens:l,numArgs:o,delimiters:a},n===N1[n]),{type:"internal",mode:t.mode}}});Ce({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=wT(t.gullet.popToken());t.gullet.consumeSpaces();var r=o$(t);return ST(t,i,r,n==="\\\\globallet"),{type:"internal",mode:t.mode}}});Ce({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e){var{parser:t,funcName:n}=e,i=wT(t.gullet.popToken()),r=t.gullet.popToken(),o=t.gullet.popToken();return ST(t,i,o,n==="\\\\globalfuture"),t.gullet.pushToken(o),t.gullet.pushToken(r),{type:"internal",mode:t.mode}}});var pc=function(t,n,i){var r=Nt.math[t]&&Nt.math[t].replace,o=hy(r||t,n,i);if(!o)throw new Error("Unsupported symbol "+t+" and font size "+n+".");return o},by=function(t,n,i,r){var o=i.havingBaseStyle(n),s=W.makeSpan(r.concat(o.sizingClasses(i)),[t],i),a=o.sizeMultiplier/i.sizeMultiplier;return s.height*=a,s.depth*=a,s.maxFontSize=o.sizeMultiplier,s},xT=function(t,n,i){var r=n.havingBaseStyle(i),o=(1-n.sizeMultiplier/r.sizeMultiplier)*n.fontMetrics().axisHeight;t.classes.push("delimcenter"),t.style.top=ce(o),t.height-=o,t.depth+=o},s$=function(t,n,i,r,o,s){var a=W.makeSymbol(t,"Main-Regular",o,r),l=by(a,n,r,s);return i&&xT(l,r,n),l},a$=function(t,n,i,r){return W.makeSymbol(t,"Size"+n+"-Regular",i,r)},ET=function(t,n,i,r,o,s){var a=a$(t,n,o,r),l=by(W.makeSpan(["delimsizing","size"+n],[a],r),ze.TEXT,r,s);return i&&xT(l,r,ze.TEXT),l},Nm=function(t,n,i){var r;n==="Size1-Regular"?r="delim-size1":r="delim-size4";var o=W.makeSpan(["delimsizinginner",r],[W.makeSpan([],[W.makeSymbol(t,n,i)])]);return{type:"elem",elem:o}},Bm=function(t,n,i){var r=oo["Size4-Regular"][t.charCodeAt(0)]?oo["Size4-Regular"][t.charCodeAt(0)][4]:oo["Size1-Regular"][t.charCodeAt(0)][4],o=new aa("inner",hW(t,Math.round(1e3*n))),s=new us([o],{width:ce(r),height:ce(n),style:"width:"+ce(r),viewBox:"0 0 "+1e3*r+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),a=W.makeSvgSpan([],[s],i);return a.height=n,a.style.height=ce(n),a.style.width=ce(r),{type:"elem",elem:a}},B1=.008,Uh={type:"kern",size:-1*B1},l$=["|","\\lvert","\\rvert","\\vert"],u$=["\\|","\\lVert","\\rVert","\\Vert"],kT=function(t,n,i,r,o,s){var a,l,u,c,d="",h=0;a=u=c=t,l=null;var p="Size1-Regular";t==="\\uparrow"?u=c="⏐":t==="\\Uparrow"?u=c="‖":t==="\\downarrow"?a=u="⏐":t==="\\Downarrow"?a=u="‖":t==="\\updownarrow"?(a="\\uparrow",u="⏐",c="\\downarrow"):t==="\\Updownarrow"?(a="\\Uparrow",u="‖",c="\\Downarrow"):Ie.contains(l$,t)?(u="∣",d="vert",h=333):Ie.contains(u$,t)?(u="∥",d="doublevert",h=556):t==="["||t==="\\lbrack"?(a="⎡",u="⎢",c="⎣",p="Size4-Regular",d="lbrack",h=667):t==="]"||t==="\\rbrack"?(a="⎤",u="⎥",c="⎦",p="Size4-Regular",d="rbrack",h=667):t==="\\lfloor"||t==="⌊"?(u=a="⎢",c="⎣",p="Size4-Regular",d="lfloor",h=667):t==="\\lceil"||t==="⌈"?(a="⎡",u=c="⎢",p="Size4-Regular",d="lceil",h=667):t==="\\rfloor"||t==="⌋"?(u=a="⎥",c="⎦",p="Size4-Regular",d="rfloor",h=667):t==="\\rceil"||t==="⌉"?(a="⎤",u=c="⎥",p="Size4-Regular",d="rceil",h=667):t==="("||t==="\\lparen"?(a="⎛",u="⎜",c="⎝",p="Size4-Regular",d="lparen",h=875):t===")"||t==="\\rparen"?(a="⎞",u="⎟",c="⎠",p="Size4-Regular",d="rparen",h=875):t==="\\{"||t==="\\lbrace"?(a="⎧",l="⎨",c="⎩",u="⎪",p="Size4-Regular"):t==="\\}"||t==="\\rbrace"?(a="⎫",l="⎬",c="⎭",u="⎪",p="Size4-Regular"):t==="\\lgroup"||t==="⟮"?(a="⎧",c="⎩",u="⎪",p="Size4-Regular"):t==="\\rgroup"||t==="⟯"?(a="⎫",c="⎭",u="⎪",p="Size4-Regular"):t==="\\lmoustache"||t==="⎰"?(a="⎧",c="⎭",u="⎪",p="Size4-Regular"):(t==="\\rmoustache"||t==="⎱")&&(a="⎫",c="⎩",u="⎪",p="Size4-Regular");var f=pc(a,p,o),g=f.height+f.depth,m=pc(u,p,o),v=m.height+m.depth,b=pc(c,p,o),S=b.height+b.depth,y=0,x=1;if(l!==null){var E=pc(l,p,o);y=E.height+E.depth,x=2}var R=g+S+y,T=Math.max(0,Math.ceil((n-R)/(x*v))),F=R+T*x*v,D=r.fontMetrics().axisHeight;i&&(D*=r.sizeMultiplier);var O=F/2-D,L=[];if(d.length>0){var I=F-g-S,B=Math.round(F*1e3),U=pW(d,Math.round(I*1e3)),V=new aa(d,U),Y=(h/1e3).toFixed(3)+"em",oe=(B/1e3).toFixed(3)+"em",ke=new us([V],{width:Y,height:oe,viewBox:"0 0 "+h+" "+B}),we=W.makeSvgSpan([],[ke],r);we.height=B/1e3,we.style.width=Y,we.style.height=oe,L.push({type:"elem",elem:we})}else{if(L.push(Nm(c,p,o)),L.push(Uh),l===null){var Ae=F-g-S+2*B1;L.push(Bm(u,Ae,r))}else{var ve=(F-g-S-y)/2+2*B1;L.push(Bm(u,ve,r)),L.push(Uh),L.push(Nm(l,p,o)),L.push(Uh),L.push(Bm(u,ve,r))}L.push(Uh),L.push(Nm(a,p,o))}var Ve=r.havingBaseStyle(ze.TEXT),Xe=W.makeVList({positionType:"bottom",positionData:O,children:L},Ve);return by(W.makeSpan(["delimsizing","mult"],[Xe],Ve),ze.TEXT,r,s)},zm=80,Hm=.08,Vm=function(t,n,i,r,o){var s=dW(t,r,i),a=new aa(t,s),l=new us([a],{width:"400em",height:ce(n),viewBox:"0 0 400000 "+i,preserveAspectRatio:"xMinYMin slice"});return W.makeSvgSpan(["hide-tail"],[l],o)},c$=function(t,n){var i=n.havingBaseSizing(),r=RT("\\surd",t*i.sizeMultiplier,AT,i),o=i.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),a,l=0,u=0,c=0,d;return r.type==="small"?(c=1e3+1e3*s+zm,t<1?o=1:t<1.4&&(o=.7),l=(1+s+Hm)/o,u=(1+s)/o,a=Vm("sqrtMain",l,c,s,n),a.style.minWidth="0.853em",d=.833/o):r.type==="large"?(c=(1e3+zm)*Vc[r.size],u=(Vc[r.size]+s)/o,l=(Vc[r.size]+s+Hm)/o,a=Vm("sqrtSize"+r.size,l,c,s,n),a.style.minWidth="1.02em",d=1/o):(l=t+s+Hm,u=t+s,c=Math.floor(1e3*t+s)+zm,a=Vm("sqrtTall",l,c,s,n),a.style.minWidth="0.742em",d=1.056),a.height=u,a.style.height=ce(l),{span:a,advanceWidth:d,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*o}},FT=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],d$=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],TT=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Vc=[0,1.2,1.8,2.4,3],h$=function(t,n,i,r,o){if(t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle"),Ie.contains(FT,t)||Ie.contains(TT,t))return ET(t,n,!1,i,r,o);if(Ie.contains(d$,t))return kT(t,Vc[n],!1,i,r,o);throw new ae("Illegal delimiter: '"+t+"'")},p$=[{type:"small",style:ze.SCRIPTSCRIPT},{type:"small",style:ze.SCRIPT},{type:"small",style:ze.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],f$=[{type:"small",style:ze.SCRIPTSCRIPT},{type:"small",style:ze.SCRIPT},{type:"small",style:ze.TEXT},{type:"stack"}],AT=[{type:"small",style:ze.SCRIPTSCRIPT},{type:"small",style:ze.SCRIPT},{type:"small",style:ze.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],g$=function(t){if(t.type==="small")return"Main-Regular";if(t.type==="large")return"Size"+t.size+"-Regular";if(t.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+t.type+"' here.")},RT=function(t,n,i,r){for(var o=Math.min(2,3-r.style.size),s=o;s<i.length&&i[s].type!=="stack";s++){var a=pc(t,g$(i[s]),"math"),l=a.height+a.depth;if(i[s].type==="small"){var u=r.havingBaseStyle(i[s].style);l*=u.sizeMultiplier}if(l>n)return i[s]}return i[i.length-1]},DT=function(t,n,i,r,o,s){t==="<"||t==="\\lt"||t==="⟨"?t="\\langle":(t===">"||t==="\\gt"||t==="⟩")&&(t="\\rangle");var a;Ie.contains(TT,t)?a=p$:Ie.contains(FT,t)?a=AT:a=f$;var l=RT(t,n,a,r);return l.type==="small"?s$(t,l.style,i,r,o,s):l.type==="large"?ET(t,l.size,i,r,o,s):kT(t,n,i,r,o,s)},m$=function(t,n,i,r,o,s){var a=r.fontMetrics().axisHeight*r.sizeMultiplier,l=901,u=5/r.fontMetrics().ptPerEm,c=Math.max(n-a,i+a),d=Math.max(c/500*l,2*c-u);return DT(t,d,!0,r,o,s)},ts={sqrtImage:c$,sizedDelim:h$,sizeToMaxHeight:Vc,customSizedDelim:DT,leftRightDelim:m$},M2={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},v$=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function pg(e,t){var n=dg(e);if(n&&Ie.contains(v$,n.text))return n;throw n?new ae("Invalid delimiter '"+n.text+"' after '"+t.funcName+"'",e):new ae("Invalid delimiter type '"+e.type+"'",e)}Ce({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(e,t)=>{var n=pg(t[0],e);return{type:"delimsizing",mode:e.parser.mode,size:M2[e.funcName].size,mclass:M2[e.funcName].mclass,delim:n.text}},htmlBuilder:(e,t)=>e.delim==="."?W.makeSpan([e.mclass]):ts.sizedDelim(e.delim,e.size,t,e.mode,[e.mclass]),mathmlBuilder:e=>{var t=[];e.delim!=="."&&t.push(Dr(e.delim,e.mode));var n=new re.MathNode("mo",t);e.mclass==="mopen"||e.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var i=ce(ts.sizeToMaxHeight[e.size]);return n.setAttribute("minsize",i),n.setAttribute("maxsize",i),n}});function P2(e){if(!e.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}Ce({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=e.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ae("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:e.parser.mode,delim:pg(t[0],e).text,color:n}}});Ce({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=pg(t[0],e),i=e.parser;++i.leftrightDepth;var r=i.parseExpression(!1);--i.leftrightDepth,i.expect("\\right",!1);var o=Qe(i.parseFunction(),"leftright-right");return{type:"leftright",mode:i.mode,body:r,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(e,t)=>{P2(e);for(var n=On(e.body,t,!0,["mopen","mclose"]),i=0,r=0,o=!1,s=0;s<n.length;s++)n[s].isMiddle?o=!0:(i=Math.max(n[s].height,i),r=Math.max(n[s].depth,r));i*=t.sizeMultiplier,r*=t.sizeMultiplier;var a;if(e.left==="."?a=Cd(t,["mopen"]):a=ts.leftRightDelim(e.left,i,r,t,e.mode,["mopen"]),n.unshift(a),o)for(var l=1;l<n.length;l++){var u=n[l],c=u.isMiddle;c&&(n[l]=ts.leftRightDelim(c.delim,i,r,c.options,e.mode,[]))}var d;if(e.right===".")d=Cd(t,["mclose"]);else{var h=e.rightColor?t.withColor(e.rightColor):t;d=ts.leftRightDelim(e.right,i,r,h,e.mode,["mclose"])}return n.push(d),W.makeSpan(["minner"],n,t)},mathmlBuilder:(e,t)=>{P2(e);var n=Vi(e.body,t);if(e.left!=="."){var i=new re.MathNode("mo",[Dr(e.left,e.mode)]);i.setAttribute("fence","true"),n.unshift(i)}if(e.right!=="."){var r=new re.MathNode("mo",[Dr(e.right,e.mode)]);r.setAttribute("fence","true"),e.rightColor&&r.setAttribute("mathcolor",e.rightColor),n.push(r)}return gy(n)}});Ce({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var n=pg(t[0],e);if(!e.parser.leftrightDepth)throw new ae("\\middle without preceding \\left",n);return{type:"middle",mode:e.parser.mode,delim:n.text}},htmlBuilder:(e,t)=>{var n;if(e.delim===".")n=Cd(t,[]);else{n=ts.sizedDelim(e.delim,1,t,e.mode,[]);var i={delim:e.delim,options:t};n.isMiddle=i}return n},mathmlBuilder:(e,t)=>{var n=e.delim==="\\vert"||e.delim==="|"?Dr("|","text"):Dr(e.delim,e.mode),i=new re.MathNode("mo",[n]);return i.setAttribute("fence","true"),i.setAttribute("lspace","0.05em"),i.setAttribute("rspace","0.05em"),i}});var yy=(e,t)=>{var n=W.wrapFragment(ht(e.body,t),t),i=e.label.slice(1),r=t.sizeMultiplier,o,s=0,a=Ie.isCharacterBox(e.body);if(i==="sout")o=W.makeSpan(["stretchy","sout"]),o.height=t.fontMetrics().defaultRuleThickness/r,s=-.5*t.fontMetrics().xHeight;else if(i==="phase"){var l=tn({number:.6,unit:"pt"},t),u=tn({number:.35,unit:"ex"},t),c=t.havingBaseSizing();r=r/c.sizeMultiplier;var d=n.height+n.depth+l+u;n.style.paddingLeft=ce(d/2+l);var h=Math.floor(1e3*d*r),p=uW(h),f=new us([new aa("phase",p)],{width:"400em",height:ce(h/1e3),viewBox:"0 0 400000 "+h,preserveAspectRatio:"xMinYMin slice"});o=W.makeSvgSpan(["hide-tail"],[f],t),o.style.height=ce(d),s=n.depth+l+u}else{/cancel/.test(i)?a||n.classes.push("cancel-pad"):i==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var g=0,m=0,v=0;/box/.test(i)?(v=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness),g=t.fontMetrics().fboxsep+(i==="colorbox"?0:v),m=g):i==="angl"?(v=Math.max(t.fontMetrics().defaultRuleThickness,t.minRuleThickness),g=4*v,m=Math.max(0,.25-n.depth)):(g=a?.2:0,m=g),o=ds.encloseSpan(n,i,g,m,t),/fbox|boxed|fcolorbox/.test(i)?(o.style.borderStyle="solid",o.style.borderWidth=ce(v)):i==="angl"&&v!==.049&&(o.style.borderTopWidth=ce(v),o.style.borderRightWidth=ce(v)),s=n.depth+m,e.backgroundColor&&(o.style.backgroundColor=e.backgroundColor,e.borderColor&&(o.style.borderColor=e.borderColor))}var b;if(e.backgroundColor)b=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:s},{type:"elem",elem:n,shift:0}]},t);else{var S=/cancel|phase/.test(i)?["svg-align"]:[];b=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:s,wrapperClasses:S}]},t)}return/cancel/.test(i)&&(b.height=n.height,b.depth=n.depth),/cancel/.test(i)&&!a?W.makeSpan(["mord","cancel-lap"],[b],t):W.makeSpan(["mord"],[b],t)},wy=(e,t)=>{var n=0,i=new re.MathNode(e.label.indexOf("colorbox")>-1?"mpadded":"menclose",[At(e.body,t)]);switch(e.label){case"\\cancel":i.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":i.setAttribute("notation","downdiagonalstrike");break;case"\\phase":i.setAttribute("notation","phasorangle");break;case"\\sout":i.setAttribute("notation","horizontalstrike");break;case"\\fbox":i.setAttribute("notation","box");break;case"\\angl":i.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=t.fontMetrics().fboxsep*t.fontMetrics().ptPerEm,i.setAttribute("width","+"+2*n+"pt"),i.setAttribute("height","+"+2*n+"pt"),i.setAttribute("lspace",n+"pt"),i.setAttribute("voffset",n+"pt"),e.label==="\\fcolorbox"){var r=Math.max(t.fontMetrics().fboxrule,t.minRuleThickness);i.setAttribute("style","border: "+r+"em solid "+String(e.borderColor))}break;case"\\xcancel":i.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return e.backgroundColor&&i.setAttribute("mathbackground",e.backgroundColor),i};Ce({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,o=Qe(t[0],"color-token").color,s=t[1];return{type:"enclose",mode:i.mode,label:r,backgroundColor:o,body:s}},htmlBuilder:yy,mathmlBuilder:wy});Ce({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(e,t,n){var{parser:i,funcName:r}=e,o=Qe(t[0],"color-token").color,s=Qe(t[1],"color-token").color,a=t[2];return{type:"enclose",mode:i.mode,label:r,backgroundColor:s,borderColor:o,body:a}},htmlBuilder:yy,mathmlBuilder:wy});Ce({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\fbox",body:t[0]}}});Ce({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"enclose",mode:n.mode,label:i,body:r}},htmlBuilder:yy,mathmlBuilder:wy});Ce({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"enclose",mode:n.mode,label:"\\angl",body:t[0]}}});var MT={};function So(e){for(var{type:t,names:n,props:i,handler:r,htmlBuilder:o,mathmlBuilder:s}=e,a={type:t,numArgs:i.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:r},l=0;l<n.length;++l)MT[n[l]]=a;o&&(Wf[t]=o),s&&($f[t]=s)}var PT={};function A(e,t){PT[e]=t}function I2(e){var t=[];e.consumeSpaces();var n=e.fetch().text;for(n==="\\relax"&&(e.consume(),e.consumeSpaces(),n=e.fetch().text);n==="\\hline"||n==="\\hdashline";)e.consume(),t.push(n==="\\hdashline"),e.consumeSpaces(),n=e.fetch().text;return t}var fg=e=>{var t=e.parser.settings;if(!t.displayMode)throw new ae("{"+e.envName+"} can be used only in display mode.")};function Sy(e){if(e.indexOf("ed")===-1)return e.indexOf("*")===-1}function ma(e,t,n){var{hskipBeforeAndAfter:i,addJot:r,cols:o,arraystretch:s,colSeparationType:a,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:d,leqno:h}=t;if(e.gullet.beginGroup(),u||e.gullet.macros.set("\\cr","\\\\\\relax"),!s){var p=e.gullet.expandMacroAsText("\\arraystretch");if(p==null)s=1;else if(s=parseFloat(p),!s||s<0)throw new ae("Invalid \\arraystretch: "+p)}e.gullet.beginGroup();var f=[],g=[f],m=[],v=[],b=l!=null?[]:void 0;function S(){l&&e.gullet.macros.set("\\@eqnsw","1",!0)}function y(){b&&(e.gullet.macros.get("\\df@tag")?(b.push(e.subparse([new fo("\\df@tag")])),e.gullet.macros.set("\\df@tag",void 0,!0)):b.push(!!l&&e.gullet.macros.get("\\@eqnsw")==="1"))}for(S(),v.push(I2(e));;){var x=e.parseExpression(!1,u?"\\end":"\\\\");e.gullet.endGroup(),e.gullet.beginGroup(),x={type:"ordgroup",mode:e.mode,body:x},n&&(x={type:"styling",mode:e.mode,style:n,body:[x]}),f.push(x);var E=e.fetch().text;if(E==="&"){if(d&&f.length===d){if(u||a)throw new ae("Too many tab characters: &",e.nextToken);e.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}e.consume()}else if(E==="\\end"){y(),f.length===1&&x.type==="styling"&&x.body[0].body.length===0&&(g.length>1||!c)&&g.pop(),v.length<g.length+1&&v.push([]);break}else if(E==="\\\\"){e.consume();var R=void 0;e.gullet.future().text!==" "&&(R=e.parseSizeGroup(!0)),m.push(R?R.value:null),y(),v.push(I2(e)),f=[],g.push(f),S()}else throw new ae("Expected & or \\\\ or \\cr or \\end",e.nextToken)}return e.gullet.endGroup(),e.gullet.endGroup(),{type:"array",mode:e.mode,addJot:r,arraystretch:s,body:g,cols:o,rowGaps:m,hskipBeforeAndAfter:i,hLinesBeforeRow:v,colSeparationType:a,tags:b,leqno:h}}function xy(e){return e.slice(0,1)==="d"?"display":"text"}var xo=function(t,n){var i,r,o=t.body.length,s=t.hLinesBeforeRow,a=0,l=new Array(o),u=[],c=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),d=1/n.fontMetrics().ptPerEm,h=5*d;if(t.colSeparationType&&t.colSeparationType==="small"){var p=n.havingStyle(ze.SCRIPT).sizeMultiplier;h=.2778*(p/n.sizeMultiplier)}var f=t.colSeparationType==="CD"?tn({number:3,unit:"ex"},n):12*d,g=3*d,m=t.arraystretch*f,v=.7*m,b=.3*m,S=0;function y(Rn){for(var di=0;di<Rn.length;++di)di>0&&(S+=.25),u.push({pos:S,isDashed:Rn[di]})}for(y(s[0]),i=0;i<t.body.length;++i){var x=t.body[i],E=v,R=b;a<x.length&&(a=x.length);var T=new Array(x.length);for(r=0;r<x.length;++r){var F=ht(x[r],n);R<F.depth&&(R=F.depth),E<F.height&&(E=F.height),T[r]=F}var D=t.rowGaps[i],O=0;D&&(O=tn(D,n),O>0&&(O+=b,R<O&&(R=O),O=0)),t.addJot&&(R+=g),T.height=E,T.depth=R,S+=E,T.pos=S,S+=R+O,l[i]=T,y(s[i+1])}var L=S/2+n.fontMetrics().axisHeight,I=t.cols||[],B=[],U,V,Y=[];if(t.tags&&t.tags.some(Rn=>Rn))for(i=0;i<o;++i){var oe=l[i],ke=oe.pos-L,we=t.tags[i],Ae=void 0;we===!0?Ae=W.makeSpan(["eqn-num"],[],n):we===!1?Ae=W.makeSpan([],[],n):Ae=W.makeSpan([],On(we,n,!0),n),Ae.depth=oe.depth,Ae.height=oe.height,Y.push({type:"elem",elem:Ae,shift:ke})}for(r=0,V=0;r<a||V<I.length;++r,++V){for(var ve=I[V]||{},Ve=!0;ve.type==="separator";){if(Ve||(U=W.makeSpan(["arraycolsep"],[]),U.style.width=ce(n.fontMetrics().doubleRuleSep),B.push(U)),ve.separator==="|"||ve.separator===":"){var Xe=ve.separator==="|"?"solid":"dashed",Te=W.makeSpan(["vertical-separator"],[],n);Te.style.height=ce(S),Te.style.borderRightWidth=ce(c),Te.style.borderRightStyle=Xe,Te.style.margin="0 "+ce(-c/2);var $e=S-L;$e&&(Te.style.verticalAlign=ce(-$e)),B.push(Te)}else throw new ae("Invalid separator type: "+ve.separator);V++,ve=I[V]||{},Ve=!1}if(!(r>=a)){var Ze=void 0;(r>0||t.hskipBeforeAndAfter)&&(Ze=Ie.deflt(ve.pregap,h),Ze!==0&&(U=W.makeSpan(["arraycolsep"],[]),U.style.width=ce(Ze),B.push(U)));var ot=[];for(i=0;i<o;++i){var gt=l[i],Rt=gt[r];if(Rt){var on=gt.pos-L;Rt.depth=gt.depth,Rt.height=gt.height,ot.push({type:"elem",elem:Rt,shift:on})}}ot=W.makeVList({positionType:"individualShift",children:ot},n),ot=W.makeSpan(["col-align-"+(ve.align||"c")],[ot]),B.push(ot),(r<a-1||t.hskipBeforeAndAfter)&&(Ze=Ie.deflt(ve.postgap,h),Ze!==0&&(U=W.makeSpan(["arraycolsep"],[]),U.style.width=ce(Ze),B.push(U)))}}if(l=W.makeSpan(["mtable"],B),u.length>0){for(var vn=W.makeLineSpan("hline",n,c),mt=W.makeLineSpan("hdashline",n,c),Ct=[{type:"elem",elem:l,shift:0}];u.length>0;){var Cn=u.pop(),Jt=Cn.pos-L;Cn.isDashed?Ct.push({type:"elem",elem:mt,shift:Jt}):Ct.push({type:"elem",elem:vn,shift:Jt})}l=W.makeVList({positionType:"individualShift",children:Ct},n)}if(Y.length===0)return W.makeSpan(["mord"],[l],n);var Wt=W.makeVList({positionType:"individualShift",children:Y},n);return Wt=W.makeSpan(["tag"],[Wt],n),W.makeFragment([l,Wt])},C$={c:"center ",l:"left ",r:"right "},Eo=function(t,n){for(var i=[],r=new re.MathNode("mtd",[],["mtr-glue"]),o=new re.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<t.body.length;s++){for(var a=t.body[s],l=[],u=0;u<a.length;u++)l.push(new re.MathNode("mtd",[At(a[u],n)]));t.tags&&t.tags[s]&&(l.unshift(r),l.push(r),t.leqno?l.unshift(o):l.push(o)),i.push(new re.MathNode("mtr",l))}var c=new re.MathNode("mtable",i),d=t.arraystretch===.5?.1:.16+t.arraystretch-1+(t.addJot?.09:0);c.setAttribute("rowspacing",ce(d));var h="",p="";if(t.cols&&t.cols.length>0){var f=t.cols,g="",m=!1,v=0,b=f.length;f[0].type==="separator"&&(h+="top ",v=1),f[f.length-1].type==="separator"&&(h+="bottom ",b-=1);for(var S=v;S<b;S++)f[S].type==="align"?(p+=C$[f[S].align],m&&(g+="none "),m=!0):f[S].type==="separator"&&m&&(g+=f[S].separator==="|"?"solid ":"dashed ",m=!1);c.setAttribute("columnalign",p.trim()),/[sd]/.test(g)&&c.setAttribute("columnlines",g.trim())}if(t.colSeparationType==="align"){for(var y=t.cols||[],x="",E=1;E<y.length;E++)x+=E%2?"0em ":"1em ";c.setAttribute("columnspacing",x.trim())}else t.colSeparationType==="alignat"||t.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):t.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):t.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var R="",T=t.hLinesBeforeRow;h+=T[0].length>0?"left ":"",h+=T[T.length-1].length>0?"right ":"";for(var F=1;F<T.length-1;F++)R+=T[F].length===0?"none ":T[F][0]?"dashed ":"solid ";return/[sd]/.test(R)&&c.setAttribute("rowlines",R.trim()),h!==""&&(c=new re.MathNode("menclose",[c]),c.setAttribute("notation",h.trim())),t.arraystretch&&t.arraystretch<1&&(c=new re.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},IT=function(t,n){t.envName.indexOf("ed")===-1&&fg(t);var i=[],r=t.envName.indexOf("at")>-1?"alignat":"align",o=t.envName==="split",s=ma(t.parser,{cols:i,addJot:!0,autoTag:o?void 0:Sy(t.envName),emptySingleRow:!0,colSeparationType:r,maxNumCols:o?2:void 0,leqno:t.parser.settings.leqno},"display"),a,l=0,u={type:"ordgroup",mode:t.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var c="",d=0;d<n[0].body.length;d++){var h=Qe(n[0].body[d],"textord");c+=h.text}a=Number(c),l=a*2}var p=!l;s.body.forEach(function(v){for(var b=1;b<v.length;b+=2){var S=Qe(v[b],"styling"),y=Qe(S.body[0],"ordgroup");y.body.unshift(u)}if(p)l<v.length&&(l=v.length);else{var x=v.length/2;if(a<x)throw new ae("Too many math in a row: "+("expected "+a+", but got "+x),v[0])}});for(var f=0;f<l;++f){var g="r",m=0;f%2===1?g="l":f>0&&p&&(m=1),i[f]={type:"align",align:g,pregap:m,postgap:0}}return s.colSeparationType=p?"align":"alignat",s};So({type:"array",names:["array","darray"],props:{numArgs:1},handler(e,t){var n=dg(t[0]),i=n?[t[0]]:Qe(t[0],"ordgroup").body,r=i.map(function(s){var a=vy(s),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ae("Unknown column alignment: "+l,s)}),o={cols:r,hskipBeforeAndAfter:!0,maxNumCols:r.length};return ma(e.parser,o,xy(e.envName))},htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(e){var t={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[e.envName.replace("*","")],n="c",i={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(e.envName.charAt(e.envName.length-1)==="*"){var r=e.parser;if(r.consumeSpaces(),r.fetch().text==="["){if(r.consume(),r.consumeSpaces(),n=r.fetch().text,"lcr".indexOf(n)===-1)throw new ae("Expected l or c or r",r.nextToken);r.consume(),r.consumeSpaces(),r.expect("]"),r.consume(),i.cols=[{type:"align",align:n}]}}var o=ma(e.parser,i,xy(e.envName)),s=Math.max(0,...o.body.map(a=>a.length));return o.cols=new Array(s).fill({type:"align",align:n}),t?{type:"leftright",mode:e.mode,body:[o],left:t[0],right:t[1],rightColor:void 0}:o},htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(e){var t={arraystretch:.5},n=ma(e.parser,t,"script");return n.colSeparationType="small",n},htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["subarray"],props:{numArgs:1},handler(e,t){var n=dg(t[0]),i=n?[t[0]]:Qe(t[0],"ordgroup").body,r=i.map(function(s){var a=vy(s),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ae("Unknown column alignment: "+l,s)});if(r.length>1)throw new ae("{subarray} can contain only one column");var o={cols:r,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=ma(e.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ae("{subarray} can contain only one column");return o},htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(e){var t={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ma(e.parser,t,xy(e.envName));return{type:"leftright",mode:e.mode,body:[n],left:e.envName.indexOf("r")>-1?".":"\\{",right:e.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:IT,htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(e){Ie.contains(["gather","gather*"],e.envName)&&fg(e);var t={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Sy(e.envName),emptySingleRow:!0,leqno:e.parser.settings.leqno};return ma(e.parser,t,"display")},htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:IT,htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(e){fg(e);var t={autoTag:Sy(e.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:e.parser.settings.leqno};return ma(e.parser,t,"display")},htmlBuilder:xo,mathmlBuilder:Eo});So({type:"array",names:["CD"],props:{numArgs:0},handler(e){return fg(e),r$(e.parser)},htmlBuilder:xo,mathmlBuilder:Eo});A("\\nonumber","\\gdef\\@eqnsw{0}");A("\\notag","\\nonumber");Ce({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(e,t){throw new ae(e.funcName+" valid only within array environment")}});var O2=MT;Ce({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];if(r.type!=="ordgroup")throw new ae("Invalid environment name",r);for(var o="",s=0;s<r.body.length;++s)o+=Qe(r.body[s],"textord").text;if(i==="\\begin"){if(!O2.hasOwnProperty(o))throw new ae("No such environment: "+o,r);var a=O2[o],{args:l,optArgs:u}=n.parseArguments("\\begin{"+o+"}",a),c={mode:n.mode,envName:o,parser:n},d=a.handler(c,l,u);n.expect("\\end",!1);var h=n.nextToken,p=Qe(n.parseFunction(),"environment");if(p.name!==o)throw new ae("Mismatch: \\begin{"+o+"} matched by \\end{"+p.name+"}",h);return d}return{type:"environment",mode:n.mode,name:o,nameGroup:r}}});var OT=(e,t)=>{var n=e.font,i=t.withFont(n);return ht(e.body,i)},LT=(e,t)=>{var n=e.font,i=t.withFont(n);return At(e.body,i)},L2={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};Ce({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=Uf(t[0]),o=i;return o in L2&&(o=L2[o]),{type:"font",mode:n.mode,font:o.slice(1),body:r}},htmlBuilder:OT,mathmlBuilder:LT});Ce({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(e,t)=>{var{parser:n}=e,i=t[0],r=Ie.isCharacterBox(i);return{type:"mclass",mode:n.mode,mclass:hg(i),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:i}],isCharacterBox:r}}});Ce({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,breakOnTokenText:r}=e,{mode:o}=n,s=n.parseExpression(!0,r),a="math"+i.slice(1);return{type:"font",mode:o,font:a,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:OT,mathmlBuilder:LT});var NT=(e,t)=>{var n=t;return e==="display"?n=n.id>=ze.SCRIPT.id?n.text():ze.DISPLAY:e==="text"&&n.size===ze.DISPLAY.size?n=ze.TEXT:e==="script"?n=ze.SCRIPT:e==="scriptscript"&&(n=ze.SCRIPTSCRIPT),n},Ey=(e,t)=>{var n=NT(e.size,t.style),i=n.fracNum(),r=n.fracDen(),o;o=t.havingStyle(i);var s=ht(e.numer,o,t);if(e.continued){var a=8.5/t.fontMetrics().ptPerEm,l=3.5/t.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}o=t.havingStyle(r);var u=ht(e.denom,o,t),c,d,h;e.hasBarLine?(e.barSize?(d=tn(e.barSize,t),c=W.makeLineSpan("frac-line",t,d)):c=W.makeLineSpan("frac-line",t),d=c.height,h=c.height):(c=null,d=0,h=t.fontMetrics().defaultRuleThickness);var p,f,g;n.size===ze.DISPLAY.size||e.size==="display"?(p=t.fontMetrics().num1,d>0?f=3*h:f=7*h,g=t.fontMetrics().denom1):(d>0?(p=t.fontMetrics().num2,f=h):(p=t.fontMetrics().num3,f=3*h),g=t.fontMetrics().denom2);var m;if(c){var b=t.fontMetrics().axisHeight;p-s.depth-(b+.5*d)<f&&(p+=f-(p-s.depth-(b+.5*d))),b-.5*d-(u.height-g)<f&&(g+=f-(b-.5*d-(u.height-g)));var S=-(b-.5*d);m=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:c,shift:S},{type:"elem",elem:s,shift:-p}]},t)}else{var v=p-s.depth-(u.height-g);v<f&&(p+=.5*(f-v),g+=.5*(f-v)),m=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:g},{type:"elem",elem:s,shift:-p}]},t)}o=t.havingStyle(n),m.height*=o.sizeMultiplier/t.sizeMultiplier,m.depth*=o.sizeMultiplier/t.sizeMultiplier;var y;n.size===ze.DISPLAY.size?y=t.fontMetrics().delim1:n.size===ze.SCRIPTSCRIPT.size?y=t.havingStyle(ze.SCRIPT).fontMetrics().delim2:y=t.fontMetrics().delim2;var x,E;return e.leftDelim==null?x=Cd(t,["mopen"]):x=ts.customSizedDelim(e.leftDelim,y,!0,t.havingStyle(n),e.mode,["mopen"]),e.continued?E=W.makeSpan([]):e.rightDelim==null?E=Cd(t,["mclose"]):E=ts.customSizedDelim(e.rightDelim,y,!0,t.havingStyle(n),e.mode,["mclose"]),W.makeSpan(["mord"].concat(o.sizingClasses(t)),[x,W.makeSpan(["mfrac"],[m]),E],t)},ky=(e,t)=>{var n=new re.MathNode("mfrac",[At(e.numer,t),At(e.denom,t)]);if(!e.hasBarLine)n.setAttribute("linethickness","0px");else if(e.barSize){var i=tn(e.barSize,t);n.setAttribute("linethickness",ce(i))}var r=NT(e.size,t.style);if(r.size!==t.style.size){n=new re.MathNode("mstyle",[n]);var o=r.size===ze.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(e.leftDelim!=null||e.rightDelim!=null){var s=[];if(e.leftDelim!=null){var a=new re.MathNode("mo",[new re.TextNode(e.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),s.push(a)}if(s.push(n),e.rightDelim!=null){var l=new re.MathNode("mo",[new re.TextNode(e.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return gy(s)}return n};Ce({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],o=t[1],s,a=null,l=null,u="auto";switch(i){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,a="(",l=")";break;case"\\\\bracefrac":s=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(i){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:r,denom:o,hasBarLine:s,leftDelim:a,rightDelim:l,size:u,barSize:null}},htmlBuilder:Ey,mathmlBuilder:ky});Ce({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],o=t[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:r,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});Ce({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(e){var{parser:t,funcName:n,token:i}=e,r;switch(n){case"\\over":r="\\frac";break;case"\\choose":r="\\binom";break;case"\\atop":r="\\\\atopfrac";break;case"\\brace":r="\\\\bracefrac";break;case"\\brack":r="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:t.mode,replaceWith:r,token:i}}});var N2=["display","text","script","scriptscript"],B2=function(t){var n=null;return t.length>0&&(n=t,n=n==="."?null:n),n};Ce({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(e,t){var{parser:n}=e,i=t[4],r=t[5],o=Uf(t[0]),s=o.type==="atom"&&o.family==="open"?B2(o.text):null,a=Uf(t[1]),l=a.type==="atom"&&a.family==="close"?B2(a.text):null,u=Qe(t[2],"size"),c,d=null;u.isBlank?c=!0:(d=u.value,c=d.number>0);var h="auto",p=t[3];if(p.type==="ordgroup"){if(p.body.length>0){var f=Qe(p.body[0],"textord");h=N2[Number(f.text)]}}else p=Qe(p,"textord"),h=N2[Number(p.text)];return{type:"genfrac",mode:n.mode,numer:i,denom:r,continued:!1,hasBarLine:c,barSize:d,leftDelim:s,rightDelim:l,size:h}},htmlBuilder:Ey,mathmlBuilder:ky});Ce({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(e,t){var{parser:n,funcName:i,token:r}=e;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Qe(t[0],"size").value,token:r}}});Ce({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0],o=KG(Qe(t[1],"infix").size),s=t[2],a=o.number>0;return{type:"genfrac",mode:n.mode,numer:r,denom:s,continued:!1,hasBarLine:a,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:Ey,mathmlBuilder:ky});var BT=(e,t)=>{var n=t.style,i,r;e.type==="supsub"?(i=e.sup?ht(e.sup,t.havingStyle(n.sup()),t):ht(e.sub,t.havingStyle(n.sub()),t),r=Qe(e.base,"horizBrace")):r=Qe(e,"horizBrace");var o=ht(r.base,t.havingBaseStyle(ze.DISPLAY)),s=ds.svgSpan(r,t),a;if(r.isOver?(a=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},t),a.children[0].children[0].children[1].classes.push("svg-align")):(a=W.makeVList({positionType:"bottom",positionData:o.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},t),a.children[0].children[0].children[0].classes.push("svg-align")),i){var l=W.makeSpan(["mord",r.isOver?"mover":"munder"],[a],t);r.isOver?a=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:i}]},t):a=W.makeVList({positionType:"bottom",positionData:l.depth+.2+i.height+i.depth,children:[{type:"elem",elem:i},{type:"kern",size:.2},{type:"elem",elem:l}]},t)}return W.makeSpan(["mord",r.isOver?"mover":"munder"],[a],t)},b$=(e,t)=>{var n=ds.mathMLnode(e.label);return new re.MathNode(e.isOver?"mover":"munder",[At(e.base,t),n])};Ce({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(e,t){var{parser:n,funcName:i}=e;return{type:"horizBrace",mode:n.mode,label:i,isOver:/^\\over/.test(i),base:t[0]}},htmlBuilder:BT,mathmlBuilder:b$});Ce({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[1],r=Qe(t[0],"url").url;return n.settings.isTrusted({command:"\\href",url:r})?{type:"href",mode:n.mode,href:r,body:Sn(i)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(e,t)=>{var n=On(e.body,t,!1);return W.makeAnchor(e.href,[],n,t)},mathmlBuilder:(e,t)=>{var n=la(e.body,t);return n instanceof Xi||(n=new Xi("mrow",[n])),n.setAttribute("href",e.href),n}});Ce({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=Qe(t[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:i}))return n.formatUnsupportedCmd("\\url");for(var r=[],o=0;o<i.length;o++){var s=i[o];s==="~"&&(s="\\textasciitilde"),r.push({type:"textord",mode:"text",text:s})}var a={type:"text",mode:n.mode,font:"\\texttt",body:r};return{type:"href",mode:n.mode,href:i,body:Sn(a)}}});Ce({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(e,t){var{parser:n}=e;return{type:"hbox",mode:n.mode,body:Sn(t[0])}},htmlBuilder(e,t){var n=On(e.body,t,!1);return W.makeFragment(n)},mathmlBuilder(e,t){return new re.MathNode("mrow",Vi(e.body,t))}});Ce({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i,token:r}=e,o=Qe(t[0],"raw").string,s=t[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(i){case"\\htmlClass":l.class=o,a={command:"\\htmlClass",class:o};break;case"\\htmlId":l.id=o,a={command:"\\htmlId",id:o};break;case"\\htmlStyle":l.style=o,a={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length!==2)throw new ae("Error parsing key-value for \\htmlData");l["data-"+d[0].trim()]=d[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:l,body:Sn(s)}:n.formatUnsupportedCmd(i)},htmlBuilder:(e,t)=>{var n=On(e.body,t,!1),i=["enclosing"];e.attributes.class&&i.push(...e.attributes.class.trim().split(/\s+/));var r=W.makeSpan(i,n,t);for(var o in e.attributes)o!=="class"&&e.attributes.hasOwnProperty(o)&&r.setAttribute(o,e.attributes[o]);return r},mathmlBuilder:(e,t)=>la(e.body,t)});Ce({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"htmlmathml",mode:n.mode,html:Sn(t[0]),mathml:Sn(t[1])}},htmlBuilder:(e,t)=>{var n=On(e.html,t,!1);return W.makeFragment(n)},mathmlBuilder:(e,t)=>la(e.mathml,t)});var _m=function(t){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(t))return{number:+t,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(t);if(!n)throw new ae("Invalid size: '"+t+"' in \\includegraphics");var i={number:+(n[1]+n[2]),unit:n[3]};if(!nT(i))throw new ae("Invalid unit: '"+i.unit+"' in \\includegraphics.");return i};Ce({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(e,t,n)=>{var{parser:i}=e,r={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},a="";if(n[0])for(var l=Qe(n[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var d=u[c].split("=");if(d.length===2){var h=d[1].trim();switch(d[0].trim()){case"alt":a=h;break;case"width":r=_m(h);break;case"height":o=_m(h);break;case"totalheight":s=_m(h);break;default:throw new ae("Invalid key: '"+d[0]+"' in \\includegraphics.")}}}var p=Qe(t[0],"url").url;return a===""&&(a=p,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),i.settings.isTrusted({command:"\\includegraphics",url:p})?{type:"includegraphics",mode:i.mode,alt:a,width:r,height:o,totalheight:s,src:p}:i.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(e,t)=>{var n=tn(e.height,t),i=0;e.totalheight.number>0&&(i=tn(e.totalheight,t)-n);var r=0;e.width.number>0&&(r=tn(e.width,t));var o={height:ce(n+i)};r>0&&(o.width=ce(r)),i>0&&(o.verticalAlign=ce(-i));var s=new bW(e.src,e.alt,o);return s.height=n,s.depth=i,s},mathmlBuilder:(e,t)=>{var n=new re.MathNode("mglyph",[]);n.setAttribute("alt",e.alt);var i=tn(e.height,t),r=0;if(e.totalheight.number>0&&(r=tn(e.totalheight,t)-i,n.setAttribute("valign",ce(-r))),n.setAttribute("height",ce(i+r)),e.width.number>0){var o=tn(e.width,t);n.setAttribute("width",ce(o))}return n.setAttribute("src",e.src),n}});Ce({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=Qe(t[0],"size");if(n.settings.strict){var o=i[1]==="m",s=r.value.unit==="mu";o?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" supports only mu units, "+("not "+r.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+i+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:r.value}},htmlBuilder(e,t){return W.makeGlue(e.dimension,t)},mathmlBuilder(e,t){var n=tn(e.dimension,t);return new re.SpaceNode(n)}});Ce({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"lap",mode:n.mode,alignment:i.slice(5),body:r}},htmlBuilder:(e,t)=>{var n;e.alignment==="clap"?(n=W.makeSpan([],[ht(e.body,t)]),n=W.makeSpan(["inner"],[n],t)):n=W.makeSpan(["inner"],[ht(e.body,t)]);var i=W.makeSpan(["fix"],[]),r=W.makeSpan([e.alignment],[n,i],t),o=W.makeSpan(["strut"]);return o.style.height=ce(r.height+r.depth),r.depth&&(o.style.verticalAlign=ce(-r.depth)),r.children.unshift(o),r=W.makeSpan(["thinbox"],[r],t),W.makeSpan(["mord","vbox"],[r],t)},mathmlBuilder:(e,t)=>{var n=new re.MathNode("mpadded",[At(e.body,t)]);if(e.alignment!=="rlap"){var i=e.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",i+"width")}return n.setAttribute("width","0px"),n}});Ce({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){var{funcName:n,parser:i}=e,r=i.mode;i.switchMode("math");var o=n==="\\("?"\\)":"$",s=i.parseExpression(!1,o);return i.expect(o),i.switchMode(r),{type:"styling",mode:i.mode,style:"text",body:s}}});Ce({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(e,t){throw new ae("Mismatched "+e.funcName)}});var z2=(e,t)=>{switch(t.style.size){case ze.DISPLAY.size:return e.display;case ze.TEXT.size:return e.text;case ze.SCRIPT.size:return e.script;case ze.SCRIPTSCRIPT.size:return e.scriptscript;default:return e.text}};Ce({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(e,t)=>{var{parser:n}=e;return{type:"mathchoice",mode:n.mode,display:Sn(t[0]),text:Sn(t[1]),script:Sn(t[2]),scriptscript:Sn(t[3])}},htmlBuilder:(e,t)=>{var n=z2(e,t),i=On(n,t,!1);return W.makeFragment(i)},mathmlBuilder:(e,t)=>{var n=z2(e,t);return la(n,t)}});var zT=(e,t,n,i,r,o,s)=>{e=W.makeSpan([],[e]);var a=n&&Ie.isCharacterBox(n),l,u;if(t){var c=ht(t,i.havingStyle(r.sup()),i);u={elem:c,kern:Math.max(i.fontMetrics().bigOpSpacing1,i.fontMetrics().bigOpSpacing3-c.depth)}}if(n){var d=ht(n,i.havingStyle(r.sub()),i);l={elem:d,kern:Math.max(i.fontMetrics().bigOpSpacing2,i.fontMetrics().bigOpSpacing4-d.height)}}var h;if(u&&l){var p=i.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+e.depth+s;h=W.makeVList({positionType:"bottom",positionData:p,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ce(-o)},{type:"kern",size:l.kern},{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ce(o)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else if(l){var f=e.height-s;h=W.makeVList({positionType:"top",positionData:f,children:[{type:"kern",size:i.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ce(-o)},{type:"kern",size:l.kern},{type:"elem",elem:e}]},i)}else if(u){var g=e.depth+s;h=W.makeVList({positionType:"bottom",positionData:g,children:[{type:"elem",elem:e},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ce(o)},{type:"kern",size:i.fontMetrics().bigOpSpacing5}]},i)}else return e;var m=[h];if(l&&o!==0&&!a){var v=W.makeSpan(["mspace"],[],i);v.style.marginRight=ce(o),m.unshift(v)}return W.makeSpan(["mop","op-limits"],m,i)},HT=["\\smallint"],zu=(e,t)=>{var n,i,r=!1,o;e.type==="supsub"?(n=e.sup,i=e.sub,o=Qe(e.base,"op"),r=!0):o=Qe(e,"op");var s=t.style,a=!1;s.size===ze.DISPLAY.size&&o.symbol&&!Ie.contains(HT,o.name)&&(a=!0);var l;if(o.symbol){var u=a?"Size2-Regular":"Size1-Regular",c="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(c=o.name.slice(1),o.name=c==="oiint"?"\\iint":"\\iiint"),l=W.makeSymbol(o.name,u,"math",t,["mop","op-symbol",a?"large-op":"small-op"]),c.length>0){var d=l.italic,h=W.staticSvg(c+"Size"+(a?"2":"1"),t);l=W.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:h,shift:a?.08:0}]},t),o.name="\\"+c,l.classes.unshift("mop"),l.italic=d}}else if(o.body){var p=On(o.body,t,!0);p.length===1&&p[0]instanceof Rr?(l=p[0],l.classes[0]="mop"):l=W.makeSpan(["mop"],p,t)}else{for(var f=[],g=1;g<o.name.length;g++)f.push(W.mathsym(o.name[g],o.mode,t));l=W.makeSpan(["mop"],f,t)}var m=0,v=0;return(l instanceof Rr||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(m=(l.height-l.depth)/2-t.fontMetrics().axisHeight,v=l.italic),r?zT(l,n,i,t,s,v,m):(m&&(l.style.position="relative",l.style.top=ce(m)),l)},eh=(e,t)=>{var n;if(e.symbol)n=new Xi("mo",[Dr(e.name,e.mode)]),Ie.contains(HT,e.name)&&n.setAttribute("largeop","false");else if(e.body)n=new Xi("mo",Vi(e.body,t));else{n=new Xi("mi",[new so(e.name.slice(1))]);var i=new Xi("mo",[Dr("⁡","text")]);e.parentIsSupSub?n=new Xi("mrow",[n,i]):n=pT([n,i])}return n},y$={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};Ce({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=i;return r.length===1&&(r=y$[r]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:zu,mathmlBuilder:eh});Ce({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Sn(i)}},htmlBuilder:zu,mathmlBuilder:eh});var w$={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};Ce({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:zu,mathmlBuilder:eh});Ce({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e;return{type:"op",mode:t.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:zu,mathmlBuilder:eh});Ce({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(e){var{parser:t,funcName:n}=e,i=n;return i.length===1&&(i=w$[i]),{type:"op",mode:t.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:zu,mathmlBuilder:eh});var VT=(e,t)=>{var n,i,r=!1,o;e.type==="supsub"?(n=e.sup,i=e.sub,o=Qe(e.base,"operatorname"),r=!0):o=Qe(e,"operatorname");var s;if(o.body.length>0){for(var a=o.body.map(d=>{var h=d.text;return typeof h=="string"?{type:"textord",mode:d.mode,text:h}:d}),l=On(a,t.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Rr&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=W.makeSpan(["mop"],l,t)}else s=W.makeSpan(["mop"],[],t);return r?zT(s,n,i,t,t.style,0,0):s},S$=(e,t)=>{for(var n=Vi(e.body,t.withFont("mathrm")),i=!0,r=0;r<n.length;r++){var o=n[r];if(!(o instanceof re.SpaceNode))if(o instanceof re.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=o.children[0];o.children.length===1&&s instanceof re.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):i=!1;break}default:i=!1}else i=!1}if(i){var a=n.map(c=>c.toText()).join("");n=[new re.TextNode(a)]}var l=new re.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new re.MathNode("mo",[Dr("⁡","text")]);return e.parentIsSupSub?new re.MathNode("mrow",[l,u]):re.newDocumentFragment([l,u])};Ce({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(e,t)=>{var{parser:n,funcName:i}=e,r=t[0];return{type:"operatorname",mode:n.mode,body:Sn(r),alwaysHandleSupSub:i==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:VT,mathmlBuilder:S$});A("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");ml({type:"ordgroup",htmlBuilder(e,t){return e.semisimple?W.makeFragment(On(e.body,t,!1)):W.makeSpan(["mord"],On(e.body,t,!0),t)},mathmlBuilder(e,t){return la(e.body,t,!0)}});Ce({type:"overline",names:["\\overline"],props:{numArgs:1},handler(e,t){var{parser:n}=e,i=t[0];return{type:"overline",mode:n.mode,body:i}},htmlBuilder(e,t){var n=ht(e.body,t.havingCrampedStyle()),i=W.makeLineSpan("overline-line",t),r=t.fontMetrics().defaultRuleThickness,o=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*r},{type:"elem",elem:i},{type:"kern",size:r}]},t);return W.makeSpan(["mord","overline"],[o],t)},mathmlBuilder(e,t){var n=new re.MathNode("mo",[new re.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new re.MathNode("mover",[At(e.body,t),n]);return i.setAttribute("accent","true"),i}});Ce({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"phantom",mode:n.mode,body:Sn(i)}},htmlBuilder:(e,t)=>{var n=On(e.body,t.withPhantom(),!1);return W.makeFragment(n)},mathmlBuilder:(e,t)=>{var n=Vi(e.body,t);return new re.MathNode("mphantom",n)}});Ce({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"hphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=W.makeSpan([],[ht(e.body,t.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var i=0;i<n.children.length;i++)n.children[i].height=0,n.children[i].depth=0;return n=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t),W.makeSpan(["mord"],[n],t)},mathmlBuilder:(e,t)=>{var n=Vi(Sn(e.body),t),i=new re.MathNode("mphantom",n),r=new re.MathNode("mpadded",[i]);return r.setAttribute("height","0px"),r.setAttribute("depth","0px"),r}});Ce({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(e,t)=>{var{parser:n}=e,i=t[0];return{type:"vphantom",mode:n.mode,body:i}},htmlBuilder:(e,t)=>{var n=W.makeSpan(["inner"],[ht(e.body,t.withPhantom())]),i=W.makeSpan(["fix"],[]);return W.makeSpan(["mord","rlap"],[n,i],t)},mathmlBuilder:(e,t)=>{var n=Vi(Sn(e.body),t),i=new re.MathNode("mphantom",n),r=new re.MathNode("mpadded",[i]);return r.setAttribute("width","0px"),r}});Ce({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(e,t){var{parser:n}=e,i=Qe(t[0],"size").value,r=t[1];return{type:"raisebox",mode:n.mode,dy:i,body:r}},htmlBuilder(e,t){var n=ht(e.body,t),i=tn(e.dy,t);return W.makeVList({positionType:"shift",positionData:-i,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){var n=new re.MathNode("mpadded",[At(e.body,t)]),i=e.dy.number+e.dy.unit;return n.setAttribute("voffset",i),n}});Ce({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(e){var{parser:t}=e;return{type:"internal",mode:t.mode}}});Ce({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(e,t,n){var{parser:i}=e,r=n[0],o=Qe(t[0],"size"),s=Qe(t[1],"size");return{type:"rule",mode:i.mode,shift:r&&Qe(r,"size").value,width:o.value,height:s.value}},htmlBuilder(e,t){var n=W.makeSpan(["mord","rule"],[],t),i=tn(e.width,t),r=tn(e.height,t),o=e.shift?tn(e.shift,t):0;return n.style.borderRightWidth=ce(i),n.style.borderTopWidth=ce(r),n.style.bottom=ce(o),n.width=i,n.height=r+o,n.depth=-o,n.maxFontSize=r*1.125*t.sizeMultiplier,n},mathmlBuilder(e,t){var n=tn(e.width,t),i=tn(e.height,t),r=e.shift?tn(e.shift,t):0,o=t.color&&t.getColor()||"black",s=new re.MathNode("mspace");s.setAttribute("mathbackground",o),s.setAttribute("width",ce(n)),s.setAttribute("height",ce(i));var a=new re.MathNode("mpadded",[s]);return r>=0?a.setAttribute("height",ce(r)):(a.setAttribute("height",ce(r)),a.setAttribute("depth",ce(-r))),a.setAttribute("voffset",ce(r)),a}});function _T(e,t,n){for(var i=On(e,t,!1),r=t.sizeMultiplier/n.sizeMultiplier,o=0;o<i.length;o++){var s=i[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(i[o].classes,t.sizingClasses(n)):i[o].classes[s+1]==="reset-size"+t.size&&(i[o].classes[s+1]="reset-size"+n.size),i[o].height*=r,i[o].depth*=r}return W.makeFragment(i)}var H2=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],x$=(e,t)=>{var n=t.havingSize(e.size);return _T(e.body,n,t)};Ce({type:"sizing",names:H2,props:{numArgs:0,allowedInText:!0},handler:(e,t)=>{var{breakOnTokenText:n,funcName:i,parser:r}=e,o=r.parseExpression(!1,n);return{type:"sizing",mode:r.mode,size:H2.indexOf(i)+1,body:o}},htmlBuilder:x$,mathmlBuilder:(e,t)=>{var n=t.havingSize(e.size),i=Vi(e.body,n),r=new re.MathNode("mstyle",i);return r.setAttribute("mathsize",ce(n.sizeMultiplier)),r}});Ce({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(e,t,n)=>{var{parser:i}=e,r=!1,o=!1,s=n[0]&&Qe(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l){var u=s.body[l];if(a=u.text,a==="t")r=!0;else if(a==="b")o=!0;else{r=!1,o=!1;break}}else r=!0,o=!0;var c=t[0];return{type:"smash",mode:i.mode,body:c,smashHeight:r,smashDepth:o}},htmlBuilder:(e,t)=>{var n=W.makeSpan([],[ht(e.body,t)]);if(!e.smashHeight&&!e.smashDepth)return n;if(e.smashHeight&&(n.height=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].height=0;if(e.smashDepth&&(n.depth=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].depth=0;var o=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},t);return W.makeSpan(["mord"],[o],t)},mathmlBuilder:(e,t)=>{var n=new re.MathNode("mpadded",[At(e.body,t)]);return e.smashHeight&&n.setAttribute("height","0px"),e.smashDepth&&n.setAttribute("depth","0px"),n}});Ce({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(e,t,n){var{parser:i}=e,r=n[0],o=t[0];return{type:"sqrt",mode:i.mode,body:o,index:r}},htmlBuilder(e,t){var n=ht(e.body,t.havingCrampedStyle());n.height===0&&(n.height=t.fontMetrics().xHeight),n=W.wrapFragment(n,t);var i=t.fontMetrics(),r=i.defaultRuleThickness,o=r;t.style.id<ze.TEXT.id&&(o=t.fontMetrics().xHeight);var s=r+o/4,a=n.height+n.depth+s+r,{span:l,ruleWidth:u,advanceWidth:c}=ts.sqrtImage(a,t),d=l.height-u;d>n.height+n.depth+s&&(s=(s+d-n.height-n.depth)/2);var h=l.height-n.height-s-u;n.style.paddingLeft=ce(c);var p=W.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+h)},{type:"elem",elem:l},{type:"kern",size:u}]},t);if(e.index){var f=t.havingStyle(ze.SCRIPTSCRIPT),g=ht(e.index,f,t),m=.6*(p.height-p.depth),v=W.makeVList({positionType:"shift",positionData:-m,children:[{type:"elem",elem:g}]},t),b=W.makeSpan(["root"],[v]);return W.makeSpan(["mord","sqrt"],[b,p],t)}else return W.makeSpan(["mord","sqrt"],[p],t)},mathmlBuilder(e,t){var{body:n,index:i}=e;return i?new re.MathNode("mroot",[At(n,t),At(i,t)]):new re.MathNode("msqrt",[At(n,t)])}});var V2={display:ze.DISPLAY,text:ze.TEXT,script:ze.SCRIPT,scriptscript:ze.SCRIPTSCRIPT};Ce({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(e,t){var{breakOnTokenText:n,funcName:i,parser:r}=e,o=r.parseExpression(!0,n),s=i.slice(1,i.length-5);return{type:"styling",mode:r.mode,style:s,body:o}},htmlBuilder(e,t){var n=V2[e.style],i=t.havingStyle(n).withFont("");return _T(e.body,i,t)},mathmlBuilder(e,t){var n=V2[e.style],i=t.havingStyle(n),r=Vi(e.body,i),o=new re.MathNode("mstyle",r),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=s[e.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}});var E$=function(t,n){var i=t.base;if(i)if(i.type==="op"){var r=i.limits&&(n.style.size===ze.DISPLAY.size||i.alwaysHandleSupSub);return r?zu:null}else if(i.type==="operatorname"){var o=i.alwaysHandleSupSub&&(n.style.size===ze.DISPLAY.size||i.limits);return o?VT:null}else{if(i.type==="accent")return Ie.isCharacterBox(i.base)?Cy:null;if(i.type==="horizBrace"){var s=!t.sub;return s===i.isOver?BT:null}else return null}else return null};ml({type:"supsub",htmlBuilder(e,t){var n=E$(e,t);if(n)return n(e,t);var{base:i,sup:r,sub:o}=e,s=ht(i,t),a,l,u=t.fontMetrics(),c=0,d=0,h=i&&Ie.isCharacterBox(i);if(r){var p=t.havingStyle(t.style.sup());a=ht(r,p,t),h||(c=s.height-p.fontMetrics().supDrop*p.sizeMultiplier/t.sizeMultiplier)}if(o){var f=t.havingStyle(t.style.sub());l=ht(o,f,t),h||(d=s.depth+f.fontMetrics().subDrop*f.sizeMultiplier/t.sizeMultiplier)}var g;t.style===ze.DISPLAY?g=u.sup1:t.style.cramped?g=u.sup3:g=u.sup2;var m=t.sizeMultiplier,v=ce(.5/u.ptPerEm/m),b=null;if(l){var S=e.base&&e.base.type==="op"&&e.base.name&&(e.base.name==="\\oiint"||e.base.name==="\\oiiint");(s instanceof Rr||S)&&(b=ce(-s.italic))}var y;if(a&&l){c=Math.max(c,g,a.depth+.25*u.xHeight),d=Math.max(d,u.sub2);var x=u.defaultRuleThickness,E=4*x;if(c-a.depth-(l.height-d)<E){d=E-(c-a.depth)+l.height;var R=.8*u.xHeight-(c-a.depth);R>0&&(c+=R,d-=R)}var T=[{type:"elem",elem:l,shift:d,marginRight:v,marginLeft:b},{type:"elem",elem:a,shift:-c,marginRight:v}];y=W.makeVList({positionType:"individualShift",children:T},t)}else if(l){d=Math.max(d,u.sub1,l.height-.8*u.xHeight);var F=[{type:"elem",elem:l,marginLeft:b,marginRight:v}];y=W.makeVList({positionType:"shift",positionData:d,children:F},t)}else if(a)c=Math.max(c,g,a.depth+.25*u.xHeight),y=W.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:a,marginRight:v}]},t);else throw new Error("supsub must have either sup or sub.");var D=O1(s,"right")||"mord";return W.makeSpan([D],[s,W.makeSpan(["msupsub"],[y])],t)},mathmlBuilder(e,t){var n=!1,i,r;e.base&&e.base.type==="horizBrace"&&(r=!!e.sup,r===e.base.isOver&&(n=!0,i=e.base.isOver)),e.base&&(e.base.type==="op"||e.base.type==="operatorname")&&(e.base.parentIsSupSub=!0);var o=[At(e.base,t)];e.sub&&o.push(At(e.sub,t)),e.sup&&o.push(At(e.sup,t));var s;if(n)s=i?"mover":"munder";else if(e.sub)if(e.sup){var u=e.base;u&&u.type==="op"&&u.limits&&t.style===ze.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(t.style===ze.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=e.base;l&&l.type==="op"&&l.limits&&(t.style===ze.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||t.style===ze.DISPLAY)?s="munder":s="msub"}else{var a=e.base;a&&a.type==="op"&&a.limits&&(t.style===ze.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||t.style===ze.DISPLAY)?s="mover":s="msup"}return new re.MathNode(s,o)}});ml({type:"atom",htmlBuilder(e,t){return W.mathsym(e.text,e.mode,t,["m"+e.family])},mathmlBuilder(e,t){var n=new re.MathNode("mo",[Dr(e.text,e.mode)]);if(e.family==="bin"){var i=my(e,t);i==="bold-italic"&&n.setAttribute("mathvariant",i)}else e.family==="punct"?n.setAttribute("separator","true"):(e.family==="open"||e.family==="close")&&n.setAttribute("stretchy","false");return n}});var GT={mi:"italic",mn:"normal",mtext:"normal"};ml({type:"mathord",htmlBuilder(e,t){return W.makeOrd(e,t,"mathord")},mathmlBuilder(e,t){var n=new re.MathNode("mi",[Dr(e.text,e.mode,t)]),i=my(e,t)||"italic";return i!==GT[n.type]&&n.setAttribute("mathvariant",i),n}});ml({type:"textord",htmlBuilder(e,t){return W.makeOrd(e,t,"textord")},mathmlBuilder(e,t){var n=Dr(e.text,e.mode,t),i=my(e,t)||"normal",r;return e.mode==="text"?r=new re.MathNode("mtext",[n]):/[0-9]/.test(e.text)?r=new re.MathNode("mn",[n]):e.text==="\\prime"?r=new re.MathNode("mo",[n]):r=new re.MathNode("mi",[n]),i!==GT[r.type]&&r.setAttribute("mathvariant",i),r}});var Gm={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Wm={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};ml({type:"spacing",htmlBuilder(e,t){if(Wm.hasOwnProperty(e.text)){var n=Wm[e.text].className||"";if(e.mode==="text"){var i=W.makeOrd(e,t,"textord");return i.classes.push(n),i}else return W.makeSpan(["mspace",n],[W.mathsym(e.text,e.mode,t)],t)}else{if(Gm.hasOwnProperty(e.text))return W.makeSpan(["mspace",Gm[e.text]],[],t);throw new ae('Unknown type of space "'+e.text+'"')}},mathmlBuilder(e,t){var n;if(Wm.hasOwnProperty(e.text))n=new re.MathNode("mtext",[new re.TextNode(" ")]);else{if(Gm.hasOwnProperty(e.text))return new re.MathNode("mspace");throw new ae('Unknown type of space "'+e.text+'"')}return n}});var _2=()=>{var e=new re.MathNode("mtd",[]);return e.setAttribute("width","50%"),e};ml({type:"tag",mathmlBuilder(e,t){var n=new re.MathNode("mtable",[new re.MathNode("mtr",[_2(),new re.MathNode("mtd",[la(e.body,t)]),_2(),new re.MathNode("mtd",[la(e.tag,t)])])]);return n.setAttribute("width","100%"),n}});var G2={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},W2={"\\textbf":"textbf","\\textmd":"textmd"},k$={"\\textit":"textit","\\textup":"textup"},$2=(e,t)=>{var n=e.font;if(n){if(G2[n])return t.withTextFontFamily(G2[n]);if(W2[n])return t.withTextFontWeight(W2[n]);if(n==="\\emph")return t.fontShape==="textit"?t.withTextFontShape("textup"):t.withTextFontShape("textit")}else return t;return t.withTextFontShape(k$[n])};Ce({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(e,t){var{parser:n,funcName:i}=e,r=t[0];return{type:"text",mode:n.mode,body:Sn(r),font:i}},htmlBuilder(e,t){var n=$2(e,t),i=On(e.body,n,!0);return W.makeSpan(["mord","text"],i,n)},mathmlBuilder(e,t){var n=$2(e,t);return la(e.body,n)}});Ce({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(e,t){var{parser:n}=e;return{type:"underline",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=ht(e.body,t),i=W.makeLineSpan("underline-line",t),r=t.fontMetrics().defaultRuleThickness,o=W.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:r},{type:"elem",elem:i},{type:"kern",size:3*r},{type:"elem",elem:n}]},t);return W.makeSpan(["mord","underline"],[o],t)},mathmlBuilder(e,t){var n=new re.MathNode("mo",[new re.TextNode("‾")]);n.setAttribute("stretchy","true");var i=new re.MathNode("munder",[At(e.body,t),n]);return i.setAttribute("accentunder","true"),i}});Ce({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(e,t){var{parser:n}=e;return{type:"vcenter",mode:n.mode,body:t[0]}},htmlBuilder(e,t){var n=ht(e.body,t),i=t.fontMetrics().axisHeight,r=.5*(n.height-i-(n.depth+i));return W.makeVList({positionType:"shift",positionData:r,children:[{type:"elem",elem:n}]},t)},mathmlBuilder(e,t){return new re.MathNode("mpadded",[At(e.body,t)],["vcenter"])}});Ce({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(e,t,n){throw new ae("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(e,t){for(var n=U2(e),i=[],r=t.havingStyle(t.style.text()),o=0;o<n.length;o++){var s=n[o];s==="~"&&(s="\\textasciitilde"),i.push(W.makeSymbol(s,"Typewriter-Regular",e.mode,r,["mord","texttt"]))}return W.makeSpan(["mord","text"].concat(r.sizingClasses(t)),W.tryCombineChars(i),r)},mathmlBuilder(e,t){var n=new re.TextNode(U2(e)),i=new re.MathNode("mtext",[n]);return i.setAttribute("mathvariant","monospace"),i}});var U2=e=>e.body.replace(/ /g,e.star?"␣":" "),Ks=dT,WT=`[ \r
	]`,F$="\\\\[a-zA-Z@]+",T$="\\\\[^\uD800-\uDFFF]",A$="("+F$+")"+WT+"*",R$=`\\\\(
|[ \r	]+
?)[ \r	]*`,z1="[̀-ͯ]",D$=new RegExp(z1+"+$"),M$="("+WT+"+)|"+(R$+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(z1+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(z1+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+A$)+("|"+T$+")");class j2{constructor(t,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=t,this.settings=n,this.tokenRegex=new RegExp(M$,"g"),this.catcodes={"%":14,"~":13}}setCatcode(t,n){this.catcodes[t]=n}lex(){var t=this.input,n=this.tokenRegex.lastIndex;if(n===t.length)return new fo("EOF",new ji(this,n,n));var i=this.tokenRegex.exec(t);if(i===null||i.index!==n)throw new ae("Unexpected character: '"+t[n]+"'",new fo(t[n],new ji(this,n,n+1)));var r=i[6]||i[3]||(i[2]?"\\ ":" ");if(this.catcodes[r]===14){var o=t.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=t.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new fo(r,new ji(this,n,this.tokenRegex.lastIndex))}}class P${constructor(t,n){t===void 0&&(t={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=t,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ae("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var t=this.undefStack.pop();for(var n in t)t.hasOwnProperty(n)&&(t[n]==null?delete this.current[n]:this.current[n]=t[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(t){return this.current.hasOwnProperty(t)||this.builtins.hasOwnProperty(t)}get(t){return this.current.hasOwnProperty(t)?this.current[t]:this.builtins[t]}set(t,n,i){if(i===void 0&&(i=!1),i){for(var r=0;r<this.undefStack.length;r++)delete this.undefStack[r][t];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][t]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(t)&&(o[t]=this.current[t])}n==null?delete this.current[t]:this.current[t]=n}}var I$=PT;A("\\noexpand",function(e){var t=e.popToken();return e.isExpandable(t.text)&&(t.noexpand=!0,t.treatAsRelax=!0),{tokens:[t],numArgs:0}});A("\\expandafter",function(e){var t=e.popToken();return e.expandOnce(!0),{tokens:[t],numArgs:0}});A("\\@firstoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[0],numArgs:0}});A("\\@secondoftwo",function(e){var t=e.consumeArgs(2);return{tokens:t[1],numArgs:0}});A("\\@ifnextchar",function(e){var t=e.consumeArgs(3);e.consumeSpaces();var n=e.future();return t[0].length===1&&t[0][0].text===n.text?{tokens:t[1],numArgs:0}:{tokens:t[2],numArgs:0}});A("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");A("\\TextOrMath",function(e){var t=e.consumeArgs(2);return e.mode==="text"?{tokens:t[0],numArgs:0}:{tokens:t[1],numArgs:0}});var q2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};A("\\char",function(e){var t=e.popToken(),n,i="";if(t.text==="'")n=8,t=e.popToken();else if(t.text==='"')n=16,t=e.popToken();else if(t.text==="`")if(t=e.popToken(),t.text[0]==="\\")i=t.text.charCodeAt(1);else{if(t.text==="EOF")throw new ae("\\char` missing argument");i=t.text.charCodeAt(0)}else n=10;if(n){if(i=q2[t.text],i==null||i>=n)throw new ae("Invalid base-"+n+" digit "+t.text);for(var r;(r=q2[e.future().text])!=null&&r<n;)i*=n,i+=r,e.popToken()}return"\\@char{"+i+"}"});var Fy=(e,t,n,i)=>{var r=e.consumeArg().tokens;if(r.length!==1)throw new ae("\\newcommand's first argument must be a macro name");var o=r[0].text,s=e.isDefined(o);if(s&&!t)throw new ae("\\newcommand{"+o+"} attempting to redefine "+(o+"; use \\renewcommand"));if(!s&&!n)throw new ae("\\renewcommand{"+o+"} when command "+o+" does not yet exist; use \\newcommand");var a=0;if(r=e.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var l="",u=e.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=e.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new ae("Invalid number of arguments: "+l);a=parseInt(l),r=e.consumeArg().tokens}return s&&i||e.macros.set(o,{tokens:r,numArgs:a}),""};A("\\newcommand",e=>Fy(e,!1,!0,!1));A("\\renewcommand",e=>Fy(e,!0,!1,!1));A("\\providecommand",e=>Fy(e,!0,!0,!0));A("\\message",e=>{var t=e.consumeArgs(1)[0];return console.log(t.reverse().map(n=>n.text).join("")),""});A("\\errmessage",e=>{var t=e.consumeArgs(1)[0];return console.error(t.reverse().map(n=>n.text).join("")),""});A("\\show",e=>{var t=e.popToken(),n=t.text;return console.log(t,e.macros.get(n),Ks[n],Nt.math[n],Nt.text[n]),""});A("\\bgroup","{");A("\\egroup","}");A("~","\\nobreakspace");A("\\lq","`");A("\\rq","'");A("\\aa","\\r a");A("\\AA","\\r A");A("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}");A("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");A("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}");A("ℬ","\\mathscr{B}");A("ℰ","\\mathscr{E}");A("ℱ","\\mathscr{F}");A("ℋ","\\mathscr{H}");A("ℐ","\\mathscr{I}");A("ℒ","\\mathscr{L}");A("ℳ","\\mathscr{M}");A("ℛ","\\mathscr{R}");A("ℭ","\\mathfrak{C}");A("ℌ","\\mathfrak{H}");A("ℨ","\\mathfrak{Z}");A("\\Bbbk","\\Bbb{k}");A("·","\\cdotp");A("\\llap","\\mathllap{\\textrm{#1}}");A("\\rlap","\\mathrlap{\\textrm{#1}}");A("\\clap","\\mathclap{\\textrm{#1}}");A("\\mathstrut","\\vphantom{(}");A("\\underbar","\\underline{\\text{#1}}");A("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');A("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}");A("\\ne","\\neq");A("≠","\\neq");A("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}");A("∉","\\notin");A("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}");A("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}");A("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}");A("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}");A("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}");A("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}");A("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}");A("⟂","\\perp");A("‼","\\mathclose{!\\mkern-0.8mu!}");A("∌","\\notni");A("⌜","\\ulcorner");A("⌝","\\urcorner");A("⌞","\\llcorner");A("⌟","\\lrcorner");A("©","\\copyright");A("®","\\textregistered");A("️","\\textregistered");A("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');A("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');A("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');A("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');A("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");A("⋮","\\vdots");A("\\varGamma","\\mathit{\\Gamma}");A("\\varDelta","\\mathit{\\Delta}");A("\\varTheta","\\mathit{\\Theta}");A("\\varLambda","\\mathit{\\Lambda}");A("\\varXi","\\mathit{\\Xi}");A("\\varPi","\\mathit{\\Pi}");A("\\varSigma","\\mathit{\\Sigma}");A("\\varUpsilon","\\mathit{\\Upsilon}");A("\\varPhi","\\mathit{\\Phi}");A("\\varPsi","\\mathit{\\Psi}");A("\\varOmega","\\mathit{\\Omega}");A("\\substack","\\begin{subarray}{c}#1\\end{subarray}");A("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");A("\\boxed","\\fbox{$\\displaystyle{#1}$}");A("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");A("\\implies","\\DOTSB\\;\\Longrightarrow\\;");A("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");A("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");A("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var K2={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};A("\\dots",function(e){var t="\\dotso",n=e.expandAfterFuture().text;return n in K2?t=K2[n]:(n.slice(0,4)==="\\not"||n in Nt.math&&Ie.contains(["bin","rel"],Nt.math[n].group))&&(t="\\dotsb"),t});var Ty={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};A("\\dotso",function(e){var t=e.future().text;return t in Ty?"\\ldots\\,":"\\ldots"});A("\\dotsc",function(e){var t=e.future().text;return t in Ty&&t!==","?"\\ldots\\,":"\\ldots"});A("\\cdots",function(e){var t=e.future().text;return t in Ty?"\\@cdots\\,":"\\@cdots"});A("\\dotsb","\\cdots");A("\\dotsm","\\cdots");A("\\dotsi","\\!\\cdots");A("\\dotsx","\\ldots\\,");A("\\DOTSI","\\relax");A("\\DOTSB","\\relax");A("\\DOTSX","\\relax");A("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");A("\\,","\\tmspace+{3mu}{.1667em}");A("\\thinspace","\\,");A("\\>","\\mskip{4mu}");A("\\:","\\tmspace+{4mu}{.2222em}");A("\\medspace","\\:");A("\\;","\\tmspace+{5mu}{.2777em}");A("\\thickspace","\\;");A("\\!","\\tmspace-{3mu}{.1667em}");A("\\negthinspace","\\!");A("\\negmedspace","\\tmspace-{4mu}{.2222em}");A("\\negthickspace","\\tmspace-{5mu}{.277em}");A("\\enspace","\\kern.5em ");A("\\enskip","\\hskip.5em\\relax");A("\\quad","\\hskip1em\\relax");A("\\qquad","\\hskip2em\\relax");A("\\tag","\\@ifstar\\tag@literal\\tag@paren");A("\\tag@paren","\\tag@literal{({#1})}");A("\\tag@literal",e=>{if(e.macros.get("\\df@tag"))throw new ae("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});A("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");A("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");A("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");A("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");A("\\newline","\\\\\\relax");A("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var $T=ce(oo["Main-Regular"][84][1]-.7*oo["Main-Regular"][65][1]);A("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+$T+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");A("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+$T+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");A("\\hspace","\\@ifstar\\@hspacer\\@hspace");A("\\@hspace","\\hskip #1\\relax");A("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");A("\\ordinarycolon",":");A("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");A("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');A("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');A("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');A("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');A("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');A("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');A("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');A("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');A("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');A("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');A("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');A("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');A("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');A("∷","\\dblcolon");A("∹","\\eqcolon");A("≔","\\coloneqq");A("≕","\\eqqcolon");A("⩴","\\Coloneqq");A("\\ratio","\\vcentcolon");A("\\coloncolon","\\dblcolon");A("\\colonequals","\\coloneqq");A("\\coloncolonequals","\\Coloneqq");A("\\equalscolon","\\eqqcolon");A("\\equalscoloncolon","\\Eqqcolon");A("\\colonminus","\\coloneq");A("\\coloncolonminus","\\Coloneq");A("\\minuscolon","\\eqcolon");A("\\minuscoloncolon","\\Eqcolon");A("\\coloncolonapprox","\\Colonapprox");A("\\coloncolonsim","\\Colonsim");A("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}");A("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");A("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");A("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");A("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");A("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");A("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");A("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");A("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");A("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}");A("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}");A("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}");A("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}");A("\\nleqq","\\html@mathml{\\@nleqq}{≰}");A("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}");A("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}");A("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}");A("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}");A("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}");A("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}");A("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}");A("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}");A("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}");A("\\imath","\\html@mathml{\\@imath}{ı}");A("\\jmath","\\html@mathml{\\@jmath}{ȷ}");A("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}");A("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}");A("⟦","\\llbracket");A("⟧","\\rrbracket");A("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}");A("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}");A("⦃","\\lBrace");A("⦄","\\rBrace");A("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}");A("⦵","\\minuso");A("\\darr","\\downarrow");A("\\dArr","\\Downarrow");A("\\Darr","\\Downarrow");A("\\lang","\\langle");A("\\rang","\\rangle");A("\\uarr","\\uparrow");A("\\uArr","\\Uparrow");A("\\Uarr","\\Uparrow");A("\\N","\\mathbb{N}");A("\\R","\\mathbb{R}");A("\\Z","\\mathbb{Z}");A("\\alef","\\aleph");A("\\alefsym","\\aleph");A("\\Alpha","\\mathrm{A}");A("\\Beta","\\mathrm{B}");A("\\bull","\\bullet");A("\\Chi","\\mathrm{X}");A("\\clubs","\\clubsuit");A("\\cnums","\\mathbb{C}");A("\\Complex","\\mathbb{C}");A("\\Dagger","\\ddagger");A("\\diamonds","\\diamondsuit");A("\\empty","\\emptyset");A("\\Epsilon","\\mathrm{E}");A("\\Eta","\\mathrm{H}");A("\\exist","\\exists");A("\\harr","\\leftrightarrow");A("\\hArr","\\Leftrightarrow");A("\\Harr","\\Leftrightarrow");A("\\hearts","\\heartsuit");A("\\image","\\Im");A("\\infin","\\infty");A("\\Iota","\\mathrm{I}");A("\\isin","\\in");A("\\Kappa","\\mathrm{K}");A("\\larr","\\leftarrow");A("\\lArr","\\Leftarrow");A("\\Larr","\\Leftarrow");A("\\lrarr","\\leftrightarrow");A("\\lrArr","\\Leftrightarrow");A("\\Lrarr","\\Leftrightarrow");A("\\Mu","\\mathrm{M}");A("\\natnums","\\mathbb{N}");A("\\Nu","\\mathrm{N}");A("\\Omicron","\\mathrm{O}");A("\\plusmn","\\pm");A("\\rarr","\\rightarrow");A("\\rArr","\\Rightarrow");A("\\Rarr","\\Rightarrow");A("\\real","\\Re");A("\\reals","\\mathbb{R}");A("\\Reals","\\mathbb{R}");A("\\Rho","\\mathrm{P}");A("\\sdot","\\cdot");A("\\sect","\\S");A("\\spades","\\spadesuit");A("\\sub","\\subset");A("\\sube","\\subseteq");A("\\supe","\\supseteq");A("\\Tau","\\mathrm{T}");A("\\thetasym","\\vartheta");A("\\weierp","\\wp");A("\\Zeta","\\mathrm{Z}");A("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");A("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");A("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");A("\\bra","\\mathinner{\\langle{#1}|}");A("\\ket","\\mathinner{|{#1}\\rangle}");A("\\braket","\\mathinner{\\langle{#1}\\rangle}");A("\\Bra","\\left\\langle#1\\right|");A("\\Ket","\\left|#1\\right\\rangle");var UT=e=>t=>{var n=t.consumeArg().tokens,i=t.consumeArg().tokens,r=t.consumeArg().tokens,o=t.consumeArg().tokens,s=t.macros.get("|"),a=t.macros.get("\\|");t.macros.beginGroup();var l=d=>h=>{e&&(h.macros.set("|",s),r.length&&h.macros.set("\\|",a));var p=d;if(!d&&r.length){var f=h.future();f.text==="|"&&(h.popToken(),p=!0)}return{tokens:p?r:i,numArgs:0}};t.macros.set("|",l(!1)),r.length&&t.macros.set("\\|",l(!0));var u=t.consumeArg().tokens,c=t.expandTokens([...o,...u,...n]);return t.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};A("\\bra@ket",UT(!1));A("\\bra@set",UT(!0));A("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");A("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");A("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");A("\\angln","{\\angl n}");A("\\blue","\\textcolor{##6495ed}{#1}");A("\\orange","\\textcolor{##ffa500}{#1}");A("\\pink","\\textcolor{##ff00af}{#1}");A("\\red","\\textcolor{##df0030}{#1}");A("\\green","\\textcolor{##28ae7b}{#1}");A("\\gray","\\textcolor{gray}{#1}");A("\\purple","\\textcolor{##9d38bd}{#1}");A("\\blueA","\\textcolor{##ccfaff}{#1}");A("\\blueB","\\textcolor{##80f6ff}{#1}");A("\\blueC","\\textcolor{##63d9ea}{#1}");A("\\blueD","\\textcolor{##11accd}{#1}");A("\\blueE","\\textcolor{##0c7f99}{#1}");A("\\tealA","\\textcolor{##94fff5}{#1}");A("\\tealB","\\textcolor{##26edd5}{#1}");A("\\tealC","\\textcolor{##01d1c1}{#1}");A("\\tealD","\\textcolor{##01a995}{#1}");A("\\tealE","\\textcolor{##208170}{#1}");A("\\greenA","\\textcolor{##b6ffb0}{#1}");A("\\greenB","\\textcolor{##8af281}{#1}");A("\\greenC","\\textcolor{##74cf70}{#1}");A("\\greenD","\\textcolor{##1fab54}{#1}");A("\\greenE","\\textcolor{##0d923f}{#1}");A("\\goldA","\\textcolor{##ffd0a9}{#1}");A("\\goldB","\\textcolor{##ffbb71}{#1}");A("\\goldC","\\textcolor{##ff9c39}{#1}");A("\\goldD","\\textcolor{##e07d10}{#1}");A("\\goldE","\\textcolor{##a75a05}{#1}");A("\\redA","\\textcolor{##fca9a9}{#1}");A("\\redB","\\textcolor{##ff8482}{#1}");A("\\redC","\\textcolor{##f9685d}{#1}");A("\\redD","\\textcolor{##e84d39}{#1}");A("\\redE","\\textcolor{##bc2612}{#1}");A("\\maroonA","\\textcolor{##ffbde0}{#1}");A("\\maroonB","\\textcolor{##ff92c6}{#1}");A("\\maroonC","\\textcolor{##ed5fa6}{#1}");A("\\maroonD","\\textcolor{##ca337c}{#1}");A("\\maroonE","\\textcolor{##9e034e}{#1}");A("\\purpleA","\\textcolor{##ddd7ff}{#1}");A("\\purpleB","\\textcolor{##c6b9fc}{#1}");A("\\purpleC","\\textcolor{##aa87ff}{#1}");A("\\purpleD","\\textcolor{##7854ab}{#1}");A("\\purpleE","\\textcolor{##543b78}{#1}");A("\\mintA","\\textcolor{##f5f9e8}{#1}");A("\\mintB","\\textcolor{##edf2df}{#1}");A("\\mintC","\\textcolor{##e0e5cc}{#1}");A("\\grayA","\\textcolor{##f6f7f7}{#1}");A("\\grayB","\\textcolor{##f0f1f2}{#1}");A("\\grayC","\\textcolor{##e3e5e6}{#1}");A("\\grayD","\\textcolor{##d6d8da}{#1}");A("\\grayE","\\textcolor{##babec2}{#1}");A("\\grayF","\\textcolor{##888d93}{#1}");A("\\grayG","\\textcolor{##626569}{#1}");A("\\grayH","\\textcolor{##3b3e40}{#1}");A("\\grayI","\\textcolor{##21242c}{#1}");A("\\kaBlue","\\textcolor{##314453}{#1}");A("\\kaGreen","\\textcolor{##71B307}{#1}");var jT={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class O${constructor(t,n,i){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(t),this.macros=new P$(I$,n.macros),this.mode=i,this.stack=[]}feed(t){this.lexer=new j2(t,this.settings)}switchMode(t){this.mode=t}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(t){this.stack.push(t)}pushTokens(t){this.stack.push(...t)}scanArgument(t){var n,i,r;if(t){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:r,end:i}=this.consumeArg(["]"])}else({tokens:r,start:n,end:i}=this.consumeArg());return this.pushToken(new fo("EOF",i.loc)),this.pushTokens(r),n.range(i,"")}consumeSpaces(){for(;;){var t=this.future();if(t.text===" ")this.stack.pop();else break}}consumeArg(t){var n=[],i=t&&t.length>0;i||this.consumeSpaces();var r=this.future(),o,s=0,a=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++s;else if(o.text==="}"){if(--s,s===-1)throw new ae("Extra }",o)}else if(o.text==="EOF")throw new ae("Unexpected end of input in a macro argument, expected '"+(t&&i?t[a]:"}")+"'",o);if(t&&i)if((s===0||s===1&&t[a]==="{")&&o.text===t[a]){if(++a,a===t.length){n.splice(-a,a);break}}else a=0}while(s!==0||i);return r.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:r,end:o}}consumeArgs(t,n){if(n){if(n.length!==t+1)throw new ae("The length of delimiters doesn't match the number of args!");for(var i=n[0],r=0;r<i.length;r++){var o=this.popToken();if(i[r]!==o.text)throw new ae("Use of the macro doesn't match its definition",o)}}for(var s=[],a=0;a<t;a++)s.push(this.consumeArg(n&&n[a+1]).tokens);return s}countExpansion(t){if(this.expansionCount+=t,this.expansionCount>this.settings.maxExpand)throw new ae("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(t){var n=this.popToken(),i=n.text,r=n.noexpand?null:this._getExpansion(i);if(r==null||t&&r.unexpandable){if(t&&r==null&&i[0]==="\\"&&!this.isDefined(i))throw new ae("Undefined control sequence: "+i);return this.pushToken(n),!1}this.countExpansion(1);var o=r.tokens,s=this.consumeArgs(r.numArgs,r.delimiters);if(r.numArgs){o=o.slice();for(var a=o.length-1;a>=0;--a){var l=o[a];if(l.text==="#"){if(a===0)throw new ae("Incomplete placeholder at end of macro body",l);if(l=o[--a],l.text==="#")o.splice(a+1,1);else if(/^[1-9]$/.test(l.text))o.splice(a,2,...s[+l.text-1]);else throw new ae("Not a valid argument number",l)}}}return this.pushTokens(o),o.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var t=this.stack.pop();return t.treatAsRelax&&(t.text="\\relax"),t}throw new Error}expandMacro(t){return this.macros.has(t)?this.expandTokens([new fo(t)]):void 0}expandTokens(t){var n=[],i=this.stack.length;for(this.pushTokens(t);this.stack.length>i;)if(this.expandOnce(!0)===!1){var r=this.stack.pop();r.treatAsRelax&&(r.noexpand=!1,r.treatAsRelax=!1),n.push(r)}return this.countExpansion(n.length),n}expandMacroAsText(t){var n=this.expandMacro(t);return n&&n.map(i=>i.text).join("")}_getExpansion(t){var n=this.macros.get(t);if(n==null)return n;if(t.length===1){var i=this.lexer.catcodes[t];if(i!=null&&i!==13)return}var r=typeof n=="function"?n(this):n;if(typeof r=="string"){var o=0;if(r.indexOf("#")!==-1)for(var s=r.replace(/##/g,"");s.indexOf("#"+(o+1))!==-1;)++o;for(var a=new j2(r,this.settings),l=[],u=a.lex();u.text!=="EOF";)l.push(u),u=a.lex();l.reverse();var c={tokens:l,numArgs:o};return c}return r}isDefined(t){return this.macros.has(t)||Ks.hasOwnProperty(t)||Nt.math.hasOwnProperty(t)||Nt.text.hasOwnProperty(t)||jT.hasOwnProperty(t)}isExpandable(t){var n=this.macros.get(t);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Ks.hasOwnProperty(t)&&!Ks[t].primitive}}var Y2=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,jh=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),$m={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},X2={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class gg{constructor(t,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new O$(t,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(t,n){if(n===void 0&&(n=!0),this.fetch().text!==t)throw new ae("Expected '"+t+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(t){this.mode=t,this.gullet.switchMode(t)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var t=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),t}finally{this.gullet.endGroups()}}subparse(t){var n=this.nextToken;this.consume(),this.gullet.pushToken(new fo("}")),this.gullet.pushTokens(t);var i=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,i}parseExpression(t,n){for(var i=[];;){this.mode==="math"&&this.consumeSpaces();var r=this.fetch();if(gg.endOfExpression.indexOf(r.text)!==-1||n&&r.text===n||t&&Ks[r.text]&&Ks[r.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;i.push(o)}return this.mode==="text"&&this.formLigatures(i),this.handleInfixNodes(i)}handleInfixNodes(t){for(var n=-1,i,r=0;r<t.length;r++)if(t[r].type==="infix"){if(n!==-1)throw new ae("only one infix operator per group",t[r].token);n=r,i=t[r].replaceWith}if(n!==-1&&i){var o,s,a=t.slice(0,n),l=t.slice(n+1);a.length===1&&a[0].type==="ordgroup"?o=a[0]:o={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return i==="\\\\abovefrac"?u=this.callFunction(i,[o,t[n],s],[]):u=this.callFunction(i,[o,s],[]),[u]}else return t}handleSupSubscript(t){var n=this.fetch(),i=n.text;this.consume(),this.consumeSpaces();var r;do{var o;r=this.parseGroup(t)}while(((o=r)==null?void 0:o.type)==="internal");if(!r)throw new ae("Expected group after '"+i+"'",n);return r}formatUnsupportedCmd(t){for(var n=[],i=0;i<t.length;i++)n.push({type:"textord",mode:"text",text:t[i]});var r={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[r]};return o}parseAtom(t){var n=this.parseGroup("atom",t);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var i,r;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var s=o.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new ae("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(i)throw new ae("Double superscript",o);i=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(r)throw new ae("Double subscript",o);r=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(i)throw new ae("Double superscript",o);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),i={type:"ordgroup",mode:this.mode,body:l}}else if(jh[o.text]){var u=Y2.test(o.text),c=[];for(c.push(new fo(jh[o.text])),this.consume();;){var d=this.fetch().text;if(!jh[d]||Y2.test(d)!==u)break;c.unshift(new fo(jh[d])),this.consume()}var h=this.subparse(c);u?r={type:"ordgroup",mode:"math",body:h}:i={type:"ordgroup",mode:"math",body:h}}else break}return i||r?{type:"supsub",mode:this.mode,base:n,sup:i,sub:r}:n}parseFunction(t,n){var i=this.fetch(),r=i.text,o=Ks[r];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new ae("Got function '"+r+"' with no arguments"+(n?" as "+n:""),i);if(this.mode==="text"&&!o.allowedInText)throw new ae("Can't use function '"+r+"' in text mode",i);if(this.mode==="math"&&o.allowedInMath===!1)throw new ae("Can't use function '"+r+"' in math mode",i);var{args:s,optArgs:a}=this.parseArguments(r,o);return this.callFunction(r,s,a,i,t)}callFunction(t,n,i,r,o){var s={funcName:t,parser:this,token:r,breakOnTokenText:o},a=Ks[t];if(a&&a.handler)return a.handler(s,n,i);throw new ae("No function handler for "+t)}parseArguments(t,n){var i=n.numArgs+n.numOptionalArgs;if(i===0)return{args:[],optArgs:[]};for(var r=[],o=[],s=0;s<i;s++){var a=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&a==null||n.type==="sqrt"&&s===1&&o[0]==null)&&(a="primitive");var u=this.parseGroupOfType("argument to '"+t+"'",a,l);if(l)o.push(u);else if(u!=null)r.push(u);else throw new ae("Null argument, please report this as a bug")}return{args:r,optArgs:o}}parseGroupOfType(t,n,i){switch(n){case"color":return this.parseColorGroup(i);case"size":return this.parseSizeGroup(i);case"url":return this.parseUrlGroup(i);case"math":case"text":return this.parseArgumentGroup(i,n);case"hbox":{var r=this.parseArgumentGroup(i,"text");return r!=null?{type:"styling",mode:r.mode,body:[r],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",i);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(i)throw new ae("A primitive argument cannot be optional");var s=this.parseGroup(t);if(s==null)throw new ae("Expected group as "+t,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(i);default:throw new ae("Unknown group type as "+t,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(t,n){var i=this.gullet.scanArgument(n);if(i==null)return null;for(var r="",o;(o=this.fetch()).text!=="EOF";)r+=o.text,this.consume();return this.consume(),i.text=r,i}parseRegexGroup(t,n){for(var i=this.fetch(),r=i,o="",s;(s=this.fetch()).text!=="EOF"&&t.test(o+s.text);)r=s,o+=r.text,this.consume();if(o==="")throw new ae("Invalid "+n+": '"+i.text+"'",i);return i.range(r,o)}parseColorGroup(t){var n=this.parseStringGroup("color",t);if(n==null)return null;var i=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!i)throw new ae("Invalid color: '"+n.text+"'",n);var r=i[0];return/^[0-9a-f]{6}$/i.test(r)&&(r="#"+r),{type:"color-token",mode:this.mode,color:r}}parseSizeGroup(t){var n,i=!1;if(this.gullet.consumeSpaces(),!t&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",t),!n)return null;!t&&n.text.length===0&&(n.text="0pt",i=!0);var r=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!r)throw new ae("Invalid size: '"+n.text+"'",n);var o={number:+(r[1]+r[2]),unit:r[3]};if(!nT(o))throw new ae("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:i}}parseUrlGroup(t){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",t);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var i=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:i}}parseArgumentGroup(t,n){var i=this.gullet.scanArgument(t);if(i==null)return null;var r=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:i.loc,body:o};return n&&this.switchMode(r),s}parseGroup(t,n){var i=this.fetch(),r=i.text,o;if(r==="{"||r==="\\begingroup"){this.consume();var s=r==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:ji.range(i,l),body:a,semisimple:r==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,t)||this.parseSymbol(),o==null&&r[0]==="\\"&&!jT.hasOwnProperty(r)){if(this.settings.throwOnError)throw new ae("Undefined control sequence: "+r,i);o=this.formatUnsupportedCmd(r),this.consume()}return o}formLigatures(t){for(var n=t.length-1,i=0;i<n;++i){var r=t[i],o=r.text;o==="-"&&t[i+1].text==="-"&&(i+1<n&&t[i+2].text==="-"?(t.splice(i,3,{type:"textord",mode:"text",loc:ji.range(r,t[i+2]),text:"---"}),n-=2):(t.splice(i,2,{type:"textord",mode:"text",loc:ji.range(r,t[i+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&t[i+1].text===o&&(t.splice(i,2,{type:"textord",mode:"text",loc:ji.range(r,t[i+1]),text:o+o}),n-=1)}}parseSymbol(){var t=this.fetch(),n=t.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var i=n.slice(5),r=i.charAt(0)==="*";if(r&&(i=i.slice(1)),i.length<2||i.charAt(0)!==i.slice(-1))throw new ae(`\\verb assertion failed --
                    please report what input caused this bug`);return i=i.slice(1,-1),{type:"verb",mode:"text",body:i,star:r}}X2.hasOwnProperty(n[0])&&!Nt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',t),n=X2[n[0]]+n.slice(1));var o=D$.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="ı":n==="j"&&(n="ȷ"));var s;if(Nt[this.mode][n]){this.settings.strict&&this.mode==="math"&&I1.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',t);var a=Nt[this.mode][n].group,l=ji.range(t),u;if(SW.hasOwnProperty(a)){var c=a;u={type:"atom",mode:this.mode,family:c,loc:l,text:n}}else u={type:a,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(tT(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',t):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),t)),s={type:"textord",mode:"text",loc:ji.range(t),text:n};else return null;if(this.consume(),o)for(var d=0;d<o[0].length;d++){var h=o[0][d];if(!$m[h])throw new ae("Unknown accent ' "+h+"'",t);var p=$m[h][this.mode]||$m[h].text;if(!p)throw new ae("Accent "+h+" unsupported in "+this.mode+" mode",t);s={type:"accent",mode:this.mode,loc:ji.range(t),label:p,isStretchy:!1,isShifty:!0,base:s}}return s}}gg.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Ay=function(t,n){if(!(typeof t=="string"||t instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var i=new gg(t,n);delete i.gullet.macros.current["\\df@tag"];var r=i.parse();if(delete i.gullet.macros.current["\\current@color"],delete i.gullet.macros.current["\\color"],i.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ae("\\tag works only in display equations");r=[{type:"tag",mode:"text",body:r,tag:i.subparse([new fo("\\df@tag")])}]}return r},qT=function(t,n,i){n.textContent="";var r=Ry(t,i).toNode();n.appendChild(r)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),qT=function(){throw new ae("KaTeX doesn't work in quirks mode.")});var L$=function(t,n){var i=Ry(t,n).toMarkup();return i},N$=function(t,n){var i=new cy(n);return Ay(t,i)},KT=function(t,n,i){if(i.throwOnError||!(t instanceof ae))throw t;var r=W.makeSpan(["katex-error"],[new Rr(n)]);return r.setAttribute("title",t.toString()),r.setAttribute("style","color:"+i.errorColor),r},Ry=function(t,n){var i=new cy(n);try{var r=Ay(t,i);return UW(r,t,i)}catch(o){return KT(o,t,i)}},B$=function(t,n){var i=new cy(n);try{var r=Ay(t,i);return jW(r,t,i)}catch(o){return KT(o,t,i)}},z$="0.16.22",H$={Span:Qd,Anchor:py,SymbolNode:Rr,SvgNode:us,PathNode:aa,LineNode:P1},V$={version:z$,render:qT,renderToString:L$,ParseError:ae,SETTINGS_SCHEMA:Fp,__parse:N$,__renderToDomTree:Ry,__renderToHTMLTree:B$,__setFontMetrics:fW,__defineSymbol:C,__defineFunction:Ce,__defineMacro:A,__domTree:H$};function _$(e,t,n,i,r){const o=e.doc.nodeSize-2;let s=0,a=o;if(t.isEditable!==n)s=0,a=o;else if(i.docChanged)s=o,a=0,iF(i).forEach(l=>{s=Math.min(s,l.newRange.from-1,l.oldRange.from-1),a=Math.max(a,l.newRange.to+1,l.oldRange.to+1)});else if(i.selectionSet){const{$from:l,$to:u}=r.selection,{$from:c,$to:d}=e.selection;s=Math.min(l.depth===0?0:l.before(),c.depth===0?0:c.before()),a=Math.max(u.depth===0?a:u.after(),d.depth===0?a:d.after())}return{minFrom:Math.max(s,0),maxTo:Math.min(a,o)}}const G$=e=>{const{regex:t,katexOptions:n={},editor:i,shouldRender:r}=e;return new rn({key:new xn("mathematics"),state:{init(){return{decorations:void 0,isEditable:void 0}},apply(o,s,a,l){if(!o.docChanged&&!o.selectionSet&&s.decorations)return s;const u=(s.decorations||Pt.empty).map(o.mapping,o.doc),{selection:c}=l,d=i.isEditable,h=[],{minFrom:p,maxTo:f}=_$(l,s,d,o,a);l.doc.nodesBetween(p,f,(m,v)=>{const b=r(l,v,m);if(m.isText&&m.text&&b){let S;for(;S=t.exec(m.text);){const y=v+S.index,x=y+S[0].length,E=S.slice(1).find(Boolean);if(E){const R=c.from-c.to,T=c.anchor>=y&&c.anchor<=x,F=c.from>=y&&c.to<=x,D=R===0&&T||F;if(u.find(y,x,O=>D===O.isEditing&&E===O.content&&d===O.isEditable&&n===O.katexOptions).length)continue;h.push(Pn.inline(y,x,{class:D&&d?"Tiptap-mathematics-editor":"Tiptap-mathematics-editor Tiptap-mathematics-editor--hidden",style:!D||!d?"display: inline-block; height: 0; opacity: 0; overflow: hidden; position: absolute; width: 0;":void 0},{content:E,isEditable:d,isEditing:D,katexOptions:n})),(!d||!D)&&h.push(Pn.widget(y,()=>{const O=document.createElement("span");O.classList.add("Tiptap-mathematics-render"),d&&O.classList.add("Tiptap-mathematics-render--editable");try{V$.render(E,O,n)}catch{O.innerHTML=E}return O},{content:E,isEditable:d,isEditing:D,katexOptions:n}))}}}});const g=h.flatMap(m=>u.find(m.from,m.to));return{decorations:u.remove(g).add(o.doc,h),isEditable:d}}},props:{decorations(o){var s,a;return(a=(s=this.getState(o))===null||s===void 0?void 0:s.decorations)!==null&&a!==void 0?a:Pt.empty}}})},W$=(e,t)=>!(e.doc.resolve(t).parent.type.name==="codeBlock");mn.create({name:"Mathematics",addOptions(){return{regex:/\$([^\$]*)\$/gi,katexOptions:void 0,shouldRender:W$}},addProseMirrorPlugins(){return[G$({...this.options,editor:this.editor})]}});const $$={props:{items:{type:Array,required:!0},command:{type:Function,required:!0}},data(){return{selectedIndex:0}},watch:{items(){this.selectedIndex=0}},methods:{onKeyDown({event:e}){switch(e.key){case"ArrowUp":return this.upHandler(),!0;case"ArrowDown":return this.downHandler(),!0;case"Enter":return this.enterHandler(),!0;default:return!1}},upHandler(){this.selectedIndex=(this.selectedIndex+this.items.length-1)%this.items.length},downHandler(){this.selectedIndex=(this.selectedIndex+1)%this.items.length},enterHandler(){this.selectItem(this.selectedIndex)},selectItem(e){const t=this.items[e];t&&this.command({id:t.id,label:t.label})}}},U$={class:"items"},j$=["onClick"],q$={key:1,class:"item"};function K$(e,t,n,i,r,o){return X(),ne("div",U$,[n.items.length?(X(!0),ne($o,{key:0},Za(n.items,(s,a)=>(X(),ne("button",{class:st(["item",{"is-selected":a===r.selectedIndex}]),key:a,onClick:l=>o.selectItem(a)},jo(s.label),11,j$))),128)):(X(),ne("div",q$,"No result"))])}const Y$=nn($$,[["render",K$],["__scopeId","data-v-2bd74470"]]),X$={render:()=>{let e,t;return{onStart:n=>{e=new $H(Y$,{props:n,editor:n.editor}),n.clientRect&&(t=Jd("body",{getReferenceClientRect:n.clientRect,appendTo:()=>wwLib.getFrontDocument().body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(n){e.updateProps(n),n.clientRect&&t[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){return n.event.key==="Escape"?(t[0].hide(),!0):e.ref&&e.ref.onKeyDown(n)},onExit(){t[0].destroy(),e.destroy()}}}},J2={};function J$(e){let t=J2[e];if(t)return t;t=J2[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);t.push(i)}for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);t[i]="%"+("0"+i.toString(16).toUpperCase()).slice(-2)}return t}function xu(e,t){typeof t!="string"&&(t=xu.defaultChars);const n=J$(t);return e.replace(/(%[a-f0-9]{2})+/gi,function(i){let r="";for(let o=0,s=i.length;o<s;o+=3){const a=parseInt(i.slice(o+1,o+3),16);if(a<128){r+=n[a];continue}if((a&224)===192&&o+3<s){const l=parseInt(i.slice(o+4,o+6),16);if((l&192)===128){const u=a<<6&1984|l&63;u<128?r+="��":r+=String.fromCharCode(u),o+=3;continue}}if((a&240)===224&&o+6<s){const l=parseInt(i.slice(o+4,o+6),16),u=parseInt(i.slice(o+7,o+9),16);if((l&192)===128&&(u&192)===128){const c=a<<12&61440|l<<6&4032|u&63;c<2048||c>=55296&&c<=57343?r+="���":r+=String.fromCharCode(c),o+=6;continue}}if((a&248)===240&&o+9<s){const l=parseInt(i.slice(o+4,o+6),16),u=parseInt(i.slice(o+7,o+9),16),c=parseInt(i.slice(o+10,o+12),16);if((l&192)===128&&(u&192)===128&&(c&192)===128){let d=a<<18&1835008|l<<12&258048|u<<6&4032|c&63;d<65536||d>1114111?r+="����":(d-=65536,r+=String.fromCharCode(55296+(d>>10),56320+(d&1023))),o+=9;continue}}r+="�"}return r})}xu.defaultChars=";/?:@&=+$,#";xu.componentChars="";const Z2={};function Z$(e){let t=Z2[e];if(t)return t;t=Z2[e]=[];for(let n=0;n<128;n++){const i=String.fromCharCode(n);/^[0-9a-z]$/i.test(i)?t.push(i):t.push("%"+("0"+n.toString(16).toUpperCase()).slice(-2))}for(let n=0;n<e.length;n++)t[e.charCodeAt(n)]=e[n];return t}function th(e,t,n){typeof t!="string"&&(n=t,t=th.defaultChars),typeof n>"u"&&(n=!0);const i=Z$(t);let r="";for(let o=0,s=e.length;o<s;o++){const a=e.charCodeAt(o);if(n&&a===37&&o+2<s&&/^[0-9a-f]{2}$/i.test(e.slice(o+1,o+3))){r+=e.slice(o,o+3),o+=2;continue}if(a<128){r+=i[a];continue}if(a>=55296&&a<=57343){if(a>=55296&&a<=56319&&o+1<s){const l=e.charCodeAt(o+1);if(l>=56320&&l<=57343){r+=encodeURIComponent(e[o]+e[o+1]),o++;continue}}r+="%EF%BF%BD";continue}r+=encodeURIComponent(e[o])}return r}th.defaultChars=";/?:@&=+$,-_.!~*'()#";th.componentChars="-_.!~*'()";function Dy(e){let t="";return t+=e.protocol||"",t+=e.slashes?"//":"",t+=e.auth?e.auth+"@":"",e.hostname&&e.hostname.indexOf(":")!==-1?t+="["+e.hostname+"]":t+=e.hostname||"",t+=e.port?":"+e.port:"",t+=e.pathname||"",t+=e.search||"",t+=e.hash||"",t}function jf(){this.protocol=null,this.slashes=null,this.auth=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.pathname=null}const Q$=/^([a-z0-9.+-]+:)/i,eU=/:[0-9]*$/,tU=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,nU=["<",">",'"',"`"," ","\r",`
`,"	"],iU=["{","}","|","\\","^","`"].concat(nU),rU=["'"].concat(iU),Q2=["%","/","?",";","#"].concat(rU),e4=["/","?","#"],oU=255,t4=/^[+a-z0-9A-Z_-]{0,63}$/,sU=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,n4={javascript:!0,"javascript:":!0},i4={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function My(e,t){if(e&&e instanceof jf)return e;const n=new jf;return n.parse(e,t),n}jf.prototype.parse=function(e,t){let n,i,r,o=e;if(o=o.trim(),!t&&e.split("#").length===1){const u=tU.exec(o);if(u)return this.pathname=u[1],u[2]&&(this.search=u[2]),this}let s=Q$.exec(o);if(s&&(s=s[0],n=s.toLowerCase(),this.protocol=s,o=o.substr(s.length)),(t||s||o.match(/^\/\/[^@\/]+@[^@\/]+/))&&(r=o.substr(0,2)==="//",r&&!(s&&n4[s])&&(o=o.substr(2),this.slashes=!0)),!n4[s]&&(r||s&&!i4[s])){let u=-1;for(let f=0;f<e4.length;f++)i=o.indexOf(e4[f]),i!==-1&&(u===-1||i<u)&&(u=i);let c,d;u===-1?d=o.lastIndexOf("@"):d=o.lastIndexOf("@",u),d!==-1&&(c=o.slice(0,d),o=o.slice(d+1),this.auth=c),u=-1;for(let f=0;f<Q2.length;f++)i=o.indexOf(Q2[f]),i!==-1&&(u===-1||i<u)&&(u=i);u===-1&&(u=o.length),o[u-1]===":"&&u--;const h=o.slice(0,u);o=o.slice(u),this.parseHost(h),this.hostname=this.hostname||"";const p=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!p){const f=this.hostname.split(/\./);for(let g=0,m=f.length;g<m;g++){const v=f[g];if(v&&!v.match(t4)){let b="";for(let S=0,y=v.length;S<y;S++)v.charCodeAt(S)>127?b+="x":b+=v[S];if(!b.match(t4)){const S=f.slice(0,g),y=f.slice(g+1),x=v.match(sU);x&&(S.push(x[1]),y.unshift(x[2])),y.length&&(o=y.join(".")+o),this.hostname=S.join(".");break}}}}this.hostname.length>oU&&(this.hostname=""),p&&(this.hostname=this.hostname.substr(1,this.hostname.length-2))}const a=o.indexOf("#");a!==-1&&(this.hash=o.substr(a),o=o.slice(0,a));const l=o.indexOf("?");return l!==-1&&(this.search=o.substr(l),o=o.slice(0,l)),o&&(this.pathname=o),i4[n]&&this.hostname&&!this.pathname&&(this.pathname=""),this};jf.prototype.parseHost=function(e){let t=eU.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const aU=Object.freeze(Object.defineProperty({__proto__:null,decode:xu,encode:th,format:Dy,parse:My},Symbol.toStringTag,{value:"Module"})),YT=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,XT=/[\0-\x1F\x7F-\x9F]/,lU=/[\xAD\u0600-\u0605\u061C\u06DD\u070F\u0890\u0891\u08E2\u180E\u200B-\u200F\u202A-\u202E\u2060-\u2064\u2066-\u206F\uFEFF\uFFF9-\uFFFB]|\uD804[\uDCBD\uDCCD]|\uD80D[\uDC30-\uDC3F]|\uD82F[\uDCA0-\uDCA3]|\uD834[\uDD73-\uDD7A]|\uDB40[\uDC01\uDC20-\uDC7F]/,Py=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061D-\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C77\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1B7D\u1B7E\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4F\u2E52-\u2E5D\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDEAD\uDF55-\uDF59\uDF86-\uDF89]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5A\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDEB9\uDF3C-\uDF3E]|\uD806[\uDC3B\uDD44-\uDD46\uDDE2\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2\uDF00-\uDF09]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8\uDF43-\uDF4F\uDFFF]|\uD809[\uDC70-\uDC74]|\uD80B[\uDFF1\uDFF2]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A\uDFE2]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/,JT=/[\$\+<->\^`\|~\xA2-\xA6\xA8\xA9\xAC\xAE-\xB1\xB4\xB8\xD7\xF7\u02C2-\u02C5\u02D2-\u02DF\u02E5-\u02EB\u02ED\u02EF-\u02FF\u0375\u0384\u0385\u03F6\u0482\u058D-\u058F\u0606-\u0608\u060B\u060E\u060F\u06DE\u06E9\u06FD\u06FE\u07F6\u07FE\u07FF\u0888\u09F2\u09F3\u09FA\u09FB\u0AF1\u0B70\u0BF3-\u0BFA\u0C7F\u0D4F\u0D79\u0E3F\u0F01-\u0F03\u0F13\u0F15-\u0F17\u0F1A-\u0F1F\u0F34\u0F36\u0F38\u0FBE-\u0FC5\u0FC7-\u0FCC\u0FCE\u0FCF\u0FD5-\u0FD8\u109E\u109F\u1390-\u1399\u166D\u17DB\u1940\u19DE-\u19FF\u1B61-\u1B6A\u1B74-\u1B7C\u1FBD\u1FBF-\u1FC1\u1FCD-\u1FCF\u1FDD-\u1FDF\u1FED-\u1FEF\u1FFD\u1FFE\u2044\u2052\u207A-\u207C\u208A-\u208C\u20A0-\u20C0\u2100\u2101\u2103-\u2106\u2108\u2109\u2114\u2116-\u2118\u211E-\u2123\u2125\u2127\u2129\u212E\u213A\u213B\u2140-\u2144\u214A-\u214D\u214F\u218A\u218B\u2190-\u2307\u230C-\u2328\u232B-\u2426\u2440-\u244A\u249C-\u24E9\u2500-\u2767\u2794-\u27C4\u27C7-\u27E5\u27F0-\u2982\u2999-\u29D7\u29DC-\u29FB\u29FE-\u2B73\u2B76-\u2B95\u2B97-\u2BFF\u2CE5-\u2CEA\u2E50\u2E51\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFF\u3004\u3012\u3013\u3020\u3036\u3037\u303E\u303F\u309B\u309C\u3190\u3191\u3196-\u319F\u31C0-\u31E3\u31EF\u3200-\u321E\u322A-\u3247\u3250\u3260-\u327F\u328A-\u32B0\u32C0-\u33FF\u4DC0-\u4DFF\uA490-\uA4C6\uA700-\uA716\uA720\uA721\uA789\uA78A\uA828-\uA82B\uA836-\uA839\uAA77-\uAA79\uAB5B\uAB6A\uAB6B\uFB29\uFBB2-\uFBC2\uFD40-\uFD4F\uFDCF\uFDFC-\uFDFF\uFE62\uFE64-\uFE66\uFE69\uFF04\uFF0B\uFF1C-\uFF1E\uFF3E\uFF40\uFF5C\uFF5E\uFFE0-\uFFE6\uFFE8-\uFFEE\uFFFC\uFFFD]|\uD800[\uDD37-\uDD3F\uDD79-\uDD89\uDD8C-\uDD8E\uDD90-\uDD9C\uDDA0\uDDD0-\uDDFC]|\uD802[\uDC77\uDC78\uDEC8]|\uD805\uDF3F|\uD807[\uDFD5-\uDFF1]|\uD81A[\uDF3C-\uDF3F\uDF45]|\uD82F\uDC9C|\uD833[\uDF50-\uDFC3]|\uD834[\uDC00-\uDCF5\uDD00-\uDD26\uDD29-\uDD64\uDD6A-\uDD6C\uDD83\uDD84\uDD8C-\uDDA9\uDDAE-\uDDEA\uDE00-\uDE41\uDE45\uDF00-\uDF56]|\uD835[\uDEC1\uDEDB\uDEFB\uDF15\uDF35\uDF4F\uDF6F\uDF89\uDFA9\uDFC3]|\uD836[\uDC00-\uDDFF\uDE37-\uDE3A\uDE6D-\uDE74\uDE76-\uDE83\uDE85\uDE86]|\uD838[\uDD4F\uDEFF]|\uD83B[\uDCAC\uDCB0\uDD2E\uDEF0\uDEF1]|\uD83C[\uDC00-\uDC2B\uDC30-\uDC93\uDCA0-\uDCAE\uDCB1-\uDCBF\uDCC1-\uDCCF\uDCD1-\uDCF5\uDD0D-\uDDAD\uDDE6-\uDE02\uDE10-\uDE3B\uDE40-\uDE48\uDE50\uDE51\uDE60-\uDE65\uDF00-\uDFFF]|\uD83D[\uDC00-\uDED7\uDEDC-\uDEEC\uDEF0-\uDEFC\uDF00-\uDF76\uDF7B-\uDFD9\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDC00-\uDC0B\uDC10-\uDC47\uDC50-\uDC59\uDC60-\uDC87\uDC90-\uDCAD\uDCB0\uDCB1\uDD00-\uDE53\uDE60-\uDE6D\uDE70-\uDE7C\uDE80-\uDE88\uDE90-\uDEBD\uDEBF-\uDEC5\uDECE-\uDEDB\uDEE0-\uDEE8\uDEF0-\uDEF8\uDF00-\uDF92\uDF94-\uDFCA]/,ZT=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,uU=Object.freeze(Object.defineProperty({__proto__:null,Any:YT,Cc:XT,Cf:lU,P:Py,S:JT,Z:ZT},Symbol.toStringTag,{value:"Module"})),cU=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map(e=>e.charCodeAt(0))),dU=new Uint16Array("Ȁaglq	\x1Bɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map(e=>e.charCodeAt(0)));var Um;const hU=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]),pU=(Um=String.fromCodePoint)!==null&&Um!==void 0?Um:function(e){let t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|e&1023),t+=String.fromCharCode(e),t};function fU(e){var t;return e>=55296&&e<=57343||e>1114111?65533:(t=hU.get(e))!==null&&t!==void 0?t:e}var zn;(function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z"})(zn||(zn={}));const gU=32;var Ys;(function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE"})(Ys||(Ys={}));function H1(e){return e>=zn.ZERO&&e<=zn.NINE}function mU(e){return e>=zn.UPPER_A&&e<=zn.UPPER_F||e>=zn.LOWER_A&&e<=zn.LOWER_F}function vU(e){return e>=zn.UPPER_A&&e<=zn.UPPER_Z||e>=zn.LOWER_A&&e<=zn.LOWER_Z||H1(e)}function CU(e){return e===zn.EQUALS||vU(e)}var Nn;(function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity"})(Nn||(Nn={}));var Vs;(function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute"})(Vs||(Vs={}));class bU{constructor(t,n,i){this.decodeTree=t,this.emitCodePoint=n,this.errors=i,this.state=Nn.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=Vs.Strict}startEntity(t){this.decodeMode=t,this.state=Nn.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1}write(t,n){switch(this.state){case Nn.EntityStart:return t.charCodeAt(n)===zn.NUM?(this.state=Nn.NumericStart,this.consumed+=1,this.stateNumericStart(t,n+1)):(this.state=Nn.NamedEntity,this.stateNamedEntity(t,n));case Nn.NumericStart:return this.stateNumericStart(t,n);case Nn.NumericDecimal:return this.stateNumericDecimal(t,n);case Nn.NumericHex:return this.stateNumericHex(t,n);case Nn.NamedEntity:return this.stateNamedEntity(t,n)}}stateNumericStart(t,n){return n>=t.length?-1:(t.charCodeAt(n)|gU)===zn.LOWER_X?(this.state=Nn.NumericHex,this.consumed+=1,this.stateNumericHex(t,n+1)):(this.state=Nn.NumericDecimal,this.stateNumericDecimal(t,n))}addToNumericResult(t,n,i,r){if(n!==i){const o=i-n;this.result=this.result*Math.pow(r,o)+parseInt(t.substr(n,o),r),this.consumed+=o}}stateNumericHex(t,n){const i=n;for(;n<t.length;){const r=t.charCodeAt(n);if(H1(r)||mU(r))n+=1;else return this.addToNumericResult(t,i,n,16),this.emitNumericEntity(r,3)}return this.addToNumericResult(t,i,n,16),-1}stateNumericDecimal(t,n){const i=n;for(;n<t.length;){const r=t.charCodeAt(n);if(H1(r))n+=1;else return this.addToNumericResult(t,i,n,10),this.emitNumericEntity(r,2)}return this.addToNumericResult(t,i,n,10),-1}emitNumericEntity(t,n){var i;if(this.consumed<=n)return(i=this.errors)===null||i===void 0||i.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(t===zn.SEMI)this.consumed+=1;else if(this.decodeMode===Vs.Strict)return 0;return this.emitCodePoint(fU(this.result),this.consumed),this.errors&&(t!==zn.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed}stateNamedEntity(t,n){const{decodeTree:i}=this;let r=i[this.treeIndex],o=(r&Ys.VALUE_LENGTH)>>14;for(;n<t.length;n++,this.excess++){const s=t.charCodeAt(n);if(this.treeIndex=yU(i,r,this.treeIndex+Math.max(1,o),s),this.treeIndex<0)return this.result===0||this.decodeMode===Vs.Attribute&&(o===0||CU(s))?0:this.emitNotTerminatedNamedEntity();if(r=i[this.treeIndex],o=(r&Ys.VALUE_LENGTH)>>14,o!==0){if(s===zn.SEMI)return this.emitNamedEntityData(this.treeIndex,o,this.consumed+this.excess);this.decodeMode!==Vs.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0)}}return-1}emitNotTerminatedNamedEntity(){var t;const{result:n,decodeTree:i}=this,r=(i[n]&Ys.VALUE_LENGTH)>>14;return this.emitNamedEntityData(n,r,this.consumed),(t=this.errors)===null||t===void 0||t.missingSemicolonAfterCharacterReference(),this.consumed}emitNamedEntityData(t,n,i){const{decodeTree:r}=this;return this.emitCodePoint(n===1?r[t]&~Ys.VALUE_LENGTH:r[t+1],i),n===3&&this.emitCodePoint(r[t+2],i),i}end(){var t;switch(this.state){case Nn.NamedEntity:return this.result!==0&&(this.decodeMode!==Vs.Attribute||this.result===this.treeIndex)?this.emitNotTerminatedNamedEntity():0;case Nn.NumericDecimal:return this.emitNumericEntity(0,2);case Nn.NumericHex:return this.emitNumericEntity(0,3);case Nn.NumericStart:return(t=this.errors)===null||t===void 0||t.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case Nn.EntityStart:return 0}}}function QT(e){let t="";const n=new bU(e,i=>t+=pU(i));return function(r,o){let s=0,a=0;for(;(a=r.indexOf("&",a))>=0;){t+=r.slice(s,a),n.startEntity(o);const u=n.write(r,a+1);if(u<0){s=a+n.end();break}s=a+u,a=u===0?s+1:s}const l=t+r.slice(s);return t="",l}}function yU(e,t,n,i){const r=(t&Ys.BRANCH_LENGTH)>>7,o=t&Ys.JUMP_TABLE;if(r===0)return o!==0&&i===o?n:-1;if(o){const l=i-o;return l<0||l>=r?-1:e[n+l]-1}let s=n,a=s+r-1;for(;s<=a;){const l=s+a>>>1,u=e[l];if(u<i)s=l+1;else if(u>i)a=l-1;else return e[l+r]}return-1}const wU=QT(cU);QT(dU);function eA(e,t=Vs.Legacy){return wU(e,t)}function SU(e){return Object.prototype.toString.call(e)}function Iy(e){return SU(e)==="[object String]"}const xU=Object.prototype.hasOwnProperty;function EU(e,t){return xU.call(e,t)}function mg(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){if(n){if(typeof n!="object")throw new TypeError(n+"must be object");Object.keys(n).forEach(function(i){e[i]=n[i]})}}),e}function tA(e,t,n){return[].concat(e.slice(0,t),n,e.slice(t+1))}function Oy(e){return!(e>=55296&&e<=57343||e>=64976&&e<=65007||(e&65535)===65535||(e&65535)===65534||e>=0&&e<=8||e===11||e>=14&&e<=31||e>=127&&e<=159||e>1114111)}function qf(e){if(e>65535){e-=65536;const t=55296+(e>>10),n=56320+(e&1023);return String.fromCharCode(t,n)}return String.fromCharCode(e)}const nA=/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g,kU=/&([a-z#][a-z0-9]{1,31});/gi,FU=new RegExp(nA.source+"|"+kU.source,"gi"),TU=/^#((?:x[a-f0-9]{1,8}|[0-9]{1,8}))$/i;function AU(e,t){if(t.charCodeAt(0)===35&&TU.test(t)){const i=t[1].toLowerCase()==="x"?parseInt(t.slice(2),16):parseInt(t.slice(1),10);return Oy(i)?qf(i):e}const n=eA(e);return n!==e?n:e}function RU(e){return e.indexOf("\\")<0?e:e.replace(nA,"$1")}function Eu(e){return e.indexOf("\\")<0&&e.indexOf("&")<0?e:e.replace(FU,function(t,n,i){return n||AU(t,i)})}const DU=/[&<>"]/,MU=/[&<>"]/g,PU={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};function IU(e){return PU[e]}function ua(e){return DU.test(e)?e.replace(MU,IU):e}const OU=/[.?*+^$[\]\\(){}|-]/g;function LU(e){return e.replace(OU,"\\$&")}function Ot(e){switch(e){case 9:case 32:return!0}return!1}function bd(e){if(e>=8192&&e<=8202)return!0;switch(e){case 9:case 10:case 11:case 12:case 13:case 32:case 160:case 5760:case 8239:case 8287:case 12288:return!0}return!1}function yd(e){return Py.test(e)||JT.test(e)}function wd(e){switch(e){case 33:case 34:case 35:case 36:case 37:case 38:case 39:case 40:case 41:case 42:case 43:case 44:case 45:case 46:case 47:case 58:case 59:case 60:case 61:case 62:case 63:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 124:case 125:case 126:return!0;default:return!1}}function vg(e){return e=e.trim().replace(/\s+/g," "),"ẞ".toLowerCase()==="Ṿ"&&(e=e.replace(/ẞ/g,"ß")),e.toLowerCase().toUpperCase()}const NU={mdurl:aU,ucmicro:uU},BU=Object.freeze(Object.defineProperty({__proto__:null,arrayReplaceAt:tA,assign:mg,escapeHtml:ua,escapeRE:LU,fromCodePoint:qf,has:EU,isMdAsciiPunct:wd,isPunctChar:yd,isSpace:Ot,isString:Iy,isValidEntityCode:Oy,isWhiteSpace:bd,lib:NU,normalizeReference:vg,unescapeAll:Eu,unescapeMd:RU},Symbol.toStringTag,{value:"Module"}));function zU(e,t,n){let i,r,o,s;const a=e.posMax,l=e.pos;for(e.pos=t+1,i=1;e.pos<a;){if(o=e.src.charCodeAt(e.pos),o===93&&(i--,i===0)){r=!0;break}if(s=e.pos,e.md.inline.skipToken(e),o===91){if(s===e.pos-1)i++;else if(n)return e.pos=l,-1}}let u=-1;return r&&(u=e.pos),e.pos=l,u}function HU(e,t,n){let i,r=t;const o={ok:!1,pos:0,str:""};if(e.charCodeAt(r)===60){for(r++;r<n;){if(i=e.charCodeAt(r),i===10||i===60)return o;if(i===62)return o.pos=r+1,o.str=Eu(e.slice(t+1,r)),o.ok=!0,o;if(i===92&&r+1<n){r+=2;continue}r++}return o}let s=0;for(;r<n&&(i=e.charCodeAt(r),!(i===32||i<32||i===127));){if(i===92&&r+1<n){if(e.charCodeAt(r+1)===32)break;r+=2;continue}if(i===40&&(s++,s>32))return o;if(i===41){if(s===0)break;s--}r++}return t===r||s!==0||(o.str=Eu(e.slice(t,r)),o.pos=r,o.ok=!0),o}function VU(e,t,n,i){let r,o=t;const s={ok:!1,can_continue:!1,pos:0,str:"",marker:0};if(i)s.str=i.str,s.marker=i.marker;else{if(o>=n)return s;let a=e.charCodeAt(o);if(a!==34&&a!==39&&a!==40)return s;t++,o++,a===40&&(a=41),s.marker=a}for(;o<n;){if(r=e.charCodeAt(o),r===s.marker)return s.pos=o+1,s.str+=Eu(e.slice(t,o)),s.ok=!0,s;if(r===40&&s.marker===41)return s;r===92&&o+1<n&&o++,o++}return s.can_continue=!0,s.str+=Eu(e.slice(t,o)),s}const _U=Object.freeze(Object.defineProperty({__proto__:null,parseLinkDestination:HU,parseLinkLabel:zU,parseLinkTitle:VU},Symbol.toStringTag,{value:"Module"})),ko={};ko.code_inline=function(e,t,n,i,r){const o=e[t];return"<code"+r.renderAttrs(o)+">"+ua(o.content)+"</code>"};ko.code_block=function(e,t,n,i,r){const o=e[t];return"<pre"+r.renderAttrs(o)+"><code>"+ua(e[t].content)+`</code></pre>
`};ko.fence=function(e,t,n,i,r){const o=e[t],s=o.info?Eu(o.info).trim():"";let a="",l="";if(s){const c=s.split(/(\s+)/g);a=c[0],l=c.slice(2).join("")}let u;if(n.highlight?u=n.highlight(o.content,a,l)||ua(o.content):u=ua(o.content),u.indexOf("<pre")===0)return u+`
`;if(s){const c=o.attrIndex("class"),d=o.attrs?o.attrs.slice():[];c<0?d.push(["class",n.langPrefix+a]):(d[c]=d[c].slice(),d[c][1]+=" "+n.langPrefix+a);const h={attrs:d};return`<pre><code${r.renderAttrs(h)}>${u}</code></pre>
`}return`<pre><code${r.renderAttrs(o)}>${u}</code></pre>
`};ko.image=function(e,t,n,i,r){const o=e[t];return o.attrs[o.attrIndex("alt")][1]=r.renderInlineAsText(o.children,n,i),r.renderToken(e,t,n)};ko.hardbreak=function(e,t,n){return n.xhtmlOut?`<br />
`:`<br>
`};ko.softbreak=function(e,t,n){return n.breaks?n.xhtmlOut?`<br />
`:`<br>
`:`
`};ko.text=function(e,t){return ua(e[t].content)};ko.html_block=function(e,t){return e[t].content};ko.html_inline=function(e,t){return e[t].content};function Hu(){this.rules=mg({},ko)}Hu.prototype.renderAttrs=function(t){let n,i,r;if(!t.attrs)return"";for(r="",n=0,i=t.attrs.length;n<i;n++)r+=" "+ua(t.attrs[n][0])+'="'+ua(t.attrs[n][1])+'"';return r};Hu.prototype.renderToken=function(t,n,i){const r=t[n];let o="";if(r.hidden)return"";r.block&&r.nesting!==-1&&n&&t[n-1].hidden&&(o+=`
`),o+=(r.nesting===-1?"</":"<")+r.tag,o+=this.renderAttrs(r),r.nesting===0&&i.xhtmlOut&&(o+=" /");let s=!1;if(r.block&&(s=!0,r.nesting===1&&n+1<t.length)){const a=t[n+1];(a.type==="inline"||a.hidden||a.nesting===-1&&a.tag===r.tag)&&(s=!1)}return o+=s?`>
`:">",o};Hu.prototype.renderInline=function(e,t,n){let i="";const r=this.rules;for(let o=0,s=e.length;o<s;o++){const a=e[o].type;typeof r[a]<"u"?i+=r[a](e,o,t,n,this):i+=this.renderToken(e,o,t)}return i};Hu.prototype.renderInlineAsText=function(e,t,n){let i="";for(let r=0,o=e.length;r<o;r++)switch(e[r].type){case"text":i+=e[r].content;break;case"image":i+=this.renderInlineAsText(e[r].children,t,n);break;case"html_inline":case"html_block":i+=e[r].content;break;case"softbreak":case"hardbreak":i+=`
`;break}return i};Hu.prototype.render=function(e,t,n){let i="";const r=this.rules;for(let o=0,s=e.length;o<s;o++){const a=e[o].type;a==="inline"?i+=this.renderInline(e[o].children,t,n):typeof r[a]<"u"?i+=r[a](e,o,t,n,this):i+=this.renderToken(e,o,t,n)}return i};function zi(){this.__rules__=[],this.__cache__=null}zi.prototype.__find__=function(e){for(let t=0;t<this.__rules__.length;t++)if(this.__rules__[t].name===e)return t;return-1};zi.prototype.__compile__=function(){const e=this,t=[""];e.__rules__.forEach(function(n){n.enabled&&n.alt.forEach(function(i){t.indexOf(i)<0&&t.push(i)})}),e.__cache__={},t.forEach(function(n){e.__cache__[n]=[],e.__rules__.forEach(function(i){i.enabled&&(n&&i.alt.indexOf(n)<0||e.__cache__[n].push(i.fn))})})};zi.prototype.at=function(e,t,n){const i=this.__find__(e),r=n||{};if(i===-1)throw new Error("Parser rule not found: "+e);this.__rules__[i].fn=t,this.__rules__[i].alt=r.alt||[],this.__cache__=null};zi.prototype.before=function(e,t,n,i){const r=this.__find__(e),o=i||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};zi.prototype.after=function(e,t,n,i){const r=this.__find__(e),o=i||{};if(r===-1)throw new Error("Parser rule not found: "+e);this.__rules__.splice(r+1,0,{name:t,enabled:!0,fn:n,alt:o.alt||[]}),this.__cache__=null};zi.prototype.push=function(e,t,n){const i=n||{};this.__rules__.push({name:e,enabled:!0,fn:t,alt:i.alt||[]}),this.__cache__=null};zi.prototype.enable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const r=this.__find__(i);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!0,n.push(i)},this),this.__cache__=null,n};zi.prototype.enableOnly=function(e,t){Array.isArray(e)||(e=[e]),this.__rules__.forEach(function(n){n.enabled=!1}),this.enable(e,t)};zi.prototype.disable=function(e,t){Array.isArray(e)||(e=[e]);const n=[];return e.forEach(function(i){const r=this.__find__(i);if(r<0){if(t)return;throw new Error("Rules manager: invalid rule name "+i)}this.__rules__[r].enabled=!1,n.push(i)},this),this.__cache__=null,n};zi.prototype.getRules=function(e){return this.__cache__===null&&this.__compile__(),this.__cache__[e]||[]};function qr(e,t,n){this.type=e,this.tag=t,this.attrs=null,this.map=null,this.nesting=n,this.level=0,this.children=null,this.content="",this.markup="",this.info="",this.meta=null,this.block=!1,this.hidden=!1}qr.prototype.attrIndex=function(t){if(!this.attrs)return-1;const n=this.attrs;for(let i=0,r=n.length;i<r;i++)if(n[i][0]===t)return i;return-1};qr.prototype.attrPush=function(t){this.attrs?this.attrs.push(t):this.attrs=[t]};qr.prototype.attrSet=function(t,n){const i=this.attrIndex(t),r=[t,n];i<0?this.attrPush(r):this.attrs[i]=r};qr.prototype.attrGet=function(t){const n=this.attrIndex(t);let i=null;return n>=0&&(i=this.attrs[n][1]),i};qr.prototype.attrJoin=function(t,n){const i=this.attrIndex(t);i<0?this.attrPush([t,n]):this.attrs[i][1]=this.attrs[i][1]+" "+n};function iA(e,t,n){this.src=e,this.env=n,this.tokens=[],this.inlineMode=!1,this.md=t}iA.prototype.Token=qr;const GU=/\r\n?|\n/g,WU=/\0/g;function $U(e){let t;t=e.src.replace(GU,`
`),t=t.replace(WU,"�"),e.src=t}function UU(e){let t;e.inlineMode?(t=new e.Token("inline","",0),t.content=e.src,t.map=[0,1],t.children=[],e.tokens.push(t)):e.md.block.parse(e.src,e.md,e.env,e.tokens)}function jU(e){const t=e.tokens;for(let n=0,i=t.length;n<i;n++){const r=t[n];r.type==="inline"&&e.md.inline.parse(r.content,e.md,e.env,r.children)}}function qU(e){return/^<a[>\s]/i.test(e)}function KU(e){return/^<\/a\s*>/i.test(e)}function YU(e){const t=e.tokens;if(e.md.options.linkify)for(let n=0,i=t.length;n<i;n++){if(t[n].type!=="inline"||!e.md.linkify.pretest(t[n].content))continue;let r=t[n].children,o=0;for(let s=r.length-1;s>=0;s--){const a=r[s];if(a.type==="link_close"){for(s--;r[s].level!==a.level&&r[s].type!=="link_open";)s--;continue}if(a.type==="html_inline"&&(qU(a.content)&&o>0&&o--,KU(a.content)&&o++),!(o>0)&&a.type==="text"&&e.md.linkify.test(a.content)){const l=a.content;let u=e.md.linkify.match(l);const c=[];let d=a.level,h=0;u.length>0&&u[0].index===0&&s>0&&r[s-1].type==="text_special"&&(u=u.slice(1));for(let p=0;p<u.length;p++){const f=u[p].url,g=e.md.normalizeLink(f);if(!e.md.validateLink(g))continue;let m=u[p].text;u[p].schema?u[p].schema==="mailto:"&&!/^mailto:/i.test(m)?m=e.md.normalizeLinkText("mailto:"+m).replace(/^mailto:/,""):m=e.md.normalizeLinkText(m):m=e.md.normalizeLinkText("http://"+m).replace(/^http:\/\//,"");const v=u[p].index;if(v>h){const x=new e.Token("text","",0);x.content=l.slice(h,v),x.level=d,c.push(x)}const b=new e.Token("link_open","a",1);b.attrs=[["href",g]],b.level=d++,b.markup="linkify",b.info="auto",c.push(b);const S=new e.Token("text","",0);S.content=m,S.level=d,c.push(S);const y=new e.Token("link_close","a",-1);y.level=--d,y.markup="linkify",y.info="auto",c.push(y),h=u[p].lastIndex}if(h<l.length){const p=new e.Token("text","",0);p.content=l.slice(h),p.level=d,c.push(p)}t[n].children=r=tA(r,s,c)}}}}const rA=/\+-|\.\.|\?\?\?\?|!!!!|,,|--/,XU=/\((c|tm|r)\)/i,JU=/\((c|tm|r)\)/ig,ZU={c:"©",r:"®",tm:"™"};function QU(e,t){return ZU[t.toLowerCase()]}function ej(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&(i.content=i.content.replace(JU,QU)),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function tj(e){let t=0;for(let n=e.length-1;n>=0;n--){const i=e[n];i.type==="text"&&!t&&rA.test(i.content)&&(i.content=i.content.replace(/\+-/g,"±").replace(/\.{2,}/g,"…").replace(/([?!])…/g,"$1..").replace(/([?!]){4,}/g,"$1$1$1").replace(/,{2,}/g,",").replace(/(^|[^-])---(?=[^-]|$)/mg,"$1—").replace(/(^|\s)--(?=\s|$)/mg,"$1–").replace(/(^|[^-\s])--(?=[^-\s]|$)/mg,"$1–")),i.type==="link_open"&&i.info==="auto"&&t--,i.type==="link_close"&&i.info==="auto"&&t++}}function nj(e){let t;if(e.md.options.typographer)for(t=e.tokens.length-1;t>=0;t--)e.tokens[t].type==="inline"&&(XU.test(e.tokens[t].content)&&ej(e.tokens[t].children),rA.test(e.tokens[t].content)&&tj(e.tokens[t].children))}const ij=/['"]/,r4=/['"]/g,o4="’";function qh(e,t,n){return e.slice(0,t)+n+e.slice(t+1)}function rj(e,t){let n;const i=[];for(let r=0;r<e.length;r++){const o=e[r],s=e[r].level;for(n=i.length-1;n>=0&&!(i[n].level<=s);n--);if(i.length=n+1,o.type!=="text")continue;let a=o.content,l=0,u=a.length;e:for(;l<u;){r4.lastIndex=l;const c=r4.exec(a);if(!c)break;let d=!0,h=!0;l=c.index+1;const p=c[0]==="'";let f=32;if(c.index-1>=0)f=a.charCodeAt(c.index-1);else for(n=r-1;n>=0&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n--)if(e[n].content){f=e[n].content.charCodeAt(e[n].content.length-1);break}let g=32;if(l<u)g=a.charCodeAt(l);else for(n=r+1;n<e.length&&!(e[n].type==="softbreak"||e[n].type==="hardbreak");n++)if(e[n].content){g=e[n].content.charCodeAt(0);break}const m=wd(f)||yd(String.fromCharCode(f)),v=wd(g)||yd(String.fromCharCode(g)),b=bd(f),S=bd(g);if(S?d=!1:v&&(b||m||(d=!1)),b?h=!1:m&&(S||v||(h=!1)),g===34&&c[0]==='"'&&f>=48&&f<=57&&(h=d=!1),d&&h&&(d=m,h=v),!d&&!h){p&&(o.content=qh(o.content,c.index,o4));continue}if(h)for(n=i.length-1;n>=0;n--){let y=i[n];if(i[n].level<s)break;if(y.single===p&&i[n].level===s){y=i[n];let x,E;p?(x=t.md.options.quotes[2],E=t.md.options.quotes[3]):(x=t.md.options.quotes[0],E=t.md.options.quotes[1]),o.content=qh(o.content,c.index,E),e[y.token].content=qh(e[y.token].content,y.pos,x),l+=E.length-1,y.token===r&&(l+=x.length-1),a=o.content,u=a.length,i.length=n;continue e}}d?i.push({token:r,pos:c.index,single:p,level:s}):h&&p&&(o.content=qh(o.content,c.index,o4))}}}function oj(e){if(e.md.options.typographer)for(let t=e.tokens.length-1;t>=0;t--)e.tokens[t].type!=="inline"||!ij.test(e.tokens[t].content)||rj(e.tokens[t].children,e)}function sj(e){let t,n;const i=e.tokens,r=i.length;for(let o=0;o<r;o++){if(i[o].type!=="inline")continue;const s=i[o].children,a=s.length;for(t=0;t<a;t++)s[t].type==="text_special"&&(s[t].type="text");for(t=n=0;t<a;t++)s[t].type==="text"&&t+1<a&&s[t+1].type==="text"?s[t+1].content=s[t].content+s[t+1].content:(t!==n&&(s[n]=s[t]),n++);t!==n&&(s.length=n)}}const jm=[["normalize",$U],["block",UU],["inline",jU],["linkify",YU],["replacements",nj],["smartquotes",oj],["text_join",sj]];function Ly(){this.ruler=new zi;for(let e=0;e<jm.length;e++)this.ruler.push(jm[e][0],jm[e][1])}Ly.prototype.process=function(e){const t=this.ruler.getRules("");for(let n=0,i=t.length;n<i;n++)t[n](e)};Ly.prototype.State=iA;function Fo(e,t,n,i){this.src=e,this.md=t,this.env=n,this.tokens=i,this.bMarks=[],this.eMarks=[],this.tShift=[],this.sCount=[],this.bsCount=[],this.blkIndent=0,this.line=0,this.lineMax=0,this.tight=!1,this.ddIndent=-1,this.listIndent=-1,this.parentType="root",this.level=0;const r=this.src;for(let o=0,s=0,a=0,l=0,u=r.length,c=!1;s<u;s++){const d=r.charCodeAt(s);if(!c)if(Ot(d)){a++,d===9?l+=4-l%4:l++;continue}else c=!0;(d===10||s===u-1)&&(d!==10&&s++,this.bMarks.push(o),this.eMarks.push(s),this.tShift.push(a),this.sCount.push(l),this.bsCount.push(0),c=!1,a=0,l=0,o=s+1)}this.bMarks.push(r.length),this.eMarks.push(r.length),this.tShift.push(0),this.sCount.push(0),this.bsCount.push(0),this.lineMax=this.bMarks.length-1}Fo.prototype.push=function(e,t,n){const i=new qr(e,t,n);return i.block=!0,n<0&&this.level--,i.level=this.level,n>0&&this.level++,this.tokens.push(i),i};Fo.prototype.isEmpty=function(t){return this.bMarks[t]+this.tShift[t]>=this.eMarks[t]};Fo.prototype.skipEmptyLines=function(t){for(let n=this.lineMax;t<n&&!(this.bMarks[t]+this.tShift[t]<this.eMarks[t]);t++);return t};Fo.prototype.skipSpaces=function(t){for(let n=this.src.length;t<n;t++){const i=this.src.charCodeAt(t);if(!Ot(i))break}return t};Fo.prototype.skipSpacesBack=function(t,n){if(t<=n)return t;for(;t>n;)if(!Ot(this.src.charCodeAt(--t)))return t+1;return t};Fo.prototype.skipChars=function(t,n){for(let i=this.src.length;t<i&&this.src.charCodeAt(t)===n;t++);return t};Fo.prototype.skipCharsBack=function(t,n,i){if(t<=i)return t;for(;t>i;)if(n!==this.src.charCodeAt(--t))return t+1;return t};Fo.prototype.getLines=function(t,n,i,r){if(t>=n)return"";const o=new Array(n-t);for(let s=0,a=t;a<n;a++,s++){let l=0;const u=this.bMarks[a];let c=u,d;for(a+1<n||r?d=this.eMarks[a]+1:d=this.eMarks[a];c<d&&l<i;){const h=this.src.charCodeAt(c);if(Ot(h))h===9?l+=4-(l+this.bsCount[a])%4:l++;else if(c-u<this.tShift[a])l++;else break;c++}l>i?o[s]=new Array(l-i+1).join(" ")+this.src.slice(c,d):o[s]=this.src.slice(c,d)}return o.join("")};Fo.prototype.Token=qr;const aj=65536;function qm(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];return e.src.slice(n,i)}function s4(e){const t=[],n=e.length;let i=0,r=e.charCodeAt(i),o=!1,s=0,a="";for(;i<n;)r===124&&(o?(a+=e.substring(s,i-1),s=i):(t.push(a+e.substring(s,i)),a="",s=i+1)),o=r===92,i++,r=e.charCodeAt(i);return t.push(a+e.substring(s)),t}function lj(e,t,n,i){if(t+2>n)return!1;let r=t+1;if(e.sCount[r]<e.blkIndent||e.sCount[r]-e.blkIndent>=4)return!1;let o=e.bMarks[r]+e.tShift[r];if(o>=e.eMarks[r])return!1;const s=e.src.charCodeAt(o++);if(s!==124&&s!==45&&s!==58||o>=e.eMarks[r])return!1;const a=e.src.charCodeAt(o++);if(a!==124&&a!==45&&a!==58&&!Ot(a)||s===45&&Ot(a))return!1;for(;o<e.eMarks[r];){const y=e.src.charCodeAt(o);if(y!==124&&y!==45&&y!==58&&!Ot(y))return!1;o++}let l=qm(e,t+1),u=l.split("|");const c=[];for(let y=0;y<u.length;y++){const x=u[y].trim();if(!x){if(y===0||y===u.length-1)continue;return!1}if(!/^:?-+:?$/.test(x))return!1;x.charCodeAt(x.length-1)===58?c.push(x.charCodeAt(0)===58?"center":"right"):x.charCodeAt(0)===58?c.push("left"):c.push("")}if(l=qm(e,t).trim(),l.indexOf("|")===-1||e.sCount[t]-e.blkIndent>=4)return!1;u=s4(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop();const d=u.length;if(d===0||d!==c.length)return!1;if(i)return!0;const h=e.parentType;e.parentType="table";const p=e.md.block.ruler.getRules("blockquote"),f=e.push("table_open","table",1),g=[t,0];f.map=g;const m=e.push("thead_open","thead",1);m.map=[t,t+1];const v=e.push("tr_open","tr",1);v.map=[t,t+1];for(let y=0;y<u.length;y++){const x=e.push("th_open","th",1);c[y]&&(x.attrs=[["style","text-align:"+c[y]]]);const E=e.push("inline","",0);E.content=u[y].trim(),E.children=[],e.push("th_close","th",-1)}e.push("tr_close","tr",-1),e.push("thead_close","thead",-1);let b,S=0;for(r=t+2;r<n&&!(e.sCount[r]<e.blkIndent);r++){let y=!1;for(let E=0,R=p.length;E<R;E++)if(p[E](e,r,n,!0)){y=!0;break}if(y||(l=qm(e,r).trim(),!l)||e.sCount[r]-e.blkIndent>=4||(u=s4(l),u.length&&u[0]===""&&u.shift(),u.length&&u[u.length-1]===""&&u.pop(),S+=d-u.length,S>aj))break;if(r===t+2){const E=e.push("tbody_open","tbody",1);E.map=b=[t+2,0]}const x=e.push("tr_open","tr",1);x.map=[r,r+1];for(let E=0;E<d;E++){const R=e.push("td_open","td",1);c[E]&&(R.attrs=[["style","text-align:"+c[E]]]);const T=e.push("inline","",0);T.content=u[E]?u[E].trim():"",T.children=[],e.push("td_close","td",-1)}e.push("tr_close","tr",-1)}return b&&(e.push("tbody_close","tbody",-1),b[1]=r),e.push("table_close","table",-1),g[1]=r,e.parentType=h,e.line=r,!0}function uj(e,t,n){if(e.sCount[t]-e.blkIndent<4)return!1;let i=t+1,r=i;for(;i<n;){if(e.isEmpty(i)){i++;continue}if(e.sCount[i]-e.blkIndent>=4){i++,r=i;continue}break}e.line=r;const o=e.push("code_block","code",0);return o.content=e.getLines(t,r,4+e.blkIndent,!1)+`
`,o.map=[t,e.line],!0}function cj(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||r+3>o)return!1;const s=e.src.charCodeAt(r);if(s!==126&&s!==96)return!1;let a=r;r=e.skipChars(r,s);let l=r-a;if(l<3)return!1;const u=e.src.slice(a,r),c=e.src.slice(r,o);if(s===96&&c.indexOf(String.fromCharCode(s))>=0)return!1;if(i)return!0;let d=t,h=!1;for(;d++,!(d>=n||(r=a=e.bMarks[d]+e.tShift[d],o=e.eMarks[d],r<o&&e.sCount[d]<e.blkIndent));)if(e.src.charCodeAt(r)===s&&!(e.sCount[d]-e.blkIndent>=4)&&(r=e.skipChars(r,s),!(r-a<l)&&(r=e.skipSpaces(r),!(r<o)))){h=!0;break}l=e.sCount[t],e.line=d+(h?1:0);const p=e.push("fence","code",0);return p.info=c,p.content=e.getLines(t+1,d,l,!0),p.markup=u,p.map=[t,e.line],!0}function dj(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];const s=e.lineMax;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(r)!==62)return!1;if(i)return!0;const a=[],l=[],u=[],c=[],d=e.md.block.ruler.getRules("blockquote"),h=e.parentType;e.parentType="blockquote";let p=!1,f;for(f=t;f<n;f++){const S=e.sCount[f]<e.blkIndent;if(r=e.bMarks[f]+e.tShift[f],o=e.eMarks[f],r>=o)break;if(e.src.charCodeAt(r++)===62&&!S){let x=e.sCount[f]+1,E,R;e.src.charCodeAt(r)===32?(r++,x++,R=!1,E=!0):e.src.charCodeAt(r)===9?(E=!0,(e.bsCount[f]+x)%4===3?(r++,x++,R=!1):R=!0):E=!1;let T=x;for(a.push(e.bMarks[f]),e.bMarks[f]=r;r<o;){const F=e.src.charCodeAt(r);if(Ot(F))F===9?T+=4-(T+e.bsCount[f]+(R?1:0))%4:T++;else break;r++}p=r>=o,l.push(e.bsCount[f]),e.bsCount[f]=e.sCount[f]+1+(E?1:0),u.push(e.sCount[f]),e.sCount[f]=T-x,c.push(e.tShift[f]),e.tShift[f]=r-e.bMarks[f];continue}if(p)break;let y=!1;for(let x=0,E=d.length;x<E;x++)if(d[x](e,f,n,!0)){y=!0;break}if(y){e.lineMax=f,e.blkIndent!==0&&(a.push(e.bMarks[f]),l.push(e.bsCount[f]),c.push(e.tShift[f]),u.push(e.sCount[f]),e.sCount[f]-=e.blkIndent);break}a.push(e.bMarks[f]),l.push(e.bsCount[f]),c.push(e.tShift[f]),u.push(e.sCount[f]),e.sCount[f]=-1}const g=e.blkIndent;e.blkIndent=0;const m=e.push("blockquote_open","blockquote",1);m.markup=">";const v=[t,0];m.map=v,e.md.block.tokenize(e,t,f);const b=e.push("blockquote_close","blockquote",-1);b.markup=">",e.lineMax=s,e.parentType=h,v[1]=e.line;for(let S=0;S<c.length;S++)e.bMarks[S+t]=a[S],e.tShift[S+t]=c[S],e.sCount[S+t]=u[S],e.bsCount[S+t]=l[S];return e.blkIndent=g,!0}function hj(e,t,n,i){const r=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let o=e.bMarks[t]+e.tShift[t];const s=e.src.charCodeAt(o++);if(s!==42&&s!==45&&s!==95)return!1;let a=1;for(;o<r;){const u=e.src.charCodeAt(o++);if(u!==s&&!Ot(u))return!1;u===s&&a++}if(a<3)return!1;if(i)return!0;e.line=t+1;const l=e.push("hr","hr",0);return l.map=[t,e.line],l.markup=Array(a+1).join(String.fromCharCode(s)),!0}function a4(e,t){const n=e.eMarks[t];let i=e.bMarks[t]+e.tShift[t];const r=e.src.charCodeAt(i++);if(r!==42&&r!==45&&r!==43)return-1;if(i<n){const o=e.src.charCodeAt(i);if(!Ot(o))return-1}return i}function l4(e,t){const n=e.bMarks[t]+e.tShift[t],i=e.eMarks[t];let r=n;if(r+1>=i)return-1;let o=e.src.charCodeAt(r++);if(o<48||o>57)return-1;for(;;){if(r>=i)return-1;if(o=e.src.charCodeAt(r++),o>=48&&o<=57){if(r-n>=10)return-1;continue}if(o===41||o===46)break;return-1}return r<i&&(o=e.src.charCodeAt(r),!Ot(o))?-1:r}function pj(e,t){const n=e.level+2;for(let i=t+2,r=e.tokens.length-2;i<r;i++)e.tokens[i].level===n&&e.tokens[i].type==="paragraph_open"&&(e.tokens[i+2].hidden=!0,e.tokens[i].hidden=!0,i+=2)}function fj(e,t,n,i){let r,o,s,a,l=t,u=!0;if(e.sCount[l]-e.blkIndent>=4||e.listIndent>=0&&e.sCount[l]-e.listIndent>=4&&e.sCount[l]<e.blkIndent)return!1;let c=!1;i&&e.parentType==="paragraph"&&e.sCount[l]>=e.blkIndent&&(c=!0);let d,h,p;if((p=l4(e,l))>=0){if(d=!0,s=e.bMarks[l]+e.tShift[l],h=Number(e.src.slice(s,p-1)),c&&h!==1)return!1}else if((p=a4(e,l))>=0)d=!1;else return!1;if(c&&e.skipSpaces(p)>=e.eMarks[l])return!1;if(i)return!0;const f=e.src.charCodeAt(p-1),g=e.tokens.length;d?(a=e.push("ordered_list_open","ol",1),h!==1&&(a.attrs=[["start",h]])):a=e.push("bullet_list_open","ul",1);const m=[l,0];a.map=m,a.markup=String.fromCharCode(f);let v=!1;const b=e.md.block.ruler.getRules("list"),S=e.parentType;for(e.parentType="list";l<n;){o=p,r=e.eMarks[l];const y=e.sCount[l]+p-(e.bMarks[l]+e.tShift[l]);let x=y;for(;o<r;){const U=e.src.charCodeAt(o);if(U===9)x+=4-(x+e.bsCount[l])%4;else if(U===32)x++;else break;o++}const E=o;let R;E>=r?R=1:R=x-y,R>4&&(R=1);const T=y+R;a=e.push("list_item_open","li",1),a.markup=String.fromCharCode(f);const F=[l,0];a.map=F,d&&(a.info=e.src.slice(s,p-1));const D=e.tight,O=e.tShift[l],L=e.sCount[l],I=e.listIndent;if(e.listIndent=e.blkIndent,e.blkIndent=T,e.tight=!0,e.tShift[l]=E-e.bMarks[l],e.sCount[l]=x,E>=r&&e.isEmpty(l+1)?e.line=Math.min(e.line+2,n):e.md.block.tokenize(e,l,n,!0),(!e.tight||v)&&(u=!1),v=e.line-l>1&&e.isEmpty(e.line-1),e.blkIndent=e.listIndent,e.listIndent=I,e.tShift[l]=O,e.sCount[l]=L,e.tight=D,a=e.push("list_item_close","li",-1),a.markup=String.fromCharCode(f),l=e.line,F[1]=l,l>=n||e.sCount[l]<e.blkIndent||e.sCount[l]-e.blkIndent>=4)break;let B=!1;for(let U=0,V=b.length;U<V;U++)if(b[U](e,l,n,!0)){B=!0;break}if(B)break;if(d){if(p=l4(e,l),p<0)break;s=e.bMarks[l]+e.tShift[l]}else if(p=a4(e,l),p<0)break;if(f!==e.src.charCodeAt(p-1))break}return d?a=e.push("ordered_list_close","ol",-1):a=e.push("bullet_list_close","ul",-1),a.markup=String.fromCharCode(f),m[1]=l,e.line=l,e.parentType=S,u&&pj(e,g),!0}function gj(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t],s=t+1;if(e.sCount[t]-e.blkIndent>=4||e.src.charCodeAt(r)!==91)return!1;function a(b){const S=e.lineMax;if(b>=S||e.isEmpty(b))return null;let y=!1;if(e.sCount[b]-e.blkIndent>3&&(y=!0),e.sCount[b]<0&&(y=!0),!y){const R=e.md.block.ruler.getRules("reference"),T=e.parentType;e.parentType="reference";let F=!1;for(let D=0,O=R.length;D<O;D++)if(R[D](e,b,S,!0)){F=!0;break}if(e.parentType=T,F)return null}const x=e.bMarks[b]+e.tShift[b],E=e.eMarks[b];return e.src.slice(x,E+1)}let l=e.src.slice(r,o+1);o=l.length;let u=-1;for(r=1;r<o;r++){const b=l.charCodeAt(r);if(b===91)return!1;if(b===93){u=r;break}else if(b===10){const S=a(s);S!==null&&(l+=S,o=l.length,s++)}else if(b===92&&(r++,r<o&&l.charCodeAt(r)===10)){const S=a(s);S!==null&&(l+=S,o=l.length,s++)}}if(u<0||l.charCodeAt(u+1)!==58)return!1;for(r=u+2;r<o;r++){const b=l.charCodeAt(r);if(b===10){const S=a(s);S!==null&&(l+=S,o=l.length,s++)}else if(!Ot(b))break}const c=e.md.helpers.parseLinkDestination(l,r,o);if(!c.ok)return!1;const d=e.md.normalizeLink(c.str);if(!e.md.validateLink(d))return!1;r=c.pos;const h=r,p=s,f=r;for(;r<o;r++){const b=l.charCodeAt(r);if(b===10){const S=a(s);S!==null&&(l+=S,o=l.length,s++)}else if(!Ot(b))break}let g=e.md.helpers.parseLinkTitle(l,r,o);for(;g.can_continue;){const b=a(s);if(b===null)break;l+=b,r=o,o=l.length,s++,g=e.md.helpers.parseLinkTitle(l,r,o,g)}let m;for(r<o&&f!==r&&g.ok?(m=g.str,r=g.pos):(m="",r=h,s=p);r<o;){const b=l.charCodeAt(r);if(!Ot(b))break;r++}if(r<o&&l.charCodeAt(r)!==10&&m)for(m="",r=h,s=p;r<o;){const b=l.charCodeAt(r);if(!Ot(b))break;r++}if(r<o&&l.charCodeAt(r)!==10)return!1;const v=vg(l.slice(1,u));return v?(i||(typeof e.env.references>"u"&&(e.env.references={}),typeof e.env.references[v]>"u"&&(e.env.references[v]={title:m,href:d}),e.line=s),!0):!1}const mj=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],vj="[a-zA-Z_:][a-zA-Z0-9:._-]*",Cj="[^\"'=<>`\\x00-\\x20]+",bj="'[^']*'",yj='"[^"]*"',wj="(?:"+Cj+"|"+bj+"|"+yj+")",Sj="(?:\\s+"+vj+"(?:\\s*=\\s*"+wj+")?)",oA="<[A-Za-z][A-Za-z0-9\\-]*"+Sj+"*\\s*\\/?>",sA="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>",xj="<!---?>|<!--(?:[^-]|-[^-]|--[^>])*-->",Ej="<[?][\\s\\S]*?[?]>",kj="<![A-Za-z][^>]*>",Fj="<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",Tj=new RegExp("^(?:"+oA+"|"+sA+"|"+xj+"|"+Ej+"|"+kj+"|"+Fj+")"),Aj=new RegExp("^(?:"+oA+"|"+sA+")"),Pl=[[/^<(script|pre|style|textarea)(?=(\s|>|$))/i,/<\/(script|pre|style|textarea)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+mj.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(Aj.source+"\\s*$"),/^$/,!1]];function Rj(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4||!e.md.options.html||e.src.charCodeAt(r)!==60)return!1;let s=e.src.slice(r,o),a=0;for(;a<Pl.length&&!Pl[a][0].test(s);a++);if(a===Pl.length)return!1;if(i)return Pl[a][2];let l=t+1;if(!Pl[a][1].test(s)){for(;l<n&&!(e.sCount[l]<e.blkIndent);l++)if(r=e.bMarks[l]+e.tShift[l],o=e.eMarks[l],s=e.src.slice(r,o),Pl[a][1].test(s)){s.length!==0&&l++;break}}e.line=l;const u=e.push("html_block","",0);return u.map=[t,l],u.content=e.getLines(t,l,e.blkIndent,!0),!0}function Dj(e,t,n,i){let r=e.bMarks[t]+e.tShift[t],o=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;let s=e.src.charCodeAt(r);if(s!==35||r>=o)return!1;let a=1;for(s=e.src.charCodeAt(++r);s===35&&r<o&&a<=6;)a++,s=e.src.charCodeAt(++r);if(a>6||r<o&&!Ot(s))return!1;if(i)return!0;o=e.skipSpacesBack(o,r);const l=e.skipCharsBack(o,35,r);l>r&&Ot(e.src.charCodeAt(l-1))&&(o=l),e.line=t+1;const u=e.push("heading_open","h"+String(a),1);u.markup="########".slice(0,a),u.map=[t,e.line];const c=e.push("inline","",0);c.content=e.src.slice(r,o).trim(),c.map=[t,e.line],c.children=[];const d=e.push("heading_close","h"+String(a),-1);return d.markup="########".slice(0,a),!0}function Mj(e,t,n){const i=e.md.block.ruler.getRules("paragraph");if(e.sCount[t]-e.blkIndent>=4)return!1;const r=e.parentType;e.parentType="paragraph";let o=0,s,a=t+1;for(;a<n&&!e.isEmpty(a);a++){if(e.sCount[a]-e.blkIndent>3)continue;if(e.sCount[a]>=e.blkIndent){let p=e.bMarks[a]+e.tShift[a];const f=e.eMarks[a];if(p<f&&(s=e.src.charCodeAt(p),(s===45||s===61)&&(p=e.skipChars(p,s),p=e.skipSpaces(p),p>=f))){o=s===61?1:2;break}}if(e.sCount[a]<0)continue;let h=!1;for(let p=0,f=i.length;p<f;p++)if(i[p](e,a,n,!0)){h=!0;break}if(h)break}if(!o)return!1;const l=e.getLines(t,a,e.blkIndent,!1).trim();e.line=a+1;const u=e.push("heading_open","h"+String(o),1);u.markup=String.fromCharCode(s),u.map=[t,e.line];const c=e.push("inline","",0);c.content=l,c.map=[t,e.line-1],c.children=[];const d=e.push("heading_close","h"+String(o),-1);return d.markup=String.fromCharCode(s),e.parentType=r,!0}function Pj(e,t,n){const i=e.md.block.ruler.getRules("paragraph"),r=e.parentType;let o=t+1;for(e.parentType="paragraph";o<n&&!e.isEmpty(o);o++){if(e.sCount[o]-e.blkIndent>3||e.sCount[o]<0)continue;let u=!1;for(let c=0,d=i.length;c<d;c++)if(i[c](e,o,n,!0)){u=!0;break}if(u)break}const s=e.getLines(t,o,e.blkIndent,!1).trim();e.line=o;const a=e.push("paragraph_open","p",1);a.map=[t,e.line];const l=e.push("inline","",0);return l.content=s,l.map=[t,e.line],l.children=[],e.push("paragraph_close","p",-1),e.parentType=r,!0}const Kh=[["table",lj,["paragraph","reference"]],["code",uj],["fence",cj,["paragraph","reference","blockquote","list"]],["blockquote",dj,["paragraph","reference","blockquote","list"]],["hr",hj,["paragraph","reference","blockquote","list"]],["list",fj,["paragraph","reference","blockquote"]],["reference",gj],["html_block",Rj,["paragraph","reference","blockquote"]],["heading",Dj,["paragraph","reference","blockquote"]],["lheading",Mj],["paragraph",Pj]];function Cg(){this.ruler=new zi;for(let e=0;e<Kh.length;e++)this.ruler.push(Kh[e][0],Kh[e][1],{alt:(Kh[e][2]||[]).slice()})}Cg.prototype.tokenize=function(e,t,n){const i=this.ruler.getRules(""),r=i.length,o=e.md.options.maxNesting;let s=t,a=!1;for(;s<n&&(e.line=s=e.skipEmptyLines(s),!(s>=n||e.sCount[s]<e.blkIndent));){if(e.level>=o){e.line=n;break}const l=e.line;let u=!1;for(let c=0;c<r;c++)if(u=i[c](e,s,n,!1),u){if(l>=e.line)throw new Error("block rule didn't increment state.line");break}if(!u)throw new Error("none of the block rules matched");e.tight=!a,e.isEmpty(e.line-1)&&(a=!0),s=e.line,s<n&&e.isEmpty(s)&&(a=!0,s++,e.line=s)}};Cg.prototype.parse=function(e,t,n,i){if(!e)return;const r=new this.State(e,t,n,i);this.tokenize(r,r.line,r.lineMax)};Cg.prototype.State=Fo;function nh(e,t,n,i){this.src=e,this.env=n,this.md=t,this.tokens=i,this.tokens_meta=Array(i.length),this.pos=0,this.posMax=this.src.length,this.level=0,this.pending="",this.pendingLevel=0,this.cache={},this.delimiters=[],this._prev_delimiters=[],this.backticks={},this.backticksScanned=!1,this.linkLevel=0}nh.prototype.pushPending=function(){const e=new qr("text","",0);return e.content=this.pending,e.level=this.pendingLevel,this.tokens.push(e),this.pending="",e};nh.prototype.push=function(e,t,n){this.pending&&this.pushPending();const i=new qr(e,t,n);let r=null;return n<0&&(this.level--,this.delimiters=this._prev_delimiters.pop()),i.level=this.level,n>0&&(this.level++,this._prev_delimiters.push(this.delimiters),this.delimiters=[],r={delimiters:this.delimiters}),this.pendingLevel=this.level,this.tokens.push(i),this.tokens_meta.push(r),i};nh.prototype.scanDelims=function(e,t){const n=this.posMax,i=this.src.charCodeAt(e),r=e>0?this.src.charCodeAt(e-1):32;let o=e;for(;o<n&&this.src.charCodeAt(o)===i;)o++;const s=o-e,a=o<n?this.src.charCodeAt(o):32,l=wd(r)||yd(String.fromCharCode(r)),u=wd(a)||yd(String.fromCharCode(a)),c=bd(r),d=bd(a),h=!d&&(!u||c||l),p=!c&&(!l||d||u);return{can_open:h&&(t||!p||l),can_close:p&&(t||!h||u),length:s}};nh.prototype.Token=qr;function Ij(e){switch(e){case 10:case 33:case 35:case 36:case 37:case 38:case 42:case 43:case 45:case 58:case 60:case 61:case 62:case 64:case 91:case 92:case 93:case 94:case 95:case 96:case 123:case 125:case 126:return!0;default:return!1}}function Oj(e,t){let n=e.pos;for(;n<e.posMax&&!Ij(e.src.charCodeAt(n));)n++;return n===e.pos?!1:(t||(e.pending+=e.src.slice(e.pos,n)),e.pos=n,!0)}const Lj=/(?:^|[^a-z0-9.+-])([a-z][a-z0-9.+-]*)$/i;function Nj(e,t){if(!e.md.options.linkify||e.linkLevel>0)return!1;const n=e.pos,i=e.posMax;if(n+3>i||e.src.charCodeAt(n)!==58||e.src.charCodeAt(n+1)!==47||e.src.charCodeAt(n+2)!==47)return!1;const r=e.pending.match(Lj);if(!r)return!1;const o=r[1],s=e.md.linkify.matchAtStart(e.src.slice(n-o.length));if(!s)return!1;let a=s.url;if(a.length<=o.length)return!1;a=a.replace(/\*+$/,"");const l=e.md.normalizeLink(a);if(!e.md.validateLink(l))return!1;if(!t){e.pending=e.pending.slice(0,-o.length);const u=e.push("link_open","a",1);u.attrs=[["href",l]],u.markup="linkify",u.info="auto";const c=e.push("text","",0);c.content=e.md.normalizeLinkText(a);const d=e.push("link_close","a",-1);d.markup="linkify",d.info="auto"}return e.pos+=a.length-o.length,!0}function Bj(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==10)return!1;const i=e.pending.length-1,r=e.posMax;if(!t)if(i>=0&&e.pending.charCodeAt(i)===32)if(i>=1&&e.pending.charCodeAt(i-1)===32){let o=i-1;for(;o>=1&&e.pending.charCodeAt(o-1)===32;)o--;e.pending=e.pending.slice(0,o),e.push("hardbreak","br",0)}else e.pending=e.pending.slice(0,-1),e.push("softbreak","br",0);else e.push("softbreak","br",0);for(n++;n<r&&Ot(e.src.charCodeAt(n));)n++;return e.pos=n,!0}const Ny=[];for(let e=0;e<256;e++)Ny.push(0);"\\!\"#$%&'()*+,./:;<=>?@[]^_`{|}~-".split("").forEach(function(e){Ny[e.charCodeAt(0)]=1});function zj(e,t){let n=e.pos;const i=e.posMax;if(e.src.charCodeAt(n)!==92||(n++,n>=i))return!1;let r=e.src.charCodeAt(n);if(r===10){for(t||e.push("hardbreak","br",0),n++;n<i&&(r=e.src.charCodeAt(n),!!Ot(r));)n++;return e.pos=n,!0}let o=e.src[n];if(r>=55296&&r<=56319&&n+1<i){const a=e.src.charCodeAt(n+1);a>=56320&&a<=57343&&(o+=e.src[n+1],n++)}const s="\\"+o;if(!t){const a=e.push("text_special","",0);r<256&&Ny[r]!==0?a.content=o:a.content=s,a.markup=s,a.info="escape"}return e.pos=n+1,!0}function Hj(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==96)return!1;const r=n;n++;const o=e.posMax;for(;n<o&&e.src.charCodeAt(n)===96;)n++;const s=e.src.slice(r,n),a=s.length;if(e.backticksScanned&&(e.backticks[a]||0)<=r)return t||(e.pending+=s),e.pos+=a,!0;let l=n,u;for(;(u=e.src.indexOf("`",l))!==-1;){for(l=u+1;l<o&&e.src.charCodeAt(l)===96;)l++;const c=l-u;if(c===a){if(!t){const d=e.push("code_inline","code",0);d.markup=s,d.content=e.src.slice(n,u).replace(/\n/g," ").replace(/^ (.+) $/,"$1")}return e.pos=l,!0}e.backticks[c]=u}return e.backticksScanned=!0,t||(e.pending+=s),e.pos+=a,!0}function Vj(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==126)return!1;const r=e.scanDelims(e.pos,!0);let o=r.length;const s=String.fromCharCode(i);if(o<2)return!1;let a;o%2&&(a=e.push("text","",0),a.content=s,o--);for(let l=0;l<o;l+=2)a=e.push("text","",0),a.content=s+s,e.delimiters.push({marker:i,length:0,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close});return e.pos+=r.length,!0}function u4(e,t){let n;const i=[],r=t.length;for(let o=0;o<r;o++){const s=t[o];if(s.marker!==126||s.end===-1)continue;const a=t[s.end];n=e.tokens[s.token],n.type="s_open",n.tag="s",n.nesting=1,n.markup="~~",n.content="",n=e.tokens[a.token],n.type="s_close",n.tag="s",n.nesting=-1,n.markup="~~",n.content="",e.tokens[a.token-1].type==="text"&&e.tokens[a.token-1].content==="~"&&i.push(a.token-1)}for(;i.length;){const o=i.pop();let s=o+1;for(;s<e.tokens.length&&e.tokens[s].type==="s_close";)s++;s--,o!==s&&(n=e.tokens[s],e.tokens[s]=e.tokens[o],e.tokens[o]=n)}}function _j(e){const t=e.tokens_meta,n=e.tokens_meta.length;u4(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&u4(e,t[i].delimiters)}const aA={tokenize:Vj,postProcess:_j};function Gj(e,t){const n=e.pos,i=e.src.charCodeAt(n);if(t||i!==95&&i!==42)return!1;const r=e.scanDelims(e.pos,i===42);for(let o=0;o<r.length;o++){const s=e.push("text","",0);s.content=String.fromCharCode(i),e.delimiters.push({marker:i,length:r.length,token:e.tokens.length-1,end:-1,open:r.can_open,close:r.can_close})}return e.pos+=r.length,!0}function c4(e,t){const n=t.length;for(let i=n-1;i>=0;i--){const r=t[i];if(r.marker!==95&&r.marker!==42||r.end===-1)continue;const o=t[r.end],s=i>0&&t[i-1].end===r.end+1&&t[i-1].marker===r.marker&&t[i-1].token===r.token-1&&t[r.end+1].token===o.token+1,a=String.fromCharCode(r.marker),l=e.tokens[r.token];l.type=s?"strong_open":"em_open",l.tag=s?"strong":"em",l.nesting=1,l.markup=s?a+a:a,l.content="";const u=e.tokens[o.token];u.type=s?"strong_close":"em_close",u.tag=s?"strong":"em",u.nesting=-1,u.markup=s?a+a:a,u.content="",s&&(e.tokens[t[i-1].token].content="",e.tokens[t[r.end+1].token].content="",i--)}}function Wj(e){const t=e.tokens_meta,n=e.tokens_meta.length;c4(e,e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&c4(e,t[i].delimiters)}const lA={tokenize:Gj,postProcess:Wj};function $j(e,t){let n,i,r,o,s="",a="",l=e.pos,u=!0;if(e.src.charCodeAt(e.pos)!==91)return!1;const c=e.pos,d=e.posMax,h=e.pos+1,p=e.md.helpers.parseLinkLabel(e,e.pos,!0);if(p<0)return!1;let f=p+1;if(f<d&&e.src.charCodeAt(f)===40){for(u=!1,f++;f<d&&(n=e.src.charCodeAt(f),!(!Ot(n)&&n!==10));f++);if(f>=d)return!1;if(l=f,r=e.md.helpers.parseLinkDestination(e.src,f,e.posMax),r.ok){for(s=e.md.normalizeLink(r.str),e.md.validateLink(s)?f=r.pos:s="",l=f;f<d&&(n=e.src.charCodeAt(f),!(!Ot(n)&&n!==10));f++);if(r=e.md.helpers.parseLinkTitle(e.src,f,e.posMax),f<d&&l!==f&&r.ok)for(a=r.str,f=r.pos;f<d&&(n=e.src.charCodeAt(f),!(!Ot(n)&&n!==10));f++);}(f>=d||e.src.charCodeAt(f)!==41)&&(u=!0),f++}if(u){if(typeof e.env.references>"u")return!1;if(f<d&&e.src.charCodeAt(f)===91?(l=f+1,f=e.md.helpers.parseLinkLabel(e,f),f>=0?i=e.src.slice(l,f++):f=p+1):f=p+1,i||(i=e.src.slice(h,p)),o=e.env.references[vg(i)],!o)return e.pos=c,!1;s=o.href,a=o.title}if(!t){e.pos=h,e.posMax=p;const g=e.push("link_open","a",1),m=[["href",s]];g.attrs=m,a&&m.push(["title",a]),e.linkLevel++,e.md.inline.tokenize(e),e.linkLevel--,e.push("link_close","a",-1)}return e.pos=f,e.posMax=d,!0}function Uj(e,t){let n,i,r,o,s,a,l,u,c="";const d=e.pos,h=e.posMax;if(e.src.charCodeAt(e.pos)!==33||e.src.charCodeAt(e.pos+1)!==91)return!1;const p=e.pos+2,f=e.md.helpers.parseLinkLabel(e,e.pos+1,!1);if(f<0)return!1;if(o=f+1,o<h&&e.src.charCodeAt(o)===40){for(o++;o<h&&(n=e.src.charCodeAt(o),!(!Ot(n)&&n!==10));o++);if(o>=h)return!1;for(u=o,a=e.md.helpers.parseLinkDestination(e.src,o,e.posMax),a.ok&&(c=e.md.normalizeLink(a.str),e.md.validateLink(c)?o=a.pos:c=""),u=o;o<h&&(n=e.src.charCodeAt(o),!(!Ot(n)&&n!==10));o++);if(a=e.md.helpers.parseLinkTitle(e.src,o,e.posMax),o<h&&u!==o&&a.ok)for(l=a.str,o=a.pos;o<h&&(n=e.src.charCodeAt(o),!(!Ot(n)&&n!==10));o++);else l="";if(o>=h||e.src.charCodeAt(o)!==41)return e.pos=d,!1;o++}else{if(typeof e.env.references>"u")return!1;if(o<h&&e.src.charCodeAt(o)===91?(u=o+1,o=e.md.helpers.parseLinkLabel(e,o),o>=0?r=e.src.slice(u,o++):o=f+1):o=f+1,r||(r=e.src.slice(p,f)),s=e.env.references[vg(r)],!s)return e.pos=d,!1;c=s.href,l=s.title}if(!t){i=e.src.slice(p,f);const g=[];e.md.inline.parse(i,e.md,e.env,g);const m=e.push("image","img",0),v=[["src",c],["alt",""]];m.attrs=v,m.children=g,m.content=i,l&&v.push(["title",l])}return e.pos=o,e.posMax=h,!0}const jj=/^([a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*)$/,qj=/^([a-zA-Z][a-zA-Z0-9+.-]{1,31}):([^<>\x00-\x20]*)$/;function Kj(e,t){let n=e.pos;if(e.src.charCodeAt(n)!==60)return!1;const i=e.pos,r=e.posMax;for(;;){if(++n>=r)return!1;const s=e.src.charCodeAt(n);if(s===60)return!1;if(s===62)break}const o=e.src.slice(i+1,n);if(qj.test(o)){const s=e.md.normalizeLink(o);if(!e.md.validateLink(s))return!1;if(!t){const a=e.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(o);const u=e.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return e.pos+=o.length+2,!0}if(jj.test(o)){const s=e.md.normalizeLink("mailto:"+o);if(!e.md.validateLink(s))return!1;if(!t){const a=e.push("link_open","a",1);a.attrs=[["href",s]],a.markup="autolink",a.info="auto";const l=e.push("text","",0);l.content=e.md.normalizeLinkText(o);const u=e.push("link_close","a",-1);u.markup="autolink",u.info="auto"}return e.pos+=o.length+2,!0}return!1}function Yj(e){return/^<a[>\s]/i.test(e)}function Xj(e){return/^<\/a\s*>/i.test(e)}function Jj(e){const t=e|32;return t>=97&&t<=122}function Zj(e,t){if(!e.md.options.html)return!1;const n=e.posMax,i=e.pos;if(e.src.charCodeAt(i)!==60||i+2>=n)return!1;const r=e.src.charCodeAt(i+1);if(r!==33&&r!==63&&r!==47&&!Jj(r))return!1;const o=e.src.slice(i).match(Tj);if(!o)return!1;if(!t){const s=e.push("html_inline","",0);s.content=o[0],Yj(s.content)&&e.linkLevel++,Xj(s.content)&&e.linkLevel--}return e.pos+=o[0].length,!0}const Qj=/^&#((?:x[a-f0-9]{1,6}|[0-9]{1,7}));/i,eq=/^&([a-z][a-z0-9]{1,31});/i;function tq(e,t){const n=e.pos,i=e.posMax;if(e.src.charCodeAt(n)!==38||n+1>=i)return!1;if(e.src.charCodeAt(n+1)===35){const o=e.src.slice(n).match(Qj);if(o){if(!t){const s=o[1][0].toLowerCase()==="x"?parseInt(o[1].slice(1),16):parseInt(o[1],10),a=e.push("text_special","",0);a.content=Oy(s)?qf(s):qf(65533),a.markup=o[0],a.info="entity"}return e.pos+=o[0].length,!0}}else{const o=e.src.slice(n).match(eq);if(o){const s=eA(o[0]);if(s!==o[0]){if(!t){const a=e.push("text_special","",0);a.content=s,a.markup=o[0],a.info="entity"}return e.pos+=o[0].length,!0}}}return!1}function d4(e){const t={},n=e.length;if(!n)return;let i=0,r=-2;const o=[];for(let s=0;s<n;s++){const a=e[s];if(o.push(0),(e[i].marker!==a.marker||r!==a.token-1)&&(i=s),r=a.token,a.length=a.length||0,!a.close)continue;t.hasOwnProperty(a.marker)||(t[a.marker]=[-1,-1,-1,-1,-1,-1]);const l=t[a.marker][(a.open?3:0)+a.length%3];let u=i-o[i]-1,c=u;for(;u>l;u-=o[u]+1){const d=e[u];if(d.marker===a.marker&&d.open&&d.end<0){let h=!1;if((d.close||a.open)&&(d.length+a.length)%3===0&&(d.length%3!==0||a.length%3!==0)&&(h=!0),!h){const p=u>0&&!e[u-1].open?o[u-1]+1:0;o[s]=s-u+p,o[u]=p,a.open=!1,d.end=s,d.close=!1,c=-1,r=-2;break}}}c!==-1&&(t[a.marker][(a.open?3:0)+(a.length||0)%3]=c)}}function nq(e){const t=e.tokens_meta,n=e.tokens_meta.length;d4(e.delimiters);for(let i=0;i<n;i++)t[i]&&t[i].delimiters&&d4(t[i].delimiters)}function iq(e){let t,n,i=0;const r=e.tokens,o=e.tokens.length;for(t=n=0;t<o;t++)r[t].nesting<0&&i--,r[t].level=i,r[t].nesting>0&&i++,r[t].type==="text"&&t+1<o&&r[t+1].type==="text"?r[t+1].content=r[t].content+r[t+1].content:(t!==n&&(r[n]=r[t]),n++);t!==n&&(r.length=n)}const Km=[["text",Oj],["linkify",Nj],["newline",Bj],["escape",zj],["backticks",Hj],["strikethrough",aA.tokenize],["emphasis",lA.tokenize],["link",$j],["image",Uj],["autolink",Kj],["html_inline",Zj],["entity",tq]],Ym=[["balance_pairs",nq],["strikethrough",aA.postProcess],["emphasis",lA.postProcess],["fragments_join",iq]];function ih(){this.ruler=new zi;for(let e=0;e<Km.length;e++)this.ruler.push(Km[e][0],Km[e][1]);this.ruler2=new zi;for(let e=0;e<Ym.length;e++)this.ruler2.push(Ym[e][0],Ym[e][1])}ih.prototype.skipToken=function(e){const t=e.pos,n=this.ruler.getRules(""),i=n.length,r=e.md.options.maxNesting,o=e.cache;if(typeof o[t]<"u"){e.pos=o[t];return}let s=!1;if(e.level<r){for(let a=0;a<i;a++)if(e.level++,s=n[a](e,!0),e.level--,s){if(t>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}else e.pos=e.posMax;s||e.pos++,o[t]=e.pos};ih.prototype.tokenize=function(e){const t=this.ruler.getRules(""),n=t.length,i=e.posMax,r=e.md.options.maxNesting;for(;e.pos<i;){const o=e.pos;let s=!1;if(e.level<r){for(let a=0;a<n;a++)if(s=t[a](e,!1),s){if(o>=e.pos)throw new Error("inline rule didn't increment state.pos");break}}if(s){if(e.pos>=i)break;continue}e.pending+=e.src[e.pos++]}e.pending&&e.pushPending()};ih.prototype.parse=function(e,t,n,i){const r=new this.State(e,t,n,i);this.tokenize(r);const o=this.ruler2.getRules(""),s=o.length;for(let a=0;a<s;a++)o[a](r)};ih.prototype.State=nh;function rq(e){const t={};e=e||{},t.src_Any=YT.source,t.src_Cc=XT.source,t.src_Z=ZT.source,t.src_P=Py.source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");const n="[><｜]";return t.src_pseudo_letter="(?:(?!"+n+"|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|"+n+"|"+t.src_ZPCc+")(?!"+(e["---"]?"-(?!--)|":"-|")+"_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+n+`|[()[\\]{}.,"'?!\\-;]).|\\[(?:(?!`+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+`|["]).)+\\"|\\'(?:(?!`+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-])|\\.{2,}[a-zA-Z0-9%/&]|\\.(?!"+t.src_ZCc+"|[.]|$)|"+(e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+",(?!"+t.src_ZCc+"|$)|;(?!"+t.src_ZCc+"|$)|\\!+(?!"+t.src_ZCc+"|[!]|$)|\\?(?!"+t.src_ZCc+"|[?]|$))+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy="(^|"+n+'|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|｜]|"+t.src_ZPCc+"))((?![$+<=>^`|｜])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}function V1(e){return Array.prototype.slice.call(arguments,1).forEach(function(n){n&&Object.keys(n).forEach(function(i){e[i]=n[i]})}),e}function bg(e){return Object.prototype.toString.call(e)}function oq(e){return bg(e)==="[object String]"}function sq(e){return bg(e)==="[object Object]"}function aq(e){return bg(e)==="[object RegExp]"}function h4(e){return bg(e)==="[object Function]"}function lq(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}const uA={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1};function uq(e){return Object.keys(e||{}).reduce(function(t,n){return t||uA.hasOwnProperty(n)},!1)}const cq={"http:":{validate:function(e,t,n){const i=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(i)?i.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){const i=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(i)?t>=3&&e[t-3]===":"||t>=3&&e[t-3]==="/"?0:i.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){const i=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(i)?i.match(n.re.mailto)[0].length:0}}},dq="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",hq="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|рф".split("|");function pq(e){e.__index__=-1,e.__text_cache__=""}function fq(e){return function(t,n){const i=t.slice(n);return e.test(i)?i.match(e)[0].length:0}}function p4(){return function(e,t){t.normalize(e)}}function Kf(e){const t=e.re=rq(e.__opts__),n=e.__tlds__.slice();e.onCompile(),e.__tlds_replaced__||n.push(dq),n.push(t.src_xn),t.src_tlds=n.join("|");function i(a){return a.replace("%TLDS%",t.src_tlds)}t.email_fuzzy=RegExp(i(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(i(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(i(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(i(t.tpl_host_fuzzy_test),"i");const r=[];e.__compiled__={};function o(a,l){throw new Error('(LinkifyIt) Invalid schema "'+a+'": '+l)}Object.keys(e.__schemas__).forEach(function(a){const l=e.__schemas__[a];if(l===null)return;const u={validate:null,link:null};if(e.__compiled__[a]=u,sq(l)){aq(l.validate)?u.validate=fq(l.validate):h4(l.validate)?u.validate=l.validate:o(a,l),h4(l.normalize)?u.normalize=l.normalize:l.normalize?o(a,l):u.normalize=p4();return}if(oq(l)){r.push(a);return}o(a,l)}),r.forEach(function(a){e.__compiled__[e.__schemas__[a]]&&(e.__compiled__[a].validate=e.__compiled__[e.__schemas__[a]].validate,e.__compiled__[a].normalize=e.__compiled__[e.__schemas__[a]].normalize)}),e.__compiled__[""]={validate:null,normalize:p4()};const s=Object.keys(e.__compiled__).filter(function(a){return a.length>0&&e.__compiled__[a]}).map(lq).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+s+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><｜]|"+t.src_ZPCc+"))("+s+")","ig"),e.re.schema_at_start=RegExp("^"+e.re.schema_search.source,"i"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),pq(e)}function gq(e,t){const n=e.__index__,i=e.__last_index__,r=e.__text_cache__.slice(n,i);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=i+t,this.raw=r,this.text=r,this.url=r}function _1(e,t){const n=new gq(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function ir(e,t){if(!(this instanceof ir))return new ir(e,t);t||uq(e)&&(t=e,e={}),this.__opts__=V1({},uA,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=V1({},cq,e),this.__compiled__={},this.__tlds__=hq,this.__tlds_replaced__=!1,this.re={},Kf(this)}ir.prototype.add=function(t,n){return this.__schemas__[t]=n,Kf(this),this};ir.prototype.set=function(t){return this.__opts__=V1(this.__opts__,t),this};ir.prototype.test=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return!1;let n,i,r,o,s,a,l,u,c;if(this.re.schema_test.test(t)){for(l=this.re.schema_search,l.lastIndex=0;(n=l.exec(t))!==null;)if(o=this.testSchemaAt(t,n[2],l.lastIndex),o){this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+o;break}}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&(u=t.search(this.re.host_fuzzy_test),u>=0&&(this.__index__<0||u<this.__index__)&&(i=t.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))!==null&&(s=i.index+i[1].length,(this.__index__<0||s<this.__index__)&&(this.__schema__="",this.__index__=s,this.__last_index__=i.index+i[0].length))),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&(c=t.indexOf("@"),c>=0&&(r=t.match(this.re.email_fuzzy))!==null&&(s=r.index+r[1].length,a=r.index+r[0].length,(this.__index__<0||s<this.__index__||s===this.__index__&&a>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=s,this.__last_index__=a))),this.__index__>=0};ir.prototype.pretest=function(t){return this.re.pretest.test(t)};ir.prototype.testSchemaAt=function(t,n,i){return this.__compiled__[n.toLowerCase()]?this.__compiled__[n.toLowerCase()].validate(t,i,this):0};ir.prototype.match=function(t){const n=[];let i=0;this.__index__>=0&&this.__text_cache__===t&&(n.push(_1(this,i)),i=this.__last_index__);let r=i?t.slice(i):t;for(;this.test(r);)n.push(_1(this,i)),r=r.slice(this.__last_index__),i+=this.__last_index__;return n.length?n:null};ir.prototype.matchAtStart=function(t){if(this.__text_cache__=t,this.__index__=-1,!t.length)return null;const n=this.re.schema_at_start.exec(t);if(!n)return null;const i=this.testSchemaAt(t,n[2],n[0].length);return i?(this.__schema__=n[2],this.__index__=n.index+n[1].length,this.__last_index__=n.index+n[0].length+i,_1(this,0)):null};ir.prototype.tlds=function(t,n){return t=Array.isArray(t)?t:[t],n?(this.__tlds__=this.__tlds__.concat(t).sort().filter(function(i,r,o){return i!==o[r-1]}).reverse(),Kf(this),this):(this.__tlds__=t.slice(),this.__tlds_replaced__=!0,Kf(this),this)};ir.prototype.normalize=function(t){t.schema||(t.url="http://"+t.url),t.schema==="mailto:"&&!/^mailto:/i.test(t.url)&&(t.url="mailto:"+t.url)};ir.prototype.onCompile=function(){};const Xl=2147483647,ao=36,By=1,Sd=26,mq=38,vq=700,cA=72,dA=128,hA="-",Cq=/^xn--/,bq=/[^\0-\x7F]/,yq=/[\x2E\u3002\uFF0E\uFF61]/g,wq={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Xm=ao-By,lo=Math.floor,Jm=String.fromCharCode;function Os(e){throw new RangeError(wq[e])}function Sq(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}function pA(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(yq,".");const r=e.split("."),o=Sq(r,t).join(".");return i+o}function fA(e){const t=[];let n=0;const i=e.length;for(;n<i;){const r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){const o=e.charCodeAt(n++);(o&64512)==56320?t.push(((r&1023)<<10)+(o&1023)+65536):(t.push(r),n--)}else t.push(r)}return t}const xq=e=>String.fromCodePoint(...e),Eq=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:ao},f4=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},gA=function(e,t,n){let i=0;for(e=n?lo(e/vq):e>>1,e+=lo(e/t);e>Xm*Sd>>1;i+=ao)e=lo(e/Xm);return lo(i+(Xm+1)*e/(e+mq))},mA=function(e){const t=[],n=e.length;let i=0,r=dA,o=cA,s=e.lastIndexOf(hA);s<0&&(s=0);for(let a=0;a<s;++a)e.charCodeAt(a)>=128&&Os("not-basic"),t.push(e.charCodeAt(a));for(let a=s>0?s+1:0;a<n;){const l=i;for(let c=1,d=ao;;d+=ao){a>=n&&Os("invalid-input");const h=Eq(e.charCodeAt(a++));h>=ao&&Os("invalid-input"),h>lo((Xl-i)/c)&&Os("overflow"),i+=h*c;const p=d<=o?By:d>=o+Sd?Sd:d-o;if(h<p)break;const f=ao-p;c>lo(Xl/f)&&Os("overflow"),c*=f}const u=t.length+1;o=gA(i-l,u,l==0),lo(i/u)>Xl-r&&Os("overflow"),r+=lo(i/u),i%=u,t.splice(i++,0,r)}return String.fromCodePoint(...t)},vA=function(e){const t=[];e=fA(e);const n=e.length;let i=dA,r=0,o=cA;for(const l of e)l<128&&t.push(Jm(l));const s=t.length;let a=s;for(s&&t.push(hA);a<n;){let l=Xl;for(const c of e)c>=i&&c<l&&(l=c);const u=a+1;l-i>lo((Xl-r)/u)&&Os("overflow"),r+=(l-i)*u,i=l;for(const c of e)if(c<i&&++r>Xl&&Os("overflow"),c===i){let d=r;for(let h=ao;;h+=ao){const p=h<=o?By:h>=o+Sd?Sd:h-o;if(d<p)break;const f=d-p,g=ao-p;t.push(Jm(f4(p+f%g,0))),d=lo(f/g)}t.push(Jm(f4(d,0))),o=gA(r,u,a===s),r=0,++a}++r,++i}return t.join("")},kq=function(e){return pA(e,function(t){return Cq.test(t)?mA(t.slice(4).toLowerCase()):t})},Fq=function(e){return pA(e,function(t){return bq.test(t)?"xn--"+vA(t):t})},CA={version:"2.3.1",ucs2:{decode:fA,encode:xq},decode:mA,encode:vA,toASCII:Fq,toUnicode:kq},Tq={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:100},components:{core:{},block:{},inline:{}}},Aq={options:{html:!1,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["paragraph"]},inline:{rules:["text"],rules2:["balance_pairs","fragments_join"]}}},Rq={options:{html:!0,xhtmlOut:!0,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!1,quotes:"“”‘’",highlight:null,maxNesting:20},components:{core:{rules:["normalize","block","inline","text_join"]},block:{rules:["blockquote","code","fence","heading","hr","html_block","lheading","list","reference","paragraph"]},inline:{rules:["autolink","backticks","emphasis","entity","escape","html_inline","image","link","newline","text"],rules2:["balance_pairs","emphasis","fragments_join"]}}},Dq={default:Tq,zero:Aq,commonmark:Rq},Mq=/^(vbscript|javascript|file|data):/,Pq=/^data:image\/(gif|png|jpeg|webp);/;function Iq(e){const t=e.trim().toLowerCase();return Mq.test(t)?Pq.test(t):!0}const bA=["http:","https:","mailto:"];function Oq(e){const t=My(e,!0);if(t.hostname&&(!t.protocol||bA.indexOf(t.protocol)>=0))try{t.hostname=CA.toASCII(t.hostname)}catch{}return th(Dy(t))}function Lq(e){const t=My(e,!0);if(t.hostname&&(!t.protocol||bA.indexOf(t.protocol)>=0))try{t.hostname=CA.toUnicode(t.hostname)}catch{}return xu(Dy(t),xu.defaultChars+"%")}function Hi(e,t){if(!(this instanceof Hi))return new Hi(e,t);t||Iy(e)||(t=e||{},e="default"),this.inline=new ih,this.block=new Cg,this.core=new Ly,this.renderer=new Hu,this.linkify=new ir,this.validateLink=Iq,this.normalizeLink=Oq,this.normalizeLinkText=Lq,this.utils=BU,this.helpers=mg({},_U),this.options={},this.configure(e),t&&this.set(t)}Hi.prototype.set=function(e){return mg(this.options,e),this};Hi.prototype.configure=function(e){const t=this;if(Iy(e)){const n=e;if(e=Dq[n],!e)throw new Error('Wrong `markdown-it` preset "'+n+'", check name')}if(!e)throw new Error("Wrong `markdown-it` preset, can't be empty");return e.options&&t.set(e.options),e.components&&Object.keys(e.components).forEach(function(n){e.components[n].rules&&t[n].ruler.enableOnly(e.components[n].rules),e.components[n].rules2&&t[n].ruler2.enableOnly(e.components[n].rules2)}),this};Hi.prototype.enable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.enable(e,!0))},this),n=n.concat(this.inline.ruler2.enable(e,!0));const i=e.filter(function(r){return n.indexOf(r)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to enable unknown rule(s): "+i);return this};Hi.prototype.disable=function(e,t){let n=[];Array.isArray(e)||(e=[e]),["core","block","inline"].forEach(function(r){n=n.concat(this[r].ruler.disable(e,!0))},this),n=n.concat(this.inline.ruler2.disable(e,!0));const i=e.filter(function(r){return n.indexOf(r)<0});if(i.length&&!t)throw new Error("MarkdownIt. Failed to disable unknown rule(s): "+i);return this};Hi.prototype.use=function(e){const t=[this].concat(Array.prototype.slice.call(arguments,1));return e.apply(e,t),this};Hi.prototype.parse=function(e,t){if(typeof e!="string")throw new Error("Input data should be a String");const n=new this.core.State(e,this,t);return this.core.process(n),n.tokens};Hi.prototype.render=function(e,t){return t=t||{},this.renderer.render(this.parse(e,t),this.options,t)};Hi.prototype.parseInline=function(e,t){const n=new this.core.State(e,this,t);return n.inlineMode=!0,this.core.process(n),n.tokens};Hi.prototype.renderInline=function(e,t){return t=t||{},this.renderer.render(this.parseInline(e,t),this.options,t)};const Nq=new yb({nodes:{doc:{content:"block+"},paragraph:{content:"inline*",group:"block",parseDOM:[{tag:"p"}],toDOM(){return["p",0]}},blockquote:{content:"block+",group:"block",parseDOM:[{tag:"blockquote"}],toDOM(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM(){return["div",["hr"]]}},heading:{attrs:{level:{default:1}},content:"(text | image)*",group:"block",defining:!0,parseDOM:[{tag:"h1",attrs:{level:1}},{tag:"h2",attrs:{level:2}},{tag:"h3",attrs:{level:3}},{tag:"h4",attrs:{level:4}},{tag:"h5",attrs:{level:5}},{tag:"h6",attrs:{level:6}}],toDOM(e){return["h"+e.attrs.level,0]}},code_block:{content:"text*",group:"block",code:!0,defining:!0,marks:"",attrs:{params:{default:""}},parseDOM:[{tag:"pre",preserveWhitespace:"full",getAttrs:e=>({params:e.getAttribute("data-params")||""})}],toDOM(e){return["pre",e.attrs.params?{"data-params":e.attrs.params}:{},["code",0]]}},ordered_list:{content:"list_item+",group:"block",attrs:{order:{default:1},tight:{default:!1}},parseDOM:[{tag:"ol",getAttrs(e){return{order:e.hasAttribute("start")?+e.getAttribute("start"):1,tight:e.hasAttribute("data-tight")}}}],toDOM(e){return["ol",{start:e.attrs.order==1?null:e.attrs.order,"data-tight":e.attrs.tight?"true":null},0]}},bullet_list:{content:"list_item+",group:"block",attrs:{tight:{default:!1}},parseDOM:[{tag:"ul",getAttrs:e=>({tight:e.hasAttribute("data-tight")})}],toDOM(e){return["ul",{"data-tight":e.attrs.tight?"true":null},0]}},list_item:{content:"block+",defining:!0,parseDOM:[{tag:"li"}],toDOM(){return["li",0]}},text:{group:"inline"},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt")}}}],toDOM(e){return["img",e.attrs]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM(){return["br"]}}},marks:{em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"},{style:"font-style=normal",clearMark:e=>e.type.name=="em"}],toDOM(){return["em"]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:e=>e.style.fontWeight!="normal"&&null},{style:"font-weight=400",clearMark:e=>e.type.name=="strong"},{style:"font-weight",getAttrs:e=>/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}],toDOM(){return["strong"]}},link:{attrs:{href:{},title:{default:null}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs(e){return{href:e.getAttribute("href"),title:e.getAttribute("title")}}}],toDOM(e){return["a",e.attrs]}},code:{code:!0,parseDOM:[{tag:"code"}],toDOM(){return["code"]}}}});function Bq(e,t){if(e.isText&&t.isText&&yt.sameSet(e.marks,t.marks))return e.withText(e.text+t.text)}class zq{constructor(t,n){this.schema=t,this.tokenHandlers=n,this.stack=[{type:t.topNodeType,attrs:null,content:[],marks:yt.none}]}top(){return this.stack[this.stack.length-1]}push(t){this.stack.length&&this.top().content.push(t)}addText(t){if(!t)return;let n=this.top(),i=n.content,r=i[i.length-1],o=this.schema.text(t,n.marks),s;r&&(s=Bq(r,o))?i[i.length-1]=s:i.push(o)}openMark(t){let n=this.top();n.marks=t.addToSet(n.marks)}closeMark(t){let n=this.top();n.marks=t.removeFromSet(n.marks)}parseTokens(t){for(let n=0;n<t.length;n++){let i=t[n],r=this.tokenHandlers[i.type];if(!r)throw new Error("Token type `"+i.type+"` not supported by Markdown parser");r(this,i,t,n)}}addNode(t,n,i){let r=this.top(),o=t.createAndFill(n,i,r?r.marks:[]);return o?(this.push(o),o):null}openNode(t,n){this.stack.push({type:t,attrs:n,content:[],marks:yt.none})}closeNode(){let t=this.stack.pop();return this.addNode(t.type,t.attrs,t.content)}}function Ju(e,t,n,i){return e.getAttrs?e.getAttrs(t,n,i):e.attrs instanceof Function?e.attrs(t):e.attrs}function Zm(e,t){return e.noCloseToken||t=="code_inline"||t=="code_block"||t=="fence"}function g4(e){return e[e.length-1]==`
`?e.slice(0,e.length-1):e}function Qm(){}function Hq(e,t){let n=Object.create(null);for(let i in t){let r=t[i];if(r.block){let o=e.nodeType(r.block);Zm(r,i)?n[i]=(s,a,l,u)=>{s.openNode(o,Ju(r,a,l,u)),s.addText(g4(a.content)),s.closeNode()}:(n[i+"_open"]=(s,a,l,u)=>s.openNode(o,Ju(r,a,l,u)),n[i+"_close"]=s=>s.closeNode())}else if(r.node){let o=e.nodeType(r.node);n[i]=(s,a,l,u)=>s.addNode(o,Ju(r,a,l,u))}else if(r.mark){let o=e.marks[r.mark];Zm(r,i)?n[i]=(s,a,l,u)=>{s.openMark(o.create(Ju(r,a,l,u))),s.addText(g4(a.content)),s.closeMark(o)}:(n[i+"_open"]=(s,a,l,u)=>s.openMark(o.create(Ju(r,a,l,u))),n[i+"_close"]=s=>s.closeMark(o))}else if(r.ignore)Zm(r,i)?n[i]=Qm:(n[i+"_open"]=Qm,n[i+"_close"]=Qm);else throw new RangeError("Unrecognized parsing spec "+JSON.stringify(r))}return n.text=(i,r)=>i.addText(r.content),n.inline=(i,r)=>i.parseTokens(r.children),n.softbreak=n.softbreak||(i=>i.addText(" ")),n}let Vq=class{constructor(t,n,i){this.schema=t,this.tokenizer=n,this.tokens=i,this.tokenHandlers=Hq(t,i)}parse(t,n={}){let i=new zq(this.schema,this.tokenHandlers),r;i.parseTokens(this.tokenizer.parse(t,n));do r=i.closeNode();while(i.stack.length);return r||this.schema.topNodeType.createAndFill()}};function m4(e,t){for(;++t<e.length;)if(e[t].type!="list_item_open")return e[t].hidden;return!1}new Vq(Nq,Hi("commonmark",{html:!1}),{blockquote:{block:"blockquote"},paragraph:{block:"paragraph"},list_item:{block:"list_item"},bullet_list:{block:"bullet_list",getAttrs:(e,t,n)=>({tight:m4(t,n)})},ordered_list:{block:"ordered_list",getAttrs:(e,t,n)=>({order:+e.attrGet("start")||1,tight:m4(t,n)})},heading:{block:"heading",getAttrs:e=>({level:+e.tag.slice(1)})},code_block:{block:"code_block",noCloseToken:!0},fence:{block:"code_block",getAttrs:e=>({params:e.info||""}),noCloseToken:!0},hr:{node:"horizontal_rule"},image:{node:"image",getAttrs:e=>({src:e.attrGet("src"),title:e.attrGet("title")||null,alt:e.children[0]&&e.children[0].content||null})},hardbreak:{node:"hard_break"},em:{mark:"em"},strong:{mark:"strong"},link:{mark:"link",getAttrs:e=>({href:e.attrGet("href"),title:e.attrGet("title")||null})},code_inline:{mark:"code",noCloseToken:!0}});const _q={open:"",close:"",mixable:!0};let Gq=class{constructor(t,n,i={}){this.nodes=t,this.marks=n,this.options=i}serialize(t,n={}){n=Object.assign({},this.options,n);let i=new yA(this.nodes,this.marks,n);return i.renderContent(t),i.out}};const To=new Gq({blockquote(e,t){e.wrapBlock("> ",null,t,()=>e.renderContent(t))},code_block(e,t){const n=t.textContent.match(/`{3,}/gm),i=n?n.sort().slice(-1)[0]+"`":"```";e.write(i+(t.attrs.params||"")+`
`),e.text(t.textContent,!1),e.write(`
`),e.write(i),e.closeBlock(t)},heading(e,t){e.write(e.repeat("#",t.attrs.level)+" "),e.renderInline(t,!1),e.closeBlock(t)},horizontal_rule(e,t){e.write(t.attrs.markup||"---"),e.closeBlock(t)},bullet_list(e,t){e.renderList(t,"  ",()=>(t.attrs.bullet||"*")+" ")},ordered_list(e,t){let n=t.attrs.order||1,i=String(n+t.childCount-1).length,r=e.repeat(" ",i+2);e.renderList(t,r,o=>{let s=String(n+o);return e.repeat(" ",i-s.length)+s+". "})},list_item(e,t){e.renderContent(t)},paragraph(e,t){e.renderInline(t),e.closeBlock(t)},image(e,t){e.write("!["+e.esc(t.attrs.alt||"")+"]("+t.attrs.src.replace(/[\(\)]/g,"\\$&")+(t.attrs.title?' "'+t.attrs.title.replace(/"/g,'\\"')+'"':"")+")")},hard_break(e,t,n,i){for(let r=i+1;r<n.childCount;r++)if(n.child(r).type!=t.type){e.write(`\\
`);return}},text(e,t){e.text(t.text,!e.inAutolink)}},{em:{open:"*",close:"*",mixable:!0,expelEnclosingWhitespace:!0},strong:{open:"**",close:"**",mixable:!0,expelEnclosingWhitespace:!0},link:{open(e,t,n,i){return e.inAutolink=Wq(t,n,i),e.inAutolink?"<":"["},close(e,t,n,i){let{inAutolink:r}=e;return e.inAutolink=void 0,r?">":"]("+t.attrs.href.replace(/[\(\)"]/g,"\\$&")+(t.attrs.title?` "${t.attrs.title.replace(/"/g,'\\"')}"`:"")+")"},mixable:!0},code:{open(e,t,n,i){return v4(n.child(i),-1)},close(e,t,n,i){return v4(n.child(i-1),1)},escape:!1}});function v4(e,t){let n=/`+/g,i,r=0;if(e.isText)for(;i=n.exec(e.text);)r=Math.max(r,i[0].length);let o=r>0&&t>0?" `":"`";for(let s=0;s<r;s++)o+="`";return r>0&&t<0&&(o+=" "),o}function Wq(e,t,n){if(e.attrs.title||!/^\w+:/.test(e.attrs.href))return!1;let i=t.child(n);return!i.isText||i.text!=e.attrs.href||i.marks[i.marks.length-1]!=e?!1:n==t.childCount-1||!e.isInSet(t.child(n+1).marks)}let yA=class{constructor(t,n,i){this.nodes=t,this.marks=n,this.options=i,this.delim="",this.out="",this.closed=null,this.inAutolink=void 0,this.atBlockStart=!1,this.inTightList=!1,typeof this.options.tightLists>"u"&&(this.options.tightLists=!1),typeof this.options.hardBreakNodeName>"u"&&(this.options.hardBreakNodeName="hard_break")}flushClose(t=2){if(this.closed){if(this.atBlank()||(this.out+=`
`),t>1){let n=this.delim,i=/\s+$/.exec(n);i&&(n=n.slice(0,n.length-i[0].length));for(let r=1;r<t;r++)this.out+=n+`
`}this.closed=null}}getMark(t){let n=this.marks[t];if(!n){if(this.options.strict!==!1)throw new Error(`Mark type \`${t}\` not supported by Markdown renderer`);n=_q}return n}wrapBlock(t,n,i,r){let o=this.delim;this.write(n??t),this.delim+=t,r(),this.delim=o,this.closeBlock(i)}atBlank(){return/(^|\n)$/.test(this.out)}ensureNewLine(){this.atBlank()||(this.out+=`
`)}write(t){this.flushClose(),this.delim&&this.atBlank()&&(this.out+=this.delim),t&&(this.out+=t)}closeBlock(t){this.closed=t}text(t,n=!0){let i=t.split(`
`);for(let r=0;r<i.length;r++)this.write(),!n&&i[r][0]=="["&&/(^|[^\\])\!$/.test(this.out)&&(this.out=this.out.slice(0,this.out.length-1)+"\\!"),this.out+=n?this.esc(i[r],this.atBlockStart):i[r],r!=i.length-1&&(this.out+=`
`)}render(t,n,i){if(this.nodes[t.type.name])this.nodes[t.type.name](this,t,n,i);else{if(this.options.strict!==!1)throw new Error("Token type `"+t.type.name+"` not supported by Markdown renderer");t.type.isLeaf||(t.type.inlineContent?this.renderInline(t):this.renderContent(t),t.isBlock&&this.closeBlock(t))}}renderContent(t){t.forEach((n,i,r)=>this.render(n,t,r))}renderInline(t,n=!0){this.atBlockStart=n;let i=[],r="",o=(s,a,l)=>{let u=s?s.marks:[];s&&s.type.name===this.options.hardBreakNodeName&&(u=u.filter(g=>{if(l+1==t.childCount)return!1;let m=t.child(l+1);return g.isInSet(m.marks)&&(!m.isText||/\S/.test(m.text))}));let c=r;if(r="",s&&s.isText&&u.some(g=>{let m=this.getMark(g.type.name);return m&&m.expelEnclosingWhitespace&&!g.isInSet(i)})){let[g,m,v]=/^(\s*)(.*)$/m.exec(s.text);m&&(c+=m,s=v?s.withText(v):null,s||(u=i))}if(s&&s.isText&&u.some(g=>{let m=this.getMark(g.type.name);return m&&m.expelEnclosingWhitespace&&(l==t.childCount-1||!g.isInSet(t.child(l+1).marks))})){let[g,m,v]=/^(.*?)(\s*)$/m.exec(s.text);v&&(r=v,s=m?s.withText(m):null,s||(u=i))}let d=u.length?u[u.length-1]:null,h=d&&this.getMark(d.type.name).escape===!1,p=u.length-(h?1:0);e:for(let g=0;g<p;g++){let m=u[g];if(!this.getMark(m.type.name).mixable)break;for(let v=0;v<i.length;v++){let b=i[v];if(!this.getMark(b.type.name).mixable)break;if(m.eq(b)){g>v?u=u.slice(0,v).concat(m).concat(u.slice(v,g)).concat(u.slice(g+1,p)):v>g&&(u=u.slice(0,g).concat(u.slice(g+1,v)).concat(m).concat(u.slice(v,p)));continue e}}}let f=0;for(;f<Math.min(i.length,p)&&u[f].eq(i[f]);)++f;for(;f<i.length;)this.text(this.markString(i.pop(),!1,t,l),!1);if(c&&this.text(c),s){for(;i.length<p;){let g=u[i.length];i.push(g),this.text(this.markString(g,!0,t,l),!1),this.atBlockStart=!1}h&&s.isText?this.text(this.markString(d,!0,t,l)+s.text+this.markString(d,!1,t,l+1),!1):this.render(s,t,l),this.atBlockStart=!1}s!=null&&s.isText&&s.nodeSize>0&&(this.atBlockStart=!1)};t.forEach(o),o(null,0,t.childCount),this.atBlockStart=!1}renderList(t,n,i){this.closed&&this.closed.type==t.type?this.flushClose(3):this.inTightList&&this.flushClose(1);let r=typeof t.attrs.tight<"u"?t.attrs.tight:this.options.tightLists,o=this.inTightList;this.inTightList=r,t.forEach((s,a,l)=>{l&&r&&this.flushClose(1),this.wrapBlock(n,i(l),t,()=>this.render(s,t,l))}),this.inTightList=o}esc(t,n=!1){return t=t.replace(/[`*\\~\[\]_]/g,(i,r)=>i=="_"&&r>0&&r+1<t.length&&t[r-1].match(/\w/)&&t[r+1].match(/\w/)?i:"\\"+i),n&&(t=t.replace(/^(\+[ ]|[\-*>])/,"\\$&").replace(/^(\s*)(#{1,6})(\s|$)/,"$1\\$2$3").replace(/^(\s*\d+)\.\s/,"$1\\. ")),this.options.escapeExtraCharacters&&(t=t.replace(this.options.escapeExtraCharacters,"\\$&")),t}quote(t){let n=t.indexOf('"')==-1?'""':t.indexOf("'")==-1?"''":"()";return n[0]+t+n[1]}repeat(t,n){let i="";for(let r=0;r<n;r++)i+=t;return i}markString(t,n,i,r){let o=this.getMark(t.type.name),s=n?o.open:o.close;return typeof s=="string"?s:s(this,t,i,r)}getEnclosingWhitespace(t){return{leading:(t.match(/^(\s+)/)||[void 0])[0],trailing:(t.match(/(\s+)$/)||[void 0])[0]}}};var ev,C4;function $q(){if(C4)return ev;C4=1;var e=!0,t=!1,n=!1;ev=function(g,m){m&&(e=!m.enabled,t=!!m.label,n=!!m.labelAfter),g.core.ruler.after("inline","github-task-lists",function(v){for(var b=v.tokens,S=2;S<b.length;S++)o(b,S)&&(s(b[S],v.Token),i(b[S-2],"class","task-list-item"+(e?"":" enabled")),i(b[r(b,S-2)],"class","contains-task-list"))})};function i(g,m,v){var b=g.attrIndex(m),S=[m,v];b<0?g.attrPush(S):g.attrs[b]=S}function r(g,m){for(var v=g[m].level-1,b=m-1;b>=0;b--)if(g[b].level===v)return b;return-1}function o(g,m){return d(g[m])&&h(g[m-1])&&p(g[m-2])&&f(g[m])}function s(g,m){if(g.children.unshift(a(g,m)),g.children[1].content=g.children[1].content.slice(3),g.content=g.content.slice(3),t)if(n){g.children.pop();var v="task-item-"+Math.ceil(Math.random()*(1e4*1e3)-1e3);g.children[0].content=g.children[0].content.slice(0,-1)+' id="'+v+'">',g.children.push(c(g.content,v,m))}else g.children.unshift(l(m)),g.children.push(u(m))}function a(g,m){var v=new m("html_inline","",0),b=e?' disabled="" ':"";return g.content.indexOf("[ ] ")===0?v.content='<input class="task-list-item-checkbox"'+b+'type="checkbox">':(g.content.indexOf("[x] ")===0||g.content.indexOf("[X] ")===0)&&(v.content='<input class="task-list-item-checkbox" checked=""'+b+'type="checkbox">'),v}function l(g){var m=new g("html_inline","",0);return m.content="<label>",m}function u(g){var m=new g("html_inline","",0);return m.content="</label>",m}function c(g,m,v){var b=new v("html_inline","",0);return b.content='<label class="task-list-item-label" for="'+m+'">'+g+"</label>",b.attrs=[{for:m}],b}function d(g){return g.type==="inline"}function h(g){return g.type==="paragraph_open"}function p(g){return g.type==="list_item_open"}function f(g){return g.content.indexOf("[ ] ")===0||g.content.indexOf("[x] ")===0||g.content.indexOf("[X] ")===0}return ev}var Uq=$q();const jq=E3(Uq);var qq=Object.defineProperty,Kq=(e,t,n)=>t in e?qq(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Yf=(e,t,n)=>(Kq(e,typeof t!="symbol"?t+"":t,n),n);const Yq=mn.create({name:"markdownTightLists",addOptions:()=>({tight:!0,tightClass:"tight",listTypes:["bulletList","orderedList"]}),addGlobalAttributes(){return[{types:this.options.listTypes,attributes:{tight:{default:this.options.tight,parseHTML:e=>e.getAttribute("data-tight")==="true"||!e.querySelector("p"),renderHTML:e=>({class:e.tight?this.options.tightClass:null,"data-tight":e.tight?"true":null})}}}]},addCommands(){var e=this;return{toggleTight:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;return n=>{let{editor:i,commands:r}=n;function o(s){if(!i.isActive(s))return!1;const a=i.getAttributes(s);return r.updateAttributes(s,{tight:t??!(a!=null&&a.tight)})}return e.options.listTypes.some(s=>o(s))}}}}}),b4=Hi();function wA(e,t){return b4.inline.State.prototype.scanDelims.call({src:e,posMax:e.length}),new b4.inline.State(e,null,null,[]).scanDelims(t,!0)}function SA(e,t,n,i){let r=e.substring(0,n)+e.substring(n+t.length);return r=r.substring(0,n+i)+t+r.substring(n+i),r}function Xq(e,t,n,i){let r=n,o=e;for(;r<i&&!wA(o,r).can_open;)o=SA(o,t,r,1),r++;return{text:o,from:r,to:i}}function Jq(e,t,n,i){let r=i,o=e;for(;r>n&&!wA(o,r).can_close;)o=SA(o,t,r,-1),r--;return{text:o,from:n,to:r}}function Zq(e,t,n,i){let r={text:e,from:n,to:i};return r=Xq(r.text,t,r.from,r.to),r=Jq(r.text,t,r.from,r.to),r.to-r.from<t.length+1&&(r.text=r.text.substring(0,r.from)+r.text.substring(r.to+t.length)),r.text}class Qq extends yA{constructor(t,n,i){super(t,n,i??{}),Yf(this,"inTable",!1),this.inlines=[]}render(t,n,i){super.render(t,n,i);const r=this.inlines[this.inlines.length-1];if(r!=null&&r.start&&r!==null&&r!==void 0&&r.end){const{delimiter:o,start:s,end:a}=this.normalizeInline(r);this.out=Zq(this.out,o,s,a),this.inlines.pop()}}markString(t,n,i,r){const o=this.marks[t.type.name];if(o.expelEnclosingWhitespace)if(n)this.inlines.push({start:this.out.length,delimiter:o.open});else{const s=this.inlines.pop();this.inlines.push({...s,end:this.out.length})}return super.markString(t,n,i,r)}normalizeInline(t){let{start:n,end:i}=t;for(;this.out.charAt(n).match(/\s/);)n++;return{...t,start:n}}}const xA=Jn.create({name:"markdownHTMLMark",addStorage(){return{markdown:{serialize:{open(e,t){var n,i;return this.editor.storage.markdown.options.html?(n=(i=y4(t))===null||i===void 0?void 0:i[0])!==null&&n!==void 0?n:"":(console.warn(`Tiptap Markdown: "${t.type.name}" mark is only available in html mode`),"")},close(e,t){var n,i;return this.editor.storage.markdown.options.html&&(n=(i=y4(t))===null||i===void 0?void 0:i[1])!==null&&n!==void 0?n:""}},parse:{}}}}});function y4(e){const t=e.type.schema,n=t.text(" ",[e]),r=Kd(J.from(n),t).match(/^(<.*?>) (<\/.*?>)$/);return r?[r[1],r[2]]:null}function zy(e){const t=`<body>${e}</body>`;return new window.DOMParser().parseFromString(t,"text/html").body}function eK(e){return e==null?void 0:e.replace(/</g,"&lt;").replace(/>/g,"&gt;")}function tK(e){const t=e.parentElement,n=t.cloneNode();for(;t.firstChild&&t.firstChild!==e;)n.appendChild(t.firstChild);n.childNodes.length>0&&t.parentElement.insertBefore(n,t),t.parentElement.insertBefore(e,t),t.childNodes.length===0&&t.remove()}function nK(e){const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}const yg=ct.create({name:"markdownHTMLNode",addStorage(){return{markdown:{serialize(e,t,n){this.editor.storage.markdown.options.html?e.write(iK(t,n)):(console.warn(`Tiptap Markdown: "${t.type.name}" node is only available in html mode`),e.write(`[${t.type.name}]`)),t.isBlock&&e.closeBlock(t)},parse:{}}}}});function iK(e,t){const n=e.type.schema,i=Kd(J.from(e),n);return e.isBlock&&(t instanceof J||t.type.name===n.topNodeType.name)?rK(i):i}function rK(e){const n=zy(e).firstElementChild;return n.innerHTML=n.innerHTML.trim()?`
${n.innerHTML}
`:`
`,n.outerHTML}const oK=ct.create({name:"blockquote"}),sK=oK.extend({addStorage(){return{markdown:{serialize:To.nodes.blockquote,parse:{}}}}}),aK=ct.create({name:"bulletList"}),EA=aK.extend({addStorage(){return{markdown:{serialize(e,t){return e.renderList(t,"  ",()=>(this.editor.storage.markdown.options.bulletListMarker||"-")+" ")},parse:{}}}}}),lK=ct.create({name:"codeBlock"}),uK=lK.extend({addStorage(){return{markdown:{serialize(e,t){e.write("```"+(t.attrs.language||"")+`
`),e.text(t.textContent,!1),e.ensureNewLine(),e.write("```"),e.closeBlock(t)},parse:{setup(e){var t;e.set({langPrefix:(t=this.options.languageClassPrefix)!==null&&t!==void 0?t:"language-"})},updateDOM(e){e.innerHTML=e.innerHTML.replace(/\n<\/code><\/pre>/g,"</code></pre>")}}}}}}),cK=ct.create({name:"hardBreak"}),kA=cK.extend({addStorage(){return{markdown:{serialize(e,t,n,i){for(let r=i+1;r<n.childCount;r++)if(n.child(r).type!=t.type){e.write(e.inTable?yg.storage.markdown.serialize.call(this,e,t,n):`\\
`);return}},parse:{}}}}}),dK=ct.create({name:"heading"}),hK=dK.extend({addStorage(){return{markdown:{serialize:To.nodes.heading,parse:{}}}}}),pK=ct.create({name:"horizontalRule"}),fK=pK.extend({addStorage(){return{markdown:{serialize:To.nodes.horizontal_rule,parse:{}}}}}),gK=ct.create({name:"image"}),mK=gK.extend({addStorage(){return{markdown:{serialize:To.nodes.image,parse:{}}}}}),vK=ct.create({name:"listItem"}),CK=vK.extend({addStorage(){return{markdown:{serialize:To.nodes.list_item,parse:{}}}}}),bK=ct.create({name:"orderedList"});function yK(e,t,n){let i=0;for(;n-i>0&&t.child(n-i-1).type.name===e.type.name;i++);return i}const wK=bK.extend({addStorage(){return{markdown:{serialize(e,t,n,i){const r=t.attrs.start||1,o=String(r+t.childCount-1).length,s=e.repeat(" ",o+2),l=yK(t,n,i)%2?") ":". ";e.renderList(t,s,u=>{const c=String(r+u);return e.repeat(" ",o-c.length)+c+l})},parse:{}}}}}),SK=ct.create({name:"paragraph"}),xK=SK.extend({addStorage(){return{markdown:{serialize:To.nodes.paragraph,parse:{}}}}});function tv(e){var t,n;return(t=e==null||(n=e.content)===null||n===void 0?void 0:n.content)!==null&&t!==void 0?t:[]}const EK=ct.create({name:"table"}),kK=EK.extend({addStorage(){return{markdown:{serialize(e,t,n){if(!FK(t)){yg.storage.markdown.serialize.call(this,e,t,n);return}e.inTable=!0,t.forEach((i,r,o)=>{if(e.write("| "),i.forEach((s,a,l)=>{l&&e.write(" | ");const u=s.firstChild;u.textContent.trim()&&e.renderInline(u)}),e.write(" |"),e.ensureNewLine(),!o){const s=Array.from({length:i.childCount}).map(()=>"---").join(" | ");e.write(`| ${s} |`),e.ensureNewLine()}}),e.closeBlock(t),e.inTable=!1},parse:{}}}}});function w4(e){return e.attrs.colspan>1||e.attrs.rowspan>1}function FK(e){const t=tv(e),n=t[0],i=t.slice(1);return!(tv(n).some(r=>r.type.name!=="tableHeader"||w4(r)||r.childCount>1)||i.some(r=>tv(r).some(o=>o.type.name==="tableHeader"||w4(o)||o.childCount>1)))}const TK=ct.create({name:"taskItem"}),AK=TK.extend({addStorage(){return{markdown:{serialize(e,t){const n=t.attrs.checked?"[x]":"[ ]";e.write(`${n} `),e.renderContent(t)},parse:{updateDOM(e){[...e.querySelectorAll(".task-list-item")].forEach(t=>{const n=t.querySelector("input");t.setAttribute("data-type","taskItem"),n&&(t.setAttribute("data-checked",n.checked),n.remove())})}}}}}}),RK=ct.create({name:"taskList"}),DK=RK.extend({addStorage(){return{markdown:{serialize:EA.storage.markdown.serialize,parse:{setup(e){e.use(jq)},updateDOM(e){[...e.querySelectorAll(".contains-task-list")].forEach(t=>{t.setAttribute("data-type","taskList")})}}}}}}),MK=ct.create({name:"text"}),PK=MK.extend({addStorage(){return{markdown:{serialize(e,t){e.text(eK(t.text))},parse:{}}}}}),IK=Jn.create({name:"bold"}),OK=IK.extend({addStorage(){return{markdown:{serialize:To.marks.strong,parse:{}}}}}),LK=Jn.create({name:"code"}),NK=LK.extend({addStorage(){return{markdown:{serialize:To.marks.code,parse:{}}}}}),BK=Jn.create({name:"italic"}),zK=BK.extend({addStorage(){return{markdown:{serialize:To.marks.em,parse:{}}}}}),HK=Jn.create({name:"link"}),VK=HK.extend({addStorage(){return{markdown:{serialize:To.marks.link,parse:{}}}}}),_K=Jn.create({name:"strike"}),GK=_K.extend({addStorage(){return{markdown:{serialize:{open:"~~",close:"~~",expelEnclosingWhitespace:!0},parse:{}}}}}),WK=[sK,EA,uK,kA,hK,fK,yg,mK,CK,wK,xK,kK,AK,DK,PK,OK,NK,xA,zK,VK,GK];function Xf(e){var t,n;const i=(t=e.storage)===null||t===void 0?void 0:t.markdown,r=(n=WK.find(o=>o.name===e.name))===null||n===void 0?void 0:n.storage.markdown;return i||r?{...r,...i}:null}class $K{constructor(t){Yf(this,"editor",null),this.editor=t}serialize(t){const n=new Qq(this.nodes,this.marks,{hardBreakNodeName:kA.name});return n.renderContent(t),n.out}get nodes(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.nodes).map(n=>[n,this.serializeNode(yg)])),...Object.fromEntries((t=this.editor.extensionManager.extensions.filter(n=>n.type==="node"&&this.serializeNode(n)).map(n=>[n.name,this.serializeNode(n)]))!==null&&t!==void 0?t:[])}}get marks(){var t;return{...Object.fromEntries(Object.keys(this.editor.schema.marks).map(n=>[n,this.serializeMark(xA)])),...Object.fromEntries((t=this.editor.extensionManager.extensions.filter(n=>n.type==="mark"&&this.serializeMark(n)).map(n=>[n.name,this.serializeMark(n)]))!==null&&t!==void 0?t:[])}}serializeNode(t){var n;return(n=Xf(t))===null||n===void 0||(n=n.serialize)===null||n===void 0?void 0:n.bind({editor:this.editor,options:t.options})}serializeMark(t){var n;const i=(n=Xf(t))===null||n===void 0?void 0:n.serialize;return i?{...i,open:typeof i.open=="function"?i.open.bind({editor:this.editor,options:t.options}):i.open,close:typeof i.close=="function"?i.close.bind({editor:this.editor,options:t.options}):i.close}:null}}class UK{constructor(t,n){Yf(this,"editor",null),Yf(this,"md",null);let{html:i,linkify:r,breaks:o}=n;this.editor=t,this.md=this.withPatchedRenderer(Hi({html:i,linkify:r,breaks:o}))}parse(t){let{inline:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof t=="string"){this.editor.extensionManager.extensions.forEach(o=>{var s;return(s=Xf(o))===null||s===void 0||(s=s.parse)===null||s===void 0||(s=s.setup)===null||s===void 0?void 0:s.call({editor:this.editor,options:o.options},this.md)});const i=this.md.render(t),r=zy(i);return this.editor.extensionManager.extensions.forEach(o=>{var s;return(s=Xf(o))===null||s===void 0||(s=s.parse)===null||s===void 0||(s=s.updateDOM)===null||s===void 0?void 0:s.call({editor:this.editor,options:o.options},r)}),this.normalizeDOM(r,{inline:n,content:t}),r.innerHTML}return t}normalizeDOM(t,n){let{inline:i,content:r}=n;return this.normalizeBlocks(t),t.querySelectorAll("*").forEach(o=>{var s;((s=o.nextSibling)===null||s===void 0?void 0:s.nodeType)===Node.TEXT_NODE&&!o.closest("pre")&&(o.nextSibling.textContent=o.nextSibling.textContent.replace(/^\n/,""))}),i&&this.normalizeInline(t,r),t}normalizeBlocks(t){const i=Object.values(this.editor.schema.nodes).filter(r=>r.isBlock).map(r=>{var o;return(o=r.spec.parseDOM)===null||o===void 0?void 0:o.map(s=>s.tag)}).flat().filter(Boolean).join(",");i&&[...t.querySelectorAll(i)].forEach(r=>{r.parentElement.matches("p")&&tK(r)})}normalizeInline(t,n){var i;if((i=t.firstElementChild)!==null&&i!==void 0&&i.matches("p")){var r,o,s,a;const l=t.firstElementChild,{nextElementSibling:u}=l,c=(r=(o=n.match(/^\s+/))===null||o===void 0?void 0:o[0])!==null&&r!==void 0?r:"",d=u?"":(s=(a=n.match(/\s+$/))===null||a===void 0?void 0:a[0])!==null&&s!==void 0?s:"";if(n.match(/^\n\n/)){l.innerHTML=`${l.innerHTML}${d}`;return}nK(l),t.innerHTML=`${c}${t.innerHTML}${d}`}}withPatchedRenderer(t){const n=i=>function(){const r=i(...arguments);return r===`
`?r:r[r.length-1]===`
`?r.slice(0,-1):r};return t.renderer.rules.hardbreak=n(t.renderer.rules.hardbreak),t.renderer.rules.softbreak=n(t.renderer.rules.softbreak),t.renderer.rules.fence=n(t.renderer.rules.fence),t.renderer.rules.code_block=n(t.renderer.rules.code_block),t.renderer.renderToken=n(t.renderer.renderToken.bind(t.renderer)),t}}const jK=mn.create({name:"markdownClipboard",addOptions(){return{transformPastedText:!1,transformCopiedText:!1}},addProseMirrorPlugins(){return[new rn({key:new xn("markdownClipboard"),props:{clipboardTextParser:(e,t,n)=>{if(n||!this.options.transformPastedText)return null;const i=this.editor.storage.markdown.parser.parse(e,{inline:!0});return Jo.fromSchema(this.editor.schema).parseSlice(zy(i),{preserveWhitespace:!0,context:t})},clipboardTextSerializer:e=>this.options.transformCopiedText?this.editor.storage.markdown.serializer.serialize(e.content):null}})]}}),qK=mn.create({name:"markdown",priority:50,addOptions(){return{html:!0,tightLists:!0,tightListClass:"tight",bulletListMarker:"-",linkify:!1,breaks:!1,transformPastedText:!1,transformCopiedText:!1}},addCommands(){const e=az.Commands.config.addCommands();return{setContent:(t,n,i)=>r=>e.setContent(r.editor.storage.markdown.parser.parse(t),n,i)(r),insertContentAt:(t,n,i)=>r=>e.insertContentAt(t,r.editor.storage.markdown.parser.parse(n,{inline:!0}),i)(r)}},onBeforeCreate(){this.editor.storage.markdown={options:{...this.options},parser:new UK(this.editor,this.options),serializer:new $K(this.editor),getMarkdown:()=>this.editor.storage.markdown.serializer.serialize(this.editor.state.doc)},this.editor.options.initialContent=this.editor.options.content,this.editor.options.content=this.editor.storage.markdown.parser.parse(this.editor.options.content)},onCreate(){this.editor.options.content=this.editor.options.initialContent,delete this.editor.options.initialContent},addStorage(){return{}},addExtensions(){return[Yq.configure({tight:this.options.tightLists,tightClass:this.options.tightListClass}),jK.configure({transformPastedText:this.options.transformPastedText,transformCopiedText:this.options.transformCopiedText})]}}),KK={name:"TableIcon",props:{icon:{type:String,required:!0}},data:()=>({TableIconsEnum:{TABLE_INSERT:"table-insert",ROW_INSERT_BEFORE:"row-insert-before",ROW_INSERT_AFTER:"row-insert-after",ROW_DELETE:"row-delete",COLUMN_INSERT_BEFORE:"column-insert-before",COLUMN_INSERT_AFTER:"column-insert-after",COLUMN_DELETE:"column-delete",TABLE_DELETE:"table-delete"}})},YK={key:0,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},XK={key:1,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},JK={key:2,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ZK={key:3,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},QK={key:4,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},eY={key:5,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},tY={key:6,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"},nY={key:7,class:"icon",viewBox:"0 0 30 30",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function iY(e,t,n,i,r,o){return X(),ne("div",null,[n.icon==e.TableIconsEnum.TABLE_INSERT?(X(),ne("svg",YK,t[0]||(t[0]=[De("circle",{cx:"23",cy:"23",r:"7",fill:"currentColor"},null,-1),De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 1C1.34315 1 0 2.34315 0 4V26C0 27.6569 1.34315 29 3 29H16.2917C15.7549 28.4003 15.2974 27.7281 14.9355 27H11V20H14.5121C14.7638 19.2879 15.1025 18.617 15.5155 18H11V12H17L17 16.2917C17.5997 15.7549 18.2719 15.2974 19 14.9355V12H26V14.5121C26.7121 14.7638 27.383 15.1025 28 15.5155V4C28 2.34315 26.6569 1 25 1H3ZM2 4C2 3.44772 2.44772 3 3 3H9V10H2V4ZM11 10V3L17 3V10H11ZM9 20V27H3C2.44772 27 2 26.5523 2 26V20H9ZM9 18H2V12H9V18ZM19 10H26V4C26 3.44772 25.5523 3 25 3H19V10Z",fill:"currentColor"},null,-1),De("line",{x1:"19",y1:"23",x2:"27",y2:"23",stroke:"white","stroke-width":"2"},null,-1),De("line",{x1:"23",y1:"27",x2:"23",y2:"19",stroke:"white","stroke-width":"2"},null,-1)]))):n.icon==e.TableIconsEnum.ROW_INSERT_BEFORE?(X(),ne("svg",XK,t[1]||(t[1]=[uh('<path fill-rule="evenodd" clip-rule="evenodd" d="M2 20L2 10L26 10L26 16.0703C26.7528 16.5057 27.4281 17.0604 28 17.7084L28 10C28 8.89543 27.1046 8 26 8L2 8C0.895431 8 1.5627e-07 8.89543 1.43099e-07 10L2.38498e-08 20C1.06779e-08 21.1046 0.895431 22 2 22L14.0619 22C14.149 21.3014 14.3262 20.6307 14.5815 20L2 20Z" fill="currentColor"></path><circle cx="22" cy="23" r="7" transform="rotate(-90 22 23)" fill="currentColor"></circle><line x1="6" y1="9" x2="6" y2="2" stroke="currentColor" stroke-width="2"></line><path d="M6 1.58933e-07L10.3301 4.5L1.66987 4.5L6 1.58933e-07Z" fill="currentColor"></path><line x1="22" y1="27" x2="22" y2="19" stroke="white" stroke-width="2"></line><line x1="26" y1="23" x2="18" y2="23" stroke="white" stroke-width="2"></line>',6)]))):n.icon==e.TableIconsEnum.ROW_INSERT_AFTER?(X(),ne("svg",JK,t[2]||(t[2]=[uh('<path fill-rule="evenodd" clip-rule="evenodd" d="M2 16L2 6L26 6L26 12.0703C26.7528 12.5057 27.4281 13.0604 28 13.7084L28 6C28 4.89543 27.1046 4 26 4L2 4C0.895431 4 1.5627e-07 4.89543 1.43099e-07 6L2.38498e-08 16C1.06779e-08 17.1046 0.895431 18 2 18L14.0619 18C14.149 17.3014 14.3262 16.6307 14.5815 16L2 16Z" fill="currentColor"></path><circle cx="22" cy="19" r="7" transform="rotate(-90 22 19)" fill="currentColor"></circle><line y1="-1" x2="7" y2="-1" transform="matrix(-1.19249e-08 1 1 1.19249e-08 7 17)" stroke="currentColor" stroke-width="2"></line><path d="M6 26L10.3301 21.5L1.66987 21.5L6 26Z" fill="currentColor"></path><line x1="22" y1="23" x2="22" y2="15" stroke="white" stroke-width="2"></line><line x1="26" y1="19" x2="18" y2="19" stroke="white" stroke-width="2"></line>',6)]))):n.icon==e.TableIconsEnum.COLUMN_INSERT_BEFORE?(X(),ne("svg",ZK,t[3]||(t[3]=[uh('<path fill-rule="evenodd" clip-rule="evenodd" d="M14 3H24V27H17.9297C17.4943 27.7528 16.9396 28.4281 16.2916 29H24C25.1046 29 26 28.1046 26 27V3C26 1.89543 25.1046 1 24 1H14C12.8954 1 12 1.89543 12 3V15.0619C12.6986 15.149 13.3693 15.3262 14 15.5815L14 3Z" fill="currentColor"></path><circle cx="11" cy="23" r="7" fill="currentColor"></circle><line y1="-1" x2="7" y2="-1" transform="matrix(-1 0 0 1 13 8)" stroke="currentColor" stroke-width="2"></line><path d="M4 7L8.5 11.3301L8.5 2.66987L4 7Z" fill="currentColor"></path><line x1="7" y1="23" x2="15" y2="23" stroke="white" stroke-width="2"></line><line x1="11" y1="27" x2="11" y2="19" stroke="white" stroke-width="2"></line>',6)]))):n.icon==e.TableIconsEnum.COLUMN_INSERT_AFTER?(X(),ne("svg",QK,t[4]||(t[4]=[uh('<path fill-rule="evenodd" clip-rule="evenodd" d="M6 3H16V15.5815C16.6307 15.3262 17.3014 15.149 18 15.0619V3C18 1.89543 17.1046 1 16 1H6C4.89543 1 4 1.89543 4 3V27C4 28.1046 4.89543 29 6 29H13.7084C13.0604 28.4281 12.5057 27.7528 12.0703 27H6L6 3Z" fill="currentColor"></path><circle cx="19" cy="23" r="7" fill="currentColor"></circle><line x1="17" y1="7" x2="24" y2="7" stroke="currentColor" stroke-width="2"></line><path d="M26 7L21.5 11.3301L21.5 2.66987L26 7Z" fill="currentColor"></path><line x1="15" y1="23" x2="23" y2="23" stroke="white" stroke-width="2"></line><line x1="19" y1="27" x2="19" y2="19" stroke="white" stroke-width="2"></line>',6)]))):n.icon==e.TableIconsEnum.ROW_DELETE?(X(),ne("svg",eY,t[5]||(t[5]=[De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M2 16L2 6L26 6L26 12.0703C26.7528 12.5057 27.4281 13.0604 28 13.7084L28 6C28 4.89543 27.1046 4 26 4L2 4C0.895431 4 1.5627e-07 4.89543 1.43099e-07 6L2.38498e-08 16C1.06779e-08 17.1046 0.895431 18 2 18L14.0619 18C14.149 17.3014 14.3262 16.6307 14.5815 16L2 16Z",fill:"currentColor"},null,-1),De("circle",{cx:"22",cy:"19",r:"7",transform:"rotate(-90 22 19)",fill:"currentColor"},null,-1),De("line",{x1:"26",y1:"19",x2:"18",y2:"19",stroke:"white","stroke-width":"2"},null,-1)]))):n.icon==e.TableIconsEnum.COLUMN_DELETE?(X(),ne("svg",tY,t[6]||(t[6]=[De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 3H24V27H17.9297C17.4943 27.7528 16.9396 28.4281 16.2916 29H24C25.1046 29 26 28.1046 26 27V3C26 1.89543 25.1046 1 24 1H14C12.8954 1 12 1.89543 12 3V15.0619C12.6986 15.149 13.3693 15.3262 14 15.5815L14 3Z",fill:"currentColor"},null,-1),De("circle",{cx:"11",cy:"23",r:"7",fill:"currentColor"},null,-1),De("line",{x1:"7",y1:"23",x2:"15",y2:"23",stroke:"white","stroke-width":"2"},null,-1)]))):n.icon==e.TableIconsEnum.TABLE_DELETE?(X(),ne("svg",nY,t[7]||(t[7]=[De("circle",{cx:"23",cy:"23",r:"7",fill:"currentColor"},null,-1),De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3 1C1.34315 1 0 2.34315 0 4V26C0 27.6569 1.34315 29 3 29H16.2917C15.7549 28.4003 15.2974 27.7281 14.9355 27H11V20H14.5121C14.7638 19.2879 15.1025 18.617 15.5155 18H11V12H17L17 16.2917C17.5997 15.7549 18.2719 15.2974 19 14.9355V12H26V14.5121C26.7121 14.7638 27.383 15.1025 28 15.5155V4C28 2.34315 26.6569 1 25 1H3ZM2 4C2 3.44772 2.44772 3 3 3H9V10H2V4ZM11 10V3L17 3V10H11ZM9 20V27H3C2.44772 27 2 26.5523 2 26V20H9ZM9 18H2V12H9V18ZM19 10H26V4C26 3.44772 25.5523 3 25 3H19V10Z",fill:"currentColor"},null,-1),De("line",{x1:"19",y1:"23",x2:"27",y2:"23",stroke:"white","stroke-width":"2"},null,-1)]))):ye("",!0)])}const rY=nn(KK,[["render",iY]]);function G1(e,t){return t.type==="mention"?(e.push(t.attrs.id),e):t.content?t.content.reduce(G1,e):e}const Il={p:0,h1:1,h2:2,h3:3,h4:4,h5:5,h6:6},oY={components:{EditorContent:WH,TableIcon:rY},props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0},useForm:{type:Boolean,default:!0}},emits:["trigger-event","update:content:effect","update:sidepanel-content"],setup(e,{emit:t}){const{value:n,setValue:i}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:"string",defaultValue:Z(()=>String(e.content.initialValue||""))}),{value:r,setValue:o}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"mentions",type:"array",defaultValue:[],readonly:!0}),{value:s,setValue:a}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"states",type:"object",defaultValue:{},readonly:!0}),l=wwLib.wwUtils.getUid(),u=ra("_wwForm:useForm",()=>{}),c=Z(()=>e.content.fieldName),d=Z(()=>e.content.validation),h=Z(()=>e.content.customValidation);return u(n,{fieldName:c,validation:d,customValidation:h},{elementState:e.wwElementState,emit:t,sidepanelFormPath:"form"}),{variableValue:n,setValue:i,variableMentions:r,setMentions:o,states:s,setStates:a,randomUid:l}},data:()=>({richEditor:null,loading:!1,iconHTMLs:{}}),watch:{"content.initialValue"(e){e!==this.getContent()&&(this.richEditor.commands.setContent(e),this.setValue(e)),this.$emit("trigger-event",{name:"initValueChange",event:{value:e}}),this.isReadonly&&this.handleOnUpdate()},isEditable(e){this.richEditor.setEditable(e)},variableValue(e,t){e!==this.getContent()&&this.richEditor.commands.setContent(e),e!==this.getContent()&&this.setValue(this.getContent())},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly")}},editorStates:{deep:!0,immediate:!0,handler(e){this.setStates(e)}}},computed:{isEditing(){return!1},editorStates(){return this.richEditor?{textType:Object.keys(Il).find(e=>Il[e]===this.currentTextType),textColor:this.currentColor,bold:this.richEditor.isActive("bold"),italic:this.richEditor.isActive("italic"),underline:this.richEditor.isActive("underline"),strike:this.richEditor.isActive("strike"),bulletList:this.richEditor.isActive("bulletList"),orderedList:this.richEditor.isActive("orderedList"),checkList:this.richEditor.isActive("taskList"),link:this.richEditor.isActive("link"),codeBlock:this.richEditor.isActive("codeBlock"),blockquote:this.richEditor.isActive("blockquote"),textAlign:this.richEditor.isActive({textAlign:"left"})?"left":this.richEditor.isActive({textAlign:"center"})?"center":this.richEditor.isActive({textAlign:"right"})?"right":this.richEditor.isActive({textAlign:"justify"})?"justify":!1,table:this.richEditor.isActive("table"),inlineMath:!1,blockMath:!1}:{}},currentColor(){var e,t,n;return(e=this.richEditor.getAttributes("textStyle"))!=null&&e.color?(t=this.richEditor.getAttributes("textStyle"))==null?void 0:t.color:this.richEditor.isActive("link")?this.content.a.color:this.richEditor.isActive("codeBlock")?this.content.code.color:this.richEditor.isActive("blockquote")?this.content.blockquote.color:(n=this.content[Object.keys(Il).find(i=>Il[i]===this.currentTextType)])==null?void 0:n.color},mentionList(){const e=wwLib.wwCollection.getCollectionData(this.content.mentionList);return Array.isArray(e)?e.map(t=>({id:wwLib.resolveObjectPropertyPath(t,this.content.mentionIdPath||"id")||"",label:wwLib.resolveObjectPropertyPath(t,this.content.mentionLabelPath||"label")||""})):[]},mentionListLength(){return!this.content.mentionListLength||isNaN(this.content.mentionListLength)?5:this.content.mentionListLength},isReadonly(){return this.wwElementState.props.readonly===void 0?this.content.readonly:this.wwElementState.props.readonly},isEditable(){return!this.isReadonly&&this.content.editable},hideMenu(){return this.content.hideMenu||this.isReadonly},menu(){return{textType:this.content.parameterTextType??!0,bold:this.content.parameterBold??!0,italic:this.content.parameterItalic??!0,underline:this.content.parameterUnderline??!0,strike:this.content.parameterStrike??!0,alignLeft:this.content.parameterAlignLeft??!1,alignCenter:this.content.parameterAlignCenter??!1,alignRight:this.content.parameterAlignRight??!1,alignJustify:this.content.parameterAlignJustify??!1,textColor:this.content.parameterTextColor??!0,bulletList:this.content.parameterBulletList??!0,orderedList:this.content.parameterOrderedList??!0,taskList:this.content.parameterTaskList??!1,table:this.content.parameterTable??!1,link:this.content.parameterLink??!0,image:this.content.parameterImage??!1,codeBlock:this.content.parameterCodeBlock??!0,blockquote:this.content.parameterQuote??!0,inlineMath:this.content.parameterInlineMath??!1,blockMath:this.content.parameterBlockMath??!1,undo:this.content.parameterUndo??!0,redo:this.content.parameterRedo??!0}},editorConfig(){var e;return{placeholder:wwLib.wwLang.getText(this.content.placeholder),autofocus:this.content.autofocus,image:{inline:(e=this.content.img)==null?void 0:e.inline,allowBase64:!0},mention:{enabled:this.content.enableMention,list:this.mentionList,allowSpaces:this.content.mentionAllowSpaces,char:this.content.mentionChar}}},currentTextType:{get(){const e=this.textTypeOptions.find(t=>t.active);return e?e.value:0},set(e){this.setTag(e)}},textTypeOptions(){return this.richEditor?[{label:"Paragraph",value:0,active:this.richEditor.isActive("paragraph")},{label:"Heading 1",value:1,active:this.richEditor.isActive("heading",{level:1})},{label:"Heading 2",value:2,active:this.richEditor.isActive("heading",{level:2})},{label:"Heading 3",value:3,active:this.richEditor.isActive("heading",{level:3})},{label:"Heading 4",value:4,active:this.richEditor.isActive("heading",{level:4})},{label:"Heading 5",value:5,active:this.richEditor.isActive("heading",{level:5})},{label:"Heading 6",value:6,active:this.richEditor.isActive("heading",{level:6})}]:[]},menuStyles(){return{"--menu-color":this.content.menuColor,"flex-wrap":this.content.wrapMenu?"wrap":"nowrap"}},richStyles(){var e,t,n,i,r,o,s,a,l,u,c,d;return{display:"flex",flex:1,overflow:"auto","--h1-fontSize":this.content.h1.fontSize,"--h1-fontFamily":this.content.h1.fontFamily,"--h1-fontWeight":this.content.h1.fontWeight,"--h1-textAlign":this.content.h1.textAlign,"--h1-color":this.content.h1.color,"--h1-lineHeight":this.content.h1.lineHeight,"--h1-margin-top":this.content.h1.marginTop,"--h1-margin-bottom":this.content.h1.marginBottom,"--h2-fontSize":this.content.h2.fontSize,"--h2-fontFamily":this.content.h2.fontFamily,"--h2-fontWeight":this.content.h2.fontWeight,"--h2-textAlign":this.content.h2.textAlign,"--h2-color":this.content.h2.color,"--h2-lineHeight":this.content.h2.lineHeight,"--h2-margin-top":this.content.h2.marginTop,"--h2-margin-bottom":this.content.h2.marginBottom,"--h3-fontSize":this.content.h3.fontSize,"--h3-fontFamily":this.content.h3.fontFamily,"--h3-fontWeight":this.content.h3.fontWeight,"--h3-textAlign":this.content.h3.textAlign,"--h3-color":this.content.h3.color,"--h3-lineHeight":this.content.h3.lineHeight,"--h3-margin-top":this.content.h3.marginTop,"--h3-margin-bottom":this.content.h3.marginBottom,"--h4-fontSize":this.content.h4.fontSize,"--h4-fontFamily":this.content.h4.fontFamily,"--h4-fontWeight":this.content.h4.fontWeight,"--h4-textAlign":this.content.h4.textAlign,"--h4-color":this.content.h4.color,"--h4-lineHeight":this.content.h4.lineHeight,"--h4-margin-top":this.content.h4.marginTop,"--h4-margin-bottom":this.content.h4.marginBottom,"--h5-fontSize":this.content.h5.fontSize,"--h5-fontFamily":this.content.h5.fontFamily,"--h5-fontWeight":this.content.h5.fontWeight,"--h5-textAlign":this.content.h5.textAlign,"--h5-color":this.content.h5.color,"--h5-lineHeight":this.content.h5.lineHeight,"--h5-margin-top":this.content.h5.marginTop,"--h5-margin-bottom":this.content.h5.marginBottom,"--h6-fontSize":this.content.h6.fontSize,"--h6-fontFamily":this.content.h6.fontFamily,"--h6-fontWeight":this.content.h6.fontWeight,"--h6-textAlign":this.content.h6.textAlign,"--h6-color":this.content.h6.color,"--h6-lineHeight":this.content.h6.lineHeight,"--h6-margin-top":this.content.h6.marginTop,"--h6-margin-bottom":this.content.h6.marginBottom,"--p-fontSize":this.content.p.fontSize,"--p-fontFamily":this.content.p.fontFamily,"--p-fontWeight":this.content.p.fontWeight,"--p-textAlign":this.content.p.textAlign,"--p-color":this.content.p.color,"--p-lineHeight":this.content.p.lineHeight,"--p-margin-top":this.content.p.marginTop,"--p-margin-bottom":this.content.p.marginBottom,"--mention-fontSize":this.content.mention.fontSize,"--mention-fontFamily":this.content.mention.fontFamily,"--mention-fontWeight":this.content.mention.fontWeight,"--mention-color":this.content.mention.color,"--mention-borderSize":this.content.mention.borderSize,"--mention-border-radius":this.content.mention.borderRadius,"--a-fontSize":this.content.a.fontSize,"--a-fontFamily":this.content.a.fontFamily,"--a-fontWeight":this.content.a.fontWeight,"--a-textAlign":this.content.a.textAlign,"--a-color":this.content.a.color,"--a-lineHeight":this.content.a.lineHeight,"--a-underline":this.content.a.isUnderline?"underline":"none","--blockquote-color":this.content.blockquote.color,"--blockquote-border-color":this.content.blockquote.borderColor,"--blockquote-margin-top":this.content.blockquote.marginTop,"--blockquote-margin-bottom":this.content.blockquote.marginBottom,"--code-color":this.content.code.color,"--code-bg-color":this.content.code.bgColor,"--code-border-radius":this.content.code.borderRadius,"--code-padding-y":this.content.code.paddingY,"--code-padding-x":this.content.code.paddingX,"--code-font-size":this.content.code.fontSize,"--img-max-width":(e=this.content.img)==null?void 0:e.maxWidth,"--img-max-height":(t=this.content.img)==null?void 0:t.maxHeight,"--checkbox-color":(n=this.content.checkbox)==null?void 0:n.color,"--table-border-color":((i=this.content.table)==null?void 0:i.borderColor)||"#C7C7C7","--table-border-width":((r=this.content.table)==null?void 0:r.borderWidth)||"1px","--table-header-bg-color":((o=this.content.table)==null?void 0:o.headerBgColor)||"#f5f5f5","--table-header-color":((s=this.content.table)==null?void 0:s.headerColor)||"#000","--table-pair-cell-bg-color":((a=this.content.table)==null?void 0:a.pairCellBgColor)||"#fff","--table-odd-cell-bg-color":((l=this.content.table)==null?void 0:l.oddCellBgColor)||"#FDFDFD","--table-cell-color":((u=this.content.table)==null?void 0:u.cellColor)||"#000","--table-cell-padding-x":((c=this.content.table)==null?void 0:c.cellPaddingX)||"8px","--table-cell-padding-y":((d=this.content.table)==null?void 0:d.cellPaddingY)||"6px"}},delay(){return wwLib.wwUtils.getLengthUnit(this.content.debounceDelay)[0]}},methods:{async loadIcons(){try{const{getIcon:e}=wwLib.useIcons(),t=["lucide/bold","lucide/italic","lucide/underline","lucide/strikethrough","lucide/align-left","lucide/align-center","lucide/align-right","lucide/align-justify","lucide/palette","lucide/list","lucide/list-ordered","lucide/list-checks","lucide/link","lucide/image","lucide/code","lucide/quote","lucide/square-function","lucide/sigma","lucide/undo","lucide/redo"],n=await Promise.all(t.map(async i=>{try{return await e(i)||null}catch{return null}}));this.iconHTMLs={bold:n[0],italic:n[1],underline:n[2],strikethrough:n[3],"align-left":n[4],"align-center":n[5],"align-right":n[6],"align-justify":n[7],palette:n[8],list:n[9],"list-ordered":n[10],"check-square":n[11],link:n[12],image:n[13],code:n[14],quote:n[15],"square-function":n[16],sigma:n[17],undo:n[18],redo:n[19]}}catch{this.iconHTMLs={}}},loadEditor(){this.loading||(this.loading=!0,this.richEditor&&this.richEditor.destroy(),this.richEditor=new GH({content:String(this.content.initialValue||""),editable:this.isEditable,autofocus:this.editorConfig.autofocus,onFocus:({editor:e,event:t})=>{this.$emit("trigger-event",{name:"focus",event:{editor:e,event:t}})},onBlur:({editor:e,event:t})=>{this.$emit("trigger-event",{name:"blur",event:{editor:e,event:t}})},extensions:[$V,y_.configure({HTMLAttributes:{rel:"noopener noreferrer"}}),XV,JV,S_,NG.configure({resizable:!0}),BG,zG,HG,A_,F_.configure({nested:!0}),T_.configure({types:["heading","paragraph"]}),w_.configure({placeholder:this.editorConfig.placeholder}),qK.configure({breaks:!0}),E_.configure({...this.editorConfig.image}),this.editorConfig.mention.enabled&&YV.configure({HTMLAttributes:{class:"mention"},suggestion:{items:({query:e})=>this.editorConfig.mention.list.filter(({label:t})=>t.toLowerCase().startsWith(e.toLowerCase())).slice(0,this.mentionListLength),render:X$.render,allowSpaces:this.editorConfig.mention.allowSpaces,char:this.editorConfig.mention.char}})],onCreate:()=>{this.setValue(this.getContent()),this.setMentions(this.richEditor.getJSON().content.reduce(G1,[]))},onUpdate:this.handleOnUpdate,editorProps:{handleClickOn:(e,t,n)=>{n.type.name==="mention"&&this.$emit("trigger-event",{name:"mention:click",event:{mention:{id:n.attrs.id,label:n.attrs.label}}})}}}),this.loading=!1)},handleOnUpdate(){let e=this.getContent();this.variableValue!==e&&(this.setValue(e),this.content.debounce?(this.isDebouncing=!0,this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.$emit("trigger-event",{name:"change",event:{value:this.variableValue}}),this.isDebouncing=!1},this.delay)):this.$emit("trigger-event",{name:"change",event:{value:this.variableValue}}),this.setMentions(this.richEditor.getJSON().content.reduce(G1,[])))},setLink(e){if(this.richEditor.isActive("link")){this.richEditor.chain().focus().unsetLink().run();return}const t=this.richEditor.getAttributes("link").href,n=e??window.prompt("URL",t);if(n!==null){if(n===""){this.richEditor.chain().focus().extendMarkRange("link").unsetLink().run();return}this.richEditor.chain().focus().extendMarkRange("link").setLink({href:n}).run()}},setImage(e,t="",n=""){if(this.content.customMenu)this.richEditor.commands.setImage({src:e,alt:t,title:n});else{let i;if(i=wwLib.getFrontWindow().prompt("Image URL"),!i)return;this.richEditor.chain().focus().setImage({src:i}).run()}},focusEditor(){this.richEditor.chain().focus().run()},setTag(e){typeof e=="string"&&(e=e.toLocaleLowerCase().trim(),e in Il&&(e=Il[e])),e===0&&this.richEditor.chain().focus().setParagraph().run(),e!==0&&this.richEditor.chain().focus().toggleHeading({level:Number(e)}).run()},toggleUnderline(){this.richEditor.chain().focus().toggleMark("underline").run()},toggleBold(){this.richEditor.chain().focus().toggleBold().run()},toggleItalic(){this.richEditor.chain().focus().toggleItalic().run()},toggleUnderline(){this.richEditor.chain().focus().toggleUnderline().run()},toggleStrike(){this.richEditor.chain().focus().toggleStrike().run()},setTextAlign(e){this.richEditor.chain().focus().setTextAlign(e).run()},setColor(e){this.richEditor.chain().focus().setColor(e).run()},toggleBulletList(){this.richEditor.chain().focus().toggleBulletList().run()},toggleOrderedList(){this.richEditor.chain().focus().toggleOrderedList().run()},toggleTaskList(){this.richEditor.chain().focus().toggleTaskList().run()},toggleCodeBlock(){this.richEditor.chain().focus().toggleCodeBlock().run()},toggleBlockquote(){this.richEditor.chain().focus().toggleBlockquote().run()},undo(){this.richEditor.chain().undo().run()},redo(){this.richEditor.chain().redo().run()},getContent(){return this.content.output==="markdown"?this.richEditor.storage.markdown.getMarkdown():this.richEditor.getHTML()},insertTable(){this.richEditor.chain().focus().insertTable({rows:3,cols:3,withHeaderRow:!0}).run()},insertRow(e){e==="before"?this.richEditor.chain().focus().addRowBefore().run():this.richEditor.chain().focus().addRowAfter().run()},insertColumn(e){e==="before"?this.richEditor.chain().focus().addColumnBefore().run():this.richEditor.chain().focus().addColumnAfter().run()},deleteRow(){this.richEditor.chain().focus().deleteRow().run()},deleteColumn(){this.richEditor.chain().focus().deleteColumn().run()},deleteTable(){this.richEditor.chain().focus().deleteTable().run()}},mounted(){this.loadEditor(),this.loadIcons()},beforeUnmount(){this.richEditor&&this.richEditor.destroy()}},sY=["disabled"],aY=["value"],lY={key:1,class:"separator"},uY=["disabled"],cY=["innerHTML"],dY=["disabled"],hY=["innerHTML"],pY=["disabled"],fY=["innerHTML"],gY=["disabled"],mY=["innerHTML"],vY={key:6,class:"separator"},CY=["disabled"],bY=["innerHTML"],yY=["disabled"],wY=["innerHTML"],SY=["disabled"],xY=["innerHTML"],EY=["disabled"],kY=["innerHTML"],FY={key:11,class:"separator"},TY=["for"],AY=["innerHTML"],RY=["id","value","disabled"],DY={key:13,class:"separator"},MY=["disabled"],PY=["innerHTML"],IY=["disabled"],OY=["innerHTML"],LY=["disabled"],NY=["innerHTML"],BY={key:17,class:"separator"},zY=["disabled"],HY=["disabled"],VY=["disabled"],_Y=["disabled"],GY=["disabled"],WY=["disabled"],$Y=["disabled"],UY=["disabled"],jY={key:26,class:"separator"},qY=["disabled"],KY=["innerHTML"],YY=["disabled"],XY=["innerHTML"],JY=["disabled"],ZY=["innerHTML"],QY=["disabled"],eX=["innerHTML"],tX=["disabled"],nX=["innerHTML"],iX=["disabled"],rX=["innerHTML"],oX={key:33,class:"separator"},sX=["disabled"],aX=["innerHTML"],lX=["disabled"],uX=["innerHTML"];function cX(e,t,n,i,r,o){const s=It("table-icon"),a=It("wwElement",!0),l=It("editor-content");return X(),ne("div",{class:st(["ww-rich-text",{"-readonly":o.isReadonly,editing:o.isEditing}]),"data-capture":""},[e.richEditor?(X(),ne($o,{key:0},[!o.hideMenu&&!n.content.customMenu?(X(),ne("div",{key:0,class:"ww-rich-text__menu native-menu",style:Yt(o.menuStyles)},[o.menu.textType?y3((X(),ne("select",{key:0,id:"rich-size","onUpdate:modelValue":t[0]||(t[0]=u=>o.currentTextType=u),disabled:!o.isEditable},[(X(!0),ne($o,null,Za(o.textTypeOptions,u=>(X(),ne("option",{key:u.value,value:u.value},jo(u.label),9,aY))),128))],8,sY)),[[PD,o.currentTextType]]):ye("",!0),o.menu.textType?(X(),ne("span",lY)):ye("",!0),o.menu.bold?(X(),ne("button",{key:2,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("bold")}]),onClick:t[1]||(t[1]=(...u)=>o.toggleBold&&o.toggleBold(...u)),disabled:!o.isEditable,title:"Bold"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.bold},null,8,cY)],10,uY)):ye("",!0),o.menu.italic?(X(),ne("button",{key:3,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("italic")}]),onClick:t[2]||(t[2]=(...u)=>o.toggleItalic&&o.toggleItalic(...u)),disabled:!o.isEditable,title:"Italic"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.italic},null,8,hY)],10,dY)):ye("",!0),o.menu.underline?(X(),ne("button",{key:4,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("underline")}]),onClick:t[3]||(t[3]=(...u)=>o.toggleUnderline&&o.toggleUnderline(...u)),disabled:!o.isEditable,title:"Underline"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.underline},null,8,fY)],10,pY)):ye("",!0),o.menu.strike?(X(),ne("button",{key:5,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("strike")}]),onClick:t[4]||(t[4]=(...u)=>o.toggleStrike&&o.toggleStrike(...u)),disabled:!o.isEditable,title:"Strikethrough"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.strikethrough},null,8,mY)],10,gY)):ye("",!0),o.menu.bold||o.menu.italic||o.menu.underline||o.menu.strike?(X(),ne("span",vY)):ye("",!0),o.menu.alignLeft?(X(),ne("button",{key:7,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive({textAlign:"left"})}]),onClick:t[5]||(t[5]=u=>o.setTextAlign("left")),disabled:!o.isEditable,title:"Align left"},[De("div",{class:"icon",innerHTML:e.iconHTMLs["align-left"]},null,8,bY)],10,CY)):ye("",!0),o.menu.alignCenter?(X(),ne("button",{key:8,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive({textAlign:"center"})}]),onClick:t[6]||(t[6]=u=>o.setTextAlign("center")),disabled:!o.isEditable,title:"Align center"},[De("div",{class:"icon",innerHTML:e.iconHTMLs["align-center"]},null,8,wY)],10,yY)):ye("",!0),o.menu.alignRight?(X(),ne("button",{key:9,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive({textAlign:"right"})}]),onClick:t[7]||(t[7]=u=>o.setTextAlign("right")),disabled:!o.isEditable,title:"Align right"},[De("div",{class:"icon",innerHTML:e.iconHTMLs["align-right"]},null,8,xY)],10,SY)):ye("",!0),o.menu.alignJustify?(X(),ne("button",{key:10,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive({textAlign:"justify"})}]),onClick:t[8]||(t[8]=u=>o.setTextAlign("justify")),disabled:!o.isEditable,title:"Align justify"},[De("div",{class:"icon",innerHTML:e.iconHTMLs["align-justify"]},null,8,kY)],10,EY)):ye("",!0),o.menu.alignLeft||o.menu.alignCenter||o.menu.alignRight||o.menu.alignJustify?(X(),ne("span",FY)):ye("",!0),o.menu.textColor?(X(),ne("label",{key:12,class:"ww-rich-text__menu-item",for:`rich-color-${i.randomUid}`,onClick:t[10]||(t[10]=u=>e.richEditor.commands.focus()),title:"Text color"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.palette},null,8,AY),De("input",{id:`rich-color-${i.randomUid}`,type:"color",onInput:t[9]||(t[9]=u=>o.setColor(u.target.value)),value:e.richEditor.getAttributes("textStyle").color,style:{display:"none"},disabled:!o.isEditable},null,40,RY)],8,TY)):ye("",!0),o.menu.textColor?(X(),ne("span",DY)):ye("",!0),o.menu.bulletList?(X(),ne("button",{key:14,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("bulletList")}]),onClick:t[11]||(t[11]=(...u)=>o.toggleBulletList&&o.toggleBulletList(...u)),disabled:!o.isEditable,title:"Bullet list"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.list},null,8,PY)],10,MY)):ye("",!0),o.menu.orderedList?(X(),ne("button",{key:15,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("orderedList")}]),onClick:t[12]||(t[12]=(...u)=>o.toggleOrderedList&&o.toggleOrderedList(...u)),disabled:!o.isEditable,title:"Ordered list"},[De("div",{class:"icon",innerHTML:e.iconHTMLs["list-ordered"]},null,8,OY)],10,IY)):ye("",!0),o.menu.taskList?(X(),ne("button",{key:16,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("taskList")}]),onClick:t[13]||(t[13]=(...u)=>o.toggleTaskList&&o.toggleTaskList(...u)),disabled:!o.isEditable},[De("div",{class:"icon",innerHTML:e.iconHTMLs["check-square"]},null,8,NY)],10,LY)):ye("",!0),o.menu.table?(X(),ne("span",BY)):ye("",!0),o.menu.table?(X(),ne("button",{key:18,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[14]||(t[14]=(...u)=>o.insertTable&&o.insertTable(...u)),disabled:!o.isEditable},[lt(s,{icon:"table-insert"})],10,zY)):ye("",!0),o.menu.table&&e.richEditor.isActive("table")?(X(),ne("button",{key:19,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[15]||(t[15]=u=>o.insertRow("before")),disabled:!o.isEditable},[lt(s,{icon:"row-insert-before"})],10,HY)):ye("",!0),o.menu.table&&e.richEditor.isActive("table")?(X(),ne("button",{key:20,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[16]||(t[16]=u=>o.insertRow("after")),disabled:!o.isEditable},[lt(s,{icon:"row-insert-after"})],10,VY)):ye("",!0),o.menu.table&&e.richEditor.isActive("table")?(X(),ne("button",{key:21,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[17]||(t[17]=u=>o.insertColumn("before")),disabled:!o.isEditable},[lt(s,{icon:"column-inster-before"})],10,_Y)):ye("",!0),o.menu.table&&e.richEditor.isActive("table")?(X(),ne("button",{key:22,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[18]||(t[18]=u=>o.insertColumn("after")),disabled:!o.isEditable},[lt(s,{icon:"column-insert-after"})],10,GY)):ye("",!0),o.menu.table&&e.richEditor.isActive("table")?(X(),ne("button",{key:23,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[19]||(t[19]=(...u)=>o.deleteRow&&o.deleteRow(...u)),disabled:!o.isEditable},[lt(s,{icon:"row-delete"})],10,WY)):ye("",!0),o.menu.table&&e.richEditor.isActive("table")?(X(),ne("button",{key:24,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[20]||(t[20]=(...u)=>o.deleteColumn&&o.deleteColumn(...u)),disabled:!o.isEditable},[lt(s,{icon:"column-delete"})],10,$Y)):ye("",!0),o.menu.table&&e.richEditor.isActive("table")?(X(),ne("button",{key:25,type:"button",class:st(["ww-rich-text__menu-item",{"is-highlighted":e.richEditor.isActive("table")}]),onClick:t[21]||(t[21]=(...u)=>o.deleteTable&&o.deleteTable(...u)),disabled:!o.isEditable},[lt(s,{icon:"table-delete"})],10,UY)):ye("",!0),o.menu.bulletList||o.menu.orderedList||o.menu.taskList?(X(),ne("span",jY)):ye("",!0),o.menu.link?(X(),ne("button",{key:27,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("link")}]),onClick:t[22]||(t[22]=u=>o.setLink()),disabled:!o.isEditable},[De("div",{class:"icon",innerHTML:e.iconHTMLs.link},null,8,KY)],10,qY)):ye("",!0),o.menu.image?(X(),ne("button",{key:28,type:"button",class:"ww-rich-text__menu-item",onClick:t[23]||(t[23]=u=>o.setImage()),disabled:!o.isEditable},[De("div",{class:"icon",innerHTML:e.iconHTMLs.image},null,8,XY)],8,YY)):ye("",!0),o.menu.codeBlock?(X(),ne("button",{key:29,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("codeBlock")}]),onClick:t[24]||(t[24]=(...u)=>o.toggleCodeBlock&&o.toggleCodeBlock(...u)),disabled:!o.isEditable},[De("div",{class:"icon",innerHTML:e.iconHTMLs.code},null,8,ZY)],10,JY)):ye("",!0),o.menu.blockquote?(X(),ne("button",{key:30,type:"button",class:st(["ww-rich-text__menu-item",{"is-active":e.richEditor.isActive("blockquote")}]),onClick:t[25]||(t[25]=(...u)=>o.toggleBlockquote&&o.toggleBlockquote(...u)),disabled:!o.isEditable,title:"Blockquote"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.quote},null,8,eX)],10,QY)):ye("",!0),o.menu.inlineMath?(X(),ne("button",{key:31,type:"button",class:"ww-rich-text__menu-item",onClick:t[26]||(t[26]=u=>e.insertInlineMath()),disabled:!o.isEditable,title:"Inline math"},[De("div",{class:"icon",innerHTML:e.iconHTMLs["square-function"]},null,8,nX)],8,tX)):ye("",!0),o.menu.blockMath?(X(),ne("button",{key:32,type:"button",class:"ww-rich-text__menu-item",onClick:t[27]||(t[27]=u=>e.insertBlockMath()),disabled:!o.isEditable,title:"Block math"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.sigma},null,8,rX)],8,iX)):ye("",!0),o.menu.link||o.menu.image||o.menu.codeBlock||o.menu.blockquote||o.menu.inlineMath||o.menu.blockMath?(X(),ne("span",oX)):ye("",!0),o.menu.undo?(X(),ne("button",{key:34,type:"button",class:"ww-rich-text__menu-item",onClick:t[28]||(t[28]=(...u)=>o.undo&&o.undo(...u)),disabled:!o.isEditable,title:"Undo"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.undo},null,8,aX)],8,sX)):ye("",!0),o.menu.redo?(X(),ne("button",{key:35,type:"button",class:"ww-rich-text__menu-item",onClick:t[29]||(t[29]=(...u)=>o.redo&&o.redo(...u)),disabled:!o.isEditable,title:"Redo"},[De("div",{class:"icon",innerHTML:e.iconHTMLs.redo},null,8,uX)],8,lX)):ye("",!0)],4)):n.content.customMenu?(X(),qn(a,Yn({key:1,class:"ww-rich-text__menu"},n.content.customMenuElement),null,16)):ye("",!0),lt(l,{class:"ww-rich-text__input",editor:e.richEditor,style:Yt(o.richStyles)},null,8,["editor","style"])],64)):ye("",!0)],2)}const dX=nn(oY,[["render",cX]]);var dl=class{constructor(){this.allSyncListeners=new Map,this.allAsyncListeners=new Map,this.globalSyncListeners=new Set,this.globalAsyncListeners=new Set,this.asyncFunctionsQueue=[],this.scheduled=!1,this.firedEvents={}}setFrameworkOverrides(e){this.frameworkOverrides=e}getListeners(e,t,n){const i=t?this.allAsyncListeners:this.allSyncListeners;let r=i.get(e);return!r&&n&&(r=new Set,i.set(e,r)),r}noRegisteredListenersExist(){return this.allSyncListeners.size===0&&this.allAsyncListeners.size===0&&this.globalSyncListeners.size===0&&this.globalAsyncListeners.size===0}addEventListener(e,t,n=!1){this.getListeners(e,n,!0).add(t)}removeEventListener(e,t,n=!1){const i=this.getListeners(e,n,!1);i&&(i.delete(t),i.size===0&&(n?this.allAsyncListeners:this.allSyncListeners).delete(e))}addGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).add(e)}removeGlobalListener(e,t=!1){(t?this.globalAsyncListeners:this.globalSyncListeners).delete(e)}dispatchEvent(e){const t=e;this.dispatchToListeners(t,!0),this.dispatchToListeners(t,!1),this.firedEvents[t.type]=!0}dispatchEventOnce(e){this.firedEvents[e.type]||this.dispatchEvent(e)}dispatchToListeners(e,t){const n=e.type;if(t&&"event"in e){const a=e.event;a instanceof Event&&(e.eventPath=a.composedPath())}const i=(a,l)=>a.forEach(u=>{if(!l.has(u))return;const c=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>u(e)):()=>u(e);t?this.dispatchAsync(c):c()}),r=this.getListeners(n,t,!1)??new Set,o=new Set(r);o.size>0&&i(o,r),new Set(t?this.globalAsyncListeners:this.globalSyncListeners).forEach(a=>{const l=this.frameworkOverrides?()=>this.frameworkOverrides.wrapIncoming(()=>a(n,e)):()=>a(n,e);t?this.dispatchAsync(l):l()})}dispatchAsync(e){if(this.asyncFunctionsQueue.push(e),!this.scheduled){const t=()=>{window.setTimeout(this.flushAsyncQueue.bind(this),0)};this.frameworkOverrides?this.frameworkOverrides.wrapIncoming(t):t(),this.scheduled=!0}}flushAsyncQueue(){this.scheduled=!1;const e=this.asyncFunctionsQueue.slice();this.asyncFunctionsQueue=[],e.forEach(t=>t())}};function hX(e,t){return t}function FA(e){return(e==null?void 0:e.getLocaleTextFunc())??hX}function bs(e,t,n){n==null||typeof n=="string"&&n==""?TA(e,t):Mr(e,t,n)}function Mr(e,t,n){e.setAttribute(AA(t),n.toString())}function TA(e,t){e.removeAttribute(AA(t))}function AA(e){return`aria-${e}`}function hs(e,t){t?e.setAttribute("role",t):e.removeAttribute("role")}function pX(e){let t;return e==="asc"?t="ascending":e==="desc"?t="descending":e==="mixed"?t="other":t="none",t}function fX(e){return e.getAttribute("aria-label")}function wg(e,t){bs(e,"label",t)}function W1(e,t){bs(e,"labelledby",t)}function RA(e,t){bs(e,"live",t)}function gX(e,t){bs(e,"atomic",t)}function mX(e,t){bs(e,"relevant",t)}function vX(e,t){bs(e,"disabled",t)}function DA(e,t){bs(e,"hidden",t)}function $1(e,t){Mr(e,"expanded",t)}function CX(e,t){Mr(e,"setsize",t)}function bX(e,t){Mr(e,"posinset",t)}function yX(e,t){Mr(e,"multiselectable",t)}function wX(e,t){Mr(e,"rowcount",t)}function Hy(e,t){Mr(e,"rowindex",t)}function SX(e,t){Mr(e,"rowspan",t)}function xX(e,t){Mr(e,"colcount",t)}function MA(e,t){Mr(e,"colindex",t)}function EX(e,t){Mr(e,"colspan",t)}function kX(e,t){Mr(e,"sort",t)}function FX(e){TA(e,"sort")}function U1(e,t){bs(e,"selected",t)}function TX(e,t){bs(e,"controls",t.id),W1(t,e.id)}function Vy(e,t){return t===void 0?e("ariaIndeterminate","indeterminate"):t===!0?e("ariaChecked","checked"):e("ariaUnchecked","unchecked")}var nv,iv,rv,ov,j1,q1,sv;function vl(){return nv===void 0&&(nv=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)),nv}function PA(){return iv===void 0&&(iv=/(firefox)/i.test(navigator.userAgent)),iv}function IA(){return rv===void 0&&(rv=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)),rv}function Ua(){return ov===void 0&&(ov=/iPad|iPhone|iPod/.test(navigator.platform)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1),ov}function K1(e){if(!e)return null;const t=e.tabIndex,n=e.getAttribute("tabIndex");return t===-1&&(n===null||n===""&&!PA())?null:t.toString()}function AX(){if(sv!==void 0)return sv;if(!document.body)return-1;let e=1e6;const t=PA()?6e6:1e9,n=document.createElement("div");for(document.body.appendChild(n);;){const i=e*2;if(n.style.height=i+"px",i>t||n.clientHeight!==i)break;e=i}return document.body.removeChild(n),sv=e,e}function RX(){return q1==null&&OA(),q1}function OA(){const e=document.body,t=document.createElement("div");t.style.width=t.style.height="100px",t.style.opacity="0",t.style.overflow="scroll",t.style.msOverflowStyle="scrollbar",t.style.position="absolute",e.appendChild(t);let n=t.offsetWidth-t.clientWidth;n===0&&t.clientWidth===0&&(n=null),t.parentNode&&t.parentNode.removeChild(t),n!=null&&(q1=n,j1=n===0)}function LA(){return j1==null&&OA(),j1}var DX="[tabindex], input, select, button, textarea, [href]",NA="[disabled], .ag-disabled:not(.ag-button), .ag-disabled *";function _y(e){const t=Element.prototype.matches||Element.prototype.msMatchesSelector,i=t.call(e,"input, select, button, textarea"),r=t.call(e,NA),o=$r(e);return i&&!r&&o}function Ht(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-hidden",!t),i||DA(e,!t)}function MX(e,t,n={}){const{skipAriaHidden:i}=n;e.classList.toggle("ag-invisible",!t),i||DA(e,!t)}function xd(e,t){const n="disabled",i=t?o=>o.setAttribute(n,""):o=>o.removeAttribute(n);i(e);const r=e.querySelectorAll("input")??[];for(const o of r)i(o)}function ja(e,t,n){let i=0;for(;e;){if(e.classList.contains(t))return!0;if(e=e.parentElement,typeof n=="number"){if(++i>n)break}else if(e===n)break}return!1}function Cl(e){const{height:t,width:n,borderTopWidth:i,borderRightWidth:r,borderBottomWidth:o,borderLeftWidth:s,paddingTop:a,paddingRight:l,paddingBottom:u,paddingLeft:c,marginTop:d,marginRight:h,marginBottom:p,marginLeft:f,boxSizing:g}=window.getComputedStyle(e);return{height:parseFloat(t||"0"),width:parseFloat(n||"0"),borderTopWidth:parseFloat(i||"0"),borderRightWidth:parseFloat(r||"0"),borderBottomWidth:parseFloat(o||"0"),borderLeftWidth:parseFloat(s||"0"),paddingTop:parseFloat(a||"0"),paddingRight:parseFloat(l||"0"),paddingBottom:parseFloat(u||"0"),paddingLeft:parseFloat(c||"0"),marginTop:parseFloat(d||"0"),marginRight:parseFloat(h||"0"),marginBottom:parseFloat(p||"0"),marginLeft:parseFloat(f||"0"),boxSizing:g}}function Gy(e){const t=Cl(e);return t.boxSizing==="border-box"?t.height-t.paddingTop-t.paddingBottom:t.height}function Ed(e){const t=Cl(e);return t.boxSizing==="border-box"?t.width-t.paddingLeft-t.paddingRight:t.width}function BA(e){const{height:t,marginBottom:n,marginTop:i}=Cl(e);return Math.floor(t+n+i)}function Jf(e){const{width:t,marginLeft:n,marginRight:i}=Cl(e);return Math.floor(t+n+i)}function zA(e){const t=e.getBoundingClientRect(),{borderTopWidth:n,borderLeftWidth:i,borderRightWidth:r,borderBottomWidth:o}=Cl(e);return{top:t.top+(n||0),left:t.left+(i||0),right:t.right+(r||0),bottom:t.bottom+(o||0)}}function Zf(e,t){let n=e.scrollLeft;return t&&(n=Math.abs(n)),n}function Qf(e,t,n){n&&(t*=-1),e.scrollLeft=t}function si(e){for(;e&&e.firstChild;)e.removeChild(e.firstChild)}function Cr(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function HA(e){return!!e.offsetParent}function $r(e){const t=e;return t.checkVisibility?t.checkVisibility({checkVisibilityCSS:!0}):!(!HA(e)||window.getComputedStyle(e).visibility!=="visible")}function Sg(e){const t=document.createElement("div");return t.innerHTML=(e||"").trim(),t.firstChild}function VA(e,t,n){n&&n.nextSibling===t||(e.firstChild?n?n.nextSibling?e.insertBefore(t,n.nextSibling):e.appendChild(t):e.firstChild&&e.firstChild!==t&&e.insertAdjacentElement("afterbegin",t):e.appendChild(t))}function _A(e,t){for(let n=0;n<t.length;n++){const i=t[n],r=e.children[n];r!==i&&e.insertBefore(i,r)}}function PX(e){return e.replace(/[A-Z]/g,t=>`-${t.toLocaleLowerCase()}`)}function rh(e,t){if(t)for(const n of Object.keys(t)){const i=t[n];if(!n||!n.length||i==null)continue;const r=PX(n),o=i.toString(),s=o.replace(/\s*!important/g,""),a=s.length!=o.length?"important":void 0;e.style.setProperty(r,s,a)}}function IX(e){return e.clientWidth<e.scrollWidth}function OX(e){return e.clientHeight<e.scrollHeight}function e0(e,t){t==="flex"?(e.style.removeProperty("width"),e.style.removeProperty("minWidth"),e.style.removeProperty("maxWidth"),e.style.flex="1 1 auto"):go(e,t)}function go(e,t){t=Wy(t),e.style.width=t,e.style.maxWidth=t,e.style.minWidth=t}function _c(e,t){t=Wy(t),e.style.height=t,e.style.maxHeight=t,e.style.minHeight=t}function Wy(e){return typeof e=="number"?`${e}px`:e}function $y(e){return e instanceof Node||e instanceof HTMLElement}function Er(e,t,n){n==null||n===""?e.removeAttribute(t):e.setAttribute(t,n.toString())}function va(e,t,n){const r=JA(e).ResizeObserver,o=r?new r(n):null;return o==null||o.observe(t),()=>o==null?void 0:o.disconnect()}function ys(e,t){const n=JA(e);n.requestAnimationFrame?n.requestAnimationFrame(t):n.webkitRequestAnimationFrame?n.webkitRequestAnimationFrame(t):n.setTimeout(t,0)}var GA="data-ref",av;function S4(){return av??(av=document.createTextNode(" ")),av.cloneNode()}function gn(e){const{attrs:t,children:n,cls:i,ref:r,role:o,tag:s}=e,a=document.createElement(s);if(i&&(a.className=i),r&&a.setAttribute(GA,r),o&&a.setAttribute("role",o),t)for(const l of Object.keys(t))a.setAttribute(l,t[l]);if(n)if(typeof n=="string")a.textContent=n;else{let l=!0;for(const u of n)u&&(typeof u=="string"?(a.appendChild(document.createTextNode(u)),l=!1):(l&&(a.appendChild(S4()),l=!1),a.append(gn(u)),a.appendChild(S4())))}return a}function ns(e){return e==null||e===""?null:e}function ue(e){return e!=null&&e!==""}function Bt(e){return!ue(e)}function Y1(e){return e!=null&&typeof e.toString=="function"?e.toString():null}function kd(e,t){const n=e?JSON.stringify(e):null,i=t?JSON.stringify(t):null;return n===i}function LX(e,t,n=!1){const i=e==null,r=t==null;if(e&&e.toNumber&&(e=e.toNumber()),t&&t.toNumber&&(t=t.toNumber()),i&&r)return 0;if(i)return-1;if(r)return 1;function o(s,a){return s>a?1:s<a?-1:0}if(typeof e!="string"||!n)return o(e,t);try{return e.localeCompare(t)}catch{return o(e,t)}}var WA="https://www.ag-grid.com",x4={};function $A(e,t){x4[t]||(e(),x4[t]=!0)}function ca(e,t,...n){e.get("debug")&&console.log("AG Grid: "+t,...n)}function Gc(e,...t){$A(()=>console.warn("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}function Jl(e,...t){$A(()=>console.error("AG Grid: "+e,...t),e+(t==null?void 0:t.join("")))}var NX={pending:!1,funcs:[]},BX={pending:!1,funcs:[]};function X1(e,t="setTimeout",n){const i=t==="raf"?BX:NX;if(i.funcs.push(e),i.pending)return;i.pending=!0;const r=()=>{const o=i.funcs.slice();i.funcs.length=0,i.pending=!1,o.forEach(s=>s())};t==="raf"?ys(n,r):window.setTimeout(r,0)}function Kn(e,t,n){let i;return function(...r){const o=this;window.clearTimeout(i),i=window.setTimeout(function(){e.isAlive()&&t.apply(o,r)},n)}}function E4(e,t){let n=0;return function(...i){const r=this,o=Date.now();o-n<t||(n=o,e.apply(r,i))}}function zX(e,t,n=100,i){const r=Date.now();let o=null,s=!1;const a=()=>{const l=Date.now()-r>n;(e()||l)&&(t(),s=!0,o!=null&&(window.clearInterval(o),o=null))};a(),s||(o=window.setInterval(a,10))}var pe="33.2.4",k4=2e3,F4=100,UA="_version_",Ap=null,qa=`${WA}/javascript-data-grid`;function HX(e){Ap=e}function VX(e){qa=e}function jA(e,t,n){return(Ap==null?void 0:Ap.getConsoleMessage(e,t))??[$X(e,t,n)]}function Uy(e,t,n,i){e(`error #${t}`,...jA(t,n,i))}function _X(e){if(!e)return String(e);const t={};for(const n of Object.keys(e))typeof e[n]!="object"&&typeof e[n]!="function"&&(t[n]=e[n]);return JSON.stringify(t)}function GX(e){let t=e;return e instanceof Error?t=e.toString():typeof e=="object"&&(t=_X(e)),t}function t0(e){return e===void 0?"undefined":e===null?"null":e}function J1(e,t){return`${e}?${t.toString()}`}function WX(e,t,n){const i=Array.from(t.entries()).sort((o,s)=>s[1].length-o[1].length);let r=J1(e,t);for(const[o,s]of i){if(o===UA)continue;const a=r.length-n;if(a<=0)break;const l="...",u=a+l.length,c=s.length-u>F4?s.slice(0,s.length-u)+l:s.slice(0,F4)+l;t.set(o,c),r=J1(e,t)}return r}function qA(e,t){const n=new URLSearchParams;if(n.append(UA,pe),t)for(const o of Object.keys(t))n.append(o,GX(t[o]));const i=`${qa}/errors/${e}`,r=J1(i,n);return r.length<=k4?r:WX(i,n,k4)}var $X=(e,t,n)=>{const i=qA(e,t);return`${n?n+` 
`:""}Visit ${i}${n?"":` 
  Alternatively register the ValidationModule to see the full message in the console.`}`};function ie(...e){Uy(Gc,e[0],e[1])}function dt(...e){Uy(Jl,e[0],e[1])}function Z1(e,t,n){Uy(Jl,e,t,n)}function UX(e,t){const n=t[0];return`error #${n} `+jA(n,t[1],e).join(" ")}function na(...e){return UX(void 0,e)}function KA(e,t){return e.get("rowModelType")===t}function Ci(e,t){return KA(e,"clientSide")}function Vu(e,t){return KA(e,"serverSide")}function Xn(e,t){return e.get("domLayout")===t}function Ka(e){return i0(e)!==void 0}function YA(e){return typeof e.get("getRowHeight")=="function"}function jX(e,t){return t?!e.get("enableStrictPivotColumnOrder"):e.get("maintainColumnOrder")}function ku(e,t,n=!1,i){const{gos:r,environment:o}=e;if(i==null&&(i=o.getDefaultRowHeight()),YA(r)){if(n)return{height:i,estimated:!0};const l={node:t,data:t.data},u=r.getCallback("getRowHeight")(l);if(Q1(u))return u===0&&ie(23),{height:Math.max(1,u),estimated:!1}}if(t.detail&&r.get("masterDetail"))return qX(r);const s=r.get("rowHeight");return{height:s&&Q1(s)?s:i,estimated:!1}}function qX(e){if(e.get("detailRowAutoHeight"))return{height:1,estimated:!1};const t=e.get("detailRowHeight");return Q1(t)?{height:t,estimated:!1}:{height:300,estimated:!1}}function Ya(e){const{environment:t,gos:n}=e,i=n.get("rowHeight");if(!i||Bt(i))return t.getDefaultRowHeight();const r=t.refreshRowHeightVariable();return r!==-1?r:(ie(24),t.getDefaultRowHeight())}function Q1(e){return!isNaN(e)&&typeof e=="number"&&isFinite(e)}function XA(e,t,n){const i=t[e.getDomDataKey()];return i?i[n]:void 0}function hl(e,t,n,i){const r=e.getDomDataKey();let o=t[r];Bt(o)&&(o={},t[r]=o),o[n]=i}function wn(e){const{gos:t,eGridDiv:n}=e;let i=null;const r=t.get("getDocument");return r&&ue(r)?i=r():n&&(i=n.ownerDocument),i&&ue(i)?i:document}function JA(e){return wn(e).defaultView||window}function Fd(e){return e.eGridDiv.getRootNode()}function Gt(e){return Fd(e).activeElement}function jy(e){let t=null,n=null;try{t=wn(e).fullscreenElement}catch{}finally{t||(t=Fd(e));const i=t.querySelector("body");i?n=i:t instanceof ShadowRoot?n=t:t instanceof Document?n=t==null?void 0:t.documentElement:n=t}return n}function KX(e){const t=jy(e);return(t==null?void 0:t.clientWidth)??(window.innerHeight||-1)}function YX(e){const t=jy(e);return(t==null?void 0:t.clientHeight)??(window.innerHeight||-1)}function XX(e,t,n){const r=e.getBoundingClientRect().height,o=KX(n)-2,s=YX(n)-2;if(!e.offsetParent)return;const l=zA(e.offsetParent),{clientY:u,clientX:c}=t;let d=u-l.top-r/2,h=c-l.left-10;const p=wn(n),f=p.defaultView||window,g=f.pageYOffset||p.documentElement.scrollTop,m=f.pageXOffset||p.documentElement.scrollLeft;o>0&&h+e.clientWidth>o+m&&(h=o+m-e.clientWidth),h<0&&(h=0),s>0&&d+e.clientHeight>s+g&&(d=s+g-e.clientHeight),d<0&&(d=0),e.style.left=`${h}px`,e.style.top=`${d}px`}function ZA(e){const t=wn(e),n=Gt(e);return n===null||n===t.body}function Zl(e){return e.get("ensureDomOrder")?!1:e.get("animateRows")}function QA(e){return!(e.get("paginateChildRows")||e.get("groupHideOpenParents")||Xn(e,"print"))}function to(e){const t=e.get("autoGroupColumnDef");return!(t!=null&&t.comparator)&&!e.get("treeData")}function eC(e){const t=e.get("groupAggFiltering");if(typeof t=="function")return e.getCallback("groupAggFiltering");if(t===!0)return()=>!0}function JX(e){return e.get("groupHideOpenParents")?!0:e.get("groupDisplayType")==="multipleColumns"}function qy(e,t){return t?!1:e.get("groupDisplayType")==="groupRows"}function Fu(e){const t=e.getCallback("getRowId");return t===void 0?t:n=>{let i=t(n);return typeof i!="string"&&(ie(25,{id:i}),i=String(i)),i}}function ZX(e,t){const n=e.get("groupHideParentOfSingleChild");return!!(n===!0||n==="leafGroupsOnly"&&t.leafGroup||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")&&t.leafGroup)}function QX(e){const t=e.get("maxConcurrentDatasourceRequests");return t>0?t:void 0}function Ql(e){return(e==null?void 0:e.checkboxes)??!0}function Rp(e){return(e==null?void 0:e.mode)==="multiRow"&&(e.headerCheckbox??!0)}function n0(e){if(typeof e=="object")return e.checkboxLocation??"selectionColumn"}function lv(e){return(e==null?void 0:e.hideDisabledCheckboxes)??!1}function eJ(e){return typeof e.get("rowSelection")!="string"}function ps(e){const t=e.get("cellSelection");return t!==void 0?!!t:e.get("enableRangeSelection")}function e5(e){const t=e.get("rowSelection")??"single";if(typeof t=="string"){const n=e.get("suppressRowClickSelection"),i=e.get("suppressRowDeselection");return n&&i?!1:n?"enableDeselection":i?"enableSelection":!0}return t.mode==="singleRow"||t.mode==="multiRow"?t.enableClickSelection??!1:!1}function tJ(e){const t=e5(e);return t===!0||t==="enableSelection"}function nJ(e){const t=e5(e);return t===!0||t==="enableDeselection"}function tC(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("isRowSelectable"):t==null?void 0:t.isRowSelectable}function i0(e){const t="beanName"in e&&e.beanName==="gos"?e.get("rowSelection"):e.rowSelection;if(typeof t=="string")switch(t){case"multiple":return"multiRow";case"single":return"singleRow";default:return}switch(t==null?void 0:t.mode){case"multiRow":case"singleRow":return t.mode;default:return}}function Td(e){return i0(e)==="multiRow"}function iJ(e){const t=e.get("rowSelection");return typeof t=="string"?e.get("rowMultiSelectWithClick"):(t==null?void 0:t.enableSelectionWithoutKeys)??!1}function r0(e){const t=e.get("rowSelection");if(typeof t=="string"){const n=e.get("groupSelectsChildren"),i=e.get("groupSelectsFiltered");return n&&i?"filteredDescendants":n?"descendants":"self"}return(t==null?void 0:t.mode)==="multiRow"?t.groupSelects:void 0}function t5(e,t=!0){const n=e.get("rowSelection");return typeof n!="object"?t?"all":void 0:n.mode==="multiRow"?n.selectAll:"all"}function Ad(e){const t=r0(e);return t==="descendants"||t==="filteredDescendants"}function T4(e){const t=e.get("rowSelection");return typeof t=="object"&&t.masterSelects||"self"}function uv(e){return e.isModuleRegistered("SetFilter")&&!e.get("suppressSetFilterByDefault")}function Ji(e){return e.get("columnMenu")==="legacy"}function rJ(e){return!Ji(e)}function Ky(e){return!e||e.length<2?e:"on"+e[0].toUpperCase()+e.substring(1)}function oJ(e,t,n){typeof e!="object"&&(e={});const i={...e};return n.forEach(r=>{const o=t[r];typeof o<"u"&&(i[r]=o)}),i}function sJ(e,t){if(!e)return;const n={};let i=!1;if(Object.keys(e).forEach(s=>{n[s]=e[s],i=!0}),!i)return;const r={type:"gridOptionsChanged",options:n};t.dispatchEvent(r);const o={type:"componentStateChanged",...n};t.dispatchEvent(o)}function Le(e,t){return e.addGridCommonParams(t)}function aJ(e){return e.get("treeData")?e.get("treeDataParentIdField")?"treeSelfRef":e.get("treeDataChildrenField")?"treeNested":"treePath":"group"}var n5="__ag_Grid_Stop_Propagation",lJ=["touchstart","touchend","touchmove","touchcancel","scroll"],uJ=["wheel"],cv={};function Tu(e){e[n5]=!0}function is(e){return e[n5]===!0}var i5=(()=>{const e={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return n=>{if(typeof cv[n]=="boolean")return cv[n];const i=document.createElement(e[n]||"div");return n="on"+n,cv[n]=n in i}})();function r5(e,t,n){let i=t;for(;i;){const r=XA(e,i,n);if(r)return r;i=i.parentElement}return null}function cJ(e,t){return!t||!e?!1:hJ(t).indexOf(e)>=0}function dJ(e){const t=[];let n=e.target;for(;n;)t.push(n),n=n.parentElement;return t}function hJ(e){const t=e;return t.path?t.path:t.composedPath?t.composedPath():dJ(t)}function pJ(e,t,n,i){const r=o5(n);let o;r!=null&&(o={passive:r}),e&&e.addEventListener&&e.addEventListener(t,n,i,o)}var o5=e=>{const t=lJ.includes(e),n=uJ.includes(e);if(t)return!0;if(n)return!1},K=class{constructor(){this.destroyFunctions=[],this.destroyed=!1,this.__v_skip=!0,this.propertyListenerId=0,this.lastChangeSetIdLookup={},this.isAlive=()=>!this.destroyed}preWireBeans(e){this.beans=e,this.stubContext=e.context,this.eventSvc=e.eventSvc,this.gos=e.gos}destroy(){const{destroyFunctions:e}=this;for(let t=0;t<e.length;t++)e[t]();e.length=0,this.destroyed=!0,this.dispatchLocalEvent({type:"destroyed"})}addEventListener(e,t,n){this.localEventService||(this.localEventService=new dl),this.localEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){var i;(i=this.localEventService)==null||i.removeEventListener(e,t,n)}dispatchLocalEvent(e){var t;(t=this.localEventService)==null||t.dispatchEvent(e)}addManagedElementListeners(e,t){return this._setupListeners(e,t)}addManagedEventListeners(e){return this._setupListeners(this.eventSvc,e)}addManagedListeners(e,t){return this._setupListeners(e,t)}_setupListeners(e,t){const n=[];for(const i of Object.keys(t)){const r=t[i];r&&n.push(this._setupListener(e,i,r))}return n}_setupListener(e,t,n){if(this.destroyed)return()=>null;let i;return fJ(e)?(e.__addEventListener(t,n),i=()=>(e.__removeEventListener(t,n),null)):(e instanceof HTMLElement?pJ(this.beans.frameworkOverrides,e,t,n):e.addEventListener(t,n),i=()=>(e.removeEventListener(t,n),null)),this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}setupGridOptionListener(e,t){const{gos:n}=this;n.addPropertyEventListener(e,t);const i=()=>(n.removePropertyEventListener(e,t),null);return this.destroyFunctions.push(i),()=>(i(),this.destroyFunctions=this.destroyFunctions.filter(r=>r!==i),null)}addManagedPropertyListener(e,t){return this.destroyed?()=>null:this.setupGridOptionListener(e,t)}addManagedPropertyListeners(e,t){if(this.destroyed)return;const n=e.join("-")+this.propertyListenerId++,i=r=>{if(r.changeSet){if(r.changeSet&&r.changeSet.id===this.lastChangeSetIdLookup[n])return;this.lastChangeSetIdLookup[n]=r.changeSet.id}const o={type:"gridPropertyChanged",changeSet:r.changeSet,source:r.source};t(o)};e.forEach(r=>this.setupGridOptionListener(r,i))}getLocaleTextFunc(){return FA(this.beans.localeSvc)}addDestroyFunc(e){this.isAlive()?this.destroyFunctions.push(e):e()}createOptionalManagedBean(e,t){return e?this.createManagedBean(e,t):void 0}createManagedBean(e,t){const n=this.createBean(e,t);return this.addDestroyFunc(this.destroyBean.bind(this,e,t)),n}createBean(e,t,n){return(t||this.stubContext).createBean(e,n)}destroyBean(e,t){return(t||this.stubContext).destroyBean(e)}destroyBeans(e,t){return(t||this.stubContext).destroyBeans(e)}};function fJ(e){return e.__addEventListener!==void 0}var s5=new Set(["__proto__","constructor","prototype"]);function gJ(e,t){if(e!=null){if(Array.isArray(e)){for(let n=0;n<e.length;n++)t(n.toString(),e[n]);return}for(const n of Object.keys(e))t(n,e[n])}}function Si(e,t,n=!0,i=!1){ue(t)&&gJ(t,(r,o)=>{if(s5.has(r))return;let s=e[r];s!==o&&(i&&s==null&&o!=null&&typeof o=="object"&&o.constructor===Object&&(s={},e[r]=s),A4(o)&&A4(s)&&!Array.isArray(s)?Si(s,o,n,i):(n||o!==void 0)&&(e[r]=o))})}function Wc(e,t,n){if(!t||!e)return;if(!n)return e[t];const i=t.split(".");let r=e;for(let o=0;o<i.length;o++){if(r==null)return;r=r[i[o]]}return r}function A4(e){return typeof e=="object"&&e!==null}var mJ=/[&<>"']/g,vJ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function rs(e,t){if(e==null)return null;const n=e.toString().toString();return t?n:n.replace(mJ,i=>vJ[i])}var CJ={resizable:!0,sortable:!0},bJ=0;function a5(){return bJ++}function da(e){return e instanceof Yy}var Yy=class extends K{constructor(e,t,n,i){super(),this.colDef=e,this.userProvidedColDef=t,this.colId=n,this.primary=i,this.isColumn=!0,this.instanceId=a5(),this.autoHeaderHeight=null,this.moving=!1,this.menuVisible=!1,this.lastLeftPinned=!1,this.firstRightPinned=!1,this.filterActive=!1,this.colEventSvc=new dl,this.tooltipEnabled=!1,this.rowGroupActive=!1,this.pivotActive=!1,this.aggregationActive=!1,this.flex=null,this.colIdSanitised=rs(n)}destroy(){var e;super.destroy(),(e=this.beans.rowSpanSvc)==null||e.deregister(this)}getInstanceId(){return this.instanceId}setState(){const{colDef:e,beans:{sortSvc:t,pinnedCols:n,colFlex:i}}=this;t==null||t.initCol(this);const r=e.hide;r!==void 0?this.visible=!r:this.visible=!e.initialHide,n==null||n.initCol(this),i==null||i.initCol(this)}setColDef(e,t,n){var r;const i=e.spanRows!==this.colDef.spanRows;this.colDef=e,this.userProvidedColDef=t,this.initMinAndMaxWidths(),this.initDotNotation(),this.initTooltip(),i&&((r=this.beans.rowSpanSvc)==null||r.deregister(this),this.initRowSpan()),this.dispatchColEvent("colDefChanged",n)}getUserProvidedColDef(){return this.userProvidedColDef}getParent(){return this.parent}getOriginalParent(){return this.originalParent}postConstruct(){this.setState(),this.initMinAndMaxWidths(),this.resetActualWidth("gridInitializing"),this.initDotNotation(),this.initTooltip(),this.initRowSpan()}initDotNotation(){const{gos:e,colDef:{field:t,tooltipField:n}}=this,i=e.get("suppressFieldDotNotation");this.fieldContainsDots=ue(t)&&t.indexOf(".")>=0&&!i,this.tooltipFieldContainsDots=ue(n)&&n.indexOf(".")>=0&&!i}initMinAndMaxWidths(){const e=this.colDef;this.minWidth=e.minWidth??this.beans.environment.getDefaultColumnMinWidth(),this.maxWidth=e.maxWidth??Number.MAX_SAFE_INTEGER}initTooltip(){var e;(e=this.beans.tooltipSvc)==null||e.initCol(this)}initRowSpan(){var e;this.colDef.spanRows&&((e=this.beans.rowSpanSvc)==null||e.register(this))}resetActualWidth(e){const t=this.calculateColInitialWidth(this.colDef);this.setActualWidth(t,e,!0)}calculateColInitialWidth(e){let t;const n=e.width,i=e.initialWidth;return n!=null?t=n:i!=null?t=i:t=200,Math.max(Math.min(t,this.maxWidth),this.minWidth)}isEmptyGroup(){return!1}isRowGroupDisplayed(e){var t;return((t=this.beans.showRowGroupCols)==null?void 0:t.isRowGroupDisplayed(this,e))??!1}isPrimary(){return this.primary}isFilterAllowed(){return!!this.colDef.filter}isFieldContainsDots(){return this.fieldContainsDots}isTooltipEnabled(){return this.tooltipEnabled}isTooltipFieldContainsDots(){return this.tooltipFieldContainsDots}getHighlighted(){return this.highlighted}__addEventListener(e,t){this.colEventSvc.addEventListener(e,t)}__removeEventListener(e,t){this.colEventSvc.removeEventListener(e,t)}addEventListener(e,t){var i,r,o;this.frameworkEventListenerService=(r=(i=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:r.call(i,this.frameworkEventListenerService,this.colEventSvc);const n=((o=this.frameworkEventListenerService)==null?void 0:o.wrap(t))??t;this.colEventSvc.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.colEventSvc.removeEventListener(e,n)}createColumnFunctionCallbackParams(e){return Le(this.gos,{node:e,data:e.data,column:this,colDef:this.colDef})}isSuppressNavigable(e){var t;return((t=this.beans.cellNavigation)==null?void 0:t.isSuppressNavigable(this,e))??!1}isCellEditable(e){var t;return((t=this.beans.editSvc)==null?void 0:t.isCellEditable(this,e))??!1}isSuppressFillHandle(){return!!this.colDef.suppressFillHandle}isAutoHeight(){return!!this.colDef.autoHeight}isAutoHeaderHeight(){return!!this.colDef.autoHeaderHeight}isRowDrag(e){return this.isColumnFunc(e,this.colDef.rowDrag)}isDndSource(e){return this.isColumnFunc(e,this.colDef.dndSource)}isCellCheckboxSelection(e){var t;return((t=this.beans.selectionSvc)==null?void 0:t.isCellCheckboxSelection(this,e))??!1}isSuppressPaste(e){var t;return this.isColumnFunc(e,((t=this.colDef)==null?void 0:t.suppressPaste)??null)}isResizable(){return!!this.getColDefValue("resizable")}getColDefValue(e){return this.colDef[e]??CJ[e]}isColumnFunc(e,t){if(typeof t=="boolean")return t;if(typeof t=="function"){const n=this.createColumnFunctionCallbackParams(e);return t(n)}return!1}createColumnEvent(e,t){return Le(this.gos,{type:e,column:this,columns:[this],source:t})}isMoving(){return this.moving}getSort(){return this.sort}isSortable(){return!!this.getColDefValue("sortable")}isSortAscending(){return this.sort==="asc"}isSortDescending(){return this.sort==="desc"}isSortNone(){return Bt(this.sort)}isSorting(){return ue(this.sort)}getSortIndex(){return this.sortIndex}isMenuVisible(){return this.menuVisible}getAggFunc(){return this.aggFunc}getLeft(){return this.left}getOldLeft(){return this.oldLeft}getRight(){return this.left+this.actualWidth}setLeft(e,t){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchColEvent("leftChanged",t))}isFilterActive(){return this.filterActive}isHovered(){var e;return ie(261),!!((e=this.beans.colHover)!=null&&e.isHovered(this))}setFirstRightPinned(e,t){this.firstRightPinned!==e&&(this.firstRightPinned=e,this.dispatchColEvent("firstRightPinnedChanged",t))}setLastLeftPinned(e,t){this.lastLeftPinned!==e&&(this.lastLeftPinned=e,this.dispatchColEvent("lastLeftPinnedChanged",t))}isFirstRightPinned(){return this.firstRightPinned}isLastLeftPinned(){return this.lastLeftPinned}isPinned(){return this.pinned==="left"||this.pinned==="right"}isPinnedLeft(){return this.pinned==="left"}isPinnedRight(){return this.pinned==="right"}getPinned(){return this.pinned}setVisible(e,t){const n=e===!0;this.visible!==n&&(this.visible=n,this.dispatchColEvent("visibleChanged",t)),this.dispatchStateUpdatedEvent("hide")}isVisible(){return this.visible}isSpanHeaderHeight(){return!this.getColDef().suppressSpanHeaderHeight}getColumnGroupPaddingInfo(){let e=this.getParent();if(!e||!e.isPadding())return{numberOfParents:0,isSpanningTotal:!1};const t=e.getPaddingLevel()+1;let n=!0;for(;e;){if(!e.isPadding()){n=!1;break}e=e.getParent()}return{numberOfParents:t,isSpanningTotal:n}}getColDef(){return this.colDef}getDefinition(){return this.colDef}getColumnGroupShow(){return this.colDef.columnGroupShow}getColId(){return this.colId}getId(){return this.colId}getUniqueId(){return this.colId}getActualWidth(){return this.actualWidth}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}createBaseColDefParams(e){return Le(this.gos,{node:e,data:e.data,colDef:this.colDef,column:this})}getColSpan(e){if(Bt(this.colDef.colSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.colSpan(t);return Math.max(n,1)}getRowSpan(e){if(Bt(this.colDef.rowSpan))return 1;const t=this.createBaseColDefParams(e),n=this.colDef.rowSpan(t);return Math.max(n,1)}setActualWidth(e,t,n=!1){e=Math.max(e,this.minWidth),e=Math.min(e,this.maxWidth),this.actualWidth!==e&&(this.actualWidth=e,this.flex!=null&&t!=="flex"&&t!=="gridInitializing"&&(this.flex=null),n||this.fireColumnWidthChangedEvent(t)),this.dispatchStateUpdatedEvent("width")}fireColumnWidthChangedEvent(e){this.dispatchColEvent("widthChanged",e)}isGreaterThanMax(e){return e>this.maxWidth}getMinWidth(){return this.minWidth}getMaxWidth(){return this.maxWidth}getFlex(){return this.flex}isRowGroupActive(){return this.rowGroupActive}isPivotActive(){return this.pivotActive}isAnyFunctionActive(){return this.isPivotActive()||this.isRowGroupActive()||this.isValueActive()}isAnyFunctionAllowed(){return this.isAllowPivot()||this.isAllowRowGroup()||this.isAllowValue()}isValueActive(){return this.aggregationActive}isAllowPivot(){return this.colDef.enablePivot===!0}isAllowValue(){return this.colDef.enableValue===!0}isAllowRowGroup(){return this.colDef.enableRowGroup===!0}dispatchColEvent(e,t,n){const i=this.createColumnEvent(e,t);n&&Si(i,n),this.colEventSvc.dispatchEvent(i)}dispatchStateUpdatedEvent(e){this.colEventSvc.dispatchEvent({type:"columnStateUpdated",key:e})}};function mi(e){return e instanceof Dp}var Dp=class extends K{constructor(e,t,n,i){super(),this.colGroupDef=e,this.groupId=t,this.padding=n,this.level=i,this.isColumn=!1,this.expandable=!1,this.instanceId=a5(),this.expandableListenerRemoveCallback=null,this.expanded=!!(e!=null&&e.openByDefault)}destroy(){this.expandableListenerRemoveCallback&&this.reset(null,void 0),super.destroy()}reset(e,t){this.colGroupDef=e,this.level=t,this.originalParent=null,this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback(),this.children=void 0,this.expandable=void 0}getInstanceId(){return this.instanceId}getOriginalParent(){return this.originalParent}getLevel(){return this.level}isVisible(){return this.children?this.children.some(e=>e.isVisible()):!1}isPadding(){return this.padding}setExpanded(e){this.expanded=e===void 0?!1:e,this.dispatchLocalEvent({type:"expandedChanged"})}isExpandable(){return this.expandable}isExpanded(){return this.expanded}getGroupId(){return this.groupId}getId(){return this.getGroupId()}setChildren(e){this.children=e}getChildren(){return this.children}getColGroupDef(){return this.colGroupDef}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}addLeafColumns(e){this.children&&this.children.forEach(t=>{da(t)?e.push(t):mi(t)&&t.addLeafColumns(e)})}getColumnGroupShow(){const e=this.colGroupDef;if(e)return e.columnGroupShow}setupExpandable(){this.setExpandable(),this.expandableListenerRemoveCallback&&this.expandableListenerRemoveCallback();const e=this.onColumnVisibilityChanged.bind(this);this.getLeafColumns().forEach(t=>t.__addEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=()=>{this.getLeafColumns().forEach(t=>t.__removeEventListener("visibleChanged",e)),this.expandableListenerRemoveCallback=null}}setExpandable(){if(this.isPadding())return;let e=!1,t=!1,n=!1;const i=this.findChildrenRemovingPadding();for(let o=0,s=i.length;o<s;o++){const a=i[o];if(!a.isVisible())continue;const l=a.getColumnGroupShow();l==="open"?(e=!0,n=!0):l==="closed"?(t=!0,n=!0):(e=!0,t=!0)}const r=e&&t&&n;this.expandable!==r&&(this.expandable=r,this.dispatchLocalEvent({type:"expandableChanged"}))}findChildrenRemovingPadding(){const e=[],t=n=>{n.forEach(i=>{mi(i)&&i.isPadding()?t(i.children):e.push(i)})};return t(this.children),e}onColumnVisibilityChanged(){this.setExpandable()}},yJ={numericColumn:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"},rightAligned:{headerClass:"ag-right-aligned-header",cellClass:"ag-right-aligned-cell"}},wJ=class{constructor(){this.existingKeys={}}addExistingKeys(e){for(let t=0;t<e.length;t++)this.existingKeys[e[t]]=!0}getUniqueKey(e,t){e=Y1(e);let n=0;for(;;){let i=e??t;if(i?n!==0&&(i+="_"+n):i=n,!this.existingKeys[i])return this.existingKeys[i]=!0,String(i);n++}}},R4=Object.freeze([]);function wt(e){if(e!=null&&e.length)return e[e.length-1]}function bl(e,t,n){return e==null&&t==null?!0:e!=null&&t!=null&&e.length===t.length&&e.every((i,r)=>n?n(i,t[r]):t[r]===i)}function Yh(e,t){if(e)for(const n of e)t(n)}function Ur(e,t){const n=e.indexOf(t);n>=0&&e.splice(n,1)}function D4(e,t,n){for(let i=0;i<t.length;i++)Ur(e,t[i]);for(let i=t.length-1;i>=0;i--)e.splice(n,0,t[i])}var xg="ag-Grid-AutoColumn",l5="ag-Grid-SelectionColumn",SJ="ag-Grid-RowNumbersColumn";function u5(e){const t=[],n=i=>{for(let r=0;r<i.length;r++){const o=i[r];da(o)?t.push(o):mi(o)&&n(o.getChildren())}};return n(e),t}function Vo(e){return e.reduce((t,n)=>t+n.getActualWidth(),0)}function o0(e,t,n){const i={};if(!t)return;ss(null,t,o=>{i[o.getInstanceId()]=o}),n&&ss(null,n,o=>{i[o.getInstanceId()]=null});const r=Object.values(i).filter(o=>o!=null);e.context.destroyBeans(r)}function Xy(e){return e.getId().startsWith(xg)}function fs(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(l5))??!1}function Au(e){const t=typeof e=="string"?e:"getColId"in e?e.getColId():e.colId;return(t==null?void 0:t.startsWith(SJ))??!1}function s0(e){let t=[];return e instanceof Array?t=e:typeof e=="string"&&(t=e.split(",")),t}function xJ(e,t){return bl(e,t,(n,i)=>n.getColId()===i.getColId())}function EJ(e){e.map={},e.list.forEach(t=>e.map[t.getId()]=t)}function eu(e){return e==="gridOptionsUpdated"?"gridOptionsChanged":e}function c5(e,t){const n=e===t,i=e.getColDef()===t,r=e.getColId()==t;return n||i||r}var kJ=(e,t)=>(n,i)=>{const r={value1:void 0,value2:void 0};let o=!1;return e&&(e[n]!==void 0&&(r.value1=e[n],o=!0),ue(i)&&e[i]!==void 0&&(r.value2=e[i],o=!0)),!o&&t&&(t[n]!==void 0&&(r.value1=t[n]),ue(i)&&t[i]!==void 0&&(r.value2=t[i])),r};function FJ(e,t=null,n,i,r){const o=new wJ,{existingCols:s,existingGroups:a,existingColKeys:l}=TJ(i);o.addExistingKeys(l);const u=d5(e,t,0,n,s,o,a,r),{colGroupSvc:c}=e,d=(c==null?void 0:c.findMaxDepth(u,0))??0,h=c?c.balanceColumnTree(u,0,d,o):u;return ss(null,h,(f,g)=>{mi(f)&&f.setupExpandable(),f.originalParent=g}),{columnTree:h,treeDept:d}}function TJ(e){const t=[],n=[],i=[];return e&&ss(null,e,r=>{if(mi(r)){const o=r;n.push(o)}else{const o=r;i.push(o.getId()),t.push(o)}}),{existingCols:t,existingGroups:n,existingColKeys:i}}function d5(e,t,n,i,r,o,s,a){if(!t)return[];const{colGroupSvc:l}=e,u=new Array(t.length);for(let c=0;c<u.length;c++){const d=t[c];l&&IJ(d)?u[c]=l.createProvidedColumnGroup(i,d,n,r,o,s,a):u[c]=AJ(e,i,d,r,o,a)}return u}function AJ(e,t,n,i,r,o){var l;const s=DJ(n,i);s&&(i==null||i.splice(s.idx,1));let a=s==null?void 0:s.column;if(a){const u=nC(e,n,a.getColId());a.setColDef(u,n,o),RJ(e,a,u,o)}else{const u=r.getUniqueKey(n.colId,n.field),c=nC(e,n,u);a=new Yy(c,n,u,t),e.context.createBean(a)}return(l=e.dataTypeSvc)==null||l.addColumnListeners(a),a}function h5(e,t,n,i,r,o,s,a){const{sortSvc:l,pinnedCols:u,colFlex:c}=e;n!==void 0&&t.setVisible(!n,a),l&&(l.updateColSort(t,i,a),r!==void 0&&l.setColSortIndex(t,r)),o!==void 0&&(u==null||u.setColPinned(t,o)),s!==void 0&&(c==null||c.setColFlex(t,s))}function RJ(e,t,n,i){h5(e,t,n.hide,n.sort,n.sortIndex,n.pinned,n.flex,i);const r=t.getFlex();if(!(r!=null&&r>0))if(n.width!=null)t.setActualWidth(n.width,i);else{const o=t.getActualWidth();t.setActualWidth(o,i)}}function DJ(e,t){if(t)for(let n=0;n<t.length;n++){const i=t[n].getUserProvidedColDef();if(!i)continue;if(e.colId!=null){if(t[n].getId()===e.colId)return{idx:n,column:t[n]};continue}if(e.field!=null){if(i.field===e.field)return{idx:n,column:t[n]};continue}if(i===e)return{idx:n,column:t[n]}}}function nC(e,t,n,i){const{gos:r,dataTypeSvc:o,validation:s}=e,a={},l=r.get("defaultColDef");Si(a,l,!1,!0);const u=MJ(e,a,t,n);u&&PJ(e,u,a),Si(a,t,!1,!0);const c=r.get("autoGroupColumnDef"),d=to(r);return t.rowGroup&&c&&d&&Si(a,{sort:c.sort,initialSort:c.initialSort},!1,!0),o==null||o.validateColDef(a),s==null||s.validateColDef(a,n,i),a}function MJ(e,t,n,i){var s;const r=(s=e.dataTypeSvc)==null?void 0:s.updateColDefAndGetColumnType(t,n,i),o=n.type??r??t.type;return t.type=o,o?s0(o):void 0}function PJ(e,t,n){if(!t.length)return;const i=Object.assign({},yJ),r=e.gos.get("columnTypes")||{};for(const o of Object.keys(r)){const s=r[o];o in i?ie(34,{key:o}):(s.type&&ie(35),i[o]=s)}t.forEach(o=>{const s=i[o.trim()];s?Si(n,s,!1,!0):ie(36,{t:o})})}function IJ(e){return e.children!==void 0}function ss(e,t,n){if(t)for(let i=0;i<t.length;i++){const r=t[i];mi(r)&&ss(r,r.getChildren(),n),n(r,e)}}function p5(e,t){const n=[],i=[],r=[];return e.forEach(s=>{const a=s.getColDef().lockPosition;a==="right"?r.push(s):a==="left"||a===!0?n.push(s):i.push(s)}),t.get("enableRtl")?[...r,...i,...n]:[...n,...i,...r]}function f5(e,t){let n=!0;return ss(null,t,i=>{if(!mi(i))return;const r=i,o=r.getColGroupDef();if(!(o&&o.marryChildren))return;const a=[];r.getLeafColumns().forEach(h=>{const p=e.indexOf(h);a.push(p)});const l=Math.max.apply(Math,a),u=Math.min.apply(Math,a),c=l-u,d=r.getLeafColumns().length-1;c>d&&(n=!1)}),n}function g5(e,t){if(!e||e.length==0)return;const n=t(e[0]);for(let i=1;i<e.length;i++)if(n!==t(e[i]))return;return n}function m5(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=g5(t,o=>o.getPinned());e.dispatchEvent({type:"columnPinned",pinned:r??null,columns:t,column:i,source:n})}function OJ(e,t,n){if(!t.length)return;const i=t.length===1?t[0]:null,r=g5(t,o=>o.isVisible());e.dispatchEvent({type:"columnVisible",visible:r,columns:t,column:i,source:n})}function LJ(e,t,n,i){e.dispatchEvent({type:t,columns:n,column:n&&n.length==1?n[0]:null,source:i})}function Ru(e,t,n,i,r=null){t!=null&&t.length&&e.dispatchEvent({type:"columnResized",columns:t,column:t.length===1?t[0]:null,flexColumns:r,finished:n,source:i})}function tr(e,t,n){var y;const{colModel:i,rowGroupColsSvc:r,pivotColsSvc:o,autoColSvc:s,selectionColSvc:a,colAnimation:l,visibleCols:u,pivotResultCols:c,environment:d,valueColsSvc:h,eventSvc:p,gos:f}=e,g=i.getColDefCols()||[];if(!(g!=null&&g.length))return!1;if(t!=null&&t.state&&!t.state.forEach)return ie(32),!1;const m=(x,E,R,T,F)=>{if(!x)return;const D=kJ(E,t.defaultState),O=D("flex").value1;if(h5(e,x,D("hide").value1,D("sort").value1,D("sortIndex").value1,D("pinned").value1,O,n),O==null){const L=D("width").value1;if(L!=null){const I=x.getColDef().minWidth??d.getDefaultColumnMinWidth();I!=null&&L>=I&&x.setActualWidth(L,n)}}F||!x.isPrimary()||(h==null||h.syncColumnWithState(x,n,D),r==null||r.syncColumnWithState(x,n,D,R),o==null||o.syncColumnWithState(x,n,D,T))},v=(x,E,R)=>{var we,Ae;const T=v5(e,n),F=E.slice(),D={},O={},L=[],I=[],B=[];let U=0;const V=(r==null?void 0:r.columns.slice())??[],Y=(o==null?void 0:o.columns.slice())??[];x.forEach(ve=>{const Ve=ve.colId;if(Ve.startsWith(xg)){L.push(ve),B.push(ve);return}if(fs(Ve)){I.push(ve),B.push(ve);return}const Te=R(Ve);Te?(m(Te,ve,D,O,!1),Ur(F,Te)):(B.push(ve),U+=1)});const oe=ve=>m(ve,null,D,O,!1);F.forEach(oe),r==null||r.sortColumns(M4.bind(r,D,V)),o==null||o.sortColumns(M4.bind(o,O,Y)),i.refreshCols(!1);const ke=(ve,Ve,Xe=[])=>{Ve.forEach(Te=>{const $e=ve(Te.colId);Ur(Xe,$e),m($e,Te,null,null,!0)}),Xe.forEach(oe)};return ke(ve=>(s==null?void 0:s.getColumn(ve))??null,L,(we=s==null?void 0:s.getColumns())==null?void 0:we.slice()),ke(ve=>(a==null?void 0:a.getColumn(ve))??null,I,(Ae=a==null?void 0:a.getColumns())==null?void 0:Ae.slice()),BJ(t,i,f),u.refresh(n),p.dispatchEvent({type:"columnEverythingChanged",source:n}),T(),{unmatchedAndAutoStates:B,unmatchedCount:U}};l==null||l.start();let{unmatchedAndAutoStates:b,unmatchedCount:S}=v(t.state||[],g,x=>i.getColDefCol(x));if(b.length>0||ue(t.defaultState)){const x=((y=c==null?void 0:c.getPivotResultCols())==null?void 0:y.list)??[];S=v(b,x,E=>(c==null?void 0:c.getPivotResultCol(E))??null).unmatchedCount}return l==null||l.finish(),S===0}function NJ(e,t){var m,v;const{colModel:n,autoColSvc:i,selectionColSvc:r}=e,o=n.getColDefCols();if(!(o!=null&&o.length))return;const s=n.getColDefColTree(),a=u5(s),l=[];let u=1e3,c=1e3;const d=b=>{const S=C5(b);Bt(S.rowGroupIndex)&&S.rowGroup&&(S.rowGroupIndex=u++),Bt(S.pivotIndex)&&S.pivot&&(S.pivotIndex=c++),l.push(S)};(m=i==null?void 0:i.getColumns())==null||m.forEach(d),(v=r==null?void 0:r.getColumns())==null||v.forEach(d),a==null||a.forEach(d),tr(e,{state:l},t);const h=(i==null?void 0:i.getColumns())??[],g=[...(r==null?void 0:r.getColumns())??[],...h,...o].map(b=>({colId:b.colId}));tr(e,{state:g,applyOrder:!0},t)}function v5(e,t){const{rowGroupColsSvc:n,pivotColsSvc:i,valueColsSvc:r,colModel:o,sortSvc:s,eventSvc:a}=e,l={rowGroupColumns:(n==null?void 0:n.columns.slice())??[],pivotColumns:(i==null?void 0:i.columns.slice())??[],valueColumns:(r==null?void 0:r.columns.slice())??[]},u=Rd(e),c={};return u.forEach(d=>{c[d.colId]=d}),()=>{const d=(E,R,T,F)=>{const D=R.map(F),O=T.map(F);if(bl(D,O))return;const I=new Set(R);T.forEach(U=>{I.delete(U)||I.add(U)});const B=[...I];a.dispatchEvent({type:E,columns:B,column:B.length===1?B[0]:null,source:t})},h=E=>{const R=[];return o.forAllCols(T=>{const F=c[T.getColId()];F&&E(F,T)&&R.push(T)}),R},p=E=>E.getColId();d("columnRowGroupChanged",l.rowGroupColumns,(n==null?void 0:n.columns)??[],p),d("columnPivotChanged",l.pivotColumns,(i==null?void 0:i.columns)??[],p);const g=h((E,R)=>{const T=E.aggFunc!=null,F=T!=R.isValueActive(),D=T&&E.aggFunc!=R.getAggFunc();return F||D});g.length>0&&LJ(a,"columnValueChanged",g,t),Ru(a,h((E,R)=>E.width!=R.getActualWidth()),!0,t),m5(a,h((E,R)=>E.pinned!=R.getPinned()),t),OJ(a,h((E,R)=>E.hide==R.isVisible()),t);const y=h((E,R)=>E.sort!=R.getSort()||E.sortIndex!=R.getSortIndex());y.length>0&&(s==null||s.dispatchSortChangedEvents(t,y));const x=Rd(e);HJ(u,x,t,o,a)}}function Rd(e){const{colModel:t,rowGroupColsSvc:n,pivotColsSvc:i}=e,r=t.getColDefCols();if(Bt(r)||!t.isAlive())return[];const o=n==null?void 0:n.columns,s=i==null?void 0:i.columns,a=[],l=c=>{const d=c.isRowGroupActive()&&o?o.indexOf(c):null,h=c.isPivotActive()&&s?s.indexOf(c):null,p=c.isValueActive()?c.getAggFunc():null,f=c.getSort()!=null?c.getSort():null,g=c.getSortIndex()!=null?c.getSortIndex():null;a.push({colId:c.getColId(),width:c.getActualWidth(),hide:!c.isVisible(),pinned:c.getPinned(),sort:f,sortIndex:g,aggFunc:p,rowGroup:c.isRowGroupActive(),rowGroupIndex:d,pivot:c.isPivotActive(),pivotIndex:h,flex:c.getFlex()??null})};t.forAllCols(c=>l(c));const u=new Map(t.getCols().map((c,d)=>[c.getColId(),d]));return a.sort((c,d)=>{const h=u.has(c.colId)?u.get(c.colId):-1,p=u.has(d.colId)?u.get(d.colId):-1;return h-p}),a}function C5(e){const t=(f,g)=>f??g??null,n=e.getColDef(),i=t(n.sort,n.initialSort),r=t(n.sortIndex,n.initialSortIndex),o=t(n.hide,n.initialHide),s=t(n.pinned,n.initialPinned),a=t(n.width,n.initialWidth),l=t(n.flex,n.initialFlex);let u=t(n.rowGroupIndex,n.initialRowGroupIndex),c=t(n.rowGroup,n.initialRowGroup);u==null&&(c==null||c==!1)&&(u=null,c=null);let d=t(n.pivotIndex,n.initialPivotIndex),h=t(n.pivot,n.initialPivot);d==null&&(h==null||h==!1)&&(d=null,h=null);const p=t(n.aggFunc,n.initialAggFunc);return{colId:e.getColId(),sort:i,sortIndex:r,hide:o,pinned:s,width:a,flex:l,rowGroup:c,rowGroupIndex:u,pivot:h,pivotIndex:d,aggFunc:p}}function BJ(e,t,n){if(!e.applyOrder||!e.state)return;const i=[];e.state.forEach(r=>{r.colId!=null&&i.push(r.colId)}),zJ(t.cols,i,t,n)}function zJ(e,t,n,i){if(e==null)return;let r=[];const o={};t.forEach(a=>{if(o[a])return;const l=e.map[a];l&&(r.push(l),o[a]=!0)});let s=0;if(e.list.forEach(a=>{const l=a.getColId();if(o[l]!=null)return;l.startsWith(xg)?r.splice(s++,0,a):r.push(a)}),r=p5(r,i),!f5(r,n.getColTree())){ie(39);return}e.list=r}function HJ(e,t,n,i,r){const o={};t.forEach(c=>o[c.colId]=c);const s={};e.forEach(c=>{o[c.colId]&&(s[c.colId]=!0)});const a=e.filter(c=>s[c.colId]),l=t.filter(c=>s[c.colId]),u=[];l.forEach((c,d)=>{const h=a&&a[d];if(h&&h.colId!==c.colId){const p=i.getCol(h.colId);p&&u.push(p)}}),u.length&&r.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,finished:!0,source:n})}var M4=(e,t,n,i)=>{const r=e[n.getId()],o=e[i.getId()],s=r!=null,a=o!=null;if(s&&a)return r-o;if(s)return-1;if(a)return 1;const l=t.indexOf(n),u=t.indexOf(i),c=l>=0,d=u>=0;return c&&d?l-u:c?-1:1},VJ=class extends K{constructor(){super(...arguments),this.beanName="colModel",this.pivotMode=!1,this.ready=!1,this.changeEventsDispatching=!1}postConstruct(){this.pivotMode=this.gos.get("pivotMode"),this.addManagedPropertyListeners(["groupDisplayType","treeData","treeDataDisplayType","groupHideOpenParents"],e=>this.refreshAll(eu(e.source))),this.addManagedPropertyListeners(["defaultColDef","defaultColGroupDef","columnTypes","suppressFieldDotNotation"],this.recreateColumnDefs.bind(this)),this.addManagedPropertyListener("pivotMode",e=>this.setPivotMode(this.gos.get("pivotMode"),eu(e.source)))}createColsFromColDefs(e){var b,S,y;const{beans:t}=this,{valueCache:n,colAutosize:i,rowGroupColsSvc:r,pivotColsSvc:o,valueColsSvc:s,visibleCols:a,colViewport:l,eventSvc:u}=t,c=this.colDefs?v5(t,e):void 0;n==null||n.expire();const d=(b=this.colDefCols)==null?void 0:b.list,h=(S=this.colDefCols)==null?void 0:S.tree,p=FJ(t,this.colDefs,!0,h,e);o0(t,(y=this.colDefCols)==null?void 0:y.tree,p.columnTree);const f=p.columnTree,g=p.treeDept,m=u5(f),v={};m.forEach(x=>v[x.getId()]=x),this.colDefCols={tree:f,treeDepth:g,list:m,map:v},r==null||r.extractCols(e,d),o==null||o.extractCols(e,d),s==null||s.extractCols(e,d),this.ready=!0,this.refreshCols(!0),a.refresh(e),l.checkViewportColumns(),u.dispatchEvent({type:"columnEverythingChanged",source:e}),c&&(this.changeEventsDispatching=!0,c(),this.changeEventsDispatching=!1),u.dispatchEvent({type:"newColumnsLoaded",source:e}),e==="gridInitializing"&&(i==null||i.applyAutosizeStrategy())}refreshCols(e){var g;if(!this.colDefCols)return;const t=(g=this.cols)==null?void 0:g.tree;this.saveColOrder();const{autoColSvc:n,selectionColSvc:i,rowNumbersSvc:r,quickFilter:o,pivotResultCols:s,showRowGroupCols:a,rowAutoHeight:l,visibleCols:u,colViewport:c,eventSvc:d}=this.beans,h=this.selectCols(s,this.colDefCols);this.createColumnsForService([n,i,r],h);const p=jX(this.gos,this.showingPivotResult);(!e||p)&&this.restoreColOrder(h),this.positionLockedCols(h),a==null||a.refresh(),o==null||o.refreshCols(),this.setColSpanActive(),l==null||l.setAutoHeightActive(h),u.clear(),c.clear(),!bl(t,this.cols.tree)&&d.dispatchEvent({type:"gridColumnsChanged"})}createColumnsForService(e,t){for(const n of e)n&&(n.createColumns(t,i=>{this.lastOrder=i(this.lastOrder),this.lastPivotOrder=i(this.lastPivotOrder)}),n.addColumns(t))}selectCols(e,t){const n=(e==null?void 0:e.getPivotResultCols())??null;this.showingPivotResult=n!=null;const{map:i,list:r,tree:o,treeDepth:s}=n??t;return this.cols={list:r.slice(),map:{...i},tree:o.slice(),treeDepth:s},n&&(n.list.some(l=>{var u;return((u=this.cols)==null?void 0:u.map[l.getColId()])!==void 0})||(this.lastPivotOrder=null)),this.cols}getColsToShow(){var i;if(!this.cols)return[];const e=this.isPivotMode()&&!this.showingPivotResult,t=(i=this.beans.valueColsSvc)==null?void 0:i.columns;return this.cols.list.filter(r=>{const o=Xy(r);if(e){const s=t==null?void 0:t.includes(r);return o||s}else return o||r.isVisible()})}refreshAll(e){this.ready&&(this.refreshCols(!1),this.beans.visibleCols.refresh(e))}setColsVisible(e,t=!1,n){tr(this.beans,{state:e.map(i=>({colId:typeof i=="string"?i:i.getColId(),hide:!t}))},n)}restoreColOrder(e){const t=this.showingPivotResult?this.lastPivotOrder:this.lastOrder;if(!t)return;const n=new Map(t.map((u,c)=>[u,c]));if(!e.list.some(u=>n.has(u)))return;const r=new Map(e.list.map(u=>[u,!0])),o=t.filter(u=>r.has(u)),s=new Map(o.map(u=>[u,!0])),a=e.list.filter(u=>!s.has(u)),l=o.slice();a.forEach(u=>{let c=u.getOriginalParent();if(!c){l.push(u);return}const d=[];for(;!d.length&&c;)c.getLeafColumns().forEach(g=>{const m=l.indexOf(g)>=0,v=d.indexOf(g)<0;m&&v&&d.push(g)}),c=c.getOriginalParent();if(!d.length){l.push(u);return}const h=d.map(f=>l.indexOf(f)),p=Math.max(...h);l.splice(p+1,0,u)}),e.list=l}positionLockedCols(e){e.list=p5(e.list,this.gos)}saveColOrder(){var e,t;this.showingPivotResult?this.lastPivotOrder=((e=this.cols)==null?void 0:e.list)??null:this.lastOrder=((t=this.cols)==null?void 0:t.list)??null}getColumnDefs(){var e,t;return this.colDefCols?(t=this.beans.colDefFactory)==null?void 0:t.getColumnDefs(this.colDefCols.list,this.showingPivotResult,this.lastOrder,((e=this.cols)==null?void 0:e.list)??[]):void 0}setColSpanActive(){var e;this.colSpanActive=!!((e=this.cols)!=null&&e.list.some(t=>t.getColDef().colSpan!=null))}isPivotMode(){return this.pivotMode}setPivotMode(e,t){if(e===this.pivotMode||(this.pivotMode=e,!this.ready))return;this.refreshCols(!1);const{visibleCols:n,eventSvc:i}=this.beans;n.refresh(t),i.dispatchEvent({type:"columnPivotModeChanged"})}isPivotActive(){var t;const e=(t=this.beans.pivotColsSvc)==null?void 0:t.columns;return this.pivotMode&&!!(e!=null&&e.length)}recreateColumnDefs(e){var n;if(!this.cols)return;(n=this.beans.autoColSvc)==null||n.updateColumns(e);const t=eu(e.source);this.createColsFromColDefs(t)}setColumnDefs(e,t){this.colDefs=e,this.createColsFromColDefs(t)}destroy(){var e;o0(this.beans,(e=this.colDefCols)==null?void 0:e.tree),super.destroy()}getColTree(){var e;return((e=this.cols)==null?void 0:e.tree)??[]}getColDefColTree(){var e;return((e=this.colDefCols)==null?void 0:e.tree)??[]}getColDefCols(){var e;return((e=this.colDefCols)==null?void 0:e.list)??null}getCols(){var e;return((e=this.cols)==null?void 0:e.list)??[]}forAllCols(e){var r,o,s,a;const{pivotResultCols:t,autoColSvc:n,selectionColSvc:i}=this.beans;Yh((r=this.colDefCols)==null?void 0:r.list,e),Yh((o=n==null?void 0:n.columns)==null?void 0:o.list,e),Yh((s=i==null?void 0:i.columns)==null?void 0:s.list,e),Yh((a=t==null?void 0:t.getPivotResultCols())==null?void 0:a.list,e)}getColsForKeys(e){return e?e.map(t=>this.getCol(t)).filter(t=>t!=null):[]}getColDefCol(e){var t;return(t=this.colDefCols)!=null&&t.list?this.getColFromCollection(e,this.colDefCols):null}getCol(e){return e==null?null:this.getColFromCollection(e,this.cols)}getColFromCollection(e,t){var r,o;if(t==null)return null;const{map:n,list:i}=t;if(typeof e=="string"&&n[e])return n[e];for(let s=0;s<i.length;s++)if(c5(i[s],e))return i[s];return((r=this.beans.autoColSvc)==null?void 0:r.getColumn(e))??((o=this.beans.selectionColSvc)==null?void 0:o.getColumn(e))??null}},b5=class{constructor(){this.existingIds={}}getInstanceIdForKey(e){const t=this.existingIds[e];let n;return typeof t!="number"?n=0:n=t+1,this.existingIds[e]=n,n}};function oh(e,t,n){return n&&e.addDestroyFunc(()=>t.destroyBean(n)),n??e}var y5=class{constructor(e){this.cssClassStates={},this.getGui=e}addCssClass(e){this.addOrRemoveCssClass(e,!0)}removeCssClass(e){this.addOrRemoveCssClass(e,!1)}containsCssClass(e){const t=this.getGui();return t?t.classList.contains(e):!1}addOrRemoveCssClass(e,t){if(!e)return;if(e.indexOf(" ")>=0){const i=(e||"").split(" ");if(i.length>1){i.forEach(r=>this.addOrRemoveCssClass(r,t));return}}if(this.cssClassStates[e]!==t&&e.length){const i=this.getGui();i&&i.classList.toggle(e,t),this.cssClassStates[e]=t}}},_J=0,le=null,pt=class extends K{constructor(e,t){super(),this.suppressDataRefValidation=!1,this.displayed=!0,this.visible=!0,this.compId=_J++,this.cssClassManager=new y5(()=>this.eGui),this.componentSelectors=new Map((t??[]).map(n=>[n.selector,n])),e&&this.setTemplate(e)}preConstruct(){var t,n,i;this.wireTemplate(this.getGui());const e="component-"+((n=(t=Object.getPrototypeOf(this))==null?void 0:t.constructor)==null?void 0:n.name);(i=this.css)==null||i.forEach(r=>this.beans.environment.addGlobalCSS(r,e))}wireTemplate(e,t){e&&this.gos&&(this.applyElementsToComponent(e),this.createChildComponentsFromTags(e,t))}getCompId(){return this.compId}getDataRefAttribute(e){return e.getAttribute?e.getAttribute(GA):null}applyElementsToComponent(e,t,n,i=null){if(t===void 0&&(t=this.getDataRefAttribute(e)),t){const r=this[t];if(r===le)this[t]=i??e;else{const o=n&&n[t];if(!this.suppressDataRefValidation&&!o)throw new Error(`data-ref: ${t} on ${this.constructor.name} with ${r}`)}}}createChildComponentsFromTags(e,t){const n=[];for(const i of e.childNodes??[])n.push(i);n.forEach(i=>{if(!(i instanceof HTMLElement))return;const r=this.createComponentFromElement(i,o=>{const s=o.getGui();if(s)for(const a of i.attributes??[])s.setAttribute(a.name,a.value)},t);if(r){if(r.addItems&&i.children.length){this.createChildComponentsFromTags(i,t);const o=Array.prototype.slice.call(i.children);r.addItems(o)}this.swapComponentForNode(r,e,i)}else i.childNodes&&this.createChildComponentsFromTags(i,t)})}createComponentFromElement(e,t,n){const i=e.nodeName,r=this.getDataRefAttribute(e),o=i.indexOf("AG-")===0,s=o?this.componentSelectors.get(i):null;let a=null;if(s){const l=n&&r?n[r]:void 0;a=new s.component(l),a.setParentComponent(this),this.createBean(a,null,t)}else if(o)throw new Error(`selector: ${i}`);return this.applyElementsToComponent(e,r,n,a),a}swapComponentForNode(e,t,n){const i=e.getGui();t.replaceChild(i,n),t.insertBefore(document.createComment(n.nodeName),i),this.addDestroyFunc(this.destroyBean.bind(this,e))}activateTabIndex(e){const t=this.gos.get("tabIndex");e||(e=[]),e.length||e.push(this.getGui()),e.forEach(n=>n.setAttribute("tabindex",t.toString()))}setTemplate(e,t,n){let i;typeof e=="string"||e==null?i=Sg(e):i=gn(e),this.setTemplateFromElement(i,t,n)}setTemplateFromElement(e,t,n,i=!1){if(this.eGui=e,this.suppressDataRefValidation=i,t)for(let r=0;r<t.length;r++){const o=t[r];this.componentSelectors.set(o.selector,o)}this.wireTemplate(e,n)}getGui(){return this.eGui}getFocusableElement(){return this.eGui}getAriaElement(){return this.getFocusableElement()}setParentComponent(e){this.parentComponent=e}getParentComponent(){return this.parentComponent}setGui(e){this.eGui=e}queryForHtmlElement(e){return this.eGui.querySelector(e)}getContainerAndElement(e,t){let n=t;return e==null?null:(n||(n=this.eGui),$y(e)?{element:e,parent:n}:{element:e.getGui(),parent:n})}prependChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.insertAdjacentElement("afterbegin",n)}appendChild(e,t){const{element:n,parent:i}=this.getContainerAndElement(e,t)||{};!n||!i||i.appendChild(n)}isDisplayed(){return this.displayed}setVisible(e,t={}){if(e!==this.visible){this.visible=e;const{skipAriaHidden:n}=t;MX(this.eGui,e,{skipAriaHidden:n})}}setDisplayed(e,t={}){if(e!==this.displayed){this.displayed=e;const{skipAriaHidden:n}=t;Ht(this.eGui,e,{skipAriaHidden:n});const i={type:"displayChanged",visible:this.displayed};this.dispatchLocalEvent(i)}}destroy(){this.parentComponent&&(this.parentComponent=void 0),super.destroy()}addGuiEventListener(e,t,n){this.eGui.addEventListener(e,t,n),this.addDestroyFunc(()=>this.eGui.removeEventListener(e,t))}addCssClass(e){this.cssClassManager.addCssClass(e)}removeCssClass(e){this.cssClassManager.removeCssClass(e)}containsCssClass(e){return this.cssClassManager.containsCssClass(e)}addOrRemoveCssClass(e,t){this.cssClassManager.addOrRemoveCssClass(e,t)}registerCSS(e){this.css||(this.css=[]),this.css.push(e)}},bi=class fc{constructor(t){this.status=0,this.resolution=null,this.waiters=[],t(n=>this.onDone(n),n=>this.onReject(n))}static all(t){return t.length?new fc(n=>{let i=t.length;const r=new Array(i);t.forEach((o,s)=>{o.then(a=>{r[s]=a,i--,i===0&&n(r)})})}):fc.resolve()}static resolve(t=null){return new fc(n=>n(t))}then(t){return new fc(n=>{this.status===1?n(t(this.resolution)):this.waiters.push(i=>n(t(i)))})}onDone(t){this.status=1,this.resolution=t,this.waiters.forEach(n=>n(t))}onReject(t){}};function GJ(e){return e?e.prototype&&"getGui"in e.prototype:!1}function w5(e,t,n,i){const{name:r}=n;let o,s,a,l,u,c;if(t){const d=t,h=d[r+"Selector"],p=h?h(i):null,f=g=>{typeof g=="string"?o=g:g!=null&&g!==!0&&(e.isFrameworkComponent(g)?a=g:s=g)};p?(f(p.component),l=p.params,u=p.popup,c=p.popupPosition):f(d[r])}return{compName:o,jsComp:s,fwComp:a,paramsFromSelector:l,popupFromSelector:u,popupPositionFromSelector:c}}var WJ=class extends K{constructor(){super(...arguments),this.beanName="userCompFactory"}wireBeans(e){this.agCompUtils=e.agCompUtils,this.registry=e.registry,this.frameworkCompWrapper=e.frameworkCompWrapper,this.gridOptions=e.gridOptions}getCompDetailsFromGridOptions(e,t,n,i=!1){return this.getCompDetails(this.gridOptions,e,t,n,i)}getCompDetails(e,t,n,i,r=!1){var b;const{name:o,cellRenderer:s}=t;let{compName:a,jsComp:l,fwComp:u,paramsFromSelector:c,popupFromSelector:d,popupPositionFromSelector:h}=w5(this.beans.frameworkOverrides,e,t,i),p;const f=S=>{const y=this.registry.getUserComponent(o,S);y&&(l=y.componentFromFramework?void 0:y.component,u=y.componentFromFramework?y.component:void 0,p=y.params)};if(a!=null&&f(a),l==null&&u==null&&n!=null&&f(n),l&&s&&!GJ(l)&&(l=(b=this.agCompUtils)==null?void 0:b.adaptFunction(t,l)),!l&&!u){const{validation:S}=this.beans;r&&(a!==n||!n)?a?S!=null&&S.isProvidedUserComp(a)||dt(50,{compName:a}):n?S||dt(260,{...this.gos.getModuleErrorParams(),propName:o,compName:n}):dt(216,{name:o}):n&&!S&&dt(146,{comp:n});return}const g=this.mergeParams(e,t,i,c,p),m=l==null,v=l??u;return{componentFromFramework:m,componentClass:v,params:g,type:t,popupFromSelector:d,popupPositionFromSelector:h,newAgStackInstance:()=>this.newAgStackInstance(v,m,g,t)}}newAgStackInstance(e,t,n,i){var a;const r=!t;let o;r?o=new e:o=this.frameworkCompWrapper.wrap(e,i.mandatoryMethods,i.optionalMethods,i),this.createBean(o);const s=(a=o.init)==null?void 0:a.call(o,n);return s==null?bi.resolve(o):s.then(()=>o)}mergeParams(e,t,n,i=null,r){const o={...n,...r},s=e,a=s&&s[t.name+"Params"];if(typeof a=="function"){const l=a(n);Si(o,l)}else typeof a=="object"&&Si(o,a);return Si(o,i),o}},$J={name:"dateComponent",mandatoryMethods:["getDate","setDate"],optionalMethods:["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled","refresh"]},UJ={name:"dragAndDropImageComponent",mandatoryMethods:["setIcon","setLabel"]},jJ={name:"headerComponent",optionalMethods:["refresh"]},qJ={name:"innerHeaderComponent"},KJ={name:"innerHeaderGroupComponent"},YJ={name:"headerGroupComponent"},XJ={name:"cellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},JJ={name:"loadingCellRenderer",cellRenderer:!0},ZJ={name:"cellEditor",mandatoryMethods:["getValue"],optionalMethods:["isPopup","isCancelBeforeStart","isCancelAfterEnd","getPopupPosition","focusIn","focusOut","afterGuiAttached","refresh"]},QJ={name:"loadingOverlayComponent",optionalMethods:["refresh"]},eZ={name:"noRowsOverlayComponent",optionalMethods:["refresh"]},tZ={name:"tooltipComponent"},Jy={name:"filter",mandatoryMethods:["isFilterActive","doesFilterPass","getModel","setModel"],optionalMethods:["afterGuiAttached","afterGuiDetached","onNewRowsLoaded","getModelAsString","onFloatingFilterChanged","onAnyFilterChanged","refresh"]},nZ={name:"floatingFilterComponent",mandatoryMethods:["onParentModelChanged"],optionalMethods:["afterGuiAttached","refresh"]},iZ={name:"fullWidthCellRenderer",optionalMethods:["refresh","afterGuiAttached"],cellRenderer:!0},rZ={name:"loadingCellRenderer",cellRenderer:!0},oZ={name:"groupRowRenderer",optionalMethods:["afterGuiAttached"],cellRenderer:!0},sZ={name:"detailCellRenderer",optionalMethods:["refresh"],cellRenderer:!0};function aZ(e,t){return e.getCompDetailsFromGridOptions(UJ,"agDragAndDropImage",t,!0)}function lZ(e,t,n){return e.getCompDetails(t,jJ,"agColumnHeader",n)}function uZ(e,t,n){return e.getCompDetails(t,qJ,void 0,n)}function cZ(e,t){const n=t.columnGroup.getColGroupDef();return e.getCompDetails(n,YJ,"agColumnGroupHeader",t)}function dZ(e,t,n){return e.getCompDetails(t,KJ,void 0,n)}function hZ(e,t){return e.getCompDetailsFromGridOptions(iZ,void 0,t,!0)}function pZ(e,t){return e.getCompDetailsFromGridOptions(rZ,"agLoadingCellRenderer",t,!0)}function fZ(e,t){return e.getCompDetailsFromGridOptions(oZ,"agGroupRowRenderer",t,!0)}function gZ(e,t){return e.getCompDetailsFromGridOptions(sZ,"agDetailCellRenderer",t,!0)}function P4(e,t,n){return e.getCompDetails(t,XJ,void 0,n)}function mZ(e,t,n){return e.getCompDetails(t,JJ,"agSkeletonCellRenderer",n,!0)}function I4(e,t,n){return e.getCompDetails(t,ZJ,"agCellEditor",n,!0)}function vZ(e,t,n,i){return e.getCompDetails(t,Jy,i,n,!0)}function CZ(e,t,n){return e.getCompDetails(t,$J,"agDateInput",n,!0)}function bZ(e,t){return e.getCompDetailsFromGridOptions(QJ,"agLoadingOverlay",t,!0)}function yZ(e,t){return e.getCompDetailsFromGridOptions(eZ,"agNoRowsOverlay",t,!0)}function wZ(e,t){return e.getCompDetails(t.colDef,tZ,"agTooltipComponent",t,!0)}function SZ(e,t,n,i){return e.getCompDetails(t,nZ,i,n)}function xZ(e,t){return w5(e,t,Jy)}function EZ(e,t,n){return e.mergeParams(t,Jy,n)}function Dd(e){const t=e;return t!=null&&t.getFrameworkComponentInstance!=null?t.getFrameworkComponentInstance():e}var S5=new Set,a0={},tu={},Mp,x5=!1,kZ=!1;function FZ(e){const[t,n]=e.version.split(".")||[],[i,r]=Mp.split(".")||[];return t===i&&n===r}function TZ(e){Mp||(Mp=e.version);const t=n=>`You are using incompatible versions of AG Grid modules. Major and minor versions should always match across modules. ${n} Please update all modules to the same version.`;if(e.version?FZ(e)||Jl(t(`'${e.moduleName}' is version ${e.version} but the other modules are version ${Mp}.`)):Jl(t(`'${e.moduleName}' is incompatible.`)),e.validate){const n=e.validate();n.isValid||Jl(`${n.message}`)}}function Md(e,t){TZ(e);const n=e.rowModels??["all"];S5.add(e);let i;t!==void 0?(x5=!0,tu[t]===void 0&&(tu[t]={}),i=tu[t]):i=a0,n.forEach(r=>{i[r]===void 0&&(i[r]={}),i[r][e.moduleName]=e}),e.dependsOn&&e.dependsOn.forEach(r=>Md(r,t))}function AZ(e){delete tu[e]}function E5(e,t,n){const i=r=>{var o,s,a;return!!((o=a0[r])!=null&&o[e])||!!((a=(s=tu[t])==null?void 0:s[r])!=null&&a[e])};return i(n)||i("all")}function Zy(){return x5}function RZ(e,t){const n=tu[e]??{};return[...Object.values(a0.all??{}),...Object.values(n.all??{}),...Object.values(a0[t]??{}),...Object.values(n[t]??{})]}function DZ(){return new Set(S5)}function MZ(){return kZ}var k5=class{static register(e){Md(e,void 0)}static registerModules(e){e.forEach(t=>Md(t,void 0))}},PZ=class{constructor(e){this.beans={},this.createdBeans=[],this.destroyed=!1,!(!e||!e.beanClasses)&&(this.beanDestroyComparator=e.beanDestroyComparator,this.init(e))}init(e){var t;for(const n of Object.keys(e.providedBeanInstances))this.beans[n]=e.providedBeanInstances[n];e.beanClasses.forEach(n=>{const i=new n;i.beanName?this.beans[i.beanName]=i:console.error(`Bean ${n.name} is missing beanName`),this.createdBeans.push(i)}),(t=e.derivedBeans)==null||t.forEach(n=>{const{beanName:i,bean:r}=n(this);this.beans[i]=r,this.createdBeans.push(r)}),e.beanInitComparator&&this.createdBeans.sort(e.beanInitComparator),this.initBeans(this.createdBeans)}getBeanInstances(){return Object.values(this.beans)}createBean(e,t){if(!e)throw Error("null bean");return this.initBeans([e],t),e}initBeans(e,t){e.forEach(n=>{var i,r;(i=n.preWireBeans)==null||i.call(n,this.beans),(r=n.wireBeans)==null||r.call(n,this.beans)}),e.forEach(n=>{var i;return(i=n.preConstruct)==null?void 0:i.call(n)}),t&&e.forEach(t),e.forEach(n=>{var i;return(i=n.postConstruct)==null?void 0:i.call(n)})}getBeans(){return this.beans}getBean(e){return this.beans[e]}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this.getBeanInstances();this.beanDestroyComparator&&e.sort(this.beanDestroyComparator),this.destroyBeans(e),this.beans={},this.createdBeans=[]}destroyBean(e){var t;(t=e==null?void 0:e.destroy)==null||t.call(e)}destroyBeans(e){if(e)for(let t=0;t<e.length;t++)this.destroyBean(e[t]);return[]}isDestroyed(){return this.destroyed}},IZ=class extends PZ{init(e){this.gridId=e.gridId,this.beans.context=this,this.destroyCallback=e.destroyCallback,super.init(e)}destroy(){var e;super.destroy(),AZ(this.gridId),(e=this.destroyCallback)==null||e.call(this)}getGridId(){return this.gridId}},OZ="ag-column-first",LZ="ag-column-last";function F5(e,t,n,i){return Bt(e)?[]:BZ(e.headerClass,e,t,n,i)}function T5(e,t,n){e.addOrRemoveCssClass(OZ,n.isColAtEdge(t,"first")),e.addOrRemoveCssClass(LZ,n.isColAtEdge(t,"last"))}function NZ(e,t,n,i){return Le(t,{colDef:e,column:n,columnGroup:i})}function BZ(e,t,n,i,r){if(Bt(e))return[];let o;if(typeof e=="function"){const s=NZ(t,n,i,r);o=e(s)}else o=e;return typeof o=="string"?[o]:Array.isArray(o)?[...o]:[]}var j={BACKSPACE:"Backspace",TAB:"Tab",ENTER:"Enter",ESCAPE:"Escape",SPACE:" ",LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown",DELETE:"Delete",F2:"F2",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",PAGE_HOME:"Home",PAGE_END:"End",A:"KeyA",C:"KeyC",D:"KeyD",V:"KeyV",X:"KeyX",Y:"KeyY",Z:"KeyZ"},iC=!1,l0=0;function zZ(e){l0>0||(e.addEventListener("keydown",u0),e.addEventListener("mousedown",u0))}function HZ(e){l0>0||(e.removeEventListener("keydown",u0),e.removeEventListener("mousedown",u0))}function u0(e){const t=iC,n=e.type==="keydown";n&&(e.ctrlKey||e.metaKey||e.altKey)||t!==n&&(iC=n)}function VZ(e){const t=wn(e);return zZ(t),l0++,()=>{l0--,HZ(t)}}function _Z(){return iC}function GZ(e,t,n){t.addManagedElementListeners(n,{keydown:i=>{if(!i.defaultPrevented&&i.key===j.TAB){const r=i.shiftKey;yl(e,n,!1,r)||Du(e,r)&&i.preventDefault()}}})}function nu(e,t,n=!1){const i=DX;let r=NA;t&&(r+=", "+t),n&&(r+=', [tabindex="-1"]');const o=Array.prototype.slice.apply(e.querySelectorAll(i)).filter(l=>$r(l)),s=Array.prototype.slice.apply(e.querySelectorAll(r));return s.length?((l,u)=>l.filter(c=>u.indexOf(c)===-1))(o,s):o}function pl(e,t=!1,n=!1,i=!1){const r=nu(e,i?".ag-tab-guard":null,n),o=t?wt(r):r[0];return o?(o.focus({preventScroll:!0}),!0):!1}function yl(e,t,n,i){const r=nu(t,n?':not([tabindex="-1"])':null),o=Gt(e);let s;n?s=r.findIndex(l=>l.contains(o)):s=r.indexOf(o);const a=s+(i?-1:1);return a<0||a>=r.length?null:r[a]}function A5(e,t=5){let n=0;for(;e&&K1(e)===null&&++n<=t;)e=e.parentElement;return K1(e)===null?null:e}function WZ(e,t){return e.ctrlsSvc.get("gridCtrl").focusInnerElement(t)}function Xa(e){var t;return e.gos.get("suppressHeaderFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Eg(e){var t;return e.gos.get("suppressCellFocus")||!!((t=e.overlays)!=null&&t.isExclusive())}function Du(e,t,n=!1){const i=e.ctrlsSvc.get("gridCtrl");return!n&&i.focusNextInnerContainer(t)?!0:((n||!t&&!i.isDetailGrid())&&i.forceFocusOutOfContainer(t),!1)}function $Z(e,t=!1){return e===j.DELETE?!0:!t&&e===j.BACKSPACE?IA():!1}var UZ=class extends K{constructor(e,t,n,i){super(),this.cellCtrl=e,this.rowNode=n,this.rowCtrl=i,this.beans=t}init(){this.eGui=this.cellCtrl.eGui}onKeyDown(e){const t=e.key;switch(t){case j.ENTER:this.onEnterKeyDown(e);break;case j.F2:this.onF2KeyDown(e);break;case j.ESCAPE:this.onEscapeKeyDown(e);break;case j.TAB:this.onTabKeyDown(e);break;case j.BACKSPACE:case j.DELETE:this.onBackspaceOrDeleteKeyDown(t,e);break;case j.DOWN:case j.UP:case j.RIGHT:case j.LEFT:this.onNavigationKeyDown(e,t);break}}onNavigationKeyDown(e,t){var n;if(!this.cellCtrl.editing){if(e.shiftKey&&this.cellCtrl.isRangeSelectionEnabled())this.onShiftRangeSelect(e);else{const i=this.cellCtrl.getFocusedCellPosition();(n=this.beans.navigation)==null||n.navigateToNextCell(e,t,i,!0)}e.preventDefault()}}onShiftRangeSelect(e){const{rangeSvc:t,navigation:n}=this.beans;if(!t)return;const i=t.extendLatestRangeInDirection(e);i&&(n==null||n.ensureCellVisible(i))}onTabKeyDown(e){var t;(t=this.beans.navigation)==null||t.onTabKeyDown(this.cellCtrl,e)}onBackspaceOrDeleteKeyDown(e,t){var l;const{cellCtrl:n,beans:i,rowNode:r}=this,{gos:o,rangeSvc:s,eventSvc:a}=i;if(!n.editing){if(a.dispatchEvent({type:"keyShortcutChangedCellStart"}),$Z(e,o.get("enableCellEditingOnBackspace"))){if(s&&ps(o))s.clearCellRangeCellValues({dispatchWrapperEvents:!0,wrapperEventSource:"deleteKey"});else if(n.isCellEditable()){const{column:u}=n,c=this.beans.valueSvc.getDeleteValue(u,r);r.setDataValue(u,c,"cellClear")}}else(l=i.editSvc)==null||l.startRowOrCellEdit(n,e,t);a.dispatchEvent({type:"keyShortcutChangedCellEnd"})}}onEnterKeyDown(e){var i,r,o;const{cellCtrl:t,beans:n}=this;if(t.editing||this.rowCtrl.editing)(i=this.beans.editSvc)==null||i.stopRowOrCellEdit(t,!1,!1,e.shiftKey);else if(n.gos.get("enterNavigatesVertically")){const s=e.shiftKey?j.UP:j.DOWN;(r=n.navigation)==null||r.navigateToNextCell(null,s,t.cellPosition,!1)}else(o=n.editSvc)==null||o.startRowOrCellEdit(t,j.ENTER,e),t.editing&&e.preventDefault()}onF2KeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing||(i=n.editSvc)==null||i.startRowOrCellEdit(t,j.F2,e)}onEscapeKeyDown(e){var i;const{cellCtrl:t,beans:n}=this;t.editing&&((i=n.editSvc)==null||i.stopRowOrCellEdit(t,!0))}processCharacter(e){var r;if(e.target!==this.eGui||this.cellCtrl.editing)return;const i=e.key;i===j.SPACE?this.onSpaceKeyDown(e):(r=this.beans.editSvc)!=null&&r.startRowOrCellEdit(this.cellCtrl,i,e)&&e.preventDefault()}onSpaceKeyDown(e){var n;const{gos:t}=this.beans;!this.cellCtrl.editing&&Ka(t)&&((n=this.beans.selectionSvc)==null||n.handleSelectionEvent(e,this.rowNode,"spaceKey")),e.preventDefault()}destroy(){super.destroy()}},jZ=class extends K{constructor(e,t,n){super(),this.cellCtrl=e,this.column=n,this.beans=t}onMouseEvent(e,t){if(!is(t))switch(e){case"click":this.onCellClicked(t);break;case"mousedown":case"touchstart":this.onMouseDown(t);break;case"dblclick":this.onCellDoubleClicked(t);break;case"mouseout":this.onMouseOut(t);break;case"mouseover":this.onMouseOver(t);break}}onCellClicked(e){var u;if((u=this.beans.touchSvc)!=null&&u.handleCellDoubleClick(this,e))return;const{eventSvc:t,rangeSvc:n,gos:i,editSvc:r}=this.beans,o=e.ctrlKey||e.metaKey;n&&o&&n.getCellRangeCount(this.cellCtrl.cellPosition)>1&&n.intersectLastRange(!0);const s=this.cellCtrl.createEvent(e,"cellClicked");t.dispatchEvent(s);const a=this.column.getColDef();a.onCellClicked&&window.setTimeout(()=>{this.beans.frameworkOverrides.wrapOutgoing(()=>{a.onCellClicked(s)})},0),(i.get("singleClickEdit")||a.singleClickEdit)&&!i.get("suppressClickEdit")&&!(e.shiftKey&&(n==null?void 0:n.getCellRanges().length)!=0)&&(r==null||r.startRowOrCellEdit(this.cellCtrl,void 0,e))}onCellDoubleClicked(e){const{column:t,beans:n,cellCtrl:i}=this,{eventSvc:r,frameworkOverrides:o,gos:s,editSvc:a}=n,l=t.getColDef(),u=i.createEvent(e,"cellDoubleClicked");r.dispatchEvent(u),typeof l.onCellDoubleClicked=="function"&&window.setTimeout(()=>{o.wrapOutgoing(()=>{l.onCellDoubleClicked(u)})},0),!s.get("singleClickEdit")&&!s.get("suppressClickEdit")&&(a==null||a.startRowOrCellEdit(i,null,e))}onMouseDown(e){const{ctrlKey:t,metaKey:n,shiftKey:i}=e,r=e.target,{cellCtrl:o,beans:s}=this,{eventSvc:a,rangeSvc:l,rowNumbersSvc:u,focusSvc:c,gos:d}=s;if(this.isRightClickInExistingRange(e))return;const h=l&&!l.isEmpty(),p=this.containsWidget(r),{cellPosition:f}=o,g=Au(f.column);if(u&&g&&!u.handleMouseDownOnCell(f,e)){l&&e.preventDefault(),e.stopImmediatePropagation();return}if(!i||!h){const v=d.get("enableCellTextSelection")&&e.defaultPrevented,b=(vl()||v)&&!o.editing&&!_y(r)&&!p;o.focusCell(b)}if(i&&h&&!c.isCellFocused(f)){e.preventDefault();const m=c.getFocusedCell();if(m){const{column:v,rowIndex:b,rowPinned:S}=m,y=s.rowRenderer.getRowByPosition({rowIndex:b,rowPinned:S}),x=y==null?void 0:y.getCellCtrl(v);x!=null&&x.editing&&x.stopEditing(),c.setFocusedCell({column:v,rowIndex:b,rowPinned:S,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}}if(!p){if(l)if(g&&e.preventDefault(),i)l.extendLatestRangeToCell(f);else{const m=t||n;l.setRangeToCell(f,m)}a.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseDown"))}}isRightClickInExistingRange(e){const{rangeSvc:t}=this.beans;if(t){const n=t.isCellInAnyRange(this.cellCtrl.cellPosition),i=e.button===2||e.ctrlKey&&this.beans.gos.get("allowContextMenuWithControlKey");if(n&&i)return!0}return!1}containsWidget(e){return ja(e,"ag-selection-checkbox",3)||ja(e,"ag-drag-handle",3)}onMouseOut(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOut")),n==null||n.clearMouseOver()}onMouseOver(e){if(this.mouseStayingInsideCell(e))return;const{eventSvc:t,colHover:n}=this.beans;t.dispatchEvent(this.cellCtrl.createEvent(e,"cellMouseOver")),n==null||n.setMouseOver([this.column])}mouseStayingInsideCell(e){if(!e.target||!e.relatedTarget)return!1;const t=this.cellCtrl.eGui,n=t.contains(e.target),i=t.contains(e.relatedTarget);return n&&i}destroy(){super.destroy()}},qZ=class extends K{constructor(e,t){super(),this.cellCtrl=e,this.beans=t,this.column=e.column,this.rowNode=e.rowNode}setupRowSpan(){this.rowSpan=this.column.getRowSpan(this.rowNode),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:()=>this.onNewColumnsLoaded()})}init(){this.eSetLeft=this.cellCtrl.getRootElement(),this.eContent=this.cellCtrl.eGui;const e=this.cellCtrl.getCellSpan();e||(this.setupColSpan(),this.setupRowSpan()),this.onLeftChanged(),this.onWidthChanged(),e||this._legacyApplyRowSpan(),e&&(this.refreshSpanHeight(e),this.addManagedListeners(this.beans.eventSvc,{paginationChanged:this.refreshSpanHeight.bind(this,e),recalculateRowBounds:this.refreshSpanHeight.bind(this,e)}))}refreshSpanHeight(e){const t=e.getCellHeight();t!=null&&(this.eContent.style.height=`${t}px`)}onNewColumnsLoaded(){const e=this.column.getRowSpan(this.rowNode);this.rowSpan!==e&&(this.rowSpan=e,this._legacyApplyRowSpan(!0))}onDisplayColumnsChanged(){const e=this.getColSpanningList();bl(this.colsSpanning,e)||(this.colsSpanning=e,this.onWidthChanged(),this.onLeftChanged())}setupColSpan(){this.column.getColDef().colSpan!=null&&(this.colsSpanning=this.getColSpanningList(),this.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onWidthChanged.bind(this)}))}onWidthChanged(){if(!this.eContent)return;const e=this.getCellWidth();this.eContent.style.width=`${e}px`}getCellWidth(){return this.colsSpanning?this.colsSpanning.reduce((e,t)=>e+t.getActualWidth(),0):this.column.getActualWidth()}getColSpanningList(){const{column:e,rowNode:t}=this,n=e.getColSpan(t),i=[];if(n===1)i.push(e);else{let r=e;const o=e.getPinned();for(let s=0;r&&s<n&&(i.push(r),r=this.beans.visibleCols.getColAfter(r),!(!r||Bt(r)||o!==r.getPinned()));s++);}return i}onLeftChanged(){if(!this.eSetLeft)return;const e=this.modifyLeftForPrintLayout(this.getCellLeft());this.eSetLeft.style.left=e+"px"}getCellLeft(){let e;return this.beans.gos.get("enableRtl")&&this.colsSpanning?e=wt(this.colsSpanning):e=this.column,e.getLeft()}modifyLeftForPrintLayout(e){if(!this.cellCtrl.printLayout||this.column.getPinned()==="left")return e;const{visibleCols:t}=this.beans,n=t.getColsLeftWidth();if(this.column.getPinned()==="right"){const i=t.bodyWidth;return n+i+(e||0)}return n+(e||0)}_legacyApplyRowSpan(e){if(this.rowSpan===1&&!e)return;const n=Ya(this.beans)*this.rowSpan;this.eContent.style.height=`${n}px`,this.eContent.style.zIndex="1"}destroy(){super.destroy()}},KZ="ag-cell",YZ="ag-cell-auto-height",XZ="ag-cell-normal-height",JZ="ag-cell-focus",ZZ="ag-cell-first-right-pinned",QZ="ag-cell-last-left-pinned",eQ="ag-cell-not-inline-editing",tQ="ag-cell-wrap-text",c0="cellCtrl";function R5(e,t){return r5(e,t,c0)}var nQ=0,$c=class extends K{constructor(e,t,n,i){super(),this.column=e,this.rowNode=t,this.rowCtrl=i,this.rangeFeature=void 0,this.positionFeature=void 0,this.customStyleFeature=void 0,this.tooltipFeature=void 0,this.mouseListener=void 0,this.keyboardListener=void 0,this.suppressRefreshCell=!1,this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.focusEventWhileNotReady=null,this.hasBeenFocused=!1,this.beans=n;const{colId:r,colIdSanitised:o}=e;this.instanceId=r+"-"+nQ++,this.colIdSanitised=o,this.createCellPosition(),this.updateAndFormatValue(!1)}addFeatures(){var i;const{beans:e}=this;this.positionFeature=new qZ(this,e),this.customStyleFeature=(i=e.cellStyles)==null?void 0:i.createCellCustomStyleFeature(this,e),this.mouseListener=new jZ(this,e,this.column),this.keyboardListener=new UZ(this,e,this.rowNode,this.rowCtrl),this.column.isTooltipEnabled()&&this.enableTooltipFeature();const{rangeSvc:t}=e;t&&ps(e.gos)&&(this.rangeFeature=t.createCellRangeFeature(e,this))}isCellSpanning(){return!1}getCellSpan(){}removeFeatures(){const e=this.beans.context;this.positionFeature=e.destroyBean(this.positionFeature),this.customStyleFeature=e.destroyBean(this.customStyleFeature),this.mouseListener=e.destroyBean(this.mouseListener),this.keyboardListener=e.destroyBean(this.keyboardListener),this.rangeFeature=e.destroyBean(this.rangeFeature),this.disableTooltipFeature()}enableTooltipFeature(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.enableCellTooltipFeature(this,e,t)}disableTooltipFeature(){this.tooltipFeature=this.beans.context.destroyBean(this.tooltipFeature)}setComp(e,t,n,i,r,o,s){var a,l,u,c,d,h;this.comp=e,this.eGui=t,this.printLayout=r,s??(s=this),this.addDomData(s),this.addFeatures(),s.addDestroyFunc(()=>this.removeFeatures()),this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.setupFocus(),this.applyStaticCssClasses(),this.setWrapText(),this.onFirstRightPinnedChanged(),this.onLastLeftPinnedChanged(),this.onColumnHover(),this.setupControlComps(),this.setupAutoHeight(i,s),this.refreshFirstAndLastStyles(),this.refreshAriaColIndex(),(a=this.positionFeature)==null||a.init(),(l=this.customStyleFeature)==null||l.setComp(e),(u=this.tooltipFeature)==null||u.refreshTooltip(),(c=this.keyboardListener)==null||c.init(),(d=this.rangeFeature)==null||d.setComp(e),o&&this.isCellEditable()?(h=this.beans.editSvc)==null||h.startEditing(this):this.showValue(!1,!0),this.onCompAttachedFuncs.length&&(this.onCompAttachedFuncs.forEach(p=>p()),this.onCompAttachedFuncs=[])}setupAutoHeight(e,t){var n;this.isAutoHeight=((n=this.beans.rowAutoHeight)==null?void 0:n.setupCellAutoHeight(this,e,t))??!1}getCellAriaRole(){return this.column.getColDef().cellAriaRole??"gridcell"}isCellRenderer(){const e=this.column.getColDef();return e.cellRenderer!=null||e.cellRendererSelector!=null}getValueToDisplay(){return this.valueFormatted??this.value}showValue(e,t){var d,h;const{beans:n,column:i,rowNode:r,rangeFeature:o}=this,{userCompFactory:s}=n,a=this.getValueToDisplay();let l;const u=r.stub&&((d=r.groupData)==null?void 0:d[i.getId()])==null,c=i.getColDef();if(u||this.isCellRenderer()){const p=this.createCellRendererParams();!u||Au(i)?l=P4(s,c,p):l=mZ(s,c,p)}if(!l&&!u&&((h=n.findSvc)!=null&&h.isMatch(r,i))){const p=this.createCellRendererParams();l=P4(s,{...i.getColDef(),cellRenderer:"agFindCellRenderer"},p)}this.comp.setRenderDetails(l,a,e),!t&&o&&ys(n,()=>o==null?void 0:o.refreshHandle())}setupControlComps(){const e=this.column.getColDef();this.includeSelection=this.isIncludeControl(this.isCheckboxSelection(e)),this.includeRowDrag=this.isIncludeControl(e.rowDrag),this.includeDndSource=this.isIncludeControl(e.dndSource),this.comp.setIncludeSelection(this.includeSelection),this.comp.setIncludeDndSource(this.includeDndSource),this.comp.setIncludeRowDrag(this.includeRowDrag)}isForceWrapper(){return this.beans.gos.get("enableCellTextSelection")||this.column.isAutoHeight()}isIncludeControl(e){return this.rowNode.rowPinned!=null?!1:typeof e=="function"||e===!0}isCheckboxSelection(e){const{rowSelection:t,groupDisplayType:n}=this.beans.gridOptions,i=n0(t),r=fs(this.column);return n==="custom"&&i!=="selectionColumn"&&r?!1:e.checkboxSelection||r&&typeof t=="object"&&Ql(t)}refreshShouldDestroy(){const e=this.column.getColDef(),t=this.includeSelection!=this.isIncludeControl(this.isCheckboxSelection(e)),n=this.includeRowDrag!=this.isIncludeControl(e.rowDrag),i=this.includeDndSource!=this.isIncludeControl(e.dndSource),r=this.isAutoHeight!=this.column.isAutoHeight();return t||n||i||r}onPopupEditorClosed(){var e;this.editing&&((e=this.beans.editSvc)==null||e.stopRowOrCellEdit(this))}stopEditing(e=!1){var t;return((t=this.beans.editSvc)==null?void 0:t.stopEditing(this,e))??!1}createCellRendererParams(){const{value:e,valueFormatted:t,column:n,rowNode:i,comp:r,eGui:o,beans:{valueSvc:s,gos:a}}=this;return Le(a,{value:e,valueFormatted:t,getValue:()=>s.getValueForDisplay(n,i),setValue:u=>s.setValue(i,n,u),formatValue:this.formatValue.bind(this),data:i.data,node:i,pinned:n.getPinned(),colDef:n.getColDef(),column:n,refreshCell:this.refreshCell.bind(this),eGridCell:o,eParentOfValue:r.getParentOfValue(),registerRowDragger:(u,c,d,h)=>this.registerRowDragger(u,c,h),setTooltip:(u,c)=>{var d;a.assertModuleRegistered("Tooltip",3),this.tooltipFeature&&this.disableTooltipFeature(),this.enableTooltipFeature(u,c),(d=this.tooltipFeature)==null||d.refreshTooltip()}})}onCellChanged(e){e.column===this.column&&this.refreshCell({})}refreshOrDestroyCell(e){var t;this.refreshShouldDestroy()?(t=this.rowCtrl)==null||t.recreateCell(this):this.refreshCell(e)}refreshCell(e){var u,c,d,h,p,f;if(this.suppressRefreshCell||this.editing)return;const t=this.column.getColDef(),n=e!=null&&!!e.newData,i=e!=null&&!!e.suppressFlash,r=t.field==null&&t.valueGetter==null&&t.showRowGroup==null,o=e&&e.forceRefresh||r||n,s=!!this.comp,a=this.updateAndFormatValue(s),l=o||a;if(s){if(l){this.showValue(n,!1);const g=(u=this.beans.filterManager)==null?void 0:u.isSuppressFlashingCellsBecauseFiltering();!i&&!g&&t.enableCellChangeFlash&&((c=this.beans.cellFlashSvc)==null||c.flashCell(this)),(d=this.customStyleFeature)==null||d.applyUserStyles(),(h=this.customStyleFeature)==null||h.applyClassesFromColDef()}(p=this.tooltipFeature)==null||p.refreshTooltip(),(f=this.customStyleFeature)==null||f.applyCellClassRules()}}isCellEditable(){return this.column.isCellEditable(this.rowNode)}formatValue(e){return this.callValueFormatter(e)??e}callValueFormatter(e){return this.beans.valueSvc.formatValue(this.column,this.rowNode,e)}updateAndFormatValue(e){const t=this.value,n=this.valueFormatted;return this.value=this.beans.valueSvc.getValueForDisplay(this.column,this.rowNode),this.valueFormatted=this.callValueFormatter(this.value),e?!this.valuesAreEqual(t,this.value)||this.valueFormatted!=n:!0}valuesAreEqual(e,t){const n=this.column.getColDef();return n.equals?n.equals(e,t):e===t}addDomData(e){const t=this.eGui;hl(this.beans.gos,t,c0,this),e.addDestroyFunc(()=>hl(this.beans.gos,t,c0,null))}createEvent(e,t){const{rowNode:n,column:i,value:r,beans:o}=this;return Le(o.gos,{type:t,node:n,data:n.data,value:r,column:i,colDef:i.getColDef(),rowPinned:n.rowPinned,event:e,rowIndex:n.rowIndex})}processCharacter(e){var t;(t=this.keyboardListener)==null||t.processCharacter(e)}onKeyDown(e){var t;(t=this.keyboardListener)==null||t.onKeyDown(e)}onMouseEvent(e,t){var n;(n=this.mouseListener)==null||n.onMouseEvent(e,t)}getColSpanningList(){return this.positionFeature.getColSpanningList()}onLeftChanged(){var e;this.comp&&((e=this.positionFeature)==null||e.onLeftChanged())}onDisplayedColumnsChanged(){this.eGui&&(this.refreshAriaColIndex(),this.refreshFirstAndLastStyles())}refreshFirstAndLastStyles(){const{comp:e,column:t,beans:n}=this;T5(e,t,n.visibleCols)}refreshAriaColIndex(){const e=this.beans.visibleCols.getAriaColIndex(this.column);MA(this.eGui,e)}onWidthChanged(){var e;return(e=this.positionFeature)==null?void 0:e.onWidthChanged()}getRowPosition(){const{rowIndex:e,rowPinned:t}=this.cellPosition;return{rowIndex:e,rowPinned:t}}updateRangeBordersIfRangeCount(){var e;this.comp&&((e=this.rangeFeature)==null||e.updateRangeBordersIfRangeCount())}onCellSelectionChanged(){var e;this.comp&&((e=this.rangeFeature)==null||e.onCellSelectionChanged())}isRangeSelectionEnabled(){return this.rangeFeature!=null}focusCell(e=!1){this.beans.focusSvc.setFocusedCell({...this.getFocusedCellPosition(),forceBrowserFocus:e})}restoreFocus(e=!1){if(!this.comp||this.editing||!this.isCellFocused()||!this.beans.focusSvc.shouldTakeFocus())return;const t=()=>{if(!this.isAlive())return;const n=this.comp.getFocusableElement();this.isCellFocused()&&n.focus({preventScroll:!0})};if(e){setTimeout(t,0);return}t()}onRowIndexChanged(){var e;this.createCellPosition(),this.onCellFocused(),this.restoreFocus(),(e=this.rangeFeature)==null||e.onCellSelectionChanged()}onSuppressCellFocusChanged(e){const t=this.eGui;t&&(Au(this.column)&&(e=!0),Er(t,"tabindex",e?void 0:-1))}onFirstRightPinnedChanged(){if(!this.comp)return;const e=this.column.isFirstRightPinned();this.comp.addOrRemoveCssClass(ZZ,e)}onLastLeftPinnedChanged(){if(!this.comp)return;const e=this.column.isLastLeftPinned();this.comp.addOrRemoveCssClass(QZ,e)}checkCellFocused(){return this.beans.focusSvc.isCellFocused(this.cellPosition)}isCellFocused(){const e=this.checkCellFocused();return this.hasBeenFocused||(this.hasBeenFocused=e),e}setupFocus(){this.restoreFocus(!0),this.onCellFocused(this.focusEventWhileNotReady??void 0)}onCellFocused(e){var r;const{beans:t}=this;if(Eg(t))return;if(!this.comp){e&&(this.focusEventWhileNotReady=e);return}const n=this.isCellFocused();if(this.comp.addOrRemoveCssClass(JZ,n),n&&e&&e.forceBrowserFocus){let o=this.comp.getFocusableElement();if(this.editing){const s=nu(o,null,!0);s.length&&(o=s[0])}o.focus({preventScroll:!!e.preventScrollOnBrowserFocus})}const i=t.gos.get("editType")==="fullRow";!n&&!i&&this.editing&&((r=t.editSvc)==null||r.stopRowOrCellEdit(this)),n&&this.rowCtrl.announceDescription()}createCellPosition(){const{rowIndex:e,rowPinned:t}=this.rowNode;this.cellPosition={rowIndex:e,rowPinned:ns(t),column:this.column}}setInlineEditingCss(){var e;(e=this.beans.editSvc)==null||e.setInlineEditingCss(this.rowCtrl)}applyStaticCssClasses(){const{comp:e}=this;e.addOrRemoveCssClass(KZ,!0),e.addOrRemoveCssClass(eQ,!0);const t=this.column.isAutoHeight()==!0;e.addOrRemoveCssClass(YZ,t),e.addOrRemoveCssClass(XZ,!t)}onColumnHover(){var e;(e=this.beans.colHover)==null||e.onCellColumnHover(this.column,this.comp)}onColDefChanged(){var e;this.comp&&(this.column.isTooltipEnabled()?(this.disableTooltipFeature(),this.enableTooltipFeature()):this.disableTooltipFeature(),this.setWrapText(),this.editing?(e=this.beans.editSvc)==null||e.handleColDefChanged(this):this.refreshOrDestroyCell({forceRefresh:!0,suppressFlash:!0}))}setWrapText(){const e=this.column.getColDef().wrapText==!0;this.comp.addOrRemoveCssClass(tQ,e)}dispatchCellContextMenuEvent(e){const t=this.column.getColDef(),n=this.createEvent(e,"cellContextMenu"),{beans:i}=this;i.eventSvc.dispatchEvent(n),t.onCellContextMenu&&window.setTimeout(()=>{i.frameworkOverrides.wrapOutgoing(()=>{t.onCellContextMenu(n)})},0)}getCellRenderer(){var e;return((e=this.comp)==null?void 0:e.getCellRenderer())??null}destroy(){this.onCompAttachedFuncs=[],this.onEditorAttachedFuncs=[],this.isCellFocused()&&this.hasBrowserFocus()&&this.beans.focusSvc.attemptToRecoverFocus(),super.destroy()}hasBrowserFocus(){var e;return((e=this.eGui)==null?void 0:e.contains(Gt(this.beans)))??!1}createSelectionCheckbox(){var t;const e=(t=this.beans.selectionSvc)==null?void 0:t.createCheckboxSelectionComponent();if(e)return this.beans.context.createBean(e),e.init({rowNode:this.rowNode,column:this.column}),e}createDndSource(){const e=this.beans.registry.createDynamicBean("dndSourceComp",!1,this.rowNode,this.column,this.eGui);return e&&this.beans.context.createBean(e),e}registerRowDragger(e,t,n){if(this.customRowDragComp){this.customRowDragComp.setDragElement(e,t);return}const i=this.createRowDragComp(e,t,n);i&&(this.customRowDragComp=i,this.addDestroyFunc(()=>{this.beans.context.destroyBean(i),this.customRowDragComp=null}))}createRowDragComp(e,t,n){var r;const i=(r=this.beans.rowDragSvc)==null?void 0:r.createRowDragCompForCell(this.rowNode,this.column,()=>this.value,e,t,n);if(i)return this.beans.context.createBean(i),i}cellEditorAttached(){this.onEditorAttachedFuncs.forEach(e=>e()),this.onEditorAttachedFuncs=[]}setFocusedCellPosition(e){}getFocusedCellPosition(){return this.cellPosition}refreshAriaRowIndex(){}getRootElement(){return this.eGui}},D5="__ag_grid_instance";function M5(e,t){t[D5]=e.gridInstanceId}function Pd(e,t){return P5(e,t.target)}function P5(e,t){let n=t;for(;n;){const i=n[D5];if(ue(i))return i===e.gridInstanceId;n=n.parentElement}return!1}function iQ(e,t){var n;return((n=R5(e,t.target))==null?void 0:n.getFocusedCellPosition())??null}function dv(e,t){const n=Xn(e.gos,"normal"),i=t;let r,o;if(i.clientX!=null||i.clientY!=null?(r=i.clientX,o=i.clientY):(r=i.x,o=i.y),n){const s=e.ctrlsSvc.getScrollFeature(),a=s.getVScrollPosition(),l=s.getHScrollPosition();r+=l.left,o+=a.top}return{x:r,y:o}}var rQ=class extends K{constructor(){super(...arguments),this.beanName="dragAndDrop",this.dragSourceAndParamsList=[],this.dropTargets=[]}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.dragSvc=e.dragSvc,this.environment=e.environment,this.userCompFactory=e.userCompFactory}addDragSource(e,t=!1){const n={eElement:e.eElement,dragStartPixels:e.dragStartPixels,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this),onDragging:this.onDragging.bind(this),onDragCancel:this.onDragCancel.bind(this),includeTouch:t};this.dragSourceAndParamsList.push({params:n,dragSource:e}),this.dragSvc.addDragSource(n)}getDragAndDropImageComponent(){const{dragAndDropImageComp:e}=this;return!e||!e.comp?null:e.comp}removeDragSource(e){const{dragSourceAndParamsList:t,dragSvc:n}=this,i=t.find(r=>r.dragSource===e);i&&(n.removeDragSource(i.params),Ur(t,i))}destroy(){const{dragSourceAndParamsList:e,dragSvc:t,dropTargets:n}=this;e.forEach(i=>t.removeDragSource(i.params)),e.length=0,n.length=0,this.clearDragAndDropProperties(),super.destroy()}nudge(){this.dragging&&this.onDragging(this.eventLastTime,!0)}onDragStart(e,t){var n;this.dragging=!0,this.dragSource=e,this.eventLastTime=t,this.dragItem=e.getDragItem(),(n=e.onDragStarted)==null||n.call(e),this.createDragAndDropImageComponent()}onDragStop(e){var n,i;(i=(n=this.dragSource)==null?void 0:n.onDragStopped)==null||i.call(n);const{lastDropTarget:t}=this;if(t!=null&&t.onDragStop){const r=this.createDropTargetEvent(t,e,null,null,!1);t.onDragStop(r)}this.clearDragAndDropProperties()}onDragCancel(){var n;const{dragSource:e,lastDropTarget:t}=this;(n=e==null?void 0:e.onDragCancelled)==null||n.call(e),t!=null&&t.onDragCancel&&t.onDragCancel(this.createDropTargetEvent(t,this.eventLastTime,null,null,!1)),this.clearDragAndDropProperties()}clearDragAndDropProperties(){this.eventLastTime=null,this.dragging=!1,this.lastDropTarget=void 0,this.dragItem=null,this.dragSource=null,this.removeDragAndDropImageComponent()}onDragging(e,t=!1){var c,d;const n=this.getHorizontalDirection(e),i=this.getVerticalDirection(e);this.eventLastTime=e,this.positionDragAndDropImageComp(e);const r=this.dropTargets.filter(h=>this.isMouseOnDropTarget(e,h)),o=this.findCurrentDropTarget(e,r),{lastDropTarget:s,dragSource:a,dragAndDropImageComp:l,dragItem:u}=this;if(o!==s){if(this.leaveLastTargetIfExists(e,n,i,t),s!==null&&o===null&&((c=a==null?void 0:a.onGridExit)==null||c.call(a,u)),s===null&&o!==null&&((d=a==null?void 0:a.onGridEnter)==null||d.call(a,u)),this.enterDragTargetIfExists(o,e,n,i,t),o&&l){const{comp:h,promise:p}=l;h?h.setIcon(o.getIconName?o.getIconName():null,!1):p.then(f=>{f&&f.setIcon(o.getIconName?o.getIconName():null,!1)})}this.lastDropTarget=o}else if(o&&o.onDragging){const h=this.createDropTargetEvent(o,e,n,i,t);o.onDragging(h)}}getAllContainersFromDropTarget(e){const t=e.getSecondaryContainers?e.getSecondaryContainers():null,n=[[e.getContainer()]];return t?n.concat(t):n}isMouseOnDropTarget(e,t){const n=this.getAllContainersFromDropTarget(t);let i=!1;const r=(a,l)=>{for(const u of l){const{width:c,height:d,left:h,right:p,top:f,bottom:g}=u.getBoundingClientRect();if(c===0||d===0)return!1;const m=a.clientX>=h&&a.clientX<p,v=a.clientY>=f&&a.clientY<g;if(!m||!v)return!1}return!0};for(const a of n)if(r(e,a)){i=!0;break}const{eElement:o,type:s}=this.dragSource;return t.targetContainsSource&&!t.getContainer().contains(o)?!1:i&&t.isInterestedIn(s,o)}findCurrentDropTarget(e,t){const n=t.length;if(n===0)return null;if(n===1)return t[0];const r=Fd(this.beans).elementsFromPoint(e.clientX,e.clientY);for(const o of r)for(const s of t)if(this.getAllContainersFromDropTarget(s).flatMap(l=>l).indexOf(o)!==-1)return s;return null}enterDragTargetIfExists(e,t,n,i,r){if(e&&e.onDragEnter){const o=this.createDropTargetEvent(e,t,n,i,r);e.onDragEnter(o)}}leaveLastTargetIfExists(e,t,n,i){const{lastDropTarget:r}=this;if(!r)return;if(r.onDragLeave){const s=this.createDropTargetEvent(r,e,t,n,i);r.onDragLeave(s)}const o=this.getDragAndDropImageComponent();o&&o.setIcon(null,!1)}addDropTarget(e){this.dropTargets.push(e)}removeDropTarget(e){this.dropTargets=this.dropTargets.filter(t=>t.getContainer()!==e.getContainer())}hasExternalDropZones(){return this.dropTargets.some(e=>e.external)}findExternalZone(e){return this.dropTargets.filter(n=>n.external).find(n=>n.getContainer()===e.getContainer())||null}isDropZoneWithinThisGrid(e){const n=this.ctrlsSvc.getGridBodyCtrl().eGridBody,{dropZoneTarget:i}=e;return n.contains(i)}getHorizontalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientX,n=e.clientX;return t===n?null:t>n?"left":"right"}getVerticalDirection(e){var i;const t=(i=this.eventLastTime)==null?void 0:i.clientY,n=e.clientY;return t===n?null:t>n?"up":"down"}createDropTargetEvent(e,t,n,i,r){const o=e.getContainer(),s=o.getBoundingClientRect(),{dragItem:a,dragSource:l,gos:u}=this,c=t.clientX-s.left,d=t.clientY-s.top;return Le(u,{event:t,x:c,y:d,vDirection:i,hDirection:n,dragSource:l,fromNudge:r,dragItem:a,dropZoneTarget:o})}positionDragAndDropImageComp(e){const t=this.getDragAndDropImageComponent();t&&XX(t.getGui(),e,this.beans)}removeDragAndDropImageComponent(){var t;const{dragAndDropImageComp:e}=this;if(e){const{comp:n}=e;if(n){const i=n.getGui();(t=this.dragAndDropImageParent)==null||t.removeChild(i),this.destroyBean(n)}}this.dragAndDropImageComp=null}createDragAndDropImageComponent(){const{dragSource:e,gos:t,userCompFactory:n}=this;if(!e)return;const i=aZ(n,Le(t,{dragSource:e}));if(!i)return;const r=i.newAgStackInstance();this.dragAndDropImageComp={promise:r},r.then(o=>{!o||!this.isAlive()||(this.processDragAndDropImageComponent(o),this.dragAndDropImageComp.comp=o)})}processDragAndDropImageComponent(e){const{dragSource:t,environment:n}=this;if(!t)return;const i=e.getGui();i.style.setProperty("position","absolute"),i.style.setProperty("z-index","9999"),M5(this.gos,i),n.applyThemeClasses(i),e.setIcon(null,!1);let{dragItemName:r}=t;typeof r=="function"&&(r=r()),e.setLabel(r||""),i.style.top="20px",i.style.left="20px";const o=jy(this.beans);this.dragAndDropImageParent=o,o?o.appendChild(i):ie(54)}registerGridDropTarget(e,t){const n={getContainer:e,isInterestedIn:i=>i===1||i===0,getIconName:()=>"notAllowed"};this.addDropTarget(n),t.addDestroyFunc(()=>this.removeDropTarget(n))}},oQ=class{constructor(e){this.tickingInterval=null,this.onScrollCallback=null,this.scrollContainer=e.scrollContainer,this.scrollHorizontally=e.scrollAxis.indexOf("x")!==-1,this.scrollVertically=e.scrollAxis.indexOf("y")!==-1,this.scrollByTick=e.scrollByTick!=null?e.scrollByTick:20,e.onScrollCallback&&(this.onScrollCallback=e.onScrollCallback),this.scrollVertically&&(this.getVerticalPosition=e.getVerticalPosition,this.setVerticalPosition=e.setVerticalPosition),this.scrollHorizontally&&(this.getHorizontalPosition=e.getHorizontalPosition,this.setHorizontalPosition=e.setHorizontalPosition),this.shouldSkipVerticalScroll=e.shouldSkipVerticalScroll||(()=>!1),this.shouldSkipHorizontalScroll=e.shouldSkipHorizontalScroll||(()=>!1)}check(e,t=!1){const n=t||this.shouldSkipVerticalScroll();if(n&&this.shouldSkipHorizontalScroll())return;const i=this.scrollContainer.getBoundingClientRect(),r=this.scrollByTick;this.tickLeft=e.clientX<i.left+r,this.tickRight=e.clientX>i.right-r,this.tickUp=e.clientY<i.top+r&&!n,this.tickDown=e.clientY>i.bottom-r&&!n,this.tickLeft||this.tickRight||this.tickUp||this.tickDown?this.ensureTickingStarted():this.ensureCleared()}ensureTickingStarted(){this.tickingInterval===null&&(this.tickingInterval=window.setInterval(this.doTick.bind(this),100),this.tickCount=0)}doTick(){this.tickCount++;const e=this.tickCount>20?200:this.tickCount>10?80:40;if(this.scrollVertically){const t=this.getVerticalPosition();this.tickUp&&this.setVerticalPosition(t-e),this.tickDown&&this.setVerticalPosition(t+e)}if(this.scrollHorizontally){const t=this.getHorizontalPosition();this.tickLeft&&this.setHorizontalPosition(t-e),this.tickRight&&this.setHorizontalPosition(t+e)}this.onScrollCallback&&this.onScrollCallback()}ensureCleared(){this.tickingInterval&&(window.clearInterval(this.tickingInterval),this.tickingInterval=null)}};function sQ(e){const{rowIndex:t,rowPinned:n,column:i}=e;return`${t}.${n??"null"}.${i.getId()}`}function I5(e,t){const n=e.column===t.column,i=e.rowPinned===t.rowPinned,r=e.rowIndex===t.rowIndex;return n&&i&&r}function aQ(e,t){switch(e.rowPinned){case"top":if(t.rowPinned!=="top")return!0;break;case"bottom":if(t.rowPinned!=="bottom")return!1;break;default:if(ue(t.rowPinned))return t.rowPinned!=="top";break}return e.rowIndex<t.rowIndex}function lQ(e,t){return!e&&!t?!0:e&&!t||!e&&t?!1:e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned}function uQ(e){let t=0,n;const{pinnedRowModel:i,rowModel:r,pageBounds:o}=e;return i!=null&&i.getPinnedTopRowCount()?n="top":r.getRowCount()?(n=null,t=o.getFirstRow()):i!=null&&i.getPinnedBottomRowCount()&&(n="bottom"),n===void 0?null:{rowIndex:t,rowPinned:n}}function cQ(e){let t,n=null;const{pinnedRowModel:i,pageBounds:r}=e,o=i==null?void 0:i.getPinnedBottomRowCount(),s=i==null?void 0:i.getPinnedTopRowCount();return o?(n="bottom",t=o-1):e.rowModel.getRowCount()?(n=null,t=r.getLastRow()):s&&(n="top",t=s-1),t===void 0?null:{rowIndex:t,rowPinned:n}}function d0(e,t){var n,i;switch(t.rowPinned){case"top":return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t.rowIndex);case"bottom":return(i=e.pinnedRowModel)==null?void 0:i.getPinnedBottomRow(t.rowIndex);default:return e.rowModel.getRow(t.rowIndex)}}function $l(e,t){var r;const n=(r=e.spannedRowRenderer)==null?void 0:r.getCellByPosition(t);if(n)return n;const i=e.rowRenderer.getRowByPosition(t);return i?i.getCellCtrl(t.column):null}function h0(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(n===0)return i==="top"?null:i==="bottom"&&s.isRowsToRender()?{rowIndex:r.getLastRow(),rowPinned:null}:o!=null&&o.isRowsToRender("top")?{rowIndex:o.getPinnedTopRowCount()-1,rowPinned:"top"}:null;const a=i?void 0:s.getRow(n);return O5(e,a,!0)??{rowIndex:n-1,rowPinned:i}}function O4(e,t){const{rowIndex:n,rowPinned:i}=t,{pageBounds:r,pinnedRowModel:o,rowModel:s}=e;if(dQ(e,t))return i==="bottom"?null:i==="top"&&s.isRowsToRender()?{rowIndex:r.getFirstRow(),rowPinned:null}:o!=null&&o.isRowsToRender("bottom")?{rowIndex:0,rowPinned:"bottom"}:null;const a=i?void 0:s.getRow(n);return O5(e,a)??{rowIndex:n+1,rowPinned:i}}function O5(e,t,n){const{gos:i,rowRenderer:r}=e;if(!(t!=null&&t.sticky)||!QA(i))return;const o=n?r.getStickyTopRowCtrls():r.getStickyBottomRowCtrls();let s;for(let a=0;a<o.length;a++)if(o[a].rowNode.rowIndex===t.rowIndex){s=o[a+(n?-1:1)];break}return s?{rowIndex:s.rowNode.rowIndex,rowPinned:null}:void 0}function dQ(e,t){const{rowPinned:n,rowIndex:i}=t,{pinnedRowModel:r,pageBounds:o}=e;return n==="top"?((r==null?void 0:r.getPinnedTopRowCount())??0)-1<=i:n==="bottom"?((r==null?void 0:r.getPinnedBottomRowCount())??0)-1<=i:o.getLastRow()<=i}var hQ=class extends K{constructor(e){super(),this.eContainer=e}postConstruct(){const{rowModel:e,gos:t,ctrlsSvc:n}=this.beans;Ci(t)&&(this.clientSideRowModel=e),n.whenReady(this,i=>{const r=i.gridBodyCtrl;this.autoScrollService=new oQ({scrollContainer:r.eBodyViewport,scrollAxis:"y",getVerticalPosition:()=>r.scrollFeature.getVScrollPosition().top,setVerticalPosition:o=>r.scrollFeature.setVerticalScrollPosition(o),onScrollCallback:()=>{this.onDragging(this.lastDraggingEvent)}})})}getContainer(){return this.eContainer}isInterestedIn(e){return e===2}getIconName(){return this.gos.get("rowDragManaged")&&this.shouldPreventRowMove()?"notAllowed":"move"}shouldPreventRowMove(){const{rowGroupColsSvc:e,filterManager:t,sortSvc:n}=this.beans;return!!(((e==null?void 0:e.columns)??[]).length||(t==null?void 0:t.isAnyFilterPresent())||(n==null?void 0:n.isSortActive()))}getRowNodes(e){var i;if(!this.isFromThisGrid(e))return e.dragItem.rowNodes||[];const t=e.dragItem.rowNode;if(this.gos.get("rowDragMultiRow")){const r=[...((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[]].sort((o,s)=>o.rowIndex==null||s.rowIndex==null?0:this.getRowIndexNumber(o)-this.getRowIndexNumber(s));if(r.indexOf(t)!==-1)return r}return[t]}onDragEnter(e){e.dragItem.rowNodes=this.getRowNodes(e),this.dispatchGridEvent("rowDragEnter",e),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!0)}),this.onEnterOrDragging(e)}onDragging(e){this.onEnterOrDragging(e)}isFromThisGrid(e){const{dragSourceDomDataKey:t}=e.dragSource;return t===this.gos.getDomDataKey()}onEnterOrDragging(e){this.dispatchGridEvent("rowDragMove",e),this.lastDraggingEvent=e;const t=dv(this.beans,e).y;this.gos.get("rowDragManaged")&&this.doManagedDrag(e,t),this.autoScrollService.check(e.event)}doManagedDrag(e,t){const{dragAndDrop:n,gos:i}=this.beans,r=this.isFromThisGrid(e),o=i.get("rowDragManaged"),s=e.dragItem.rowNodes;o&&this.shouldPreventRowMove()||(i.get("suppressMoveWhenRowDragging")||!r?n.isDropZoneWithinThisGrid(e)&&this.clientSideRowModel.highlightRowAtPixel(s[0],t):this.moveRows(s,t))}getRowIndexNumber(e){const t=e.getRowIndexString();return parseInt(wt(t.split("-")),10)}moveRowAndClearHighlight(e){const t=this.clientSideRowModel,n=t.getLastHighlightedRowNode(),i=n&&n.highlighted==="Below",r=dv(this.beans,e).y,o=e.dragItem.rowNodes;let s=i?1:0;if(this.isFromThisGrid(e))o.forEach(a=>{a.rowTop<r&&(s-=1)}),this.moveRows(o,r,s);else{const a=Fu(this.gos);let l=t.getRowIndexAtPixel(r)+1;t.getHighlightPosition(r)==="Above"&&l--,t.updateRowData({add:o.filter(u=>!t.getRowNode((a==null?void 0:a({data:u.data,level:0,rowPinned:u.rowPinned}))??u.data.id)).map(u=>u.data),addIndex:l})}this.clearRowHighlight()}clearRowHighlight(){this.clientSideRowModel.highlightRowAtPixel(null)}moveRows(e,t,n=0){const i=this.beans.focusSvc,r=i.getFocusedCell(),o=r&&$l(this.beans,r);this.clientSideRowModel.ensureRowsAtPixel(e,t,n)&&(o?o.focusCell():i.clearFocusedCell())}addRowDropZone(e){if(!e.getContainer()){ie(55);return}const t=this.beans.dragAndDrop;if(t.findExternalZone(e)){ie(56);return}let n={getContainer:e.getContainer};e.fromGrid?n=e:(e.onDragEnter&&(n.onDragEnter=r=>{e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",r))}),e.onDragLeave&&(n.onDragLeave=r=>{e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",r))}),e.onDragging&&(n.onDragging=r=>{e.onDragging(this.draggingToRowDragEvent("rowDragMove",r))}),e.onDragStop&&(n.onDragStop=r=>{e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",r))}),e.onDragCancel&&(n.onDragCancel=r=>{e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",r))}));const i={isInterestedIn:r=>r===2,getIconName:()=>"move",external:!0,...n};t.addDropTarget(i),this.addDestroyFunc(()=>t.removeDropTarget(i))}getRowDropZone(e){const t=this.getContainer.bind(this),n=this.onDragEnter.bind(this),i=this.onDragLeave.bind(this),r=this.onDragging.bind(this),o=this.onDragStop.bind(this),s=this.onDragCancel.bind(this);let a;return e?a={getContainer:t,onDragEnter:e.onDragEnter?l=>{n(l),e.onDragEnter(this.draggingToRowDragEvent("rowDragEnter",l))}:n,onDragLeave:e.onDragLeave?l=>{i(l),e.onDragLeave(this.draggingToRowDragEvent("rowDragLeave",l))}:i,onDragging:e.onDragging?l=>{r(l),e.onDragging(this.draggingToRowDragEvent("rowDragMove",l))}:r,onDragStop:e.onDragStop?l=>{o(l),e.onDragStop(this.draggingToRowDragEvent("rowDragEnd",l))}:o,onDragCancel:e.onDragCancel?l=>{s(l),e.onDragCancel(this.draggingToRowDragEvent("rowDragCancel",l))}:s,fromGrid:!0}:a={getContainer:t,onDragEnter:n,onDragLeave:i,onDragging:r,onDragStop:o,onDragCancel:s,fromGrid:!0},a}draggingToRowDragEvent(e,t){const n=this.beans,{pageBounds:i,rowModel:r,gos:o}=n,s=dv(n,t).y,a=s>i.getCurrentPageHeight();let l=-1,u;return a||(l=r.getRowIndexAtPixel(s),u=r.getRow(l)),Le(o,{type:e,event:t.event,node:t.dragItem.rowNode,nodes:t.dragItem.rowNodes,overIndex:l,overNode:u,y:s,vDirection:t.vDirection})}dispatchGridEvent(e,t){const n=this.draggingToRowDragEvent(e,t);this.eventSvc.dispatchEvent(n)}onDragLeave(e){this.dispatchGridEvent("rowDragLeave",e),this.stopDragging(e),this.gos.get("rowDragManaged")&&this.clearRowHighlight()}onDragStop(e){this.dispatchGridEvent("rowDragEnd",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.moveRowAndClearHighlight(e)}onDragCancel(e){this.dispatchGridEvent("rowDragCancel",e),this.stopDragging(e);const{dragAndDrop:t,gos:n}=this.beans;n.get("rowDragManaged")&&(n.get("suppressMoveWhenRowDragging")||!this.isFromThisGrid(e))&&t.isDropZoneWithinThisGrid(e)&&this.clearRowHighlight()}stopDragging(e){this.autoScrollService.ensureCleared(),this.getRowNodes(e).forEach(t=>{this.setRowNodeDragging(t,!1)})}setRowNodeDragging(e,t){e.dragging!==t&&(e.dragging=t,e.dispatchRowEvent("draggingChanged"))}};function L5(e,t,n){if(n===0)return!1;const i=Math.abs(e.clientX-t.clientX),r=Math.abs(e.clientY-t.clientY);return Math.max(i,r)<=n}var pQ=class extends K{constructor(){super(...arguments),this.beanName="dragSvc",this.dragEndFunctions=[],this.dragSources=[]}destroy(){const{dragSources:e}=this;e.forEach(this.removeListener.bind(this)),e.length=0,super.destroy()}removeListener(e){const t=e.dragSource.eElement,n=e.mouseDownListener;if(t.removeEventListener("mousedown",n),e.touchEnabled){const i=e.touchStartListener;t.removeEventListener("touchstart",i,{passive:!0})}}removeDragSource(e){const{dragSources:t}=this,n=t.find(i=>i.dragSource===e);n&&(this.removeListener(n),Ur(t,n))}addDragSource(e){const t=this.onMouseDown.bind(this,e),{eElement:n,includeTouch:i,stopPropagationForTouch:r}=e;n.addEventListener("mousedown",t);let o=null;const s=this.gos.get("suppressTouch");i&&!s&&(o=a=>{_y(a.target)||(r&&a.stopPropagation(),this.onTouchStart(e,a))},n.addEventListener("touchstart",o,{passive:!1})),this.dragSources.push({dragSource:e,mouseDownListener:t,touchStartListener:o,touchEnabled:!!i})}onTouchStart(e,t){this.currentDragParams=e,this.dragging=!1;const n=t.touches[0];this.touchLastTime=n,this.touchStart=n;const i=l=>this.onTouchMove(l,e.eElement),r=l=>this.onTouchUp(l,e.eElement),o=l=>{l.cancelable&&l.preventDefault()},s=t.target,a=[{target:Fd(this.beans),type:"touchmove",listener:o,options:{passive:!1}},{target:s,type:"touchmove",listener:i,options:{passive:!0}},{target:s,type:"touchend",listener:r,options:{passive:!0}},{target:s,type:"touchcancel",listener:r,options:{passive:!0}}];this.addTemporaryEvents(a),e.dragStartPixels===0&&this.onCommonMove(n,this.touchStart,e.eElement)}onMouseDown(e,t){const n=t;if(e.skipMouseEvent&&e.skipMouseEvent(t)||n._alreadyProcessedByDragService||(n._alreadyProcessedByDragService=!0,t.button!==0))return;this.shouldPreventMouseEvent(t)&&t.preventDefault(),this.currentDragParams=e,this.dragging=!1,this.mouseStartEvent=t,this.startTarget=t.target;const i=u=>this.onMouseMove(u,e.eElement),r=u=>this.onMouseUp(u,e.eElement),o=u=>u.preventDefault(),s=u=>{u.key===j.ESCAPE&&this.cancelDrag(e.eElement)},a=Fd(this.beans),l=[{target:a,type:"mousemove",listener:i},{target:a,type:"mouseup",listener:r},{target:a,type:"contextmenu",listener:o},{target:a,type:"keydown",listener:s}];this.addTemporaryEvents(l),e.dragStartPixels===0&&this.onMouseMove(t,e.eElement)}addTemporaryEvents(e){e.forEach(t=>{const{target:n,type:i,listener:r,options:o}=t;n.addEventListener(i,r,o)}),this.dragEndFunctions.push(()=>{e.forEach(t=>{const{target:n,type:i,listener:r,options:o}=t;n.removeEventListener(i,r,o)})})}isEventNearStartEvent(e,t){const{dragStartPixels:n}=this.currentDragParams,i=ue(n)?n:4;return L5(e,t,i)}getFirstActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}onCommonMove(e,t,n){var i;if(!this.dragging){if(this.isEventNearStartEvent(e,t))return;if(this.dragging=!0,this.eventSvc.dispatchEvent({type:"dragStarted",target:n}),this.currentDragParams.onDragStart(t),!this.currentDragParams){this.dragging=!1;return}this.currentDragParams.onDragging(t)}(i=this.currentDragParams)==null||i.onDragging(e)}onTouchMove(e,t){const n=this.getFirstActiveTouch(e.touches);n&&this.onCommonMove(n,this.touchStart,t)}onMouseMove(e,t){var n;vl()&&((n=wn(this.beans).getSelection())==null||n.removeAllRanges()),this.shouldPreventMouseEvent(e)&&e.preventDefault(),this.onCommonMove(e,this.mouseStartEvent,t)}shouldPreventMouseEvent(e){const{gos:t}=this,n=t.get("enableCellTextSelection"),i=e.type==="mousemove",r=o=>{const s=o.target,a=s==null?void 0:s.tagName.toLocaleLowerCase();return!!(a!=null&&a.match("^a$|textarea|input|select|button"))};return n&&i&&e.cancelable&&Pd(t,e)&&!r(e)}onTouchUp(e,t){let n=this.getFirstActiveTouch(e.changedTouches);n||(n=this.touchLastTime),this.onUpCommon(n,t)}onMouseUp(e,t){this.onUpCommon(e,t)}onUpCommon(e,t){this.dragging&&(this.dragging=!1,this.currentDragParams.onDragStop(e),this.eventSvc.dispatchEvent({type:"dragStopped",target:t})),this.resetDragProperties()}cancelDrag(e){var t,n;this.eventSvc.dispatchEvent({type:"dragCancelled",target:e}),(n=(t=this.currentDragParams)==null?void 0:t.onDragCancel)==null||n.call(t),this.resetDragProperties()}resetDragProperties(){this.mouseStartEvent=null,this.startTarget=null,this.touchStart=null,this.touchLastTime=null,this.currentDragParams=null;const{dragEndFunctions:e}=this;e.forEach(t=>t()),e.length=0}};function N5(e,t){return e+"_"+t}function en(e){return e instanceof B5}var B5=class extends K{constructor(e,t,n,i){super(),this.providedColumnGroup=e,this.groupId=t,this.partId=n,this.pinned=i,this.isColumn=!1,this.displayedChildren=[],this.autoHeaderHeight=null,this.parent=null}reset(){this.parent=null,this.children=null,this.displayedChildren=null}getParent(){return this.parent}getUniqueId(){return N5(this.groupId,this.partId)}isEmptyGroup(){return this.displayedChildren.length===0}isMoving(){const e=this.getProvidedColumnGroup().getLeafColumns();return!e||e.length===0?!1:e.every(t=>t.isMoving())}checkLeft(){if(this.displayedChildren.forEach(e=>{en(e)&&e.checkLeft()}),this.displayedChildren.length>0)if(this.gos.get("enableRtl")){const t=wt(this.displayedChildren).getLeft();this.setLeft(t)}else{const e=this.displayedChildren[0].getLeft();this.setLeft(e)}else this.setLeft(null)}getLeft(){return this.left}getOldLeft(){return this.oldLeft}setLeft(e){this.oldLeft=this.left,this.left!==e&&(this.left=e,this.dispatchLocalEvent({type:"leftChanged"}))}getPinned(){return this.pinned}getGroupId(){return this.groupId}getPartId(){return this.partId}getActualWidth(){var t;let e=0;return(t=this.displayedChildren)==null||t.forEach(n=>{e+=n.getActualWidth()}),e}isResizable(){if(!this.displayedChildren)return!1;let e=!1;return this.displayedChildren.forEach(t=>{t.isResizable()&&(e=!0)}),e}getMinWidth(){let e=0;return this.displayedChildren.forEach(t=>{e+=t.getMinWidth()}),e}addChild(e){this.children||(this.children=[]),this.children.push(e)}getDisplayedChildren(){return this.displayedChildren}getLeafColumns(){const e=[];return this.addLeafColumns(e),e}getDisplayedLeafColumns(){const e=[];return this.addDisplayedLeafColumns(e),e}getDefinition(){return this.providedColumnGroup.getColGroupDef()}getColGroupDef(){return this.providedColumnGroup.getColGroupDef()}isPadding(){return this.providedColumnGroup.isPadding()}isExpandable(){return this.providedColumnGroup.isExpandable()}isExpanded(){return this.providedColumnGroup.isExpanded()}setExpanded(e){this.providedColumnGroup.setExpanded(e)}isAutoHeaderHeight(){var e;return!!((e=this.getColGroupDef())!=null&&e.autoHeaderHeight)}getAutoHeaderHeight(){return this.autoHeaderHeight}setAutoHeaderHeight(e){const t=e!==this.autoHeaderHeight;return this.autoHeaderHeight=e,t}addDisplayedLeafColumns(e){this.displayedChildren.forEach(t=>{da(t)?e.push(t):en(t)&&t.addDisplayedLeafColumns(e)})}addLeafColumns(e){this.children.forEach(t=>{da(t)?e.push(t):en(t)&&t.addLeafColumns(e)})}getChildren(){return this.children}getColumnGroupShow(){return this.providedColumnGroup.getColumnGroupShow()}getProvidedColumnGroup(){return this.providedColumnGroup}getPaddingLevel(){const e=this.getParent();return!this.isPadding()||!e||!e.isPadding()?0:1+e.getPaddingLevel()}calculateDisplayedColumns(){this.displayedChildren=[];let e=this;for(;e!=null&&e.isPadding();)e=e.getParent();if(!(e?e.getProvidedColumnGroup().isExpandable():!1)){this.displayedChildren=this.children,this.dispatchLocalEvent({type:"displayedChildrenChanged"});return}this.children.forEach(n=>{if(en(n)&&(!n.displayedChildren||!n.displayedChildren.length))return;switch(n.getColumnGroupShow()){case"open":e.getProvidedColumnGroup().isExpanded()&&this.displayedChildren.push(n);break;case"closed":e.getProvidedColumnGroup().isExpanded()||this.displayedChildren.push(n);break;default:this.displayedChildren.push(n);break}}),this.dispatchLocalEvent({type:"displayedChildrenChanged"})}},rC="row-group-",z5="t-",H5="b-",fQ=0,Mu=class{constructor(e){this.master=!1,this.detail=void 0,this.rowIndex=null,this.key=null,this.sourceRowIndex=-1,this.childrenMapped={},this.treeNode=null,this.treeNodeFlags=0,this.displayed=!1,this.rowTop=null,this.oldRowTop=null,this.selectable=!0,this.__objectId=fQ++,this.alreadyRendered=!1,this.highlighted=null,this.hovered=!1,this.__selected=!1,this.beans=e}setData(e){this.setDataCommon(e,!1)}updateData(e){this.setDataCommon(e,!0)}setDataCommon(e,t){var a;const{valueCache:n,selectionSvc:i,eventSvc:r}=this.beans,o=this.data;this.data=e,n==null||n.onDataChanged(),this.updateDataOnDetailNode(),i==null||i.updateRowSelectable(this),this.resetQuickFilterAggregateText();const s=this.createDataChangedEvent(e,o,t);(a=this.__localEventService)==null||a.dispatchEvent(s),r.dispatchEvent({type:"rowNodeDataChanged",node:this})}updateDataOnDetailNode(){this.detailNode&&(this.detailNode.data=this.data)}createDataChangedEvent(e,t,n){return{type:"dataChanged",node:this,oldData:t,newData:e,update:n}}getRowIndexString(){return this.rowIndex==null?(dt(13),null):this.rowPinned==="top"?z5+this.rowIndex:this.rowPinned==="bottom"?H5+this.rowIndex:this.rowIndex.toString()}setDataAndId(e,t){var s,a;const{selectionSvc:n}=this.beans,i=(s=n==null?void 0:n.createDaemonNode)==null?void 0:s.call(n,this),r=this.data;this.data=e,this.updateDataOnDetailNode(),this.setId(t),n&&(n.updateRowSelectable(this),n.syncInRowNode(this,i));const o=this.createDataChangedEvent(e,r,!1);(a=this.__localEventService)==null||a.dispatchEvent(o)}setId(e){var n;const t=Fu(this.beans.gos);if(t)if(this.data){const i=((n=this.parent)==null?void 0:n.getRoute())??[];this.id=t({data:this.data,parentKeys:i.length>0?i:void 0,level:this.level,rowPinned:this.rowPinned}),this.id.startsWith(rC)&&dt(14,{groupPrefix:rC})}else this.id=void 0;else this.id=e}setRowTop(e){this.oldRowTop=this.rowTop,this.rowTop!==e&&(this.rowTop=e,this.dispatchRowEvent("topChanged"),this.setDisplayed(e!==null))}clearRowTopAndRowIndex(){this.oldRowTop=null,this.setRowTop(null),this.setRowIndex(null)}setHovered(e){this.hovered=e}isHovered(){return this.hovered}setRowHeight(e,t=!1){this.rowHeight=e,this.rowHeightEstimated=t,this.dispatchRowEvent("heightChanged")}setExpanded(e,t,n){var i;(i=this.beans.expansionSvc)==null||i.setExpanded(this,e,t,n)}setDataValue(e,t,n){const{colModel:i,valueSvc:r,gos:o,selectionSvc:s}=this.beans,a=typeof e!="string"?e:i.getCol(e)??i.getColDefCol(e);if(!a)return!1;const l=r.getValueForDisplay(a,this);if(o.get("readOnlyEdit")){const{beans:{eventSvc:c},data:d,rowIndex:h,rowPinned:p}=this;return c.dispatchEvent({type:"cellEditRequest",event:null,rowIndex:h,rowPinned:p,column:a,colDef:a.colDef,data:d,node:this,oldValue:l,newValue:t,value:t,source:n}),!1}const u=r.setValue(this,a,t,n);return this.dispatchCellChangedEvent(a,t,l),s==null||s.updateRowSelectable(this),u}updateHasChildren(){let e=this.group&&!this.footer||this.childrenAfterGroup&&this.childrenAfterGroup.length>0;const{rowChildrenSvc:t}=this.beans;t&&(e=t.getHasChildrenValue(this)),e!==this.__hasChildren&&(this.__hasChildren=!!e,this.dispatchRowEvent("hasChildrenChanged"))}hasChildren(){return this.__hasChildren==null&&this.updateHasChildren(),this.__hasChildren}dispatchCellChangedEvent(e,t,n){var r;const i={type:"cellChanged",node:this,column:e,newValue:t,oldValue:n};(r=this.__localEventService)==null||r.dispatchEvent(i)}resetQuickFilterAggregateText(){this.quickFilterAggregateText=null}isExpandable(){var e;return((e=this.beans.expansionSvc)==null?void 0:e.isExpandable(this))??!1}isSelected(){return this.footer?this.sibling.isSelected():this.__selected}depthFirstSearch(e){var t;(t=this.childrenAfterGroup)==null||t.forEach(n=>n.depthFirstSearch(e)),e(this)}dispatchRowEvent(e){var t;(t=this.__localEventService)==null||t.dispatchEvent({type:e,node:this})}setSelected(e,t=!1,n="api"){var i;(i=this.beans.selectionSvc)==null||i.setNodesSelected({nodes:[this],newValue:e,clearSelection:t,source:n})}isRowPinned(){return!!this.rowPinned}__addEventListener(e,t){this.__localEventService||(this.__localEventService=new dl),this.__localEventService.addEventListener(e,t)}__removeEventListener(e,t){this.removeLocalListener(e,t)}addEventListener(e,t){var i,r,o,s;(i=this.beans.validation)==null||i.checkRowEvents(e),this.__localEventService||(this.__localEventService=new dl),this.frameworkEventListenerService=(o=(r=this.beans.frameworkOverrides).createLocalEventListenerWrapper)==null?void 0:o.call(r,this.frameworkEventListenerService,this.__localEventService);const n=((s=this.frameworkEventListenerService)==null?void 0:s.wrap(t))??t;this.__localEventService.addEventListener(e,n)}removeEventListener(e,t){var i;const n=((i=this.frameworkEventListenerService)==null?void 0:i.unwrap(t))??t;this.removeLocalListener(e,n)}removeLocalListener(e,t){var n,i;(n=this.__localEventService)==null||n.removeEventListener(e,t),(i=this.__localEventService)!=null&&i.noRegisteredListenersExist()&&(this.__localEventService=null)}isFullWidthCell(){if(ie(61),this.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this}):!1}getRoute(){if(this.level===-1)return[];if(this.key==null)return;const e=[];let t=this;for(;t&&t.key!=null;)e.push(t.key),t=t.parent;return e.reverse()}setFirstChild(e){this.firstChild!==e&&(this.firstChild=e,this.dispatchRowEvent("firstChildChanged"))}setDisplayed(e){this.displayed!==e&&(this.displayed=e,this.dispatchRowEvent("displayedChanged"))}setRowIndex(e){this.rowIndex!==e&&(this.rowIndex=e,this.dispatchRowEvent("rowIndexChanged"))}setAllChildrenCount(e){this.allChildrenCount!==e&&(this.allChildrenCount=e,this.dispatchRowEvent("allChildrenCountChanged"))}setUiLevel(e){this.uiLevel!==e&&(this.uiLevel=e,this.dispatchRowEvent("uiLevelChanged"))}};function gQ(e,t,n){return Le(t,{type:n,node:e,data:e.data,rowIndex:e.rowIndex,rowPinned:e.rowPinned})}var mQ={tag:"div",cls:"ag-filter"},vQ=class extends pt{constructor(e,t){super(mQ),this.column=e,this.source=t,this.filterWrapper=null}postConstruct(){this.createFilter(!0),this.addManagedEventListeners({filterDestroyed:this.onFilterDestroyed.bind(this)})}hasFilter(){return!!this.filterWrapper}getFilter(){var e;return((e=this.filterWrapper)==null?void 0:e.filterPromise)??null}afterInit(){var e,t;return((t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null?void 0:t.then(()=>{}))??bi.resolve()}afterGuiAttached(e){var t,n;(n=(t=this.filterWrapper)==null?void 0:t.filterPromise)==null||n.then(i=>{var r;(r=i==null?void 0:i.afterGuiAttached)==null||r.call(i,e)})}afterGuiDetached(){var e,t;(t=(e=this.filterWrapper)==null?void 0:e.filterPromise)==null||t.then(n=>{var i;(i=n==null?void 0:n.afterGuiDetached)==null||i.call(n)})}createFilter(e){var i,r;const{column:t,source:n}=this;this.filterWrapper=((i=this.beans.filterManager)==null?void 0:i.getOrCreateFilterWrapper(t))??null,(r=this.filterWrapper)!=null&&r.filterPromise&&this.filterWrapper.filterPromise.then(o=>{const s=o.getGui();ue(s)||ie(69,{guiFromFilter:s}),this.appendChild(s),e&&this.eventSvc.dispatchEvent({type:"filterOpened",column:t,source:n,eGui:this.getGui()})})}onFilterDestroyed(e){(e.source==="api"||e.source==="paramsUpdated")&&e.column.getId()===this.column.getId()&&this.beans.colModel.getColDefCol(this.column)&&(si(this.getGui()),this.createFilter())}destroy(){this.filterWrapper=null,super.destroy()}},V5="ag-resizer-wrapper",Fs=(e,t)=>({tag:"div",ref:`${e}Resizer`,cls:`ag-resizer ag-resizer-${t}`}),CQ={tag:"div",cls:V5,children:[Fs("eTopLeft","topLeft"),Fs("eTop","top"),Fs("eTopRight","topRight"),Fs("eRight","right"),Fs("eBottomRight","bottomRight"),Fs("eBottom","bottom"),Fs("eBottomLeft","bottomLeft"),Fs("eLeft","left")]},bQ=class extends K{constructor(e,t){super(),this.element=e,this.dragStartPosition={x:0,y:0},this.position={x:0,y:0},this.lastSize={width:-1,height:-1},this.positioned=!1,this.resizersAdded=!1,this.resizeListeners=[],this.boundaryEl=null,this.isResizing=!1,this.isMoving=!1,this.resizable={},this.movable=!1,this.currentResizer=null,this.config=Object.assign({},{popup:!1},t)}wireBeans(e){this.popupSvc=e.popupSvc,this.dragSvc=e.dragSvc}center(){const{clientHeight:e,clientWidth:t}=this.offsetParent,n=t/2-this.getWidth()/2,i=e/2-this.getHeight()/2;this.offsetElement(n,i)}initialisePosition(){if(this.positioned)return;const{centered:e,forcePopupParentAsOffsetParent:t,minWidth:n,width:i,minHeight:r,height:o,x:s,y:a}=this.config;this.offsetParent||this.setOffsetParent();let l=0,u=0;const c=$r(this.element);if(c){const d=this.findBoundaryElement(),h=window.getComputedStyle(d);if(h.minWidth!=null){const p=d.offsetWidth-this.element.offsetWidth;u=parseInt(h.minWidth,10)-p}if(h.minHeight!=null){const p=d.offsetHeight-this.element.offsetHeight;l=parseInt(h.minHeight,10)-p}}if(this.minHeight=r||l,this.minWidth=n||u,i&&this.setWidth(i),o&&this.setHeight(o),(!i||!o)&&this.refreshSize(),e)this.center();else if(s||a)this.offsetElement(s,a);else if(c&&t){let d=this.boundaryEl,h=!0;if(d||(d=this.findBoundaryElement(),h=!1),d){const p=parseFloat(d.style.top),f=parseFloat(d.style.left);h?this.offsetElement(isNaN(f)?0:f,isNaN(p)?0:p):this.setPosition(f,p)}}this.positioned=!!this.offsetParent}isPositioned(){return this.positioned}getPosition(){return this.position}setMovable(e,t){var i,r;if(!this.config.popup||e===this.movable)return;this.movable=e;const n=this.moveElementDragListener||{eElement:t,onDragStart:this.onMoveStart.bind(this),onDragging:this.onMove.bind(this),onDragStop:this.onMoveEnd.bind(this)};e?((i=this.dragSvc)==null||i.addDragSource(n),this.moveElementDragListener=n):((r=this.dragSvc)==null||r.removeDragSource(n),this.moveElementDragListener=void 0)}setResizable(e){if(this.clearResizeListeners(),e?this.addResizers():this.removeResizers(),typeof e=="boolean"){if(e===!1)return;e={topLeft:e,top:e,topRight:e,right:e,bottomRight:e,bottom:e,bottomLeft:e,left:e}}Object.keys(e).forEach(t=>{var s;const i=!!e[t],r=this.getResizerElement(t),o={dragStartPixels:0,eElement:r,onDragStart:a=>this.onResizeStart(a,t),onDragging:this.onResize.bind(this),onDragStop:a=>this.onResizeEnd(a,t)};(i||!this.isAlive()&&!i)&&(i?((s=this.dragSvc)==null||s.addDragSource(o),this.resizeListeners.push(o),r.style.pointerEvents="all"):r.style.pointerEvents="none",this.resizable[t]=i)})}removeSizeFromEl(){this.element.style.removeProperty("height"),this.element.style.removeProperty("width"),this.element.style.removeProperty("flex")}restoreLastSize(){this.element.style.flex="0 0 auto";const{height:e,width:t}=this.lastSize;t!==-1&&(this.element.style.width=`${t}px`),e!==-1&&(this.element.style.height=`${e}px`)}getHeight(){return this.element.offsetHeight}setHeight(e){const{popup:t}=this.config,n=this.element;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)_c(n,e),e=BA(n),i=!0;else if(e=Math.max(this.minHeight,e),this.positioned){const r=this.getAvailableHeight();r&&e>r&&(e=r)}this.getHeight()!==e&&(i?(n.style.maxHeight="unset",n.style.minHeight="unset"):t?_c(n,e):(n.style.height=`${e}px`,n.style.flex="0 0 auto",this.lastSize.height=typeof e=="number"?e:parseFloat(e)))}getAvailableHeight(){const{popup:e,forcePopupParentAsOffsetParent:t}=this.config;this.positioned||this.initialisePosition();const{clientHeight:n}=this.offsetParent;if(!n)return null;const i=this.element.getBoundingClientRect(),r=this.offsetParent.getBoundingClientRect(),o=e?this.position.y:i.top,s=e?0:r.top;let a=0;if(t){const u=this.element.parentElement;if(u){const{bottom:c}=u.getBoundingClientRect();a=c-i.bottom}}return n+s-o-a}getWidth(){return this.element.offsetWidth}setWidth(e){const t=this.element,{popup:n}=this.config;let i=!1;if(typeof e=="string"&&e.indexOf("%")!==-1)go(t,e),e=Jf(t),i=!0;else if(this.positioned){e=Math.max(this.minWidth,e);const{clientWidth:r}=this.offsetParent,o=n?this.position.x:this.element.getBoundingClientRect().left;r&&e+o>r&&(e=r-o)}this.getWidth()!==e&&(i?(t.style.maxWidth="unset",t.style.minWidth="unset"):this.config.popup?go(t,e):(t.style.width=`${e}px`,t.style.flex=" unset",this.lastSize.width=typeof e=="number"?e:parseFloat(e)))}offsetElement(e=0,t=0){var r;const{forcePopupParentAsOffsetParent:n}=this.config,i=n?this.boundaryEl:this.element;i&&((r=this.popupSvc)==null||r.positionPopup({ePopup:i,keepWithinBounds:!0,skipObserver:this.movable||this.isResizable(),updatePosition:()=>({x:e,y:t})}),this.setPosition(parseFloat(i.style.left),parseFloat(i.style.top)))}constrainSizeToAvailableHeight(e){var n;if(!this.config.forcePopupParentAsOffsetParent)return;const t=()=>{const i=this.getAvailableHeight();this.element.style.setProperty("max-height",`${i}px`)};e&&this.popupSvc?this.resizeObserverSubscriber=va(this.beans,(n=this.popupSvc)==null?void 0:n.getPopupParent(),t):(this.element.style.removeProperty("max-height"),this.resizeObserverSubscriber&&(this.resizeObserverSubscriber(),this.resizeObserverSubscriber=void 0))}setPosition(e,t){this.position.x=e,this.position.y=t}updateDragStartPosition(e,t){this.dragStartPosition={x:e,y:t}}calculateMouseMovement(e){const{e:t,isLeft:n,isTop:i,anywhereWithin:r,topBuffer:o}=e,s=t.clientX-this.dragStartPosition.x,a=t.clientY-this.dragStartPosition.y,l=this.shouldSkipX(t,!!n,!!r,s)?0:s,u=this.shouldSkipY(t,!!i,o,a)?0:a;return{movementX:l,movementY:u}}shouldSkipX(e,t,n,i){const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.x:r.left;let l=a<=0&&o.left>=e.clientX||o.right<=e.clientX&&o.right<=s.right;return l?!0:(t?l=i<0&&e.clientX>a+o.left||i>0&&e.clientX<a+o.left:n?l=i<0&&e.clientX>s.right||i>0&&e.clientX<a+o.left:l=i<0&&e.clientX>s.right||i>0&&e.clientX<s.right,l)}shouldSkipY(e,t,n=0,i){const r=this.element.getBoundingClientRect(),o=this.offsetParent.getBoundingClientRect(),s=this.boundaryEl.getBoundingClientRect(),a=this.config.popup?this.position.y:r.top;let l=a<=0&&o.top>=e.clientY||o.bottom<=e.clientY&&o.bottom<=s.bottom;return l?!0:(t?l=i<0&&e.clientY>a+o.top+n||i>0&&e.clientY<a+o.top:l=i<0&&e.clientY>s.bottom||i>0&&e.clientY<s.bottom,l)}createResizeMap(){const e=t=>({element:this.element.querySelector(`[data-ref=${t}Resizer]`)});this.resizerMap={topLeft:e("eTopLeft"),top:e("eTop"),topRight:e("eTopRight"),right:e("eRight"),bottomRight:e("eBottomRight"),bottom:e("eBottom"),bottomLeft:e("eBottomLeft"),left:e("eLeft")}}addResizers(){if(this.resizersAdded)return;const e=this.element;e&&(e.appendChild(gn(CQ)),this.createResizeMap(),this.resizersAdded=!0)}removeResizers(){this.resizerMap=void 0;const e=this.element.querySelector(`.${V5}`);e&&this.element.removeChild(e),this.resizersAdded=!1}getResizerElement(e){return this.resizerMap[e].element}onResizeStart(e,t){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.currentResizer={isTop:!!t.match(/top/i),isRight:!!t.match(/right/i),isBottom:!!t.match(/bottom/i),isLeft:!!t.match(/left/i)},this.element.classList.add("ag-resizing"),this.resizerMap[t].element.classList.add("ag-active");const{popup:n,forcePopupParentAsOffsetParent:i}=this.config;!n&&!i&&this.applySizeToSiblings(this.currentResizer.isBottom||this.currentResizer.isTop),this.isResizing=!0,this.updateDragStartPosition(e.clientX,e.clientY)}getSiblings(){const t=this.element.parentElement;return t?Array.prototype.slice.call(t.children).filter(n=>!n.classList.contains("ag-hidden")):null}getMinSizeOfSiblings(){const e=this.getSiblings()||[];let t=0,n=0;for(let i=0;i<e.length;i++){const r=e[i],o=!!r.style.flex&&r.style.flex!=="0 0 auto";if(r===this.element)continue;let s=this.minHeight||0,a=this.minWidth||0;if(o){const l=window.getComputedStyle(r);l.minHeight&&(s=parseInt(l.minHeight,10)),l.minWidth&&(a=parseInt(l.minWidth,10))}else s=r.offsetHeight,a=r.offsetWidth;t+=s,n+=a}return{height:t,width:n}}applySizeToSiblings(e){let t=null;const n=this.getSiblings();if(n){for(let i=0;i<n.length;i++){const r=n[i];r!==t&&(e?r.style.height=`${r.offsetHeight}px`:r.style.width=`${r.offsetWidth}px`,r.style.flex="0 0 auto",r===this.element&&(t=n[i+1]))}t&&(t.style.removeProperty("height"),t.style.removeProperty("min-height"),t.style.removeProperty("max-height"),t.style.flex="1 1 auto")}}isResizable(){return Object.values(this.resizable).some(e=>e)}onResize(e){if(!this.isResizing||!this.currentResizer)return;const{popup:t,forcePopupParentAsOffsetParent:n}=this.config,{isTop:i,isRight:r,isBottom:o,isLeft:s}=this.currentResizer,a=r||s,l=o||i,{movementX:u,movementY:c}=this.calculateMouseMovement({e,isLeft:s,isTop:i}),d=this.position.x,h=this.position.y;let p=0,f=0;if(a&&u){const g=s?-1:1,m=this.getWidth(),v=m+u*g;let b=!1;s&&(p=m-v,(d+p<=0||v<=this.minWidth)&&(b=!0,p=0)),b||this.setWidth(v)}if(l&&c){const g=i?-1:1,m=this.getHeight(),v=m+c*g;let b=!1;i?(f=m-v,(h+f<=0||v<=this.minHeight)&&(b=!0,f=0)):!this.config.popup&&!this.config.forcePopupParentAsOffsetParent&&m<v&&this.getMinSizeOfSiblings().height+v>this.element.parentElement.offsetHeight&&(b=!0),b||this.setHeight(v)}this.updateDragStartPosition(e.clientX,e.clientY),((t||n)&&p||f)&&this.offsetElement(d+p,h+f)}onResizeEnd(e,t){this.isResizing=!1,this.currentResizer=null,this.boundaryEl=null,this.element.classList.remove("ag-resizing"),this.resizerMap[t].element.classList.remove("ag-active"),this.dispatchLocalEvent({type:"resize"})}refreshSize(){const e=this.element;this.config.popup&&(this.config.width||this.setWidth(e.offsetWidth),this.config.height||this.setHeight(e.offsetHeight))}onMoveStart(e){this.boundaryEl=this.findBoundaryElement(),this.positioned||this.initialisePosition(),this.isMoving=!0,this.element.classList.add("ag-moving"),this.updateDragStartPosition(e.clientX,e.clientY)}onMove(e){if(!this.isMoving)return;const{x:t,y:n}=this.position;let i;this.config.calculateTopBuffer&&(i=this.config.calculateTopBuffer());const{movementX:r,movementY:o}=this.calculateMouseMovement({e,isTop:!0,anywhereWithin:!0,topBuffer:i});this.offsetElement(t+r,n+o),this.updateDragStartPosition(e.clientX,e.clientY)}onMoveEnd(){this.isMoving=!1,this.boundaryEl=null,this.element.classList.remove("ag-moving")}setOffsetParent(){this.config.forcePopupParentAsOffsetParent&&this.popupSvc?this.offsetParent=this.popupSvc.getPopupParent():this.offsetParent=this.element.offsetParent}findBoundaryElement(){let e=this.element;for(;e;){if(window.getComputedStyle(e).position!=="static")return e;e=e.parentElement}return this.element}clearResizeListeners(){var e;for(;this.resizeListeners.length;){const t=this.resizeListeners.pop();(e=this.dragSvc)==null||e.removeDragSource(t)}}destroy(){var e;super.destroy(),this.moveElementDragListener&&((e=this.dragSvc)==null||e.removeDragSource(this.moveElementDragListener)),this.constrainSizeToAvailableHeight(!1),this.clearResizeListeners(),this.removeResizers()}},yQ="ag-focus-managed",_u=class extends K{constructor(e,t={}){super(),this.eFocusable=e,this.callbacks=t,this.callbacks={shouldStopEventPropagation:()=>!1,onTabKeyDown:n=>{if(n.defaultPrevented)return;const i=yl(this.beans,this.eFocusable,!1,n.shiftKey);i&&(i.focus(),n.preventDefault())},...t}}postConstruct(){const{eFocusable:e,callbacks:{onFocusIn:t,onFocusOut:n}}=this;e.classList.add(yQ),this.addKeyDownListeners(e),t&&this.addManagedElementListeners(e,{focusin:t}),n&&this.addManagedElementListeners(e,{focusout:n})}addKeyDownListeners(e){this.addManagedElementListeners(e,{keydown:t=>{if(t.defaultPrevented||is(t))return;const{callbacks:n}=this;if(n.shouldStopEventPropagation(t)){Tu(t);return}t.key===j.TAB?n.onTabKeyDown(t):n.handleKeyDown&&n.handleKeyDown(t)}})}},_5={applyFilter:"Apply",clearFilter:"Clear",resetFilter:"Reset",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",filterOoo:"Filter...",empty:"Choose one",equals:"Equals",notEqual:"Does not equal",lessThan:"Less than",greaterThan:"Greater than",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",blank:"Blank",notBlank:"Not blank",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",dateFormatOoo:"yyyy-mm-dd"};function Qy(e,t){const{debounceMs:n}=e;return p0(e)?(n!=null&&ie(71),0):n??t}function p0(e){var t;return(((t=e.buttons)==null?void 0:t.indexOf("apply"))??-1)>=0}var wQ=class extends pt{constructor(e){super(),this.filterNameKey=e,this.applyActive=!1,this.hidePopup=null,this.debouncePending=!1,this.appliedModel=null,this.eFilterBody=le,this.buttonListeners=[],this.defaultDebounceMs=0}postConstruct(){this.resetTemplate(),this.createManagedBean(new _u(this.getFocusableElement(),{handleKeyDown:this.handleKeyDown.bind(this)})),this.positionableFeature=new bQ(this.getPositionableElement(),{forcePopupParentAsOffsetParent:!0}),this.createBean(this.positionableFeature)}handleKeyDown(e){}getFilterTitle(){return this.translate(this.filterNameKey)}isFilterActive(){return!!this.appliedModel}resetTemplate(e){let t=this.getGui();t==null||t.removeEventListener("submit",this.onFormSubmit);const n={tag:"form",cls:"ag-filter-wrapper",children:[{tag:"div",ref:"eFilterBody",cls:`ag-filter-body-wrapper ag-${this.getCssIdentifier()}-body-wrapper`,children:[this.createBodyTemplate()]}]};this.setTemplate(n,this.getAgComponents(),e),t=this.getGui(),t==null||t.addEventListener("submit",this.onFormSubmit)}isReadOnly(){return!!this.params.readOnly}init(e){this.setParams(e),this.resetUiToDefaults(!0).then(()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}setParams(e){this.params=e,this.applyActive=p0(e),this.resetButtonsPanel(e)}updateParams(e){this.params=e,this.applyActive=p0(e),this.resetUiToActiveModel(this.getModel(),()=>{this.updateUiVisibility(),this.setupOnBtApplyDebounce()})}resetButtonsPanel(e,t){const{buttons:n,readOnly:i}=t??{},{buttons:r,readOnly:o}=e;if(i===o&&kd(n,r))return;const s=r&&r.length>0&&!this.isReadOnly();if(this.eButtonsPanel?(si(this.eButtonsPanel),this.buttonListeners.forEach(u=>u()),this.buttonListeners=[]):s&&(this.eButtonsPanel=gn({tag:"div",cls:"ag-filter-apply-panel"})),!s){this.eButtonsPanel&&Cr(this.eButtonsPanel);return}const a=document.createDocumentFragment(),l=u=>{let c;const d=u?this.translate(`${u}Filter`):void 0;switch(u){case"apply":c=f=>this.onBtApply(!1,!1,f);break;case"clear":c=()=>this.onBtClear();break;case"reset":c=()=>this.onBtReset();break;case"cancel":c=f=>{this.onBtCancel(f)};break;default:ie(75);return}const p=Sg(`<button
                    type="${u==="apply"?"submit":"button"}"
                    data-ref="${u}FilterButton"
                    class="ag-button ag-standard-button ag-filter-apply-panel-button"
                >${d}
                </button>`);this.buttonListeners.push(...this.addManagedElementListeners(p,{click:c})),a.append(p)};r.forEach(u=>l(u)),this.eButtonsPanel.append(a),this.getGui().appendChild(this.eButtonsPanel)}setupOnBtApplyDebounce(){const e=Qy(this.params,this.defaultDebounceMs),t=Kn(this,this.checkApplyDebounce.bind(this),e);this.onBtApplyDebounce=()=>{this.debouncePending=!0,t()}}checkApplyDebounce(){this.debouncePending&&(this.debouncePending=!1,this.onBtApply())}getModel(){return this.appliedModel??null}setModel(e){return(e!=null?this.setModelIntoUi(e):this.resetUiToDefaults()).then(()=>{this.updateUiVisibility(),this.applyModel("api")})}onBtCancel(e){this.resetUiToActiveModel(this.getModel(),()=>{this.handleCancelEnd(e)})}handleCancelEnd(e){this.params.closeOnApply&&this.close(e)}resetUiToActiveModel(e,t){const n=()=>{this.onUiChanged(!1,"prevent"),t==null||t()};e!=null?this.setModelIntoUi(e).then(n):this.resetUiToDefaults().then(n)}onBtClear(){this.resetUiToDefaults().then(()=>this.onUiChanged())}onBtReset(){this.onBtClear(),this.onBtApply()}applyModel(e="api"){const t=this.getModelFromUi();if(!this.isModelValid(t))return!1;const n=this.appliedModel;return this.appliedModel=t,!this.areModelsEqual(n,t)}isModelValid(e){return!0}onFormSubmit(e){e.preventDefault()}onBtApply(e=!1,t=!1,n){n&&n.preventDefault(),this.applyModel(t?"rowDataUpdated":"ui")&&this.params.filterChangedCallback({afterFloatingFilter:e,afterDataChange:t,source:"columnFilter"});const{closeOnApply:i}=this.params;i&&this.applyActive&&!e&&!t&&this.close(n)}onNewRowsLoaded(){}close(e){if(!this.hidePopup)return;const t=e,n=t&&t.key;let i;(n==="Enter"||n==="Space")&&(i={keyboardEvent:t}),this.hidePopup(i),this.hidePopup=null}onUiChanged(e=!1,t){if(this.updateUiVisibility(),this.params.filterModifiedCallback(),this.applyActive&&!this.isReadOnly()){const n=this.isModelValid(this.getModelFromUi()),i=this.queryForHtmlElement('[data-ref="applyFilterButton"]');i&&xd(i,!n)}e&&!t||t==="immediately"?this.onBtApply(e):(!this.applyActive&&!t||t==="debounce")&&this.onBtApplyDebounce()}afterGuiAttached(e){e&&(this.hidePopup=e.hidePopup),this.refreshFilterResizer(e==null?void 0:e.container)}refreshFilterResizer(e){const{positionableFeature:t,gos:n}=this;if(!t||e==="toolPanel")return;e==="floatingFilter"||e==="columnFilter"?(t.restoreLastSize(),t.setResizable(n.get("enableRtl")?{bottom:!0,bottomLeft:!0,left:!0}:{bottom:!0,bottomRight:!0,right:!0})):(t.removeSizeFromEl(),t.setResizable(!1)),t.constrainSizeToAvailableHeight(!0)}afterGuiDetached(){var e;this.checkApplyDebounce(),(e=this.positionableFeature)==null||e.constrainSizeToAvailableHeight(!1)}refresh(e){const t=this.params;return this.params=e,this.resetButtonsPanel(e,t),!0}destroy(){const e=this.getGui();e&&e.removeEventListener("submit",this.onFormSubmit),this.hidePopup=null,this.positionableFeature&&(this.positionableFeature=this.destroyBean(this.positionableFeature)),this.appliedModel=null,super.destroy()}translate(e){return this.getLocaleTextFunc()(e,_5[e])}getCellValue(e){return this.params.getValue(e)}getPositionableElement(){return this.eFilterBody}};function SQ(e,t,n){if(t==null)return null;let i=null;const{compName:r,jsComp:o,fwComp:s}=xZ(e,t);return r?i={agSetColumnFilter:"agSetColumnFloatingFilter",agMultiColumnFilter:"agMultiColumnFloatingFilter",agGroupColumnFilter:"agGroupColumnFloatingFilter",agNumberColumnFilter:"agNumberColumnFloatingFilter",agDateColumnFilter:"agDateColumnFloatingFilter",agTextColumnFilter:"agTextColumnFloatingFilter"}[r]:o==null&&s==null&&t.filter===!0&&(i=n()),i}var zr={AUTO_HEIGHT:"ag-layout-auto-height",NORMAL:"ag-layout-normal",PRINT:"ag-layout-print"},ew=class extends K{constructor(e){super(),this.view=e}postConstruct(){this.addManagedPropertyListener("domLayout",this.updateLayoutClasses.bind(this)),this.updateLayoutClasses()}updateLayoutClasses(){const e=this.gos.get("domLayout"),t={autoHeight:e==="autoHeight",normal:e==="normal",print:e==="print"},n=t.autoHeight?zr.AUTO_HEIGHT:t.print?zr.PRINT:zr.NORMAL;this.view.updateLayoutClasses(n,t)}},Ts="Viewport",L4="fakeVScrollComp",N4=["fakeHScrollComp","centerHeader","topCenter","bottomCenter","stickyTopCenter","stickyBottomCenter"],B4=100,hv=150,xQ=class extends K{constructor(e){super(),this.lastScrollSource=[null,null],this.scrollLeft=-1,this.nextScrollTop=-1,this.scrollTop=-1,this.lastOffsetHeight=-1,this.lastScrollTop=-1,this.lastIsHorizontalScrollShowing=!1,this.scrollTimer=0,this.isVerticalPositionInvalidated=!0,this.isHorizontalPositionInvalidated=!0,this.eBodyViewport=e,this.resetLastHScrollDebounced=Kn(this,()=>this.lastScrollSource[1]=null,hv),this.resetLastVScrollDebounced=Kn(this,()=>this.lastScrollSource[0]=null,hv)}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.animationFrameSvc=e.animationFrameSvc,this.visibleCols=e.visibleCols}destroy(){super.destroy(),window.clearTimeout(this.scrollTimer)}postConstruct(){this.enableRtl=this.gos.get("enableRtl");const e=this.invalidateVerticalScroll.bind(this),t=this.invalidateHorizontalScroll.bind(this);this.addManagedEventListeners({displayedColumnsWidthChanged:this.onDisplayedColumnsWidthChanged.bind(this),gridSizeChanged:e,scrollGapChanged:t}),this.addManagedElementListeners(this.eBodyViewport,{scroll:e}),this.ctrlsSvc.whenReady(this,n=>{this.centerRowsCtrl=n.center,this.onDisplayedColumnsWidthChanged(),this.addScrollListener()})}invalidateHorizontalScroll(){this.isHorizontalPositionInvalidated=!0}invalidateVerticalScroll(){this.isVerticalPositionInvalidated=!0}addScrollListener(){this.addHorizontalScrollListeners(),this.addVerticalScrollListeners()}addHorizontalScrollListeners(){this.addManagedElementListeners(this.centerRowsCtrl.eViewport,{scroll:this.onHScroll.bind(this,Ts)});for(const e of N4){const t=this.ctrlsSvc.get(e);this.registerScrollPartner(t,this.onHScroll.bind(this,e))}}addVerticalScrollListeners(){const e=this.ctrlsSvc.get("fakeVScrollComp"),t=this.gos.get("debounceVerticalScrollbar"),n=t?Kn(this,this.onVScroll.bind(this,Ts),B4):this.onVScroll.bind(this,Ts),i=t?Kn(this,this.onVScroll.bind(this,L4),B4):this.onVScroll.bind(this,L4);this.addManagedElementListeners(this.eBodyViewport,{scroll:n}),this.registerScrollPartner(e,i)}registerScrollPartner(e,t){e.onScrollCallback(t)}onDisplayedColumnsWidthChanged(){this.enableRtl&&this.horizontallyScrollHeaderCenterAndFloatingCenter()}horizontallyScrollHeaderCenterAndFloatingCenter(e){this.centerRowsCtrl!=null&&(e===void 0&&(e=this.centerRowsCtrl.getCenterViewportScrollLeft()),this.setScrollLeftForAllContainersExceptCurrent(Math.abs(e)))}setScrollLeftForAllContainersExceptCurrent(e){for(const t of[...N4,Ts]){if(this.lastScrollSource[1]===t)continue;const n=this.getViewportForSource(t);Qf(n,e,this.enableRtl)}}getViewportForSource(e){return e===Ts?this.centerRowsCtrl.eViewport:this.ctrlsSvc.get(e).eViewport}isControllingScroll(e,t){return this.lastScrollSource[t]==null?(t===0?this.lastScrollSource[0]=e:this.lastScrollSource[1]=e,!0):this.lastScrollSource[t]===e}onHScroll(e){if(!this.isControllingScroll(e,1))return;const t=this.centerRowsCtrl.eViewport,{scrollLeft:n}=t;if(this.shouldBlockScrollUpdate(1,n,!0))return;const i=Zf(this.getViewportForSource(e),this.enableRtl);this.doHorizontalScroll(i),this.resetLastHScrollDebounced()}onVScroll(e){if(!this.isControllingScroll(e,0))return;let t;if(e===Ts?t=this.eBodyViewport.scrollTop:t=this.ctrlsSvc.get("fakeVScrollComp").getScrollPosition(),this.shouldBlockScrollUpdate(0,t,!0))return;const{animationFrameSvc:n}=this;n==null||n.setScrollTop(t),this.nextScrollTop=t,e===Ts?this.ctrlsSvc.get("fakeVScrollComp").setScrollPosition(t):this.eBodyViewport.scrollTop=t,n!=null&&n.active?n.schedule():this.scrollGridIfNeeded(!0),this.resetLastVScrollDebounced()}doHorizontalScroll(e){const t=this.ctrlsSvc.get("fakeHScrollComp").getScrollPosition();this.scrollLeft===e&&e===t||(this.scrollLeft=e,this.fireScrollEvent(1),this.horizontallyScrollHeaderCenterAndFloatingCenter(e),this.centerRowsCtrl.onHorizontalViewportChanged(!0))}fireScrollEvent(e){const t={type:"bodyScroll",direction:e===1?"horizontal":"vertical",left:this.scrollLeft,top:this.scrollTop};this.eventSvc.dispatchEvent(t),window.clearTimeout(this.scrollTimer),this.scrollTimer=window.setTimeout(()=>{this.scrollTimer=0,this.eventSvc.dispatchEvent({...t,type:"bodyScrollEnd"})},hv)}shouldBlockScrollUpdate(e,t,n=!1){return n&&!Ua()?!1:e===0?this.shouldBlockVerticalScroll(t):this.shouldBlockHorizontalScroll(t)}shouldBlockVerticalScroll(e){const t=Gy(this.eBodyViewport),{scrollHeight:n}=this.eBodyViewport;return e<0||e+t>n}shouldBlockHorizontalScroll(e){const t=this.centerRowsCtrl.getCenterWidth(),{scrollWidth:n}=this.centerRowsCtrl.eViewport;if(this.enableRtl){if(e>0)return!0}else if(e<0)return!0;return Math.abs(e)+t>n}redrawRowsAfterScroll(){this.fireScrollEvent(0)}checkScrollLeft(){this.scrollLeft!==this.centerRowsCtrl.getCenterViewportScrollLeft()&&this.onHScroll(Ts)}scrollGridIfNeeded(e=!1){const t=this.scrollTop!=this.nextScrollTop;return t&&(this.scrollTop=this.nextScrollTop,e&&this.invalidateVerticalScroll(),this.redrawRowsAfterScroll()),t}setHorizontalScrollPosition(e,t=!1){const i=this.centerRowsCtrl.eViewport.scrollWidth-this.centerRowsCtrl.getCenterWidth();!t&&this.shouldBlockScrollUpdate(1,e)&&(this.enableRtl?e=e>0?0:i:e=Math.min(Math.max(e,0),i)),Qf(this.centerRowsCtrl.eViewport,Math.abs(e),this.enableRtl),this.doHorizontalScroll(e)}setVerticalScrollPosition(e){this.invalidateVerticalScroll(),this.eBodyViewport.scrollTop=e}getVScrollPosition(){if(!this.isVerticalPositionInvalidated){const{lastOffsetHeight:n,lastScrollTop:i}=this;return{top:i,bottom:i+n}}this.isVerticalPositionInvalidated=!1;const{scrollTop:e,offsetHeight:t}=this.eBodyViewport;return this.lastScrollTop=e,this.lastOffsetHeight=t,{top:e,bottom:e+t}}getApproximateVScollPosition(){return this.lastScrollTop>=0&&this.lastOffsetHeight>=0?{top:this.scrollTop,bottom:this.scrollTop+this.lastOffsetHeight}:this.getVScrollPosition()}getHScrollPosition(){return this.centerRowsCtrl.getHScrollPosition()}isHorizontalScrollShowing(){return this.isHorizontalPositionInvalidated&&(this.lastIsHorizontalScrollShowing=this.centerRowsCtrl.isHorizontalScrollShowing(),this.isHorizontalPositionInvalidated=!1),this.lastIsHorizontalScrollShowing}scrollHorizontally(e){const t=this.centerRowsCtrl.eViewport.scrollLeft;return this.setHorizontalScrollPosition(t+e),this.centerRowsCtrl.eViewport.scrollLeft-t}scrollToTop(){this.eBodyViewport.scrollTop=0}ensureNodeVisible(e,t=null){const{rowModel:n}=this.beans,i=n.getRowCount();let r=-1;for(let o=0;o<i;o++){const s=n.getRow(o);if(typeof e=="function"){if(s&&e(s)){r=o;break}}else if(e===s||e===s.data){r=o;break}}r>=0&&this.ensureIndexVisible(r,t)}ensureIndexVisible(e,t){if(Xn(this.gos,"print"))return;const{rowModel:n}=this.beans,i=n.getRowCount();if(typeof e!="number"||e<0||e>=i){ie(88,{index:e});return}const{frameworkOverrides:r,pageBounds:o,rowContainerHeight:s,rowRenderer:a}=this.beans;r.wrapIncoming(()=>{var p;const l=this.ctrlsSvc.getGridBodyCtrl(),u=n.getRow(e);let c,d,h=0;this.invalidateVerticalScroll();do{const{stickyTopHeight:f,stickyBottomHeight:g}=l,m=u.rowTop,v=u.rowHeight,b=o.getPixelOffset(),S=u.rowTop-b,y=S+u.rowHeight,x=this.getVScrollPosition(),E=s.divStretchOffset,R=x.top+E,T=x.bottom+E,F=T-R,D=s.getScrollPositionForPixel(S),O=s.getScrollPositionForPixel(y-F),L=Math.min((D+O)/2,S),I=R+f>S,B=T-g<y;let U=null;t==="top"?U=D-f:t==="bottom"?U=O+g:t==="middle"?U=L:I?U=D-f:B&&(U=O+g),U!==null&&(this.setVerticalScrollPosition(U),a.redraw({afterScroll:!0})),c=m!==u.rowTop||v!==u.rowHeight,d=f!==l.stickyTopHeight||g!==l.stickyBottomHeight,h++}while((c||d)&&h<10);(p=this.animationFrameSvc)==null||p.flushAllFrames()})}ensureColumnVisible(e,t="auto"){const{colModel:n,frameworkOverrides:i}=this.beans,r=n.getCol(e);if(!r||r.isPinned()||!this.visibleCols.isColDisplayed(r))return;const o=this.getPositionedHorizontalScroll(r,t);i.wrapIncoming(()=>{var s;o!==null&&this.centerRowsCtrl.setCenterViewportScrollLeft(o),this.centerRowsCtrl.onHorizontalViewportChanged(),(s=this.animationFrameSvc)==null||s.flushAllFrames()})}getPositionedHorizontalScroll(e,t){const{columnBeforeStart:n,columnAfterEnd:i}=this.isColumnOutsideViewport(e),r=this.centerRowsCtrl.getCenterWidth()<e.getActualWidth(),o=this.centerRowsCtrl.getCenterWidth(),s=this.enableRtl;let a=(s?n:i)||r,l=s?i:n;t!=="auto"&&(a=t==="start",l=t==="end");const u=t==="middle";if(a||l||u){const{colLeft:c,colMiddle:d,colRight:h}=this.getColumnBounds(e);return u?d-o/2:a?s?h:c:s?c-o:h-o}return null}isColumnOutsideViewport(e){const{start:t,end:n}=this.getViewportBounds(),{colLeft:i,colRight:r}=this.getColumnBounds(e),o=this.enableRtl,s=o?t>r:n<r,a=o?n<i:t>i;return{columnBeforeStart:s,columnAfterEnd:a}}getColumnBounds(e){const t=this.enableRtl,n=this.visibleCols.bodyWidth,i=e.getActualWidth(),r=e.getLeft(),o=t?-1:1,s=t?n-r:r,a=s+i*o,l=s+i/2*o;return{colLeft:s,colMiddle:l,colRight:a}}getViewportBounds(){const e=this.centerRowsCtrl.getCenterWidth(),t=this.centerRowsCtrl.getCenterViewportScrollLeft(),n=t,i=e+t;return{start:n,end:i,width:e}}},tw=class extends K{constructor(e,t=!1){super(),this.callback=e,this.addSpacer=t}postConstruct(){const e=this.setWidth.bind(this);this.addManagedPropertyListener("domLayout",e),this.addManagedEventListeners({columnContainerWidthChanged:e,displayedColumnsChanged:e,leftPinnedWidthChanged:e}),this.addSpacer&&this.addManagedEventListeners({rightPinnedWidthChanged:e,scrollVisibilityChanged:e,scrollbarWidthChanged:e}),this.setWidth()}setWidth(){const e=Xn(this.gos,"print"),{visibleCols:t,scrollVisibleSvc:n}=this.beans,i=t.bodyWidth,r=t.getColsLeftWidth(),o=t.getDisplayedColumnsRightWidth();let s;e?s=i+r+o:(s=i,this.addSpacer&&(this.gos.get("enableRtl")?r:o)===0&&n.verticalScrollShowing&&(s+=n.getScrollbarWidth())),this.callback(s)}},EQ=class extends K{constructor(e){super(),this.centerContainerCtrl=e}wireBeans(e){this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.listenForResize()}),this.addManagedEventListeners({scrollbarWidthChanged:this.onScrollbarWidthChanged.bind(this)}),this.addManagedPropertyListeners(["alwaysShowHorizontalScroll","alwaysShowVerticalScroll"],()=>{this.checkViewportAndScrolls()})}listenForResize(){const{beans:e,centerContainerCtrl:t,gridBodyCtrl:n}=this,i=()=>{ys(e,()=>{this.onCenterViewportResized()})};t.registerViewportResizeListener(i),n.registerBodyViewportResizeListener(i)}onScrollbarWidthChanged(){this.checkViewportAndScrolls()}onCenterViewportResized(){if(this.scrollVisibleSvc.updateScrollGap(),this.centerContainerCtrl.isViewportInTheDOMTree()){const{pinnedCols:e,colFlex:t}=this.beans;e==null||e.keepPinnedColumnsNarrowerThanViewport(),this.checkViewportAndScrolls();const n=this.centerContainerCtrl.getCenterWidth();n!==this.centerWidth&&(this.centerWidth=n,t==null||t.refreshFlexedColumns({viewportWidth:this.centerWidth,updateBodyWidths:!0,fireResizedEvent:!0}))}else this.bodyHeight=0}checkViewportAndScrolls(){this.updateScrollVisibleService(),this.checkBodyHeight(),this.onHorizontalViewportChanged(),this.gridBodyCtrl.scrollFeature.checkScrollLeft()}getBodyHeight(){return this.bodyHeight}checkBodyHeight(){const e=this.gridBodyCtrl.eBodyViewport,t=Gy(e);this.bodyHeight!==t&&(this.bodyHeight=t,this.eventSvc.dispatchEvent({type:"bodyHeightChanged"}))}updateScrollVisibleService(){this.updateScrollVisibleServiceImpl(),setTimeout(this.updateScrollVisibleServiceImpl.bind(this),500)}updateScrollVisibleServiceImpl(){const e={horizontalScrollShowing:this.centerContainerCtrl.isHorizontalScrollShowing(),verticalScrollShowing:this.gridBodyCtrl.isVerticalScrollShowing()};this.scrollVisibleSvc.setScrollsVisible(e)}onHorizontalViewportChanged(){const e=this.centerContainerCtrl.getCenterWidth(),t=this.centerContainerCtrl.getViewportScrollLeft();this.beans.colViewport.setScrollPosition(e,t)}};function nw(e,t,n,i,r,o){if(n==null&&t==null)return;const s={},a={},l=(u,c)=>{u.split(" ").forEach(d=>{d.trim()!=""&&c(d)})};if(n){const u=Object.keys(n);for(let c=0;c<u.length;c++){const d=u[c],h=n[d];let p;typeof h=="string"?p=e?e.evaluate(h,i):!0:typeof h=="function"&&(p=h(i)),l(d,f=>{p?s[f]=!0:a[f]=!0})}}t&&o&&Object.keys(t).forEach(u=>l(u,c=>{s[c]||(a[c]=!0)})),o&&Object.keys(a).forEach(o),Object.keys(s).forEach(r)}function z4(e){if(e.group)return e.level;const t=e.parent;return t?t.level+1:0}var kQ=class extends K{constructor(){super(...arguments),this.beanName="rowStyleSvc"}processClassesFromGridOptions(e,t){const n=this.gos,i=s=>{typeof s=="string"?e.push(s):Array.isArray(s)&&s.forEach(a=>e.push(a))},r=n.get("rowClass");r&&i(r);const o=n.getCallback("getRowClass");if(o){const s={data:t.data,node:t,rowIndex:t.rowIndex},a=o(s);i(a)}}preProcessRowClassRules(e,t){this.processRowClassRules(t,n=>{e.push(n)},()=>{})}processRowClassRules(e,t,n){const{gos:i,expressionSvc:r}=this.beans,o=Le(i,{data:e.data,node:e,rowIndex:e.rowIndex});nw(r,void 0,i.get("rowClassRules"),o,t,n)}processStylesFromGridOptions(e){const t=this.gos,n=t.get("rowStyle"),i=t.getCallback("getRowStyle");let r;if(i){const o={data:e.data,node:e,rowIndex:e.rowIndex};r=i(o)}if(r||n)return Object.assign({},n,r)}},FQ=0,f0="renderedRow",g0=class extends K{constructor(e,t,n,i,r){var o;super(),this.rowNode=e,this.useAnimationFrameForCreate=i,this.printLayout=r,this.allRowGuis=[],this.active=!0,this.centerCellCtrls={list:[],map:{}},this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}},this.slideInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.fadeInAnimation={left:!1,center:!1,right:!1,fullWidth:!1},this.rowDragComps=[],this.lastMouseDownOnDragger=!1,this.emptyStyle={},this.updateColumnListsPending=!1,this.rowId=null,this.businessKey=null,this.beans=t,this.gos=t.gos,this.paginationPage=((o=t.pagination)==null?void 0:o.getCurrentPage())??0,this.suppressRowTransform=this.gos.get("suppressRowTransform"),this.instanceId=e.id+"-"+FQ++,this.rowId=rs(e.id),this.initRowBusinessKey(),this.rowFocused=t.focusSvc.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned),this.rowLevel=z4(this.rowNode),this.setRowType(),this.setAnimateFlags(n),this.rowStyles=this.processStylesFromGridOptions(),this.addListeners()}initRowBusinessKey(){this.businessKeyForNodeFunc=this.gos.get("getBusinessKeyForNode"),this.updateRowBusinessKey()}updateRowBusinessKey(){if(typeof this.businessKeyForNodeFunc!="function")return;const e=this.businessKeyForNodeFunc(this.rowNode);this.businessKey=rs(e)}updateGui(e,t){e==="left"?this.leftGui=t:e==="right"?this.rightGui=t:e==="fullWidth"?this.fullWidthGui=t:this.centerGui=t}setComp(e,t,n,i){var d;const{context:r,focusSvc:o}=this.beans;i=oh(this,r,i);const s={rowComp:e,element:t,containerType:n,compBean:i};this.allRowGuis.push(s),this.updateGui(n,s),this.initialiseRowComp(s);const a=this.rowNode,l=this.rowType==="FullWidthLoading"||a.stub,u=!a.data&&this.beans.rowModel.getType()==="infinite";!l&&!u&&!a.rowPinned&&this.beans.rowRenderer.dispatchFirstDataRenderedEvent();const c=(d=this.fullWidthGui)==null?void 0:d.element;c&&!this.editing&&o.isRowFocused(a.rowIndex,a.rowPinned)&&o.shouldTakeFocus()&&setTimeout(()=>c.focus({preventScroll:!0}),0)}unsetComp(e){this.allRowGuis=this.allRowGuis.filter(t=>t.containerType!==e),this.updateGui(e,void 0)}isCacheable(){return this.rowType==="FullWidthDetail"&&this.gos.get("keepDetailRows")}setCached(e){const t=e?"none":"";this.allRowGuis.forEach(n=>n.element.style.display=t)}initialiseRowComp(e){const t=this.gos;this.onSuppressCellFocusChanged(this.beans.gos.get("suppressCellFocus")),this.listenOnDomOrder(e),this.onRowHeightChanged(e),this.updateRowIndexes(e),this.setFocusedClasses(e),this.setStylesFromGridOptions(!1,e),Ka(t)&&this.rowNode.selectable&&this.onRowSelected(e),this.updateColumnLists(!this.useAnimationFrameForCreate);const n=e.rowComp;this.getInitialRowClasses(e.containerType).forEach(r=>n.addOrRemoveCssClass(r,!0)),this.executeSlideAndFadeAnimations(e),this.rowNode.group&&$1(e.element,this.rowNode.expanded==!0),this.setRowCompRowId(n),this.setRowCompRowBusinessKey(n),hl(t,e.element,f0,this),e.compBean.addDestroyFunc(()=>hl(t,e.element,f0,null)),this.useAnimationFrameForCreate?this.beans.animationFrameSvc.createTask(this.addHoverFunctionality.bind(this,e),this.rowNode.rowIndex,"p2",!1):this.addHoverFunctionality(e),this.isFullWidth()&&this.setupFullWidth(e),t.get("rowDragEntireRow")&&this.addRowDraggerToRow(e),this.useAnimationFrameForCreate&&this.beans.animationFrameSvc.addDestroyTask(()=>{this.isAlive()&&e.rowComp.addOrRemoveCssClass("ag-after-created",!0)}),this.executeProcessRowPostCreateFunc()}setRowCompRowBusinessKey(e){this.businessKey!=null&&e.setRowBusinessKey(this.businessKey)}setRowCompRowId(e){const t=rs(this.rowNode.id);this.rowId=t,t!=null&&e.setRowId(t)}executeSlideAndFadeAnimations(e){const{containerType:t}=e;this.slideInAnimation[t]&&(X1(()=>{this.onTopChanged()}),this.slideInAnimation[t]=!1),this.fadeInAnimation[t]&&(X1(()=>{e.rowComp.addOrRemoveCssClass("ag-opacity-zero",!1)}),this.fadeInAnimation[t]=!1)}addRowDraggerToRow(e){var i;const t=(i=this.beans.rowDragSvc)==null?void 0:i.createRowDragCompForRow(this.rowNode,e.element);if(!t)return;const n=this.createBean(t,this.beans.context);this.rowDragComps.push(n),e.compBean.addDestroyFunc(()=>{this.rowDragComps=this.rowDragComps.filter(r=>r!==n),this.destroyBean(n,this.beans.context)})}setupFullWidth(e){const t=this.getPinnedForContainer(e.containerType),n=this.createFullWidthCompDetails(e.element,t);e.rowComp.showFullWidth(n)}getFullWidthCellRenderers(){var e,t;return this.gos.get("embedFullWidthRows")?this.allRowGuis.map(n=>{var i;return(i=n==null?void 0:n.rowComp)==null?void 0:i.getFullWidthCellRenderer()}):[(t=(e=this.fullWidthGui)==null?void 0:e.rowComp)==null?void 0:t.getFullWidthCellRenderer()]}executeProcessRowPostCreateFunc(){const e=this.gos.getCallback("processRowPostCreate");if(!e||!this.areAllContainersReady())return;const t={eRow:this.centerGui.element,ePinnedLeftRow:this.leftGui?this.leftGui.element:void 0,ePinnedRightRow:this.rightGui?this.rightGui.element:void 0,node:this.rowNode,rowIndex:this.rowNode.rowIndex,addRenderedRowListener:this.addEventListener.bind(this)};e(t)}areAllContainersReady(){const{leftGui:e,centerGui:t,rightGui:n,beans:{visibleCols:i}}=this,r=!!e||!i.isPinningLeft(),o=!!t,s=!!n||!i.isPinningRight();return r&&o&&s}isNodeFullWidthCell(){if(this.rowNode.detail)return!0;const e=this.beans.gos.getCallback("isFullWidthRow");return e?e({rowNode:this.rowNode}):!1}setRowType(){const e=this.rowNode.stub&&!this.gos.get("suppressServerSideFullWidthLoadingRow")&&!this.gos.get("groupHideOpenParents"),t=this.isNodeFullWidthCell(),n=this.gos.get("masterDetail")&&this.rowNode.detail,i=this.beans.colModel.isPivotMode(),o=!!this.rowNode.group&&!this.rowNode.footer&&qy(this.gos,i);e?this.rowType="FullWidthLoading":n?this.rowType="FullWidthDetail":t?this.rowType="FullWidth":o?this.rowType="FullWidthGroup":this.rowType="Normal"}updateColumnLists(e=!1,t=!1){if(this.isFullWidth())return;const{animationFrameSvc:n}=this.beans;if(!(n!=null&&n.active)||e||this.printLayout){this.updateColumnListsImpl(t);return}this.updateColumnListsPending||(n.createTask(()=>{this.active&&this.updateColumnListsImpl(!0)},this.rowNode.rowIndex,"p1",!1),this.updateColumnListsPending=!0)}getNewCellCtrl(e){var n;if(!((n=this.beans.rowSpanSvc)!=null&&n.isCellSpanning(e,this.rowNode)))return new $c(e,this.rowNode,this.beans,this)}isCorrectCtrlForSpan(e){var t;return!((t=this.beans.rowSpanSvc)!=null&&t.isCellSpanning(e.column,this.rowNode))}createCellCtrls(e,t,n=null){const i={list:[],map:{}},r=(u,c,d)=>{d!=null?i.list.splice(d,0,c):i.list.push(c),i.map[u]=c},o=[];for(const u of t){const c=u.getInstanceId();let d=e.map[c];d&&!this.isCorrectCtrlForSpan(d)&&(d.destroy(),d=void 0),d||(d=this.getNewCellCtrl(u)),d&&r(c,d)}for(const u of e.list){const c=u.column.getInstanceId();if(i.map[c]!=null)continue;!this.isCellEligibleToBeRemoved(u,n)?o.push([c,u]):u.destroy()}if(o.length)for(const[u,c]of o){const d=i.list.findIndex(p=>p.column.getLeft()>c.column.getLeft()),h=d===-1?void 0:Math.max(d-1,0);r(u,c,h)}const{focusSvc:s,visibleCols:a}=this.beans,l=s.getFocusedCell();if(l&&l.column.getPinned()==n){const u=l.column.getInstanceId();if(!i.map[u]&&a.allCols.includes(l.column)){const d=this.createFocusedCellCtrl();if(d){const h=i.list.findIndex(f=>f.column.getLeft()>d.column.getLeft()),p=h===-1?void 0:Math.max(h-1,0);r(u,d,p)}}}return i}createFocusedCellCtrl(){const{focusSvc:e,rowSpanSvc:t}=this.beans,n=e.getFocusedCell();if(!n)return;const i=t==null?void 0:t.getCellSpan(n.column,this.rowNode);if(i){if(i.firstNode!==this.rowNode||!i.doesSpanContain(n))return}else if(!e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned))return;return this.getNewCellCtrl(n.column)}updateColumnListsImpl(e){this.updateColumnListsPending=!1,this.createAllCellCtrls(),this.setCellCtrls(e)}setCellCtrls(e){this.allRowGuis.forEach(t=>{const n=this.getCellCtrlsForContainer(t.containerType);t.rowComp.setCellCtrls(n,e)})}getCellCtrlsForContainer(e){switch(e){case"left":return this.leftCellCtrls.list;case"right":return this.rightCellCtrls.list;case"fullWidth":return[];case"center":return this.centerCellCtrls.list}}createAllCellCtrls(){const e=this.beans.colViewport,t=this.beans.visibleCols;if(this.printLayout)this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,t.allCols),this.leftCellCtrls={list:[],map:{}},this.rightCellCtrls={list:[],map:{}};else{const n=e.getColsWithinViewport(this.rowNode);this.centerCellCtrls=this.createCellCtrls(this.centerCellCtrls,n);const i=t.getLeftColsForRow(this.rowNode);this.leftCellCtrls=this.createCellCtrls(this.leftCellCtrls,i,"left");const r=t.getRightColsForRow(this.rowNode);this.rightCellCtrls=this.createCellCtrls(this.rightCellCtrls,r,"right")}}isCellEligibleToBeRemoved(e,t){const{column:r}=e;if(r.getPinned()!=t||!this.isCorrectCtrlForSpan(e))return!0;const{editing:o}=e,{visibleCols:s}=this.beans,a=e.isCellFocused();return o||a?!(s.allCols.indexOf(r)>=0):!0}getDomOrder(){return this.gos.get("ensureDomOrder")||Xn(this.gos,"print")}listenOnDomOrder(e){const t=()=>{e.rowComp.setDomOrder(this.getDomOrder())};e.compBean.addManagedPropertyListeners(["domLayout","ensureDomOrder"],t)}setAnimateFlags(e){if(this.rowNode.sticky||!e)return;const t=ue(this.rowNode.oldRowTop),{visibleCols:n}=this.beans,i=n.isPinningLeft(),r=n.isPinningRight();if(t){const{slideInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}else{const{fadeInAnimation:o}=this;if(this.isFullWidth()&&!this.gos.get("embedFullWidthRows")){o.fullWidth=!0;return}o.center=!0,o.left=i,o.right=r}}isFullWidth(){return this.rowType!=="Normal"}refreshFullWidth(){const e=(s,a)=>s?s.rowComp.refreshFullWidth(()=>this.createFullWidthCompDetails(s.element,a).params):!0,t=e(this.fullWidthGui,null),n=e(this.centerGui,null),i=e(this.leftGui,"left"),r=e(this.rightGui,"right");return t&&n&&i&&r}addListeners(){var e;this.addManagedListeners(this.rowNode,{heightChanged:()=>this.onRowHeightChanged(),rowSelected:()=>this.onRowSelected(),rowIndexChanged:this.onRowIndexChanged.bind(this),topChanged:this.onTopChanged.bind(this),...((e=this.beans.expansionSvc)==null?void 0:e.getRowExpandedListeners(this))??{}}),this.rowNode.detail&&this.addManagedListeners(this.rowNode.parent,{dataChanged:this.onRowNodeDataChanged.bind(this)}),this.addManagedListeners(this.rowNode,{dataChanged:this.onRowNodeDataChanged.bind(this),cellChanged:this.postProcessCss.bind(this),rowHighlightChanged:this.onRowNodeHighlightChanged.bind(this),draggingChanged:this.postProcessRowDragging.bind(this),uiLevelChanged:this.onUiLevelChanged.bind(this)}),this.addManagedListeners(this.beans.eventSvc,{paginationPixelOffsetChanged:this.onPaginationPixelOffsetChanged.bind(this),heightScaleChanged:this.onTopChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),virtualColumnsChanged:this.onVirtualColumnsChanged.bind(this),cellFocused:this.onCellFocusChanged.bind(this),cellFocusCleared:this.onCellFocusChanged.bind(this),paginationChanged:this.onPaginationChanged.bind(this),modelUpdated:this.refreshFirstAndLastRowStyles.bind(this),columnMoved:()=>this.updateColumnLists()}),this.beans.rowSpanSvc&&this.addManagedListeners(this.beans.rowSpanSvc,{spannedCellsUpdated:({pinned:t})=>{t&&!this.rowNode.rowPinned||this.updateColumnLists()}}),this.addDestroyFunc(()=>{this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context),this.tooltipFeature=this.destroyBean(this.tooltipFeature,this.beans.context)}),this.addManagedPropertyListeners(["rowStyle","getRowStyle","rowClass","getRowClass","rowClassRules"],this.postProcessCss.bind(this)),this.addManagedPropertyListener("rowDragEntireRow",()=>{if(this.gos.get("rowDragEntireRow")){this.allRowGuis.forEach(n=>{this.addRowDraggerToRow(n)});return}this.rowDragComps=this.destroyBeans(this.rowDragComps,this.beans.context)}),this.addListenersForCellComps()}addListenersForCellComps(){this.addManagedListeners(this.rowNode,{rowIndexChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onRowIndexChanged())},cellChanged:e=>{this.getAllCellCtrls().forEach(t=>t.onCellChanged(e))}})}onRowNodeDataChanged(e){if(this.isFullWidth()!==!!this.isNodeFullWidthCell()){this.beans.rowRenderer.redrawRow(this.rowNode);return}if(this.isFullWidth()){this.refreshFullWidth()||this.beans.rowRenderer.redrawRow(this.rowNode);return}this.getAllCellCtrls().forEach(n=>n.refreshCell({suppressFlash:!e.update,newData:!e.update})),this.allRowGuis.forEach(n=>{this.setRowCompRowId(n.rowComp),this.updateRowBusinessKey(),this.setRowCompRowBusinessKey(n.rowComp)}),this.onRowSelected(),this.postProcessCss()}postProcessCss(){this.setStylesFromGridOptions(!0),this.postProcessClassesFromGridOptions(),this.postProcessRowClassRules(),this.postProcessRowDragging()}onRowNodeHighlightChanged(){const e=this.rowNode.highlighted;this.allRowGuis.forEach(t=>{const n=e==="Above",i=e==="Below";t.rowComp.addOrRemoveCssClass("ag-row-highlight-above",n),t.rowComp.addOrRemoveCssClass("ag-row-highlight-below",i)})}postProcessRowDragging(){const e=this.rowNode.dragging;this.allRowGuis.forEach(t=>t.rowComp.addOrRemoveCssClass("ag-row-dragging",e))}onDisplayedColumnsChanged(){var e;this.updateColumnLists(!0),(e=this.beans.rowAutoHeight)==null||e.requestCheckAutoHeight()}onVirtualColumnsChanged(){this.updateColumnLists(!1,!0)}getRowPosition(){return{rowPinned:ns(this.rowNode.rowPinned),rowIndex:this.rowNode.rowIndex}}onKeyboardNavigate(e){const t=this.findFullWidthInfoForEvent(e);if(!t)return;const{rowGui:n,column:i}=t;if(!(n.element===e.target))return;const s=this.rowNode,{focusSvc:a,navigation:l}=this.beans,u=a.getFocusedCell(),c={rowIndex:s.rowIndex,rowPinned:s.rowPinned,column:(u==null?void 0:u.column)??i};l==null||l.navigateToNextCell(e,e.key,c,!0),e.preventDefault()}onTabKeyDown(e){var a;if(e.defaultPrevented||is(e))return;const t=this.allRowGuis.find(l=>l.element.contains(e.target)),n=t?t.element:null,i=n===e.target,r=Gt(this.beans);let o=!1;n&&r&&(o=n.contains(r)&&r.classList.contains("ag-cell"));let s=null;!i&&!o&&(s=yl(this.beans,n,!1,e.shiftKey)),(this.isFullWidth()&&i||!s)&&((a=this.beans.navigation)==null||a.onTabKeyDown(this,e))}getFullWidthElement(){return this.fullWidthGui?this.fullWidthGui.element:null}getRowYPosition(){var t;const e=(t=this.allRowGuis.find(n=>$r(n.element)))==null?void 0:t.element;return e?e.getBoundingClientRect().top:0}onSuppressCellFocusChanged(e){const t=this.isFullWidth()&&e?void 0:-1;this.allRowGuis.forEach(n=>{Er(n.element,"tabindex",t)})}onFullWidthRowFocused(e){var r,o,s;const t=this.rowNode,n=e?this.isFullWidth()&&e.rowIndex===t.rowIndex&&e.rowPinned==t.rowPinned:!1;let i;if(this.fullWidthGui)i=this.fullWidthGui.element;else{const a=this.beans.colModel.getCol(e==null?void 0:e.column),l=a==null?void 0:a.pinned;l?i=l==="right"?(r=this.rightGui)==null?void 0:r.element:(o=this.leftGui)==null?void 0:o.element:i=(s=this.centerGui)==null?void 0:s.element}i&&(i.classList.toggle("ag-full-width-focus",n),n&&(e!=null&&e.forceBrowserFocus)&&i.focus({preventScroll:!0}))}recreateCell(e){this.centerCellCtrls=this.removeCellCtrl(this.centerCellCtrls,e),this.leftCellCtrls=this.removeCellCtrl(this.leftCellCtrls,e),this.rightCellCtrls=this.removeCellCtrl(this.rightCellCtrls,e),e.destroy(),this.updateColumnLists()}removeCellCtrl(e,t){const n={list:[],map:{}};return e.list.forEach(i=>{i!==t&&(n.list.push(i),n.map[i.column.getInstanceId()]=i)}),n}onMouseEvent(e,t){switch(e){case"dblclick":this.onRowDblClick(t);break;case"click":this.onRowClick(t);break;case"touchstart":case"mousedown":this.onRowMouseDown(t);break}}createRowEvent(e,t){const{rowNode:n}=this;return Le(this.gos,{type:e,node:n,data:n.data,rowIndex:n.rowIndex,rowPinned:n.rowPinned,event:t})}createRowEventWithSource(e,t){const n=this.createRowEvent(e,t);return n.source=this,n}onRowDblClick(e){is(e)||this.beans.eventSvc.dispatchEvent(this.createRowEventWithSource("rowDoubleClicked",e))}findFullWidthInfoForEvent(e){if(!e)return;const t=this.findFullWidthRowGui(e.target),n=this.getColumnForFullWidth(t);if(!(!t||!n))return{rowGui:t,column:n}}findFullWidthRowGui(e){return this.allRowGuis.find(t=>t.element.contains(e))}getColumnForFullWidth(e){const{visibleCols:t}=this.beans;switch(e==null?void 0:e.containerType){case"center":return t.centerCols[0];case"left":return t.leftCols[0];case"right":return t.rightCols[0];default:return t.allCols[0]}}onRowMouseDown(e){if(this.lastMouseDownOnDragger=ja(e.target,"ag-row-drag",3),!this.isFullWidth())return;const t=this.rowNode,{rangeSvc:n,focusSvc:i}=this.beans;n==null||n.removeAllCellRanges();const r=this.findFullWidthInfoForEvent(e);if(!r)return;const{rowGui:o,column:s}=r,a=o.element,l=e.target;let u=e.defaultPrevented||vl();a&&a.contains(l)&&_y(l)&&(u=!1),i.setFocusedCell({rowIndex:t.rowIndex,column:s,rowPinned:t.rowPinned,forceBrowserFocus:u})}onRowClick(e){if(is(e)||this.lastMouseDownOnDragger)return;const{eventSvc:n,selectionSvc:i}=this.beans;n.dispatchEvent(this.createRowEventWithSource("rowClicked",e)),i==null||i.handleSelectionEvent(e,this.rowNode,"rowClicked")}setupDetailRowAutoHeight(e){var t;this.rowType==="FullWidthDetail"&&((t=this.beans.masterDetailSvc)==null||t.setupDetailRowAutoHeight(this,e))}createFullWidthCompDetails(e,t){const{gos:n,rowNode:i}=this,r=Le(n,{fullWidth:!0,data:i.data,node:i,value:i.key,valueFormatted:i.key,eGridCell:e,eParentOfValue:e,pinned:t,addRenderedRowListener:this.addEventListener.bind(this),registerRowDragger:(s,a,l,u)=>this.addFullWidthRowDragging(s,a,l,u),setTooltip:(s,a)=>{n.assertModuleRegistered("Tooltip",3),this.refreshRowTooltip(s,a)}}),o=this.beans.userCompFactory;switch(this.rowType){case"FullWidthDetail":return gZ(o,r);case"FullWidthGroup":return r.value=i.groupValue,r.valueFormatted=i.rowGroupColumn?this.beans.valueSvc.formatValue(i.rowGroupColumn,i,r.value):r.value,fZ(o,r);case"FullWidthLoading":return pZ(o,r);default:return hZ(o,r)}}refreshRowTooltip(e,t){var n;this.fullWidthGui&&(this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.refreshRowTooltip(this.tooltipFeature,this,e,t))}addFullWidthRowDragging(e,t,n="",i){const{rowDragSvc:r,context:o}=this.beans;if(!r||!this.isFullWidth())return;const s=r.createRowDragComp(()=>n,this.rowNode,void 0,e,t,i);this.createBean(s,o),this.addDestroyFunc(()=>{this.destroyBean(s,o)})}onUiLevelChanged(){const e=z4(this.rowNode);if(this.rowLevel!=e){const t="ag-row-level-"+e,n="ag-row-level-"+this.rowLevel;this.allRowGuis.forEach(i=>{i.rowComp.addOrRemoveCssClass(t,!0),i.rowComp.addOrRemoveCssClass(n,!1)})}this.rowLevel=e}isFirstRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getFirstRow()}isLastRowOnPage(){return this.rowNode.rowIndex===this.beans.pageBounds.getLastRow()}refreshFirstAndLastRowStyles(){const e=this.isFirstRowOnPage(),t=this.isLastRowOnPage();this.firstRowOnPage!==e&&(this.firstRowOnPage=e,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-first",e))),this.lastRowOnPage!==t&&(this.lastRowOnPage=t,this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass("ag-row-last",t)))}getAllCellCtrls(){return this.leftCellCtrls.list.length===0&&this.rightCellCtrls.list.length===0?this.centerCellCtrls.list:[...this.centerCellCtrls.list,...this.leftCellCtrls.list,...this.rightCellCtrls.list]}postProcessClassesFromGridOptions(){var t;const e=[];(t=this.beans.rowStyleSvc)==null||t.processClassesFromGridOptions(e,this.rowNode),e.length&&e.forEach(n=>{this.allRowGuis.forEach(i=>i.rowComp.addOrRemoveCssClass(n,!0))})}postProcessRowClassRules(){var e;(e=this.beans.rowStyleSvc)==null||e.processRowClassRules(this.rowNode,t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!0))},t=>{this.allRowGuis.forEach(n=>n.rowComp.addOrRemoveCssClass(t,!1))})}setStylesFromGridOptions(e,t){e&&(this.rowStyles=this.processStylesFromGridOptions()),this.forEachGui(t,n=>n.rowComp.setUserStyles(this.rowStyles))}getPinnedForContainer(e){return e==="left"||e==="right"?e:null}getInitialRowClasses(e){var a;const t=this.getPinnedForContainer(e),n=this.isFullWidth(),{rowNode:i,beans:r}=this,o=[];o.push("ag-row"),o.push(this.rowFocused?"ag-row-focus":"ag-row-no-focus"),this.fadeInAnimation[e]&&o.push("ag-opacity-zero"),o.push(i.rowIndex%2===0?"ag-row-even":"ag-row-odd"),i.isRowPinned()&&o.push("ag-row-pinned"),i.isSelected()&&o.push("ag-row-selected"),i.footer&&o.push("ag-row-footer"),o.push("ag-row-level-"+this.rowLevel),i.stub&&o.push("ag-row-loading"),n&&o.push("ag-full-width-row"),(a=r.expansionSvc)==null||a.addExpandedCss(o,i),i.dragging&&o.push("ag-row-dragging");const{rowStyleSvc:s}=r;return s&&(s.processClassesFromGridOptions(o,i),s.preProcessRowClassRules(o,i)),o.push(this.printLayout?"ag-row-position-relative":"ag-row-position-absolute"),this.isFirstRowOnPage()&&o.push("ag-row-first"),this.isLastRowOnPage()&&o.push("ag-row-last"),n&&(t==="left"&&o.push("ag-cell-last-left-pinned"),t==="right"&&o.push("ag-cell-first-right-pinned")),o}processStylesFromGridOptions(){var e;return((e=this.beans.rowStyleSvc)==null?void 0:e.processStylesFromGridOptions(this.rowNode))??this.emptyStyle}onRowSelected(e){var t;(t=this.beans.selectionSvc)==null||t.onRowCtrlSelected(this,n=>{(n===this.centerGui||n===this.fullWidthGui)&&this.announceDescription()},e)}announceDescription(){var e;(e=this.beans.selectionSvc)==null||e.announceAriaRowSelection(this.rowNode)}addHoverFunctionality(e){if(!this.active)return;const{element:t,compBean:n}=e,{rowNode:i,beans:r,gos:o}=this;n.addManagedListeners(t,{mouseenter:()=>i.dispatchRowEvent("mouseEnter"),mouseleave:()=>i.dispatchRowEvent("mouseLeave")}),n.addManagedListeners(i,{mouseEnter:()=>{var s;!((s=r.dragSvc)!=null&&s.dragging)&&!o.get("suppressRowHoverHighlight")&&(t.classList.add("ag-row-hover"),i.setHovered(!0))},mouseLeave:()=>{this.resetHoveredStatus(t)}})}resetHoveredStatus(e){const t=e?[e]:this.allRowGuis.map(n=>n.element);for(const n of t)n.classList.remove("ag-row-hover");this.rowNode.setHovered(!1)}roundRowTopToBounds(e){const t=this.beans.ctrlsSvc.getScrollFeature().getApproximateVScollPosition(),n=this.applyPaginationOffset(t.top,!0)-100,i=this.applyPaginationOffset(t.bottom,!0)+100;return Math.min(Math.max(n,e),i)}forEachGui(e,t){e?t(e):this.allRowGuis.forEach(t)}isRowRendered(){return this.allRowGuis.length>0}onRowHeightChanged(e){if(this.rowNode.rowHeight==null)return;const t=this.rowNode.rowHeight,n=this.beans.environment.getDefaultRowHeight(),r=YA(this.gos)?ku(this.beans,this.rowNode).height:void 0,o=r?`${Math.min(n,r)-2}px`:void 0;this.forEachGui(e,s=>{s.element.style.height=`${t}px`,o&&s.element.style.setProperty("--ag-line-height",o)})}destroyFirstPass(e=!1){var i;this.active=!1;const{rowNode:t}=this;if(!e&&Zl(this.gos)&&!t.sticky)if(t.rowTop!=null){const o=this.roundRowTopToBounds(t.rowTop);this.setRowTop(o)}else this.allRowGuis.forEach(o=>o.rowComp.addOrRemoveCssClass("ag-opacity-zero",!0));(i=this.fullWidthGui)!=null&&i.element.contains(Gt(this.beans))&&this.beans.focusSvc.attemptToRecoverFocus(),t.setHovered(!1);const n=this.createRowEvent("virtualRowRemoved");this.dispatchLocalEvent(n),this.beans.eventSvc.dispatchEvent(n),super.destroy()}destroySecondPass(){var t;this.allRowGuis.length=0,(t=this.beans.editSvc)==null||t.stopRowEditing(this);const e=n=>(n.list.forEach(i=>i.destroy()),{list:[],map:{}});this.centerCellCtrls=e(this.centerCellCtrls),this.leftCellCtrls=e(this.leftCellCtrls),this.rightCellCtrls=e(this.rightCellCtrls)}setFocusedClasses(e){this.forEachGui(e,t=>{t.rowComp.addOrRemoveCssClass("ag-row-focus",this.rowFocused),t.rowComp.addOrRemoveCssClass("ag-row-no-focus",!this.rowFocused)})}onCellFocusChanged(){const{focusSvc:e,editSvc:t}=this.beans,n=e.isRowFocused(this.rowNode.rowIndex,this.rowNode.rowPinned);n!==this.rowFocused&&(this.rowFocused=n,this.setFocusedClasses()),!n&&this.editing&&(t==null||t.stopRowEditing(this,!1))}onPaginationChanged(){var t;const e=((t=this.beans.pagination)==null?void 0:t.getCurrentPage())??0;this.paginationPage!==e&&(this.paginationPage=e,this.onTopChanged()),this.refreshFirstAndLastRowStyles()}onTopChanged(){this.setRowTop(this.rowNode.rowTop)}onPaginationPixelOffsetChanged(){this.onTopChanged()}applyPaginationOffset(e,t=!1){if(this.rowNode.isRowPinned()||this.rowNode.sticky)return e;const n=this.beans.pageBounds.getPixelOffset();return e+n*(t?1:-1)}setRowTop(e){if(!this.printLayout&&ue(e)){const t=this.applyPaginationOffset(e),r=`${this.rowNode.isRowPinned()||this.rowNode.sticky?t:this.beans.rowContainerHeight.getRealPixelPosition(t)}px`;this.setRowTopStyle(r)}}getInitialRowTop(e){return this.suppressRowTransform?this.getInitialRowTopShared(e):void 0}getInitialTransform(e){return this.suppressRowTransform?void 0:`translateY(${this.getInitialRowTopShared(e)})`}getInitialRowTopShared(e){if(this.printLayout)return"";const t=this.rowNode;let n;if(t.sticky)n=t.stickyRowTop;else{const i=this.slideInAnimation[e]?this.roundRowTopToBounds(t.oldRowTop):t.rowTop,r=this.applyPaginationOffset(i);n=t.isRowPinned()?r:this.beans.rowContainerHeight.getRealPixelPosition(r)}return n+"px"}setRowTopStyle(e){this.allRowGuis.forEach(t=>this.suppressRowTransform?t.rowComp.setTop(e):t.rowComp.setTransform(`translateY(${e})`))}getCellCtrl(e,t=!1){let n=null;return this.getAllCellCtrls().forEach(i=>{i.column==e&&(n=i)}),n!=null||t||this.getAllCellCtrls().forEach(i=>{i.getColSpanningList().indexOf(e)>=0&&(n=i)}),n}onRowIndexChanged(){this.rowNode.rowIndex!=null&&(this.onCellFocusChanged(),this.updateRowIndexes(),this.postProcessCss())}updateRowIndexes(e){var o,s;const t=this.rowNode.getRowIndexString();if(t===null)return;const n=(((o=this.beans.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:o.getRowCount())??0)+(((s=this.beans.filterManager)==null?void 0:s.getHeaderRowCount())??0),i=this.rowNode.rowIndex%2===0,r=n+this.rowNode.rowIndex+1;this.forEachGui(e,a=>{a.rowComp.setRowIndex(t),a.rowComp.addOrRemoveCssClass("ag-row-even",i),a.rowComp.addOrRemoveCssClass("ag-row-odd",!i),Hy(a.element,r)})}};function G5(e){var n;return e.altKey||e.ctrlKey||e.metaKey?!1:((n=e.key)==null?void 0:n.length)===1}function oC(e,t,n,i,r){const o=i?i.getColDef().suppressKeyboardEvent:void 0;if(!o)return!1;const s=Le(e,{event:t,editing:r,column:i,node:n,data:n.data,colDef:i.getColDef()});return!!(o&&o(s))}function TQ(e){const{pinnedRowModel:t,rowModel:n}=e,[i,r]=[(t==null?void 0:t.isEmpty("top"))??!0,(t==null?void 0:t.isEmpty("bottom"))??!0],o=i?null:"top";let s,a;r?(s=null,a=n.getRowCount()-1):(s="bottom",a=(t==null?void 0:t.getPinnedBottomRowCount())??-1);const{visibleCols:l,rangeSvc:u}=e,c=l.allCols;!u||!(c!=null&&c.length)||u.setCellRange({rowStartIndex:0,rowStartPinned:o,rowEndIndex:a,rowEndPinned:s})}var AQ=65,RQ=67,DQ=86,MQ=68,PQ=90,IQ=89;function OQ(e){const{keyCode:t}=e;let n;switch(t){case AQ:n=j.A;break;case RQ:n=j.C;break;case DQ:n=j.V;break;case MQ:n=j.D;break;case PQ:n=j.Z;break;case IQ:n=j.Y;break;default:n=e.code}return n}var LQ=class extends K{constructor(e){super(),this.element=e}postConstruct(){var e;this.addKeyboardListeners(),this.addMouseListeners(),(e=this.beans.touchSvc)==null||e.mockRowContextMenu(this)}addKeyboardListeners(){const e="keydown",t=this.processKeyboardEvent.bind(this,e);this.addManagedElementListeners(this.element,{[e]:t})}addMouseListeners(){["dblclick","contextmenu","mouseover","mouseout","click",i5("touchstart")?"touchstart":"mousedown"].forEach(n=>{const i=this.processMouseEvent.bind(this,n);this.addManagedElementListeners(this.element,{[n]:i})})}processMouseEvent(e,t){var r;if(!Pd(this.gos,t)||is(t))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);e==="contextmenu"?(n!=null&&n.column&&n.dispatchCellContextMenuEvent(t),(r=this.beans.contextMenuSvc)==null||r.handleContextMenuMouseEvent(t,void 0,i,n)):(n&&n.onMouseEvent(e,t),i&&i.onMouseEvent(e,t))}getControlsForEventTarget(e){const{gos:t}=this;return{cellCtrl:R5(t,e),rowCtrl:r5(t,e,f0)}}processKeyboardEvent(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);t.defaultPrevented||(n?this.processCellKeyboardEvent(n,e,t):i&&i.isFullWidth()&&this.processFullWidthRowKeyboardEvent(i,e,t))}processCellKeyboardEvent(e,t,n){var a;const{rowNode:i,column:r,editing:o}=e;!oC(this.gos,n,i,r,o)&&t==="keydown"&&(!o&&((a=this.beans.navigation)!=null&&a.handlePageScrollingKey(n))||e.onKeyDown(n),this.doGridOperations(n,e.editing),G5(n)&&e.processCharacter(n)),t==="keydown"&&this.eventSvc.dispatchEvent(e.createEvent(n,"cellKeyDown"))}processFullWidthRowKeyboardEvent(e,t,n){const{rowNode:i}=e,{focusSvc:r,navigation:o}=this.beans,s=r.getFocusedCell(),a=s&&s.column;if(!oC(this.gos,n,i,a,!1)){const u=n.key;if(t==="keydown")switch(u){case j.PAGE_HOME:case j.PAGE_END:case j.PAGE_UP:case j.PAGE_DOWN:o==null||o.handlePageScrollingKey(n,!0);break;case j.LEFT:case j.RIGHT:if(!this.gos.get("embedFullWidthRows"))break;case j.UP:case j.DOWN:e.onKeyboardNavigate(n);break;case j.TAB:e.onTabKeyDown(n);break}}t==="keydown"&&this.eventSvc.dispatchEvent(e.createRowEvent("cellKeyDown",n))}doGridOperations(e,t){if(!e.ctrlKey&&!e.metaKey||t||!Pd(this.gos,e))return;const n=OQ(e),{clipboardSvc:i,undoRedo:r}=this.beans;if(n===j.A)return this.onCtrlAndA(e);if(n===j.C)return this.onCtrlAndC(i,e);if(n===j.D)return this.onCtrlAndD(i,e);if(n===j.V)return this.onCtrlAndV(i,e);if(n===j.X)return this.onCtrlAndX(i,e);if(n===j.Y)return this.onCtrlAndY(r);if(n===j.Z)return this.onCtrlAndZ(r,e)}onCtrlAndA(e){const{beans:{rowModel:t,rangeSvc:n,selectionSvc:i},gos:r}=this;n&&ps(r)&&t.isRowsToRender()?TQ(this.beans):i&&(i==null||i.selectAllRowNodes({source:"keyboardSelectAll",selectAll:t5(r)})),e.preventDefault()}onCtrlAndC(e,t){if(!e||this.gos.get("enableCellTextSelection"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.copyToClipboard())}onCtrlAndX(e,t){if(!e||this.gos.get("enableCellTextSelection")||this.gos.get("suppressCutToClipboard"))return;const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||(t.preventDefault(),e.cutToClipboard(void 0,"ui"))}onCtrlAndV(e,t){const{cellCtrl:n,rowCtrl:i}=this.getControlsForEventTarget(t.target);n!=null&&n.editing||i!=null&&i.editing||e&&!this.gos.get("suppressClipboardPaste")&&e.pasteFromClipboard()}onCtrlAndD(e,t){e&&!this.gos.get("suppressClipboardPaste")&&e.copyRangeDown(),t.preventDefault()}onCtrlAndZ(e,t){!this.gos.get("undoRedoCellEditing")||!e||(t.preventDefault(),t.shiftKey?e.redo("ui"):e.undo("ui"))}onCtrlAndY(e){e==null||e.redo("ui")}},W5=class extends K{constructor(e,t){super(),this.eContainer=e,this.eViewport=t}postConstruct(){this.addManagedEventListeners({rowContainerHeightChanged:this.onHeightChanged.bind(this,this.beans.rowContainerHeight)})}onHeightChanged(e){const t=e.uiContainerHeight,n=t!=null?`${t}px`:"";this.eContainer.style.height=n,this.eViewport&&(this.eViewport.style.height=n)}},Xh=e=>e.topRowCtrls,Jh=e=>e.getStickyTopRowCtrls(),Zh=e=>e.getStickyBottomRowCtrls(),Qh=e=>e.bottomRowCtrls,ep=e=>e.allRowCtrls,pv=e=>e.getCtrls("top"),fv=e=>e.getCtrls("center"),gv=e=>e.getCtrls("bottom"),NQ={center:{type:"center",name:"center-cols",getRowCtrls:ep,getSpannedRowCtrls:fv},left:{type:"left",name:"pinned-left-cols",pinnedType:"left",getRowCtrls:ep,getSpannedRowCtrls:fv},right:{type:"right",name:"pinned-right-cols",pinnedType:"right",getRowCtrls:ep,getSpannedRowCtrls:fv},fullWidth:{type:"fullWidth",name:"full-width",fullWidth:!0,getRowCtrls:ep},topCenter:{type:"center",name:"floating-top",getRowCtrls:Xh,getSpannedRowCtrls:pv},topLeft:{type:"left",name:"pinned-left-floating",container:"ag-pinned-left-floating-top",pinnedType:"left",getRowCtrls:Xh,getSpannedRowCtrls:pv},topRight:{type:"right",name:"pinned-right-floating",container:"ag-pinned-right-floating-top",pinnedType:"right",getRowCtrls:Xh,getSpannedRowCtrls:pv},topFullWidth:{type:"fullWidth",name:"floating-top-full-width",fullWidth:!0,getRowCtrls:Xh},stickyTopCenter:{type:"center",name:"sticky-top",getRowCtrls:Jh},stickyTopLeft:{type:"left",name:"pinned-left-sticky-top",container:"ag-pinned-left-sticky-top",pinnedType:"left",getRowCtrls:Jh},stickyTopRight:{type:"right",name:"pinned-right-sticky-top",container:"ag-pinned-right-sticky-top",pinnedType:"right",getRowCtrls:Jh},stickyTopFullWidth:{type:"fullWidth",name:"sticky-top-full-width",fullWidth:!0,getRowCtrls:Jh},stickyBottomCenter:{type:"center",name:"sticky-bottom",getRowCtrls:Zh},stickyBottomLeft:{type:"left",name:"pinned-left-sticky-bottom",container:"ag-pinned-left-sticky-bottom",pinnedType:"left",getRowCtrls:Zh},stickyBottomRight:{type:"right",name:"pinned-right-sticky-bottom",container:"ag-pinned-right-sticky-bottom",pinnedType:"right",getRowCtrls:Zh},stickyBottomFullWidth:{type:"fullWidth",name:"sticky-bottom-full-width",fullWidth:!0,getRowCtrls:Zh},bottomCenter:{type:"center",name:"floating-bottom",getRowCtrls:Qh,getSpannedRowCtrls:gv},bottomLeft:{type:"left",name:"pinned-left-floating-bottom",container:"ag-pinned-left-floating-bottom",pinnedType:"left",getRowCtrls:Qh,getSpannedRowCtrls:gv},bottomRight:{type:"right",name:"pinned-right-floating-bottom",container:"ag-pinned-right-floating-bottom",pinnedType:"right",getRowCtrls:Qh,getSpannedRowCtrls:gv},bottomFullWidth:{type:"fullWidth",name:"floating-bottom-full-width",fullWidth:!0,getRowCtrls:Qh}};function $5(e){return`ag-${sh(e).name}-viewport`}function Pp(e){const t=sh(e);return t.container??`ag-${t.name}-container`}function BQ(e){return`ag-${sh(e).name}-spanned-cells-container`}function sh(e){return NQ[e]}var zQ=["topCenter","topLeft","topRight"],HQ=["bottomCenter","bottomLeft","bottomRight"],VQ=["center","left","right"],_Q=["center","left","right","fullWidth"],GQ=["stickyTopCenter","stickyBottomCenter","center","topCenter","bottomCenter"],WQ=["left","bottomLeft","topLeft","stickyTopLeft","stickyBottomLeft"],$Q=["right","bottomRight","topRight","stickyTopRight","stickyBottomRight"],U5=["stickyTopCenter","stickyTopLeft","stickyTopRight"],j5=["stickyBottomCenter","stickyBottomLeft","stickyBottomRight"],UQ=[...U5,"stickyTopFullWidth",...j5,"stickyBottomFullWidth"],jQ=[...zQ,...HQ,...VQ,...U5,...j5],qQ=class extends K{constructor(e){super(),this.name=e,this.visible=!0,this.EMPTY_CTRLS=[],this.options=sh(e)}postConstruct(){this.enableRtl=this.gos.get("enableRtl"),this.forContainers(["center"],()=>{this.viewportSizeFeature=this.createManagedBean(new EQ(this)),this.addManagedEventListeners({stickyTopOffsetChanged:this.onStickyTopOffsetChanged.bind(this)})})}onStickyTopOffsetChanged(e){this.comp.setOffsetTop(`${e.offset}px`)}registerWithCtrlsService(){this.options.fullWidth||this.beans.ctrlsSvc.register(this.name,this)}forContainers(e,t){e.indexOf(this.name)>=0&&t()}setComp(e,t,n,i){this.comp=e,this.eContainer=t,this.eSpannedContainer=n,this.eViewport=i,this.createManagedBean(new LQ(this.eViewport??this.eContainer)),this.addPreventScrollWhileDragging(),this.listenOnDomOrder();const{pinnedCols:r,rangeSvc:o}=this.beans,s=()=>this.onPinnedWidthChanged();this.forContainers(WQ,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r==null?void 0:r.createPinnedWidthFeature(!0,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({leftPinnedWidthChanged:s})}),this.forContainers($Q,()=>{this.pinnedWidthFeature=this.createOptionalManagedBean(r==null?void 0:r.createPinnedWidthFeature(!1,this.eContainer,this.eSpannedContainer)),this.addManagedEventListeners({rightPinnedWidthChanged:s})}),this.forContainers(_Q,()=>this.createManagedBean(new W5(this.eContainer,this.name==="center"?i:void 0))),o&&this.forContainers(jQ,()=>this.createManagedBean(o.createDragListenerFeature(this.eContainer))),this.forContainers(GQ,()=>this.createManagedBean(new tw(a=>this.comp.setContainerWidth(`${a}px`)))),this.visible=this.isContainerVisible(),this.addListeners(),this.registerWithCtrlsService()}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}addListeners(){const{spannedRowRenderer:e,gos:t}=this.beans;this.addManagedEventListeners({displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),displayedColumnsWidthChanged:this.onDisplayedColumnsChanged.bind(this),displayedRowsChanged:n=>this.onDisplayedRowsChanged(n.afterScroll)}),this.onDisplayedColumnsChanged(),this.onDisplayedRowsChanged(),e&&this.options.getSpannedRowCtrls&&t.get("enableCellSpan")&&this.addManagedListeners(e,{spannedRowsUpdated:()=>{const n=this.options.getSpannedRowCtrls(e);n&&this.comp.setSpannedRowCtrls(n,!1)}})}listenOnDomOrder(){if(UQ.indexOf(this.name)>=0){this.comp.setDomOrder(!0);return}const t=()=>{const n=this.gos.get("ensureDomOrder"),i=Xn(this.gos,"print");this.comp.setDomOrder(n||i)};this.addManagedPropertyListener("domLayout",t),t()}onDisplayedColumnsChanged(){this.forContainers(["center"],()=>this.onHorizontalViewportChanged())}addPreventScrollWhileDragging(){const{dragSvc:e}=this.beans;if(!e)return;const t=n=>{e.dragging&&n.cancelable&&n.preventDefault()};this.eContainer.addEventListener("touchmove",t,{passive:!1}),this.addDestroyFunc(()=>this.eContainer.removeEventListener("touchmove",t))}onHorizontalViewportChanged(e=!1){const t=this.getCenterWidth(),n=this.getCenterViewportScrollLeft();this.beans.colViewport.setScrollPosition(t,n,e)}hasHorizontalScrollGap(){return this.eContainer.clientWidth-this.eViewport.clientWidth<0}hasVerticalScrollGap(){return this.eContainer.clientHeight-this.eViewport.clientHeight<0}getCenterWidth(){return Ed(this.eViewport)}getCenterViewportScrollLeft(){return Zf(this.eViewport,this.enableRtl)}registerViewportResizeListener(e){const t=va(this.beans,this.eViewport,e);this.addDestroyFunc(()=>t())}isViewportInTheDOMTree(){return HA(this.eViewport)}getViewportScrollLeft(){return Zf(this.eViewport,this.enableRtl)}isHorizontalScrollShowing(){return this.gos.get("alwaysShowHorizontalScroll")||IX(this.eViewport)}setHorizontalScroll(e){this.comp.setHorizontalScroll(e)}getHScrollPosition(){return{left:this.eViewport.scrollLeft,right:this.eViewport.scrollLeft+this.eViewport.offsetWidth}}setCenterViewportScrollLeft(e){Qf(this.eViewport,e,this.enableRtl)}isContainerVisible(){return!(this.options.pinnedType!=null)||!!this.pinnedWidthFeature&&this.pinnedWidthFeature.getWidth()>0}onPinnedWidthChanged(){const e=this.isContainerVisible();this.visible!=e&&(this.visible=e,this.onDisplayedRowsChanged())}onDisplayedRowsChanged(e=!1){const t=this.options.getRowCtrls(this.beans.rowRenderer);if(!this.visible||t.length===0){this.comp.setRowCtrls({rowCtrls:this.EMPTY_CTRLS});return}const n=Xn(this.gos,"print"),r=this.gos.get("embedFullWidthRows")||n,o=t.filter(s=>{const a=s.isFullWidth();return this.options.fullWidth?!r&&a:r||!a});this.comp.setRowCtrls({rowCtrls:o,useFlushSync:e})}},q5="ag-force-vertical-scroll",KQ="ag-selectable",YQ="ag-column-moving",XQ=class extends K{constructor(){super(...arguments),this.stickyTopHeight=0,this.stickyBottomHeight=0}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colModel=e.colModel,this.scrollVisibleSvc=e.scrollVisibleSvc,this.pinnedRowModel=e.pinnedRowModel,this.filterManager=e.filterManager,this.rowGroupColsSvc=e.rowGroupColsSvc}setComp(e,t,n,i,r,o,s){var a,l;this.comp=e,this.eGridBody=t,this.eBodyViewport=n,this.eTop=i,this.eBottom=r,this.eStickyTop=o,this.eStickyBottom=s,this.eCenterColsViewport=n.querySelector(`.${$5("center")}`),this.eFullWidthContainer=n.querySelector(`.${Pp("fullWidth")}`),this.eStickyTopFullWidthContainer=o.querySelector(`.${Pp("stickyTopFullWidth")}`),this.eStickyBottomFullWidthContainer=s.querySelector(`.${Pp("stickyBottomFullWidth")}`),this.setCellTextSelection(this.gos.get("enableCellTextSelection")),this.addManagedPropertyListener("enableCellTextSelection",u=>this.setCellTextSelection(u.currentValue)),this.createManagedBean(new ew(this.comp)),this.scrollFeature=this.createManagedBean(new xQ(this.eBodyViewport)),(a=this.beans.rowDragSvc)==null||a.setupRowDrag(this.eBodyViewport,this),this.setupRowAnimationCssClass(),this.addEventListeners(),this.addFocusListeners([i,n,r,o,s]),this.setGridRootRole(),this.onGridColumnsChanged(),this.addBodyViewportListener(),this.setFloatingHeights(),this.disableBrowserDragging(),this.addStopEditingWhenGridLosesFocus(),this.updateScrollingClasses(),(l=this.filterManager)==null||l.setupAdvFilterHeaderComp(i),this.ctrlsSvc.register("gridBodyCtrl",this)}addEventListeners(){const e=this.setFloatingHeights.bind(this),t=this.setGridRootRole.bind(this);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this),scrollGapChanged:this.updateScrollingClasses.bind(this),pinnedRowDataChanged:e,pinnedHeightChanged:e,headerHeightChanged:this.setStickyTopOffsetTop.bind(this),columnRowGroupChanged:t,columnPivotChanged:t}),this.addManagedPropertyListener("treeData",t)}onGridColumnsChanged(){const e=this.beans.colModel.getCols();this.comp.setColumnCount(e.length)}onScrollVisibilityChanged(){const{scrollVisibleSvc:e}=this,t=e.verticalScrollShowing;this.setVerticalScrollPaddingVisible(t),this.setStickyWidth(t),this.setStickyBottomOffsetBottom();const n=t&&e.getScrollbarWidth()||0,i=LA()?16:0,r=`calc(100% + ${n+i}px)`;ys(this.beans,()=>this.comp.setBodyViewportWidth(r)),this.updateScrollingClasses()}setGridRootRole(){const{rowGroupColsSvc:e,colModel:t}=this;let n=this.gos.get("treeData");if(!n){const i=t.isPivotMode();n=(e?e.columns.length:0)>=(i?2:1)}this.comp.setGridRootRole(n?"treegrid":"grid")}addFocusListeners(e){e.forEach(t=>{this.addManagedElementListeners(t,{focusin:n=>{const{target:i}=n,r=ja(i,"ag-root",t);t.classList.toggle("ag-has-focus",!r)},focusout:n=>{const{target:i,relatedTarget:r}=n,o=t.contains(r),s=ja(r,"ag-root",t);ja(i,"ag-root",t)||(!o||s)&&t.classList.remove("ag-has-focus")}})})}setColumnMovingCss(e){this.comp.setColumnMovingCss(YQ,e)}setCellTextSelection(e=!1){this.comp.setCellSelectableCss(KQ,e)}updateScrollingClasses(){const{eGridBody:{classList:e},scrollVisibleSvc:t}=this;e.toggle("ag-body-vertical-content-no-gap",!t.verticalScrollGap),e.toggle("ag-body-horizontal-content-no-gap",!t.horizontalScrollGap)}disableBrowserDragging(){this.addManagedElementListeners(this.eGridBody,{dragstart:e=>{if(e.target instanceof HTMLImageElement)return e.preventDefault(),!1}})}addStopEditingWhenGridLosesFocus(){var e;(e=this.beans.editSvc)==null||e.addStopEditingWhenGridLosesFocus([this.eBodyViewport,this.eBottom,this.eTop,this.eStickyTop,this.eStickyBottom])}updateRowCount(){var r,o;const e=(((r=this.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:r.getRowCount())??0)+(((o=this.filterManager)==null?void 0:o.getHeaderRowCount())??0),{rowModel:t}=this.beans,n=t.isLastRowIndexKnown()?t.getRowCount():-1,i=n===-1?-1:e+n;this.comp.setRowCount(i)}registerBodyViewportResizeListener(e){this.comp.registerBodyViewportResizeListener(e)}setVerticalScrollPaddingVisible(e){const t=e?"scroll":"hidden";this.comp.setPinnedTopBottomOverflowY(t)}isVerticalScrollShowing(){const e=this.gos.get("alwaysShowVerticalScroll"),t=e?q5:null,n=Xn(this.gos,"normal");return this.comp.setAlwaysVerticalScrollClass(t,e),e||n&&OX(this.eBodyViewport)}setupRowAnimationCssClass(){const{rowContainerHeight:e,environment:t}=this.beans;let n=t.sizesMeasured;const i=()=>{const r=n&&Zl(this.gos)&&!e.stretching,o=r?"ag-row-animation":"ag-row-no-animation";this.comp.setRowAnimationCssOnBodyViewport(o,r)};i(),this.addManagedEventListeners({heightScaleChanged:i}),this.addManagedPropertyListener("animateRows",i),this.addManagedEventListeners({gridStylesChanged:()=>{!n&&t.sizesMeasured&&(n=!0,i())}})}addBodyViewportListener(){const{popupSvc:e,touchSvc:t}=this.beans,n=this.onBodyViewportContextMenu.bind(this);this.addManagedElementListeners(this.eBodyViewport,{contextmenu:n}),t==null||t.mockBodyContextMenu(this,n),this.addManagedElementListeners(this.eBodyViewport,{wheel:this.onBodyViewportWheel.bind(this,e)}),this.addManagedElementListeners(this.eStickyTop,{wheel:this.onStickyWheel.bind(this)}),this.addManagedElementListeners(this.eStickyBottom,{wheel:this.onStickyWheel.bind(this)}),this.addFullWidthContainerWheelListener()}addFullWidthContainerWheelListener(){this.addManagedElementListeners(this.eFullWidthContainer,{wheel:e=>this.onFullWidthContainerWheel(e)})}onFullWidthContainerWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e;(i||Math.abs(t)>Math.abs(n))&&Pd(this.gos,e)&&this.scrollGridBodyToMatchEvent(e)}onStickyWheel(e){const{deltaX:t,deltaY:n,shiftKey:i}=e,r=i||Math.abs(t)>Math.abs(n),o=e.target;r?(this.eStickyTopFullWidthContainer.contains(o)||this.eStickyBottomFullWidthContainer.contains(o))&&this.scrollGridBodyToMatchEvent(e):(e.preventDefault(),this.scrollVertically(n))}scrollGridBodyToMatchEvent(e){const{deltaX:t,deltaY:n}=e;e.preventDefault(),this.eCenterColsViewport.scrollBy({left:t||n})}onBodyViewportContextMenu(e,t,n){var r;if(!e&&!n)return;this.gos.get("preventDefaultOnContextMenu")&&(e||n).preventDefault();const{target:i}=e||t;(i===this.eBodyViewport||i===this.ctrlsSvc.get("center").eViewport)&&((r=this.beans.contextMenuSvc)==null||r.showContextMenu({mouseEvent:e,touchEvent:n,value:null,anchorToElement:this.eGridBody,source:"ui"}))}onBodyViewportWheel(e,t){this.gos.get("suppressScrollWhenPopupsAreOpen")&&e!=null&&e.hasAnchoredPopup()&&t.preventDefault()}scrollVertically(e){const t=this.eBodyViewport.scrollTop;return this.scrollFeature.setVerticalScrollPosition(t+e),this.eBodyViewport.scrollTop-t}setFloatingHeights(){const{pinnedRowModel:e}=this,t=(e==null?void 0:e.getPinnedTopTotalHeight())??0,n=(e==null?void 0:e.getPinnedBottomTotalHeight())??0;this.comp.setTopHeight(t),this.comp.setBottomHeight(n),this.comp.setTopInvisible(t<=0),this.comp.setBottomInvisible(n<=0),this.setStickyTopOffsetTop(),this.setStickyBottomOffsetBottom()}setStickyTopHeight(e=0){this.comp.setStickyTopHeight(`${e}px`),this.stickyTopHeight=e}setStickyBottomHeight(e=0){this.comp.setStickyBottomHeight(`${e}px`),this.stickyBottomHeight=e}setStickyWidth(e){if(!e)this.comp.setStickyTopWidth("100%"),this.comp.setStickyBottomWidth("100%");else{const t=this.scrollVisibleSvc.getScrollbarWidth();this.comp.setStickyTopWidth(`calc(100% - ${t}px)`),this.comp.setStickyBottomWidth(`calc(100% - ${t}px)`)}}setStickyTopOffsetTop(){var r,o;const t=this.ctrlsSvc.get("gridHeaderCtrl").headerHeight+(((r=this.filterManager)==null?void 0:r.getHeaderHeight())??0),n=((o=this.pinnedRowModel)==null?void 0:o.getPinnedTopTotalHeight())??0;let i=0;t>0&&(i+=t),n>0&&(i+=n),i>0&&(i+=1),this.comp.setStickyTopTop(`${i}px`)}setStickyBottomOffsetBottom(){const{pinnedRowModel:e,scrollVisibleSvc:t,comp:n}=this,i=(e==null?void 0:e.getPinnedBottomTotalHeight())??0,o=t.horizontalScrollShowing&&t.getScrollbarWidth()||0,s=i+o;n.setStickyBottomBottom(`${s}px`)}},K5=class extends pt{constructor(e,t){super(),this.direction=t,this.eViewport=le,this.eContainer=le,this.hideTimeout=0,this.setTemplate(e)}postConstruct(){this.addManagedEventListeners({scrollVisibilityChanged:this.onScrollVisibilityChanged.bind(this)}),this.onScrollVisibilityChanged(),this.addOrRemoveCssClass("ag-apple-scrollbar",IA()||Ua())}destroy(){super.destroy(),window.clearTimeout(this.hideTimeout)}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.invisibleScrollbar=LA(),this.invisibleScrollbar&&(this.hideAndShowInvisibleScrollAsNeeded(),this.addActiveListenerToggles()))}addActiveListenerToggles(){const e=this.getGui(),t=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!0),n=()=>this.addOrRemoveCssClass("ag-scrollbar-active",!1);this.addManagedListeners(e,{mouseenter:t,mousedown:t,touchstart:t,mouseleave:n,touchend:n})}onScrollVisibilityChanged(){this.invisibleScrollbar===void 0&&this.initialiseInvisibleScrollbar(),ys(this.beans,()=>this.setScrollVisible())}hideAndShowInvisibleScrollAsNeeded(){this.addManagedEventListeners({bodyScroll:e=>{e.direction===this.direction&&(this.hideTimeout&&(window.clearTimeout(this.hideTimeout),this.hideTimeout=0),this.addOrRemoveCssClass("ag-scrollbar-scrolling",!0))},bodyScrollEnd:()=>{this.hideTimeout=window.setTimeout(()=>{this.addOrRemoveCssClass("ag-scrollbar-scrolling",!1),this.hideTimeout=0},400)}})}attemptSettingScrollPosition(e){const t=this.eViewport;zX(()=>$r(t),()=>this.setScrollPosition(e),100)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}},JQ={tag:"div",cls:"ag-body-horizontal-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eLeftSpacer",cls:"ag-horizontal-left-spacer"},{tag:"div",ref:"eViewport",cls:"ag-body-horizontal-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-horizontal-scroll-container"}]},{tag:"div",ref:"eRightSpacer",cls:"ag-horizontal-right-spacer"}]},ZQ=class extends K5{constructor(){super(JQ,"horizontal"),this.eLeftSpacer=le,this.eRightSpacer=le,this.setScrollVisibleDebounce=0}wireBeans(e){this.visibleCols=e.visibleCols,this.scrollVisibleSvc=e.scrollVisibleSvc}postConstruct(){super.postConstruct();const e=this.setFakeHScrollSpacerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e,pinnedRowDataChanged:this.refreshCompBottom.bind(this)}),this.addManagedPropertyListener("domLayout",e),this.beans.ctrlsSvc.register("fakeHScrollComp",this),this.createManagedBean(new tw(t=>this.eContainer.style.width=`${t}px`)),this.addManagedPropertyListeners(["suppressHorizontalScroll"],this.onScrollVisibilityChanged.bind(this))}destroy(){window.clearTimeout(this.setScrollVisibleDebounce),super.destroy()}initialiseInvisibleScrollbar(){this.invisibleScrollbar===void 0&&(this.enableRtl=this.gos.get("enableRtl"),super.initialiseInvisibleScrollbar(),this.invisibleScrollbar&&this.refreshCompBottom())}refreshCompBottom(){var t;if(!this.invisibleScrollbar)return;const e=((t=this.beans.pinnedRowModel)==null?void 0:t.getPinnedBottomTotalHeight())??0;this.getGui().style.bottom=`${e}px`}onScrollVisibilityChanged(){super.onScrollVisibilityChanged(),this.setFakeHScrollSpacerWidths()}setFakeHScrollSpacerWidths(){const e=this.scrollVisibleSvc.verticalScrollShowing;let t=this.visibleCols.getDisplayedColumnsRightWidth();const n=!this.enableRtl&&e,i=this.scrollVisibleSvc.getScrollbarWidth();n&&(t+=i),go(this.eRightSpacer,t),this.eRightSpacer.classList.toggle("ag-scroller-corner",t<=i);let r=this.visibleCols.getColsLeftWidth();this.enableRtl&&e&&(r+=i),go(this.eLeftSpacer,r),this.eLeftSpacer.classList.toggle("ag-scroller-corner",r<=i)}setScrollVisible(){const e=this.scrollVisibleSvc.horizontalScrollShowing,t=this.invisibleScrollbar,n=this.gos.get("suppressHorizontalScroll"),i=e&&this.scrollVisibleSvc.getScrollbarWidth()||0,o=n?0:i===0&&t?16:i,s=()=>{this.setScrollVisibleDebounce=0,this.addOrRemoveCssClass("ag-scrollbar-invisible",t),_c(this.getGui(),o),_c(this.eViewport,o),_c(this.eContainer,o),o||this.eContainer.style.setProperty("min-height","1px"),this.setVisible(e,{skipAriaHidden:!0})};window.clearTimeout(this.setScrollVisibleDebounce),e?this.setScrollVisibleDebounce=window.setTimeout(s,100):s()}getScrollPosition(){return Zf(this.eViewport,this.enableRtl)}setScrollPosition(e){$r(this.eViewport)||this.attemptSettingScrollPosition(e),Qf(this.eViewport,e,this.enableRtl)}},QQ={selector:"AG-FAKE-HORIZONTAL-SCROLL",component:ZQ},eee={tag:"div",cls:"ag-body-vertical-scroll",attrs:{"aria-hidden":"true"},children:[{tag:"div",ref:"eViewport",cls:"ag-body-vertical-scroll-viewport",children:[{tag:"div",ref:"eContainer",cls:"ag-body-vertical-scroll-container"}]}]},tee=class extends K5{constructor(){super(eee,"vertical")}postConstruct(){super.postConstruct(),this.createManagedBean(new W5(this.eContainer));const{ctrlsSvc:e}=this.beans;e.register("fakeVScrollComp",this),this.addManagedEventListeners({rowContainerHeightChanged:this.onRowContainerHeightChanged.bind(this,e)})}setScrollVisible(){const{scrollVisibleSvc:e}=this.beans,t=e.verticalScrollShowing,n=this.invisibleScrollbar,i=t&&e.getScrollbarWidth()||0,r=i===0&&n?16:i;this.addOrRemoveCssClass("ag-scrollbar-invisible",n),go(this.getGui(),r),go(this.eViewport,r),go(this.eContainer,r),this.setDisplayed(t,{skipAriaHidden:!0})}onRowContainerHeightChanged(e){const n=e.getGridBodyCtrl().eBodyViewport,i=this.getScrollPosition(),r=n.scrollTop;i!=r&&this.setScrollPosition(r,!0)}getScrollPosition(){return this.eViewport.scrollTop}setScrollPosition(e,t){!t&&!$r(this.eViewport)&&this.attemptSettingScrollPosition(e),this.eViewport.scrollTop=e}},nee={selector:"AG-FAKE-VERTICAL-SCROLL",component:tee};function iee(e){return e.cols?e.cols.treeDepth+1:-1}function uo(e){var t;return((t=e.ctrlsSvc.getHeaderRowContainerCtrl())==null?void 0:t.getRowCount())??0}function iw(e){const t=[],n=e.ctrlsSvc.getHeaderRowContainerCtrls();for(const i of n){if(!i)continue;const r=i.getGroupRowCount()||0;for(let o=0;o<r;o++){const s=i.getGroupRowCtrlAtIndex(o),a=t[o];if(s){const l=ree(e,s);(a==null||l>a)&&(t[o]=l)}}}return t}function ree(e,t){let i=e.colModel.isPivotMode()?see(e):X5(e);const r=t.getHeaderCellCtrls();for(const o of r){const{column:s}=o,a=s.getAutoHeaderHeight();a!=null&&a>i&&s.isAutoHeaderHeight()&&(i=a)}return i}function rw(e){let n=e.colModel.isPivotMode()?oee(e):ah(e);return e.colModel.forAllCols(i=>{const r=i.getAutoHeaderHeight();r!=null&&r>n&&i.isAutoHeaderHeight()&&(n=r)}),n}function ah(e){return e.gos.get("headerHeight")??e.environment.getDefaultHeaderHeight()}function Y5(e){return e.gos.get("floatingFiltersHeight")??ah(e)}function X5(e){return e.gos.get("groupHeaderHeight")??ah(e)}function oee(e){return e.gos.get("pivotHeaderHeight")??ah(e)}function see(e){return e.gos.get("pivotGroupHeaderHeight")??X5(e)}var aee=class extends K{setComp(e,t,n){this.comp=e,this.eGui=t;const{beans:i}=this,{headerNavigation:r,touchSvc:o,ctrlsSvc:s}=i;r&&this.createManagedBean(new _u(n,{onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addManagedEventListeners({columnPivotModeChanged:this.onPivotModeChanged.bind(this,i),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this,i)}),this.onPivotModeChanged(i),this.setupHeaderHeight();const a=this.onHeaderContextMenu.bind(this);this.addManagedElementListeners(this.eGui,{contextmenu:a}),o==null||o.mockHeaderContextMenu(this,a),s.register("gridHeaderCtrl",this)}setupHeaderHeight(){const e=this.setHeaderHeight.bind(this);e(),this.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],e),this.addManagedEventListeners({displayedColumnsChanged:e,columnHeaderHeightChanged:e,columnGroupHeaderHeightChanged:()=>ys(this.beans,()=>e()),gridStylesChanged:e,advancedFilterEnabledChanged:e})}setHeaderHeight(){var o;const{beans:e}=this;let t=0;const n=iw(e).reduce((s,a)=>s+a,0),i=rw(e);if((o=e.filterManager)!=null&&o.hasFloatingFilters()&&(t+=Y5(e)),t+=n,t+=i,this.headerHeight===t)return;this.headerHeight=t;const r=`${t+1}px`;this.comp.setHeightAndMinHeight(r),this.eventSvc.dispatchEvent({type:"headerHeightChanged"})}onPivotModeChanged(e){const t=e.colModel.isPivotMode();this.comp.addOrRemoveCssClass("ag-pivot-on",t),this.comp.addOrRemoveCssClass("ag-pivot-off",!t)}onDisplayedColumnsChanged(e){const n=e.visibleCols.allCols.some(i=>i.isSpanHeaderHeight());this.comp.addOrRemoveCssClass("ag-header-allow-overflow",n)}onTabKeyDown(e){const t=this.gos.get("enableRtl"),n=e.shiftKey,i=n!==t?"LEFT":"RIGHT",{beans:r}=this,{headerNavigation:o,focusSvc:s}=r;(o.navigateHorizontally(i,!0,e)||!n&&s.focusOverlay(!1)||Du(r,n,!0))&&e.preventDefault()}handleKeyDown(e){let t=null;const{headerNavigation:n}=this.beans;switch(e.key){case j.LEFT:t="LEFT";case j.RIGHT:{ue(t)||(t="RIGHT"),n.navigateHorizontally(t,!1,e)&&e.preventDefault();break}case j.UP:t="UP";case j.DOWN:{ue(t)||(t="DOWN"),n.navigateVertically(t,null,e)&&e.preventDefault();break}default:return}}onFocusOut(e){const{relatedTarget:t}=e,{eGui:n,beans:i}=this;!t&&n.contains(Gt(i))||n.contains(t)||(i.focusSvc.focusedHeader=null)}onHeaderContextMenu(e,t,n){var s;const{menuSvc:i,ctrlsSvc:r}=this.beans;if(!e&&!n||!(i!=null&&i.isHeaderContextMenuEnabled()))return;const{target:o}=e??t;(o===this.eGui||o===((s=r.getHeaderRowContainerCtrl())==null?void 0:s.eViewport))&&i.showHeaderContextMenu(void 0,e,n)}},ow=class extends pt{constructor(e,t){super(e),this.ctrl=t}getCtrl(){return this.ctrl}},lee={tag:"div",cls:"ag-header-cell",role:"columnheader",children:[{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"},{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"}]},uee=class extends ow{constructor(e){super(lee,e),this.eResize=le,this.eHeaderCompWrapper=le,this.headerCompVersion=0}postConstruct(){const e=this.getGui();((r,o)=>{o!=null&&o!=""?e.setAttribute(r,o):e.removeAttribute(r)})("col-id",this.ctrl.column.getColId());const n={setWidth:r=>e.style.width=r,addOrRemoveCssClass:(r,o)=>this.addOrRemoveCssClass(r,o),setUserStyles:r=>rh(e,r),setAriaSort:r=>r?kX(e,r):FX(e),setUserCompDetails:r=>this.setUserCompDetails(r),getUserCompInstance:()=>this.headerComp};this.ctrl.setComp(n,this.getGui(),this.eResize,this.eHeaderCompWrapper,void 0);const i=this.ctrl.getSelectAllGui();i&&this.eResize.insertAdjacentElement("afterend",i)}destroy(){this.destroyHeaderComp(),super.destroy()}destroyHeaderComp(){this.headerComp&&(this.eHeaderCompWrapper.removeChild(this.headerCompGui),this.headerComp=this.destroyBean(this.headerComp),this.headerCompGui=void 0)}setUserCompDetails(e){this.headerCompVersion++;const t=this.headerCompVersion;e.newAgStackInstance().then(n=>this.afterCompCreated(t,n))}afterCompCreated(e,t){if(e!=this.headerCompVersion||!this.isAlive()){this.destroyBean(t);return}this.destroyHeaderComp(),this.headerComp=t,this.headerCompGui=t.getGui(),this.eHeaderCompWrapper.appendChild(this.headerCompGui),this.ctrl.setDragSource(this.getGui())}},cee={tag:"div",cls:"ag-header-group-cell",role:"columnheader",children:[{tag:"div",ref:"eHeaderCompWrapper",cls:"ag-header-cell-comp-wrapper",role:"presentation"},{tag:"div",ref:"eResize",cls:"ag-header-cell-resize",role:"presentation"}]},dee=class extends ow{constructor(e){super(cee,e),this.eResize=le,this.eHeaderCompWrapper=le}postConstruct(){const e=this.getGui(),t=(i,r)=>r!=null?e.setAttribute(i,r):e.removeAttribute(i);e.setAttribute("col-id",this.ctrl.column.getUniqueId());const n={addOrRemoveCssClass:(i,r)=>this.addOrRemoveCssClass(i,r),setUserStyles:i=>rh(e,i),setHeaderWrapperHidden:i=>{i?this.eHeaderCompWrapper.style.setProperty("display","none"):this.eHeaderCompWrapper.style.removeProperty("display")},setHeaderWrapperMaxHeight:i=>{i!=null?this.eHeaderCompWrapper.style.setProperty("max-height",`${i}px`):this.eHeaderCompWrapper.style.removeProperty("max-height"),this.eHeaderCompWrapper.classList.toggle("ag-header-cell-comp-wrapper-limited-height",i!=null)},setResizableDisplayed:i=>Ht(this.eResize,i),setWidth:i=>e.style.width=i,setAriaExpanded:i=>t("aria-expanded",i),setUserCompDetails:i=>this.setUserCompDetails(i),getUserCompInstance:()=>this.headerGroupComp};this.ctrl.setComp(n,e,this.eResize,this.eHeaderCompWrapper,void 0)}setUserCompDetails(e){e.newAgStackInstance().then(t=>this.afterHeaderCompCreated(t))}afterHeaderCompCreated(e){const t=()=>this.destroyBean(e);if(!this.isAlive()){t();return}const n=this.getGui(),i=e.getGui();this.eHeaderCompWrapper.appendChild(i),this.addDestroyFunc(t),this.headerGroupComp=e,this.ctrl.setDragSource(n)}addOrRemoveHeaderWrapperStyle(e,t){const{eHeaderCompWrapper:n}=this;t?n.style.setProperty(e,t):n.style.removeProperty(e)}},hee={tag:"div",cls:"ag-header-cell ag-floating-filter",role:"gridcell",children:[{tag:"div",ref:"eFloatingFilterBody",role:"presentation"},{tag:"div",ref:"eButtonWrapper",cls:"ag-floating-filter-button ag-hidden",role:"presentation",children:[{tag:"button",ref:"eButtonShowMainFilter",cls:"ag-button ag-floating-filter-button-button",attrs:{type:"button",tabindex:"-1"}}]}]},pee=class extends ow{constructor(e){super(hee,e),this.eFloatingFilterBody=le,this.eButtonWrapper=le,this.eButtonShowMainFilter=le}postConstruct(){const e=this.getGui(),t={addOrRemoveCssClass:(n,i)=>this.addOrRemoveCssClass(n,i),setUserStyles:n=>rh(e,n),addOrRemoveBodyCssClass:(n,i)=>this.eFloatingFilterBody.classList.toggle(n,i),setButtonWrapperDisplayed:n=>Ht(this.eButtonWrapper,n),setCompDetails:n=>this.setCompDetails(n),getFloatingFilterComp:()=>this.compPromise,setWidth:n=>e.style.width=n,setMenuIcon:n=>this.eButtonShowMainFilter.appendChild(n)};this.ctrl.setComp(t,e,this.eButtonShowMainFilter,this.eFloatingFilterBody,void 0)}setCompDetails(e){if(!e){this.destroyFloatingFilterComp(),this.compPromise=null;return}this.compPromise=e.newAgStackInstance(),this.compPromise.then(t=>this.afterCompCreated(t))}destroy(){this.destroyFloatingFilterComp(),super.destroy()}destroyFloatingFilterComp(){this.floatingFilterComp&&(this.eFloatingFilterBody.removeChild(this.floatingFilterComp.getGui()),this.floatingFilterComp=this.destroyBean(this.floatingFilterComp))}afterCompCreated(e){if(e){if(!this.isAlive()){this.destroyBean(e);return}this.destroyFloatingFilterComp(),this.floatingFilterComp=e,this.eFloatingFilterBody.appendChild(e.getGui()),e.afterGuiAttached&&e.afterGuiAttached()}}},fee=class extends pt{constructor(e){super({tag:"div",cls:e.headerRowClass,role:"row"}),this.ctrl=e,this.headerComps={}}postConstruct(){Hy(this.getGui(),this.ctrl.getAriaRowIndex());const e={setHeight:t=>this.getGui().style.height=t,setTop:t=>this.getGui().style.top=t,setHeaderCtrls:(t,n)=>this.setHeaderCtrls(t,n),setWidth:t=>this.getGui().style.width=t};this.ctrl.setComp(e,void 0)}destroy(){this.setHeaderCtrls([],!1),super.destroy()}setHeaderCtrls(e,t){if(!this.isAlive())return;const n=this.headerComps;if(this.headerComps={},e.forEach(i=>{const r=i.instanceId;let o=n[r];delete n[r],o==null&&(o=this.createHeaderComp(i),this.getGui().appendChild(o.getGui())),this.headerComps[r]=o}),Object.values(n).forEach(i=>{this.getGui().removeChild(i.getGui()),this.destroyBean(i)}),t){const i=Object.values(this.headerComps);i.sort((o,s)=>{const a=o.getCtrl().column.getLeft(),l=s.getCtrl().column.getLeft();return a-l});const r=i.map(o=>o.getGui());_A(this.getGui(),r)}}createHeaderComp(e){let t;switch(this.ctrl.type){case"group":t=new dee(e);break;case"filter":t=new pee(e);break;default:t=new uee(e);break}return this.createBean(t),t.setParentComponent(this),t}},sw=class extends K{constructor(e,t,n,i){super(),this.columnOrGroup=e,this.eCell=t,this.colsSpanning=i,this.columnOrGroup=e,this.ariaEl=t.querySelector("[role=columnheader]")||t,this.beans=n}setColsSpanning(e){this.colsSpanning=e,this.onLeftChanged()}getColumnOrGroup(){const{beans:e,colsSpanning:t}=this;return e.gos.get("enableRtl")&&t?wt(t):this.columnOrGroup}postConstruct(){const e=this.onLeftChanged.bind(this);this.addManagedListeners(this.columnOrGroup,{leftChanged:e}),this.setLeftFirstTime(),this.addManagedEventListeners({displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}setLeftFirstTime(){const{gos:e,colAnimation:t}=this.beans,n=e.get("suppressColumnMoveAnimation"),i=ue(this.columnOrGroup.getOldLeft());(t==null?void 0:t.isActive())&&i&&!n?this.animateInLeft():this.onLeftChanged()}animateInLeft(){const e=this.getColumnOrGroup(),t=this.modifyLeftForPrintLayout(e,e.getOldLeft()),n=this.modifyLeftForPrintLayout(e,e.getLeft());this.setLeft(t),this.actualLeft=n,this.beans.colAnimation.executeNextVMTurn(()=>{this.actualLeft===n&&this.setLeft(n)})}onLeftChanged(){const e=this.getColumnOrGroup(),t=e.getLeft();this.actualLeft=this.modifyLeftForPrintLayout(e,t),this.setLeft(this.actualLeft)}modifyLeftForPrintLayout(e,t){const{gos:n,visibleCols:i}=this.beans;if(!Xn(n,"print")||e.getPinned()==="left")return t;const o=i.getColsLeftWidth();if(e.getPinned()==="right"){const s=i.bodyWidth;return o+s+t}return o+t}setLeft(e){if(ue(e)&&(this.eCell.style.left=`${e}px`),en(this.columnOrGroup)){const t=this.columnOrGroup.getLeafColumns();if(!t.length)return;t.length>1&&EX(this.ariaEl,t.length)}}},gee=0,J5="headerCtrl",aw=class extends K{constructor(e,t){super(),this.column=e,this.rowCtrl=t,this.resizeToggleTimeout=0,this.resizeMultiplier=1,this.resizeFeature=null,this.lastFocusEvent=null,this.dragSource=null,this.instanceId=e.getUniqueId()+"-"+gee++}postConstruct(){const e=this.refreshTabIndex.bind(this);this.addManagedPropertyListeners(["suppressHeaderFocus"],e),this.addManagedEventListeners({overlayExclusiveChanged:e})}shouldStopEventPropagation(e){const{headerRowIndex:t,column:n}=this.beans.focusSvc.focusedHeader,i=n.getDefinition(),r=i&&i.suppressHeaderKeyboardEvent;if(!ue(r))return!1;const o=Le(this.gos,{colDef:i,column:n,headerRowIndex:t,event:e});return!!r(o)}getWrapperHasFocus(){return Gt(this.beans)===this.eGui}setGui(e,t){this.eGui=e,this.addDomData(t),t.addManagedListeners(this.beans.eventSvc,{displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this)}),t.addManagedElementListeners(this.eGui,{focus:this.onGuiFocus.bind(this)}),this.onDisplayedColumnsChanged(),this.refreshTabIndex()}refreshHeaderStyles(){const e=this.column.getDefinition();if(!e)return;const{headerStyle:t}=e;let n;if(typeof t=="function"){const i=this.getHeaderClassParams();n=t(i)}else n=t;n&&this.comp.setUserStyles(n)}onGuiFocus(){this.eventSvc.dispatchEvent({type:"headerFocused",column:this.column})}setupAutoHeight(e){const{wrapperElement:t,checkMeasuringCallback:n,compBean:i}=e,{beans:r}=this,o=d=>{if(!this.isAlive()||!i.isAlive())return;const{paddingTop:h,paddingBottom:p,borderBottomWidth:f,borderTopWidth:g}=Cl(this.eGui),m=h+p+f+g,b=t.offsetHeight+m;if(d<5){const S=wn(r),y=!S||!S.contains(t),x=b==0;if(y||x){X1(()=>o(d+1),"raf",r);return}}this.setColHeaderHeight(this.column,b)};let s=!1,a;const l=()=>{const d=this.column.isAutoHeaderHeight();d&&!s&&u(),!d&&s&&c()},u=()=>{s=!0,o(0),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!0),a=va(this.beans,t,()=>o(0))},c=()=>{s=!1,a&&a(),this.comp.addOrRemoveCssClass("ag-header-cell-auto-height",!1),a=void 0};l(),i.addDestroyFunc(()=>c()),i.addManagedListeners(this.column,{widthChanged:()=>s&&o(0)}),i.addManagedEventListeners({sortChanged:()=>{s&&window.setTimeout(()=>o(0))}}),n&&n(l)}onDisplayedColumnsChanged(){const{comp:e,column:t,beans:n,eGui:i}=this;!e||!t||!i||(T5(e,t,n.visibleCols),MA(i,n.visibleCols.getAriaColIndex(t)))}addResizeAndMoveKeyboardListeners(e){e.addManagedListeners(this.eGui,{keydown:this.onGuiKeyDown.bind(this),keyup:this.onGuiKeyUp.bind(this)})}refreshTabIndex(){const e=Xa(this.beans);this.eGui&&Er(this.eGui,"tabindex",e?null:"-1")}onGuiKeyDown(e){var o;const t=Gt(this.beans),n=e.key===j.LEFT||e.key===j.RIGHT;if(this.isResizing&&(e.preventDefault(),e.stopImmediatePropagation()),t!==this.eGui||!e.shiftKey&&!e.altKey||((this.isResizing||n)&&(e.preventDefault(),e.stopImmediatePropagation()),!n))return;const r=e.key===j.LEFT!==this.gos.get("enableRtl")?"left":"right";if(e.altKey){this.isResizing=!0,this.resizeMultiplier+=1;const s=this.getViewportAdjustedResizeDiff(e);this.resizeHeader(s,e.shiftKey),(o=this.resizeFeature)==null||o.toggleColumnResizing(!0)}else this.moveHeader(r)}moveHeader(e){var t;(t=this.beans.colMoves)==null||t.moveHeader(e,this.eGui,this.column,this.rowCtrl.pinned,this)}getViewportAdjustedResizeDiff(e){const t=this.getResizeDiff(e),{pinnedCols:n}=this.beans;return n?n.getHeaderResizeDiff(t,this.column):t}getResizeDiff(e){const{gos:t,column:n}=this;let i=e.key===j.LEFT!==t.get("enableRtl");const r=n.getPinned(),o=t.get("enableRtl");return r&&o!==(r==="right")&&(i=!i),(i?-1:1)*this.resizeMultiplier}onGuiKeyUp(){this.isResizing&&(this.resizeToggleTimeout&&(window.clearTimeout(this.resizeToggleTimeout),this.resizeToggleTimeout=0),this.isResizing=!1,this.resizeMultiplier=1,this.resizeToggleTimeout=window.setTimeout(()=>{var e;(e=this.resizeFeature)==null||e.toggleColumnResizing(!1)},150))}handleKeyDown(e){const t=this.getWrapperHasFocus();switch(e.key){case j.PAGE_DOWN:case j.PAGE_UP:case j.PAGE_HOME:case j.PAGE_END:t&&e.preventDefault()}}addDomData(e){const t=J5,{eGui:n,gos:i}=this;hl(i,n,t,this),e.addDestroyFunc(()=>hl(i,n,t,null))}focus(e){const{eGui:t}=this;return t?(this.lastFocusEvent=e||null,t.focus(),!0):!1}focusThis(){this.beans.focusSvc.focusedHeader={headerRowIndex:this.rowCtrl.rowIndex,column:this.column}}removeDragSource(){var e;this.dragSource&&((e=this.beans.dragAndDrop)==null||e.removeDragSource(this.dragSource),this.dragSource=null)}handleContextMenuMouseEvent(e,t,n){const i=e??t,{menuSvc:r,gos:o}=this.beans;o.get("preventDefaultOnContextMenu")&&i.preventDefault(),r!=null&&r.isHeaderContextMenuEnabled(n)&&r.showHeaderContextMenu(n,e,t),this.dispatchColumnMouseEvent("columnHeaderContextMenu",n)}dispatchColumnMouseEvent(e,t){this.eventSvc.dispatchEvent({type:e,column:t})}setColHeaderHeight(e,t){if(!e.setAutoHeaderHeight(t))return;const{eventSvc:n}=this;e.isColumn?n.dispatchEvent({type:"columnHeaderHeightChanged",column:e,columns:[e],source:"autosizeColumnHeaderHeight"}):n.dispatchEvent({type:"columnGroupHeaderHeightChanged",columnGroup:e,source:"autosizeColumnGroupHeaderHeight"})}clearComponent(){this.removeDragSource(),this.resizeFeature=null,this.comp=null,this.eGui=null}destroy(){super.destroy(),this.column=null,this.lastFocusEvent=null,this.rowCtrl=null}},mee=class extends aw{constructor(){super(...arguments),this.refreshFunctions={},this.userHeaderClasses=new Set,this.ariaDescriptionProperties=new Map}setComp(e,t,n,i,r){this.comp=e;const{rowCtrl:o,column:s,beans:a}=this,{colResize:l,context:u,colHover:c,rangeSvc:d}=a,h=oh(this,u,r);this.setGui(t,h),this.updateState(),this.setupWidth(h),this.setupMovingCss(h),this.setupMenuClass(h),this.setupSortableClass(h),this.setupWrapTextClass(),this.refreshSpanHeaderHeight(),this.setupAutoHeight({wrapperElement:i,checkMeasuringCallback:f=>this.setRefreshFunction("measuring",f),compBean:h}),this.addColumnHoverListener(h),this.setupFilterClass(h),this.setupStylesFromColDef(),this.setupClassesFromColDef(),this.setupTooltip(),this.addActiveHeaderMouseListeners(h),this.setupSelectAll(h),this.setupUserComp(),this.refreshAria(),l?this.resizeFeature=h.createManagedBean(l.createResizeFeature(o.pinned,s,n,e,this)):Ht(n,!1),c==null||c.createHoverFeature(h,[s],t),d==null||d.createRangeHighlightFeature(h,s,e),h.createManagedBean(new sw(s,t,a)),h.createManagedBean(new _u(t,{shouldStopEventPropagation:f=>this.shouldStopEventPropagation(f),onTabKeyDown:()=>null,handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this),onFocusOut:this.onFocusOut.bind(this)})),this.addResizeAndMoveKeyboardListeners(h),h.addManagedPropertyListeners(["suppressMovableColumns","suppressMenuHide","suppressAggFuncInHeader","enableAdvancedFilter"],()=>this.refresh()),h.addManagedListeners(s,{colDefChanged:()=>this.refresh()}),h.addManagedListeners(s,{headerHighlightChanged:this.onHeaderHighlightChanged.bind(this)});const p=()=>this.checkDisplayName();h.addManagedEventListeners({columnValueChanged:p,columnRowGroupChanged:p,columnPivotChanged:p,headerHeightChanged:this.onHeaderHeightChanged.bind(this)}),h.addDestroyFunc(()=>{this.refreshFunctions={},this.selectAllFeature=null,this.dragSourceElement=void 0,this.userCompDetails=null,this.userHeaderClasses.clear(),this.ariaDescriptionProperties.clear(),this.clearComponent()})}resizeHeader(e,t){var n;(n=this.beans.colResize)==null||n.resizeHeader(this.column,e,t)}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Le(t.gos,{colDef:n,column:e,floatingFilter:!1})}setupUserComp(){const e=this.lookupUserCompDetails();e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setUserCompDetails(e)}lookupUserCompDetails(){const e=this.createParams(),t=this.column.getColDef();return lZ(this.beans.userCompFactory,t,e)}createParams(){const{menuSvc:e,sortSvc:t,colFilter:n,gos:i}=this.beans;return Le(i,{column:this.column,displayName:this.displayName,enableSorting:this.column.isSortable(),enableMenu:this.menuEnabled,enableFilterButton:this.openFilterEnabled&&!!(e!=null&&e.isHeaderFilterButtonEnabled(this.column)),enableFilterIcon:!!n&&(!this.openFilterEnabled||Ji(this.gos)),showColumnMenu:(o,s)=>{e==null||e.showColumnMenu({column:this.column,buttonElement:o,positionBy:"button",onClosedCallback:s})},showColumnMenuAfterMouseClick:(o,s)=>{e==null||e.showColumnMenu({column:this.column,mouseEvent:o,positionBy:"mouse",onClosedCallback:s})},showFilter:o=>{e==null||e.showFilterMenu({column:this.column,buttonElement:o,containerType:"columnFilter",positionBy:"button"})},progressSort:o=>{t==null||t.progressSort(this.column,!!o,"uiColumnSorted")},setSort:(o,s)=>{t==null||t.setSortForColumn(this.column,o,!!s,"uiColumnSorted")},eGridHeader:this.eGui,setTooltip:(o,s)=>{i.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}})}setupSelectAll(e){const{selectionSvc:t}=this.beans;t&&(this.selectAllFeature=e.createManagedBean(t.createSelectAllFeature(this.column)),this.selectAllFeature.setComp(this))}getSelectAllGui(){var e;return(e=this.selectAllFeature)==null?void 0:e.getCheckboxGui()}handleKeyDown(e){var t;super.handleKeyDown(e),e.key===j.SPACE&&((t=this.selectAllFeature)==null||t.onSpaceKeyDown(e)),e.key===j.ENTER&&this.onEnterKeyDown(e),e.key===j.DOWN&&e.altKey&&this.showMenuOnKeyPress(e,!1)}onEnterKeyDown(e){var t;e.ctrlKey||e.metaKey?this.showMenuOnKeyPress(e,!0):this.sortable&&((t=this.beans.sortSvc)==null||t.progressSort(this.column,e.shiftKey,"uiColumnSorted"))}showMenuOnKeyPress(e,t){const n=this.comp.getUserCompInstance();H4(n)&&n.onMenuKeyboardShortcut(t)&&e.preventDefault()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||(this.focusThis(),this.announceAriaDescription()),_Z()&&this.setActiveHeader(!0)}onFocusOut(e){this.eGui.contains(e.relatedTarget)||this.setActiveHeader(!1)}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderTooltip(this.tooltipFeature,this,e,t)}setupStylesFromColDef(){this.setRefreshFunction("headerStyles",this.refreshHeaderStyles.bind(this)),this.refreshHeaderStyles()}setupClassesFromColDef(){const e=()=>{const t=this.column.getColDef(),n=F5(t,this.gos,this.column,null),i=this.userHeaderClasses;this.userHeaderClasses=new Set(n),n.forEach(r=>{i.has(r)?i.delete(r):this.comp.addOrRemoveCssClass(r,!0)}),i.forEach(r=>this.comp.addOrRemoveCssClass(r,!1))};this.setRefreshFunction("headerClasses",e),e()}setDragSource(e){var t;this.dragSourceElement=e,this.removeDragSource(),!(!e||!this.draggable)&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null)}updateState(){const{menuSvc:e}=this.beans;this.menuEnabled=!!(e!=null&&e.isColumnMenuInHeaderEnabled(this.column)),this.openFilterEnabled=!!(e!=null&&e.isFilterMenuInHeaderEnabled(this.column)),this.sortable=this.column.isSortable(),this.displayName=this.calculateDisplayName(),this.draggable=this.workOutDraggable()}setRefreshFunction(e,t){this.refreshFunctions[e]=t}refresh(){this.updateState(),this.refreshHeaderComp(),this.refreshAria(),Object.values(this.refreshFunctions).forEach(e=>e())}refreshHeaderComp(){const e=this.lookupUserCompDetails();if(!e)return;(this.comp.getUserCompInstance()!=null&&this.userCompDetails.componentClass==e.componentClass?this.attemptHeaderCompRefresh(e.params):!1)?this.setDragSource(this.dragSourceElement):this.setCompDetails(e)}attemptHeaderCompRefresh(e){const t=this.comp.getUserCompInstance();return!t||!t.refresh?!1:t.refresh(e)}calculateDisplayName(){return this.beans.colNames.getDisplayNameForColumn(this.column,"header",!0)}checkDisplayName(){this.displayName!==this.calculateDisplayName()&&this.refresh()}workOutDraggable(){const e=this.column.getColDef();return!!(!this.gos.get("suppressMovableColumns")&&!e.suppressMovable&&!e.lockPosition)||!!e.enableRowGroup||!!e.enablePivot}setupWidth(e){const t=()=>{const n=this.column.getActualWidth();this.comp.setWidth(`${n}px`)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupMovingCss(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-moving",this.column.isMoving())};e.addManagedListeners(this.column,{movingChanged:t}),t()}setupMenuClass(e){const t=()=>{var n;(n=this.comp)==null||n.addOrRemoveCssClass("ag-column-menu-visible",this.column.isMenuVisible())};e.addManagedListeners(this.column,{menuVisibleChanged:t}),t()}setupSortableClass(e){const t=()=>{this.comp.addOrRemoveCssClass("ag-header-cell-sortable",!!this.sortable)};t(),this.setRefreshFunction("updateSortable",t),e.addManagedEventListeners({sortChanged:this.refreshAriaSort.bind(this)})}setupFilterClass(e){const t=()=>{const n=this.column.isFilterActive();this.comp.addOrRemoveCssClass("ag-header-cell-filtered",n),this.refreshAria()};e.addManagedListeners(this.column,{filterActiveChanged:t}),t()}setupWrapTextClass(){const e=()=>{const t=!!this.column.getColDef().wrapHeaderText;this.comp.addOrRemoveCssClass("ag-header-cell-wrap-text",t)};e(),this.setRefreshFunction("wrapText",e)}onHeaderHighlightChanged(){const e=this.column.getHighlighted(),t=e===0,n=e===1;this.comp.addOrRemoveCssClass("ag-header-highlight-before",t),this.comp.addOrRemoveCssClass("ag-header-highlight-after",n)}onDisplayedColumnsChanged(){super.onDisplayedColumnsChanged(),this.isAlive()&&this.onHeaderHeightChanged()}onHeaderHeightChanged(){this.refreshSpanHeaderHeight()}refreshSpanHeaderHeight(){const{eGui:e,column:t,comp:n,beans:i}=this,r=iw(this.beans),o=r.reduce((c,d)=>c+=d,0)===0;if(n.addOrRemoveCssClass("ag-header-parent-hidden",o),!t.isSpanHeaderHeight()){e.style.removeProperty("top"),e.style.removeProperty("height"),n.addOrRemoveCssClass("ag-header-span-height",!1),n.addOrRemoveCssClass("ag-header-span-total",!1);return}const{numberOfParents:s,isSpanningTotal:a}=this.column.getColumnGroupPaddingInfo();n.addOrRemoveCssClass("ag-header-span-height",s>0);const l=rw(i);if(s===0){n.addOrRemoveCssClass("ag-header-span-total",!1),e.style.setProperty("top","0px"),e.style.setProperty("height",`${l}px`);return}n.addOrRemoveCssClass("ag-header-span-total",a);let u=0;for(let c=0;c<s;c++)u+=r[r.length-1-c];e.style.setProperty("top",`${-u}px`),e.style.setProperty("height",`${l+u}px`)}refreshAriaSort(){var e;if(this.sortable){const t=this.getLocaleTextFunc(),n=((e=this.beans.sortSvc)==null?void 0:e.getDisplaySortForColumn(this.column))||null;this.comp.setAriaSort(pX(n)),this.setAriaDescriptionProperty("sort",t("ariaSortableColumn","Press ENTER to sort"))}else this.comp.setAriaSort(),this.setAriaDescriptionProperty("sort",null)}refreshAriaMenu(){if(this.menuEnabled){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("menu",e("ariaMenuColumn","Press ALT DOWN to open column menu"))}else this.setAriaDescriptionProperty("menu",null)}refreshAriaFilterButton(){if(this.openFilterEnabled&&!Ji(this.gos)){const e=this.getLocaleTextFunc();this.setAriaDescriptionProperty("filterButton",e("ariaFilterColumn","Press CTRL ENTER to open filter"))}else this.setAriaDescriptionProperty("filterButton",null)}refreshAriaFiltered(){const e=this.getLocaleTextFunc();this.column.isFilterActive()?this.setAriaDescriptionProperty("filter",e("ariaColumnFiltered","Column Filtered")):this.setAriaDescriptionProperty("filter",null)}setAriaDescriptionProperty(e,t){t!=null?this.ariaDescriptionProperties.set(e,t):this.ariaDescriptionProperties.delete(e)}announceAriaDescription(){var t;if(!this.eGui.contains(Gt(this.beans)))return;const e=Array.from(this.ariaDescriptionProperties.keys()).sort((n,i)=>n==="filter"?-1:i.charCodeAt(0)-n.charCodeAt(0)).map(n=>this.ariaDescriptionProperties.get(n)).join(". ");(t=this.beans.ariaAnnounce)==null||t.announceValue(e,"columnHeader")}refreshAria(){this.refreshAriaSort(),this.refreshAriaMenu(),this.refreshAriaFilterButton(),this.refreshAriaFiltered()}addColumnHoverListener(e){var t;(t=this.beans.colHover)==null||t.addHeaderColumnHoverListener(e,this.comp,this.column)}addActiveHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>{this.setActiveHeader(!0),this.dispatchColumnMouseEvent("columnHeaderClicked",this.column)},i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column);e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.setActiveHeader(e),this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column})}setActiveHeader(e){this.comp.addOrRemoveCssClass("ag-header-active",e)}getAnchorElementForMenu(e){const t=this.comp.getUserCompInstance();return H4(t)?t.getAnchorElementForMenu(e):this.eGui}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function H4(e){return typeof e.getAnchorElementForMenu=="function"&&typeof e.onMenuKeyboardShortcut=="function"}var vee=0,mv=class extends K{constructor(e,t,n){super(),this.rowIndex=e,this.pinned=t,this.type=n,this.instanceId=vee++,this.allCtrls=[];const i=n=="group"?"ag-header-row-column-group":n=="filter"?"ag-header-row-column-filter":"ag-header-row-column";this.headerRowClass=`ag-header-row ${i}`}postConstruct(){this.isPrintLayout=Xn(this.gos,"print"),this.isEnsureDomOrder=this.gos.get("ensureDomOrder")}areCellsRendered(){return this.comp?this.allCtrls.every(e=>e.eGui!=null):!1}setComp(e,t,n=!0){this.comp=e,t=oh(this,this.beans.context,t),n&&(this.onRowHeightChanged(),this.onVirtualColumnsChanged()),this.setWidth(),this.addEventListeners(t)}getAriaRowIndex(){return this.rowIndex+1}addEventListeners(e){const t=this.onRowHeightChanged.bind(this),n=this.onDisplayedColumnsChanged.bind(this);e.addManagedEventListeners({columnResized:this.setWidth.bind(this),displayedColumnsChanged:n,virtualColumnsChanged:i=>this.onVirtualColumnsChanged(i.afterScroll),columnGroupHeaderHeightChanged:t,columnHeaderHeightChanged:t,gridStylesChanged:t,advancedFilterEnabledChanged:t}),e.addManagedPropertyListener("domLayout",n),e.addManagedPropertyListener("ensureDomOrder",i=>this.isEnsureDomOrder=i.currentValue),e.addManagedPropertyListeners(["headerHeight","pivotHeaderHeight","groupHeaderHeight","pivotGroupHeaderHeight","floatingFiltersHeight"],t)}onDisplayedColumnsChanged(){this.isPrintLayout=Xn(this.gos,"print"),this.onVirtualColumnsChanged(),this.setWidth(),this.onRowHeightChanged()}setWidth(){const e=this.getWidthForRow();this.comp.setWidth(`${e}px`)}getWidthForRow(){const{visibleCols:e}=this.beans;return this.isPrintLayout?this.pinned!=null?0:e.getContainerWidth("right")+e.getContainerWidth("left")+e.getContainerWidth(null):e.getContainerWidth(this.pinned)}onRowHeightChanged(){const{topOffset:e,rowHeight:t}=this.getTopAndHeight();this.comp.setTop(e+"px"),this.comp.setHeight(t+"px")}getTopAndHeight(){const{filterManager:e}=this.beans,t=[],n=iw(this.beans),i=rw(this.beans);t.push(...n),t.push(i),e!=null&&e.hasFloatingFilters()&&t.push(Y5(this.beans));let r=0;for(let s=0;s<this.rowIndex;s++)r+=t[s];const o=t[this.rowIndex];return{topOffset:r,rowHeight:o}}onVirtualColumnsChanged(e=!1){const t=this.getUpdatedHeaderCtrls(),n=this.isEnsureDomOrder||this.isPrintLayout;this.comp.setHeaderCtrls(t,n,e)}getUpdatedHeaderCtrls(){const e=this.ctrlsById;this.ctrlsById=new Map;const t=this.getColumnsInViewport();for(const i of t)this.recycleAndCreateHeaderCtrls(i,this.ctrlsById,e);const n=i=>{const{focusSvc:r,visibleCols:o}=this.beans;return r.isHeaderWrapperFocused(i)?o.isVisible(i.column):!1};if(e)for(const[i,r]of e)n(r)?this.ctrlsById.set(i,r):this.destroyBean(r);return this.allCtrls=Array.from(this.ctrlsById.values()),this.allCtrls}getHeaderCellCtrls(){return this.allCtrls}recycleAndCreateHeaderCtrls(e,t,n){if(e.isEmptyGroup())return;const i=e.getUniqueId();let r;if(n&&(r=n.get(i),n.delete(i)),r&&r.column!=e&&(this.destroyBean(r),r=void 0),r==null)switch(this.type){case"filter":{r=this.createBean(this.beans.registry.createDynamicBean("headerFilterCellCtrl",!0,e,this));break}case"group":r=this.createBean(this.beans.registry.createDynamicBean("headerGroupCellCtrl",!0,e,this));break;default:r=this.createBean(new mee(e,this));break}t.set(i,r)}getColumnsInViewport(){return this.isPrintLayout?this.getColumnsInViewportPrintLayout():this.getColumnsInViewportNormalLayout()}getColumnsInViewportPrintLayout(){if(this.pinned!=null)return[];let e=[];const t=this.getActualDepth(),{colViewport:n}=this.beans;return["left",null,"right"].forEach(i=>{const r=n.getHeadersToRender(i,t);e=e.concat(r)}),e}getActualDepth(){return this.type=="filter"?this.rowIndex-1:this.rowIndex}getColumnsInViewportNormalLayout(){return this.beans.colViewport.getHeadersToRender(this.pinned,this.getActualDepth())}focusHeader(e,t){const n=this.allCtrls.find(r=>r.column==e);return n?n.focus(t):!1}destroy(){this.allCtrls=this.destroyBeans(this.allCtrls),this.ctrlsById=void 0,super.destroy()}},Cee=class extends K{constructor(e){super(),this.pinned=e,this.hidden=!1,this.includeFloatingFilter=!1,this.groupsRowCtrls=[]}setComp(e,t){this.comp=e,this.eViewport=t;const{pinnedCols:n,ctrlsSvc:i,colModel:r,colMoves:o,filterManager:s}=this.beans;this.setupCenterWidth(),n==null||n.setupHeaderPinnedWidth(this),this.setupDragAndDrop(o,this.eViewport);const a=this.onDisplayedColumnsChanged.bind(this,s);this.addManagedEventListeners({gridColumnsChanged:this.onGridColumnsChanged.bind(this),displayedColumnsChanged:a,advancedFilterEnabledChanged:a});const l=`${typeof this.pinned=="string"?this.pinned:"center"}Header`;i.register(l,this),r.ready&&this.refresh()}getAllCtrls(){const e=[...this.groupsRowCtrls];return this.columnsRowCtrl&&e.push(this.columnsRowCtrl),this.filtersRowCtrl&&e.push(this.filtersRowCtrl),e}refresh(e=!1){const{focusSvc:t,colModel:n,filterManager:i}=this.beans;let r=0;const o=t.getFocusHeaderToUseAfterRefresh(),s=()=>{const c=iee(n)-1;this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls);for(let d=0;d<c;d++){const h=this.createBean(new mv(r++,this.pinned,"group"));this.groupsRowCtrls.push(h)}},a=()=>{const c=r++,d=!this.hidden&&(this.columnsRowCtrl==null||!e||this.columnsRowCtrl.rowIndex!==c);(d||this.hidden)&&(this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl)),d&&(this.columnsRowCtrl=this.createBean(new mv(c,this.pinned,"column")))},l=()=>{this.includeFloatingFilter=!!(i!=null&&i.hasFloatingFilters())&&!this.hidden;const c=()=>{this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl)};if(!this.includeFloatingFilter){c();return}const d=r++;if(this.filtersRowCtrl){const h=this.filtersRowCtrl.rowIndex!==d;(!e||h)&&c()}this.filtersRowCtrl||(this.filtersRowCtrl=this.createBean(new mv(d,this.pinned,"filter")))};s(),a(),l();const u=this.getAllCtrls();this.comp.setCtrls(u),this.restoreFocusOnHeader(t,o)}getHeaderCtrlForColumn(e){const t=n=>n==null?void 0:n.getHeaderCellCtrls().find(i=>i.column===e);if(da(e))return t(this.columnsRowCtrl);if(this.groupsRowCtrls.length!==0)for(let n=0;n<this.groupsRowCtrls.length;n++){const i=t(this.groupsRowCtrls[n]);if(i)return i}}getHtmlElementForColumnHeader(e){var t;return((t=this.getHeaderCtrlForColumn(e))==null?void 0:t.eGui)??null}getRowType(e){var t;return(t=this.getAllCtrls()[e])==null?void 0:t.type}focusHeader(e,t,n){const r=this.getAllCtrls()[e];return r?r.focusHeader(t,n):!1}getGroupRowCount(){return this.groupsRowCtrls.length}getGroupRowCtrlAtIndex(e){return this.groupsRowCtrls[e]}getRowCount(){return this.groupsRowCtrls.length+(this.columnsRowCtrl?1:0)+(this.filtersRowCtrl?1:0)}setHorizontalScroll(e){this.comp.setViewportScrollLeft(e)}onScrollCallback(e){this.addManagedElementListeners(this.eViewport,{scroll:e})}destroy(){this.filtersRowCtrl=this.destroyBean(this.filtersRowCtrl),this.columnsRowCtrl=this.destroyBean(this.columnsRowCtrl),this.groupsRowCtrls=this.destroyBeans(this.groupsRowCtrls),super.destroy()}setupDragAndDrop(e,t){const n=e==null?void 0:e.createBodyDropTarget(this.pinned,t);n&&this.createManagedBean(n)}restoreFocusOnHeader(e,t){if(!t)return;const{column:n}=t;n.getPinned()==this.pinned&&e.focusHeaderPosition({headerPosition:t})}onGridColumnsChanged(){this.refresh(!0)}onDisplayedColumnsChanged(e){const t=!!(e!=null&&e.hasFloatingFilters())&&!this.hidden;this.includeFloatingFilter!==t&&this.refresh(!0)}setupCenterWidth(){this.pinned==null&&this.createManagedBean(new tw(e=>this.comp.setCenterWidth(`${e}px`),!0))}},bee=class extends K{constructor(){super(...arguments),this.beanName="menuSvc"}postConstruct(){const{enterpriseMenuFactory:e,filterMenuFactory:t}=this.beans;this.activeMenuFactory=e??t}showColumnMenu(e){this.showColumnMenuCommon(this.activeMenuFactory,e,"columnMenu")}showFilterMenu(e){const{enterpriseMenuFactory:t,filterMenuFactory:n}=this.beans,i=t&&Ji(this.gos)?t:n;this.showColumnMenuCommon(i,e,e.containerType,!0)}showHeaderContextMenu(e,t,n){var i;(i=this.activeMenuFactory)==null||i.showMenuAfterContextMenuEvent(e,t,n)}hidePopupMenu(){var e,t;(e=this.beans.contextMenuSvc)==null||e.hideActiveMenu(),(t=this.activeMenuFactory)==null||t.hideActiveMenu()}isColumnMenuInHeaderEnabled(e){var n;const{suppressHeaderMenuButton:t}=e.getColDef();return!t&&!!((n=this.activeMenuFactory)!=null&&n.isMenuEnabled(e))&&(Ji(this.gos)||!!this.beans.enterpriseMenuFactory)}isFilterMenuInHeaderEnabled(e){var t;return!e.getColDef().suppressHeaderFilterButton&&!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))}isHeaderContextMenuEnabled(e){const t=e&&da(e)?e.getColDef():e==null?void 0:e.getColGroupDef();return!(t!=null&&t.suppressHeaderContextMenu)&&this.gos.get("columnMenu")==="new"}isHeaderMenuButtonAlwaysShowEnabled(){return this.isSuppressMenuHide()}isHeaderMenuButtonEnabled(){const e=!this.isSuppressMenuHide();return!(Ua()&&e)}isHeaderFilterButtonEnabled(e){return this.isFilterMenuInHeaderEnabled(e)&&!Ji(this.gos)&&!this.isFloatingFilterButtonDisplayed(e)}isFilterMenuItemEnabled(e){var t;return!!((t=this.beans.filterManager)!=null&&t.isFilterAllowed(e))&&!Ji(this.gos)&&!this.isFilterMenuInHeaderEnabled(e)&&!this.isFloatingFilterButtonDisplayed(e)}isFloatingFilterButtonEnabled(e){return!e.getColDef().suppressFloatingFilterButton}isFloatingFilterButtonDisplayed(e){return!!e.getColDef().floatingFilter&&this.isFloatingFilterButtonEnabled(e)}isSuppressMenuHide(){const e=this.gos,t=e.get("suppressMenuHide");return Ji(e)?e.exists("suppressMenuHide")?t:!1:t}showColumnMenuCommon(e,t,n,i){const{positionBy:r,onClosedCallback:o}=t,s=t.column;if(r==="button"){const{buttonElement:a}=t;e==null||e.showMenuAfterButtonClick(s,a,n,o,i)}else if(r==="mouse"){const{mouseEvent:a}=t;e==null||e.showMenuAfterMouseEvent(s,a,n,o,i)}else if(s){const a=this.beans,l=a.ctrlsSvc;l.getScrollFeature().ensureColumnVisible(s,"auto"),ys(a,()=>{var c;const u=(c=l.getHeaderRowContainerCtrl(s.getPinned()))==null?void 0:c.getHeaderCtrlForColumn(s);u&&(e==null||e.showMenuAfterButtonClick(s,u.getAnchorElementForMenu(i),n,o,!0))})}}};function V4(e,t,n){e.menuVisible!==t&&(e.menuVisible=t,e.dispatchColEvent("menuVisibleChanged",n))}var Z5=class extends pt{constructor(){super()}},yee={tag:"span",cls:"ag-overlay-loading-center",attrs:{"aria-live":"polite","aria-atomic":"true"}},wee=class extends Z5{init(){var t;const e=ns((t=this.gos.get("overlayLoadingTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??yee),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("loadingOoo","Loading...")})}}},See={tag:"span",cls:"ag-overlay-no-rows-center"},xee=class extends Z5{init(){var t;const e=ns((t=this.gos.get("overlayNoRowsTemplate"))==null?void 0:t.trim());if(this.setTemplate(e??See),!e){const n=this.getLocaleTextFunc();setTimeout(()=>{this.getGui().textContent=n("noRowsToShow","No Rows To Show")})}}};function Eee(e,t,n){const i=br(e,t,n);if(i){const{className:o}=i;if(typeof o=="string"&&o.indexOf("ag-icon")>-1||typeof o=="object"&&o["ag-icon"])return i}const r=gn({tag:"span"});return r.appendChild(i),r}function br(e,t,n){var o;let i=null;e==="smallDown"?ie(262):e==="smallLeft"?ie(263):e==="smallRight"&&ie(264);const r=n&&n.getColDef().icons;if(r&&(i=r[e]),t.gos&&!i){const s=t.gos.get("icons");s&&(i=s[e])}if(i){let s;if(typeof i=="function")s=i();else if(typeof i=="string")s=i;else{ie(38,{iconName:e});return}if(typeof s=="string")return Sg(s);if($y(s))return s;ie(133,{iconName:e});return}else{const s=t.registry.getIcon(e);return s||(o=t.validation)==null||o.validateIcon(e),gn({tag:"span",cls:`ag-icon ag-icon-${s??e}`,role:"presentation",attrs:{unselectable:"on"}})}}var kee=".ag-dnd-ghost{align-items:center;background-color:var(--ag-drag-and-drop-image-background-color);border:var(--ag-drag-and-drop-image-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-drag-and-drop-image-shadow);color:var(--ag-text-color);cursor:move;display:flex;font-weight:500;gap:var(--ag-cell-widget-spacing);height:var(--ag-header-height);overflow:hidden;padding-left:var(--ag-cell-horizontal-padding);padding-right:var(--ag-cell-horizontal-padding);text-overflow:ellipsis;transform:translateY(calc(var(--ag-spacing)*2));white-space:nowrap}",Fee={tag:"div",children:[{tag:"div",ref:"eGhost",cls:"ag-dnd-ghost ag-unselectable",children:[{tag:"span",ref:"eIcon",cls:"ag-dnd-ghost-icon ag-shake-left-to-right"},{tag:"div",ref:"eLabel",cls:"ag-dnd-ghost-label"}]}]},Tee=class extends pt{constructor(){super(),this.dragSource=null,this.eIcon=le,this.eLabel=le,this.eGhost=le,this.registerCSS(kee)}postConstruct(){const e=t=>Eee(t,this.beans,null);this.dropIconMap={pinned:e("columnMovePin"),hide:e("columnMoveHide"),move:e("columnMoveMove"),left:e("columnMoveLeft"),right:e("columnMoveRight"),group:e("columnMoveGroup"),aggregate:e("columnMoveValue"),pivot:e("columnMovePivot"),notAllowed:e("dropNotAllowed")}}init(e){this.dragSource=e.dragSource,this.setTemplate(Fee),this.beans.environment.applyThemeClasses(this.eGhost)}destroy(){this.dragSource=null,super.destroy()}setIcon(e,t){const{eIcon:n,dragSource:i,dropIconMap:r,gos:o}=this;si(n);let s=null;e||(e=i!=null&&i.getDefaultIconName?i.getDefaultIconName():"notAllowed"),s=r[e],n.classList.toggle("ag-shake-left-to-right",t),!(s===r.hide&&o.get("suppressDragLeaveHidesColumns"))&&s&&n.appendChild(s)}setLabel(e){this.eLabel.textContent=e}},Aee=".ag-label{white-space:nowrap}:where(.ag-ltr) .ag-label{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-label-align-right) .ag-label{order:1}:where(.ag-ltr) :where(.ag-label-align-right) .ag-label{margin-left:var(--ag-spacing)}:where(.ag-rtl) :where(.ag-label-align-right) .ag-label{margin-right:var(--ag-spacing)}.ag-label-align-right>*{flex:none}.ag-label-align-top{align-items:flex-start;flex-direction:column;>*{align-self:stretch}}.ag-label-ellipsis{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-label-align-top) .ag-label{margin-bottom:calc(var(--ag-spacing)*.5)}",Ree=class extends pt{constructor(e,t,n){super(t,n),this.labelSeparator="",this.labelAlignment="left",this.disabled=!1,this.label="",this.config=e||{},this.registerCSS(Aee)}postConstruct(){this.addCssClass("ag-labeled"),this.eLabel.classList.add("ag-label");const{labelSeparator:e,label:t,labelWidth:n,labelAlignment:i,disabled:r}=this.config;r!=null&&this.setDisabled(r),e!=null&&this.setLabelSeparator(e),t!=null&&this.setLabel(t),n!=null&&this.setLabelWidth(n),this.setLabelAlignment(i||this.labelAlignment),this.refreshLabel()}refreshLabel(){const{label:e,eLabel:t}=this;si(t),typeof e=="string"?t.innerText=e+this.labelSeparator:e&&t.appendChild(e),e===""?(Ht(t,!1),hs(t,"presentation")):(Ht(t,!0),hs(t,null))}setLabelSeparator(e){return this.labelSeparator===e?this:(this.labelSeparator=e,this.label!=null&&this.refreshLabel(),this)}getLabelId(){const e=this.eLabel;return e.id=e.id||`ag-${this.getCompId()}-label`,e.id}getLabel(){return this.label}setLabel(e){return this.label===e?this:(this.label=e,this.refreshLabel(),this)}setLabelAlignment(e){const n=this.getGui().classList;return n.toggle("ag-label-align-left",e==="left"),n.toggle("ag-label-align-right",e==="right"),n.toggle("ag-label-align-top",e==="top"),this}setLabelEllipsis(e){return this.eLabel.classList.toggle("ag-label-ellipsis",e),this}setLabelWidth(e){return this.label==null?this:(e0(this.eLabel,e),this)}setDisabled(e){e=!!e;const t=this.getGui();return xd(t,e),t.classList.toggle("ag-disabled",e),this.disabled=e,this}isDisabled(){return!!this.disabled}},Q5=class extends Ree{constructor(e,t,n,i){super(e,t,n),this.className=i}postConstruct(){super.postConstruct();const{width:e,value:t,onValueChange:n}=this.config;e!=null&&this.setWidth(e),t!=null&&this.setValue(t),n!=null&&this.onValueChange(n),this.className&&this.addCssClass(this.className),this.refreshAriaLabelledBy()}setLabel(e){return super.setLabel(e),this.refreshAriaLabelledBy(),this}refreshAriaLabelledBy(){const e=this.getAriaElement(),t=this.getLabelId(),n=this.getLabel();n==null||n==""||fX(e)!==null?W1(e,""):W1(e,t??"")}setAriaLabel(e){return wg(this.getAriaElement(),e),this.refreshAriaLabelledBy(),this}onValueChange(e){return this.addManagedListeners(this,{fieldValueChanged:()=>e(this.getValue())}),this}getWidth(){return this.getGui().clientWidth}setWidth(e){return go(this.getGui(),e),this}getPreviousValue(){return this.previousValue}getValue(){return this.value}setValue(e,t){return this.value===e?this:(this.previousValue=this.value,this.value=e,t||this.dispatchLocalEvent({type:"fieldValueChanged"}),this)}};function Dee(e){return{tag:"div",role:"presentation",children:[{tag:"div",ref:"eLabel",cls:"ag-input-field-label"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-input-wrapper",role:"presentation",children:[{tag:e,ref:"eInput",cls:"ag-input-field-input"}]}]}}var La=class extends Q5{constructor(e,t,n="text",i="input"){super(e,(e==null?void 0:e.template)??Dee(i),[],t),this.inputType=n,this.displayFieldTag=i,this.eLabel=le,this.eWrapper=le,this.eInput=le}postConstruct(){super.postConstruct(),this.setInputType();const{eLabel:e,eWrapper:t,eInput:n,className:i}=this;e.classList.add(`${i}-label`),t.classList.add(`${i}-input-wrapper`),n.classList.add(`${i}-input`),this.addCssClass("ag-input-field"),n.id=n.id||`ag-${this.getCompId()}-input`;const{inputName:r,inputWidth:o}=this.config;r!=null&&this.setInputName(r),o!=null&&this.setInputWidth(o),this.addInputListeners(),this.activateTabIndex([n])}addInputListeners(){this.addManagedElementListeners(this.eInput,{input:e=>this.setValue(e.target.value)})}setInputType(){this.displayFieldTag==="input"&&this.eInput.setAttribute("type",this.inputType)}getInputElement(){return this.eInput}setInputWidth(e){return e0(this.eWrapper,e),this}setInputName(e){return this.getInputElement().setAttribute("name",e),this}getFocusableElement(){return this.eInput}setMaxLength(e){const t=this.eInput;return t.maxLength=e,this}setInputPlaceholder(e){return Er(this.eInput,"placeholder",e),this}setInputAriaLabel(e){return wg(this.eInput,e),this.refreshAriaLabelledBy(),this}setDisabled(e){return xd(this.eInput,e),super.setDisabled(e)}setAutoComplete(e){if(e===!0)Er(this.eInput,"autocomplete",null);else{const t=typeof e=="string"?e:"off";Er(this.eInput,"autocomplete",t)}return this}},lw=class extends La{constructor(e,t="ag-checkbox",n="checkbox"){super(e,t,n),this.labelAlignment="right",this.selected=!1,this.readOnly=!1,this.passive=!1}postConstruct(){super.postConstruct();const{readOnly:e,passive:t}=this.config;typeof e=="boolean"&&this.setReadOnly(e),typeof t=="boolean"&&this.setPassive(t)}addInputListeners(){this.addManagedElementListeners(this.eInput,{click:this.onCheckboxClick.bind(this)}),this.addManagedElementListeners(this.eLabel,{click:this.toggle.bind(this)})}getNextValue(){return this.selected===void 0?!0:!this.selected}setPassive(e){this.passive=e}isReadOnly(){return this.readOnly}setReadOnly(e){this.eWrapper.classList.toggle("ag-disabled",e),this.eInput.disabled=e,this.readOnly=e}setDisabled(e){return this.eWrapper.classList.toggle("ag-disabled",e),super.setDisabled(e)}toggle(){if(this.eInput.disabled)return;const e=this.isSelected(),t=this.getNextValue();this.passive?this.dispatchChange(t,e):this.setValue(t)}getValue(){return this.isSelected()}setValue(e,t){return this.refreshSelectedClass(e),this.setSelected(e,t),this}setName(e){const t=this.getInputElement();return t.name=e,this}isSelected(){return this.selected}setSelected(e,t){if(this.isSelected()===e)return;this.previousValue=this.isSelected(),e=this.selected=typeof e=="boolean"?e:void 0;const n=this.eInput;n.checked=e,n.indeterminate=e===void 0,t||this.dispatchChange(this.selected,this.previousValue)}dispatchChange(e,t,n){this.dispatchLocalEvent({type:"fieldValueChanged",selected:e,previousValue:t,event:n});const i=this.getInputElement();this.eventSvc.dispatchEvent({type:"checkboxChanged",id:i.id,name:i.name,selected:e,previousValue:t})}onCheckboxClick(e){if(this.passive||this.eInput.disabled)return;const t=this.isSelected(),n=this.selected=e.target.checked;this.refreshSelectedClass(n),this.dispatchChange(n,t,e)}refreshSelectedClass(e){const t=this.eWrapper.classList;t.toggle("ag-checked",e===!0),t.toggle("ag-indeterminate",e==null)}},uw={selector:"AG-CHECKBOX",component:lw},Mee=".ag-checkbox-cell{height:100%}",Pee={tag:"div",cls:"ag-cell-wrapper ag-checkbox-cell",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Iee=class extends pt{constructor(){super(Pee,[uw]),this.eCheckbox=le,this.registerCSS(Mee)}init(e){this.refresh(e);const{eCheckbox:t,beans:n}=this,i=t.getInputElement();i.setAttribute("tabindex","-1"),RA(i,"polite"),this.addManagedListeners(i,{click:r=>{if(Tu(r),t.isDisabled())return;const o=t.getValue();this.onCheckboxChanged(o)},dblclick:r=>{Tu(r)}}),this.addManagedElementListeners(e.eGridCell,{keydown:r=>{if(r.key===j.SPACE&&!t.isDisabled()){e.eGridCell===Gt(n)&&t.toggle();const o=t.getValue();this.onCheckboxChanged(o),r.preventDefault()}}})}refresh(e){return this.params=e,this.updateCheckbox(e),!0}updateCheckbox(e){let t,n=!0;const{value:i,column:r,node:o}=e;if(o.group&&r)if(typeof i=="boolean")t=i;else{const d=r.getColId();d.startsWith(xg)?t=i==null||i===""?void 0:i==="true":o.aggData&&o.aggData[d]!==void 0?t=i??void 0:n=!1}else t=i??void 0;const{eCheckbox:s}=this;if(!n){s.setDisplayed(!1);return}s.setValue(t);const a=e.disabled??!(r!=null&&r.isCellEditable(o));s.setDisabled(a);const l=this.getLocaleTextFunc(),u=Vy(l,t),c=a?u:`${l("ariaToggleCellValue","Press SPACE to toggle cell value")} (${u})`;s.setInputAriaLabel(c)}onCheckboxChanged(e){const{eventSvc:t,params:n}=this,{column:i,node:r,value:o}=n,s={column:i,colDef:i.getColDef(),data:r.data,node:r,rowIndex:r.rowIndex,rowPinned:r.rowPinned,value:o};t.dispatchEvent({type:"cellEditingStarted",...s});const a=r.setDataValue(i,e,"edit");t.dispatchEvent({type:"cellEditingStopped",...s,oldValue:o,newValue:e,valueChanged:a}),a||this.updateCheckbox(n)}},Oee="ROOT_NODE_ID",Lee=class extends K{constructor(){super(...arguments),this.nextId=0,this.allNodesMap={},this.rootNode=null}get treeData(){return!1}getRowNode(e){return this.allNodesMap[e]}extractRowData(){var e,t;return(t=(e=this.rootNode)==null?void 0:e.allLeafChildren)==null?void 0:t.map(n=>n.data)}activate(e){this.rootNode=e,e.group=!0,e.level=-1,e.id=Oee,e.allLeafChildren=[],e.childrenAfterGroup=[],e.childrenAfterSort=[],e.childrenAfterAggFilter=[],e.childrenAfterFilter=[],this.updateRootSiblingArrays(e)}deactivate(){this.rootNode&&(this.allNodesMap={},this.rootNode=null)}destroy(){super.destroy(),this.allNodesMap={},this.rootNode=null}setNewRowData(e){const t=this.rootNode;t&&(this.dispatchRowDataUpdateStartedEvent(e),t.childrenAfterFilter=null,t.childrenAfterGroup=null,t.childrenAfterAggFilter=null,t.childrenAfterSort=null,t.childrenMapped=null,t.updateHasChildren(),this.allNodesMap={},this.nextId=0,this.loadNewRowData(e),this.updateRootSiblingArrays(t))}updateRootSiblingArrays(e){const t=e.sibling;t&&(t.childrenAfterFilter=e.childrenAfterFilter,t.childrenAfterGroup=e.childrenAfterGroup,t.childrenAfterAggFilter=e.childrenAfterAggFilter,t.childrenAfterSort=e.childrenAfterSort,t.childrenMapped=e.childrenMapped,t.allLeafChildren=e.allLeafChildren)}loadNewRowData(e){this.rootNode.allLeafChildren=(e==null?void 0:e.map((t,n)=>this.createRowNode(t,n)))??[]}setImmutableRowData(e,t){const n=Fu(this.gos),i=!this.gos.get("suppressMaintainUnsortedOrder"),r=e.changedRowNodes,o=new Set,s=this.rootNode,a=s.allLeafChildren,l=a.length;let u=!1,c=!1,d=!1,h=!1;for(let f=0,g=-1,m=t.length;f<m;f++){const v=t[f];let b=this.getRowNode(n({data:v,level:0}));if(!b)u=!0,b=this.createRowNode(v,-1),r.add(b);else{if(i){const S=b.sourceRowIndex;h||(h=S<=g||u),g=S}b.data!==v&&(d=!0,b.updateData(v),r.update(b))}o.add(b)}const p=[];for(let f=0;f<l;f++){const g=a[f];o.has(g)||(c=!0,g.isSelected()&&p.push(g),this.rowNodeDeleted(g),r.remove(g))}if(u||c||h){const f=new Array(o.size);let g=0;if(!i)for(let v=0;v<l;++v){const b=a[v];o.delete(b)&&(b.sourceRowIndex=g,f[g++]=b)}for(const v of o)v.sourceRowIndex=g,f[g++]=v;s.allLeafChildren=f;const m=s.sibling;m&&(m.allLeafChildren=f),e.rowNodesOrderChanged||(e.rowNodesOrderChanged=h)}(u||c||h||d)&&(this.deselectNodes(p),e.rowDataUpdated=!0)}rowNodeDeleted(e){e.clearRowTopAndRowIndex();const t=e.id,n=this.allNodesMap;n[t]===e&&delete n[t]}updateRowData(e,t){this.dispatchRowDataUpdateStartedEvent(e.add);const n={changedRowNodes:t,rowNodeTransaction:{remove:[],update:[],add:[]},rowsInserted:!1},i=[],r=Fu(this.gos);return this.executeRemove(r,e,n,i),this.executeUpdate(r,e,n,i),this.executeAdd(e,n),this.deselectNodes(i),n}executeAdd(e,t){const n=e.add;if(!(n!=null&&n.length))return;let i=this.rootNode.allLeafChildren,r=i.length;if(typeof e.addIndex=="number"&&(r=this.sanitizeAddIndex(e.addIndex),r>0&&this.gos.get("treeData")&&this.gos.get("getDataPath")))for(let d=0;d<i.length;d++){const h=i[d];if((h==null?void 0:h.rowIndex)==r-1){r=d+1;break}}const o=n.length,s=t.changedRowNodes,a=new Array(o);for(let c=0;c<o;c++){const d=this.createRowNode(n[c],r+c);s.add(d),a[c]=d}const l=this.rootNode;if(r<i.length){const c=i.slice(0,r),d=i.slice(r,i.length),h=c.length+a.length;for(let p=0,f=d.length;p<f;++p)d[p].sourceRowIndex=h+p;i=[...c,...a,...d],t.rowsInserted=!0}else i=i.concat(a);l.allLeafChildren=i;const u=l.sibling;u&&(u.allLeafChildren=i),t.rowNodeTransaction.add=a}executeRemove(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){var u,c;const{remove:o}=t;if(!(o!=null&&o.length))return;const s={};o.forEach(d=>{const h=this.lookupRowNode(e,d);h&&(h.isSelected()&&r.push(h),h.clearRowTopAndRowIndex(),s[h.id]=!0,delete this.allNodesMap[h.id],i.remove.push(h),n.remove(h))});const a=this.rootNode;a.allLeafChildren=((u=a.allLeafChildren)==null?void 0:u.filter(d=>!s[d.id]))??null,(c=a.allLeafChildren)==null||c.forEach((d,h)=>{d.sourceRowIndex=h});const l=a.sibling;l&&(l.allLeafChildren=a.allLeafChildren)}executeUpdate(e,t,{changedRowNodes:n,rowNodeTransaction:i},r){const{update:o}=t;o!=null&&o.length&&o.forEach(s=>{const a=this.lookupRowNode(e,s);a&&(a.updateData(s),!a.selectable&&a.isSelected()&&r.push(a),i.update.push(a),n.update(a))})}dispatchRowDataUpdateStartedEvent(e){this.eventSvc.dispatchEvent({type:"rowDataUpdateStarted",firstRowData:e!=null&&e.length?e[0]:null})}deselectNodes(e){var r;const t="rowDataChanged",n=this.beans.selectionSvc,i=e.length>0;i&&(n==null||n.setNodesSelected({newValue:!1,nodes:e,suppressFinishActions:!0,source:t})),(r=n==null?void 0:n.updateGroupsFromChildrenSelections)==null||r.call(n,t),i&&this.eventSvc.dispatchEvent({type:"selectionChanged",source:t,selectedNodes:(n==null?void 0:n.getSelectedNodes())??null,serverSideState:null})}sanitizeAddIndex(e){var n;const t=((n=this.rootNode.allLeafChildren)==null?void 0:n.length)??0;return e<0||e>=t||Number.isNaN(e)?t:Math.ceil(e)}createRowNode(e,t){const n=new Mu(this.beans);return n.parent=this.rootNode,n.level=0,n.group=!1,n.expanded=!1,n.sourceRowIndex=t,n.setDataAndId(e,String(this.nextId)),this.allNodesMap[n.id]&&ie(2,{nodeId:n.id}),this.allNodesMap[n.id]=n,this.nextId++,n}lookupRowNode(e,t){var i,r;let n;if(e){const o=e({data:t,level:0});if(n=this.allNodesMap[o],!n)return dt(4,{id:o}),null}else if(n=(r=(i=this.rootNode)==null?void 0:i.allLeafChildren)==null?void 0:r.find(o=>o.data===t),!n)return dt(5,{data:t}),null;return n||null}},Nee={tag:"div",cls:"ag-selection-checkbox",role:"presentation",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Bee=class extends pt{constructor(){super(Nee,[uw]),this.eCheckbox=le}postConstruct(){this.eCheckbox.setPassive(!0)}getCheckboxId(){return this.eCheckbox.getInputElement().id}onDataChanged(){this.onSelectionChanged()}onSelectableChanged(){this.showOrHideSelect()}onSelectionChanged(){const e=this.getLocaleTextFunc(),{rowNode:t,eCheckbox:n}=this,i=t.isSelected(),r=Vy(e,i),[o,s]=t.selectable?["ariaRowToggleSelection","Press Space to toggle row selection"]:["ariaRowSelectionDisabled","Row Selection is disabled for this row"],a=e(o,s);n.setValue(i,!0),n.setInputAriaLabel(`${a} (${r})`)}init(e){if(this.rowNode=e.rowNode,this.column=e.column,this.overrides=e.overrides,this.onSelectionChanged(),this.addManagedListeners(this.eCheckbox.getInputElement(),{dblclick:Tu,click:i=>{var r;Tu(i),(r=this.beans.selectionSvc)==null||r.handleSelectionEvent(i,this.rowNode,"checkboxSelected")}}),this.addManagedListeners(this.rowNode,{rowSelected:this.onSelectionChanged.bind(this),dataChanged:this.onDataChanged.bind(this),selectableChanged:this.onSelectableChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:i,previousValue:r})=>{const o=typeof i=="object"?lv(i):void 0,s=typeof r=="object"?lv(r):void 0;o!==s&&this.onSelectableChanged()}),tC(this.gos)||typeof this.getIsVisible()=="function"){const i=this.showOrHideSelect.bind(this);this.addManagedEventListeners({displayedColumnsChanged:i}),this.addManagedListeners(this.rowNode,{dataChanged:i,cellChanged:i}),this.showOrHideSelect()}this.eCheckbox.getInputElement().setAttribute("tabindex","-1")}showOrHideSelect(){const{column:e,rowNode:t,overrides:n,gos:i}=this;let r=t.selectable;const o=this.getIsVisible();if(r)if(typeof o=="function"){const l=n==null?void 0:n.callbackParams;if(!e)r=o({...l,node:t,data:t.data});else{const u=e.createColumnFunctionCallbackParams(t);r=o({...l,...u})}}else r=o??!1;const s=i.get("rowSelection");if(s&&typeof s!="string"?!lv(s):e==null?void 0:e.getColDef().showDisabledCheckboxes){this.eCheckbox.setDisabled(!r),this.setVisible(!0),this.setDisplayed(!0);return}if(n!=null&&n.removeHidden){this.setDisplayed(r);return}this.setVisible(r)}getIsVisible(){var n,i;const e=this.overrides;if(e)return e.isVisible;const t=this.gos.get("rowSelection");return t&&typeof t!="string"?Ql(t):(i=(n=this.column)==null?void 0:n.getColDef())==null?void 0:i.checkboxSelection}},zee=class{constructor(e){this.rowModel=e,this.selectAll=!1,this.rootId=null,this.endId=null,this.cachedRange=[]}reset(){this.rootId=null,this.endId=null,this.cachedRange.length=0}setRoot(e){this.rootId=e.id,this.endId=null,this.cachedRange.length=0}setEndRange(e){this.endId=e.id,this.cachedRange.length=0}getRange(){if(this.cachedRange.length===0){const e=this.getRoot(),t=this.getEnd();if(e==null||t==null)return this.cachedRange;this.cachedRange=this.rowModel.getNodesInRangeForSelection(e,t)??[]}return this.cachedRange}isInRange(e){return this.rootId===null?!1:this.getRange().some(t=>t.id===e.id)}getRoot(e){return this.rootId?this.rowModel.getRowNode(this.rootId)??null:e?(this.setRoot(e),e):null}getEnd(){return this.endId?this.rowModel.getRowNode(this.endId)??null:null}truncate(e){const t=this.getRange();if(t.length===0)return{keep:[],discard:[]};const n=t[0].id===this.rootId,i=t.findIndex(r=>r.id===e.id);if(i>-1){const r=t.slice(0,i),o=t.slice(i+1);return this.setEndRange(e),n?{keep:r,discard:o}:{keep:o,discard:r}}else return{keep:t,discard:[]}}extend(e,t=!1){const n=this.getRoot();if(n==null){const r=this.getRange().slice();return t&&e.depthFirstSearch(o=>!o.group&&r.push(o)),r.push(e),this.setRoot(e),{keep:r,discard:[]}}const i=this.rowModel.getNodesInRangeForSelection(n,e);if(!i)return this.setRoot(e),{keep:[e],discard:[]};if(i.find(r=>r.id===this.endId))return this.setEndRange(e),{keep:this.getRange(),discard:[]};{const r=this.getRange().slice();return this.setEndRange(e),{keep:this.getRange(),discard:r}}}},Hee=class extends K{constructor(e){super(),this.column=e,this.cbSelectAllVisible=!1,this.processingEventFromCheckbox=!1}onSpaceKeyDown(e){const t=this.cbSelectAll;t.isDisplayed()&&!t.getGui().contains(Gt(this.beans))&&(e.preventDefault(),t.setValue(!t.getValue()))}getCheckboxGui(){return this.cbSelectAll.getGui()}setComp(e){this.headerCellCtrl=e;const t=this.createManagedBean(new lw);this.cbSelectAll=t,t.addCssClass("ag-header-select-all"),hs(t.getGui(),"presentation"),this.showOrHideSelectAll(),this.addManagedEventListeners({newColumnsLoaded:()=>this.showOrHideSelectAll(),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),selectionChanged:this.onSelectionChanged.bind(this),paginationChanged:this.onSelectionChanged.bind(this),modelUpdated:this.onModelChanged.bind(this)}),this.addManagedPropertyListener("rowSelection",({currentValue:n,previousValue:i})=>{const r=o=>typeof o=="string"||!o||o.mode==="singleRow"?void 0:o.selectAll;r(n)!==r(i)&&this.showOrHideSelectAll()}),this.addManagedListeners(t,{fieldValueChanged:this.onCbSelectAll.bind(this)}),t.getInputElement().setAttribute("tabindex","-1"),this.refreshSelectAllLabel()}onDisplayedColumnsChanged(e){this.isAlive()&&this.showOrHideSelectAll(e.source==="uiColumnMoved")}showOrHideSelectAll(e=!1){const t=this.isCheckboxSelection();this.cbSelectAllVisible=t,this.cbSelectAll.setDisplayed(t),t&&(this.checkRightRowModelType("selectAllCheckbox"),this.checkSelectionType("selectAllCheckbox"),this.updateStateOfCheckbox()),this.refreshSelectAllLabel(e)}onModelChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}onSelectionChanged(){this.cbSelectAllVisible&&this.updateStateOfCheckbox()}updateStateOfCheckbox(){if(this.processingEventFromCheckbox)return;this.processingEventFromCheckbox=!0;const e=this.getSelectAllMode(),t=this.beans.selectionSvc,n=this.cbSelectAll,i=t.getSelectAllState(e);n.setValue(i);const r=t.hasNodesToSelect(e);n.setDisabled(!r),this.refreshSelectAllLabel(),this.processingEventFromCheckbox=!1}refreshSelectAllLabel(e=!1){const t=this.getLocaleTextFunc(),{headerCellCtrl:n,cbSelectAll:i,cbSelectAllVisible:r}=this,s=i.getValue()?t("ariaChecked","checked"):t("ariaUnchecked","unchecked"),a=t("ariaRowSelectAll","Press Space to toggle all rows selection");n.setAriaDescriptionProperty("selectAll",r?`${a} (${s})`:null),i.setInputAriaLabel(t("ariaHeaderSelection","Column with Header Selection")),e||n.announceAriaDescription()}checkSelectionType(e){return Td(this.gos)?!0:(ie(128,{feature:e}),!1)}checkRightRowModelType(e){const{gos:t,rowModel:n}=this.beans;return Ci(t)||Vu(t)?!0:(ie(129,{feature:e,rowModel:n.getType()}),!1)}onCbSelectAll(){if(this.processingEventFromCheckbox||!this.cbSelectAllVisible)return;const e=this.cbSelectAll.getValue(),t=this.getSelectAllMode();let n="uiSelectAll";t==="currentPage"?n="uiSelectAllCurrentPage":t==="filtered"&&(n="uiSelectAllFiltered");const i={source:n,selectAll:t},r=this.beans.selectionSvc;e?r.selectAllRowNodes(i):r.deselectAllRowNodes(i)}isCheckboxSelection(){var u;const{column:e,gos:t,beans:n}=this,i=t.get("rowSelection"),r=e.getColDef(),{headerCheckboxSelection:o}=r;let s=!1;const a=typeof i=="object";if(a){const c=fs(e),d=Xy(e);(n0(i)==="autoGroupColumn"&&d||c&&((u=n.selectionColSvc)!=null&&u.isSelectionColumnEnabled()))&&(s=Rp(i))}else typeof o=="function"?s=o(Le(t,{column:e,colDef:r})):s=!!o;const l=a?"headerCheckbox":"headerCheckboxSelection";return s&&this.checkRightRowModelType(l)&&this.checkSelectionType(l)}getSelectAllMode(){const e=t5(this.gos,!1);if(e)return e;const{headerCheckboxSelectionCurrentPageOnly:t,headerCheckboxSelectionFilteredOnly:n}=this.column.getColDef();return t?"currentPage":n?"filtered":"all"}},Vee=class extends K{postConstruct(){const{gos:e,beans:t}=this;this.selectionCtx=new zee(t.rowModel),this.addManagedPropertyListeners(["isRowSelectable","rowSelection"],()=>{const n=tC(e);n!==this.isRowSelectable&&(this.isRowSelectable=n,this.updateSelectable())}),this.isRowSelectable=tC(e)}destroy(){super.destroy(),this.selectionCtx.reset()}createCheckboxSelectionComponent(){return new Bee}createSelectAllFeature(e){return new Hee(e)}isMultiSelect(){return Td(this.gos)}onRowCtrlSelected(e,t,n){const i=!!e.rowNode.isSelected();e.forEachGui(n,r=>{r.rowComp.addOrRemoveCssClass("ag-row-selected",i);const o=r.element;U1(o,i),o.contains(Gt(this.beans))&&t(r)})}announceAriaRowSelection(e){var r;if(this.isRowSelectionBlocked(e))return;const t=e.isSelected();if(!e.selectable)return;const i=this.getLocaleTextFunc()(t?"ariaRowDeselect":"ariaRowSelect",`Press SPACE to ${t?"deselect":"select"} this row`);(r=this.beans.ariaAnnounce)==null||r.announceValue(i,"rowSelection")}isRowSelectionBlocked(e){return!e.selectable||!!e.rowPinned||!Ka(this.gos)}updateRowSelectable(e,t){var i;const n=((i=this.isRowSelectable)==null?void 0:i.call(this,e))??!0;return this.setRowSelectable(e,n,t),n}setRowSelectable(e,t,n){if(e.selectable!==t){if(e.selectable=t,e.dispatchRowEvent("selectableChanged"),n)return;if(Ad(this.gos)){const r=this.calculateSelectedFromChildren(e);this.setNodesSelected({nodes:[e],newValue:r??!1,source:"selectableChanged"});return}e.isSelected()&&!e.selectable&&this.setNodesSelected({nodes:[e],newValue:!1,source:"selectableChanged"})}}calculateSelectedFromChildren(e){var i;let t=!1,n=!1;if(!((i=e.childrenAfterGroup)!=null&&i.length))return e.selectable?e.__selected:null;for(let r=0;r<e.childrenAfterGroup.length;r++){const o=e.childrenAfterGroup[r];let s=o.isSelected();if(!o.selectable){const a=this.calculateSelectedFromChildren(o);if(a===null)continue;s=a}switch(s){case!0:t=!0;break;case!1:n=!0;break;default:return}}if(!(t&&n))return t?!0:n?!1:e.selectable?e.__selected:null}selectRowNode(e,t,n,i="api"){const r=!e.selectable&&t,o=e.__selected===t;if(r||o)return!1;e.__selected=t,e.dispatchRowEvent("rowSelected");const s=e.sibling;return s&&s.footer&&s.__localEventService&&s.dispatchRowEvent("rowSelected"),this.eventSvc.dispatchEvent({...gQ(e,this.gos,"rowSelected"),event:n||null,source:i}),!0}isCellCheckboxSelection(e,t){const n=this.gos.get("rowSelection");if(n&&typeof n!="string"){const i=fs(e)&&Ql(n);return e.isColumnFunc(t,i)}else return e.isColumnFunc(t,e.colDef.checkboxSelection)}inferNodeSelections(e,t,n,i){const{gos:r,selectionCtx:o}=this,s=e.isSelected(),a=Ad(r),l=tJ(r),u=nJ(r),c=this.isMultiSelect(),d=i==="rowClicked";if(d&&a&&e.group||d&&!(l||u))return null;if(t&&n&&c){const h=o.getRoot();if(h)if(h.isSelected()){const p=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{deselect:p.discard,select:p.keep,reset:!1}}else{const p=o.extend(e,a);return{select:[],deselect:p.keep,reset:!1}}else return null}else if(t&&c){const h=o.selectAll?this.beans.rowModel.getRow(0):void 0,p=o.getRoot(h),f=o.isInRange(e)?o.truncate(e):o.extend(e,a);return{select:f.keep,deselect:f.discard,reset:o.selectAll||!!(p&&!p.isSelected())}}else{if(n)return o.setRoot(e),d&&s&&!u?null:{node:e,newValue:!s,clearSelection:!c};{o.setRoot(e);const h=iJ(r),p=r0(r)==="filteredDescendants",f=d&&(!h||!l);if(p&&s===void 0&&Ci(r))return{node:e,newValue:!1,clearSelection:!c||f};if(d){const g=s?!h:l;return g===s&&!f||g&&!l||!g&&!u?null:{node:e,newValue:g,clearSelection:!c||f}}return{node:e,newValue:!s,clearSelection:!c||f}}}}},_ee=class extends lw{constructor(e){super(e,"ag-radio-button","radio")}isSelected(){return this.eInput.checked}toggle(){this.eInput.disabled||this.isSelected()||this.setValue(!0)}addInputListeners(){super.addInputListeners(),this.addManagedEventListeners({checkboxChanged:this.onChange.bind(this)})}onChange(e){const t=this.eInput;e.selected&&e.name&&t.name&&t.name===e.name&&e.id&&t.id!==e.id&&this.setValue(!1,!0)}},wl=class extends La{constructor(e,t="ag-text-field",n="text"){super(e,t,n)}postConstruct(){super.postConstruct(),this.config.allowedCharPattern&&this.preventDisallowedCharacters()}setValue(e,t){const n=this.eInput;return n.value!==e&&(n.value=ue(e)?e:""),super.setValue(e,t)}setStartValue(e){this.setValue(e,!0)}preventDisallowedCharacters(){const e=new RegExp(`[${this.config.allowedCharPattern}]`),t=n=>{G5(n)&&n.key&&!e.test(n.key)&&n.preventDefault()};this.addManagedListeners(this.eInput,{keydown:t,paste:n=>{var r;const i=(r=n.clipboardData)==null?void 0:r.getData("text");i&&i.split("").some(o=>!e.test(o))&&n.preventDefault()}})}},kg={selector:"AG-INPUT-TEXT-FIELD",component:wl},Gee=class extends La{constructor(e){super(e,"ag-text-area",null,"textarea")}setValue(e,t){const n=super.setValue(e,t);return this.eInput.value=e,n}setCols(e){return this.eInput.cols=e,this}setRows(e){return this.eInput.rows=e,this}},Wee={selector:"AG-INPUT-TEXT-AREA",component:Gee},cw=class extends wl{constructor(e){super(e,"ag-number-field","number")}postConstruct(){super.postConstruct();const e=this.eInput;this.addManagedListeners(e,{blur:()=>{const o=parseFloat(e.value),s=isNaN(o)?"":this.normalizeValue(o.toString());this.value!==s&&this.setValue(s)},wheel:this.onWheel.bind(this)}),e.step="any";const{precision:t,min:n,max:i,step:r}=this.config;typeof t=="number"&&this.setPrecision(t),typeof n=="number"&&this.setMin(n),typeof i=="number"&&this.setMax(i),typeof r=="number"&&this.setStep(r)}onWheel(e){Gt(this.beans)===this.eInput&&e.preventDefault()}normalizeValue(e){if(e==="")return"";this.precision!=null&&(e=this.adjustPrecision(e));const t=parseFloat(e),{min:n,max:i}=this;return n!=null&&t<n?e=n.toString():i!=null&&t>i&&(e=i.toString()),e}adjustPrecision(e,t){const n=this.precision;if(n==null)return e;if(t){const r=parseFloat(e).toFixed(n);return parseFloat(r).toString()}const i=String(e).split(".");if(i.length>1){if(i[1].length<=n)return e;if(n>0)return`${i[0]}.${i[1].slice(0,n)}`}return i[0]}setMin(e){return this.min===e?this:(this.min=e,Er(this.eInput,"min",e),this)}setMax(e){return this.max===e?this:(this.max=e,Er(this.eInput,"max",e),this)}setPrecision(e){return this.precision=e,this}setStep(e){return this.step===e?this:(this.step=e,Er(this.eInput,"step",e),this)}setValue(e,t){return this.setValueOrInputValue(n=>super.setValue(n,t),()=>this,e)}setStartValue(e){return this.setValueOrInputValue(t=>super.setValue(t,!0),t=>{this.eInput.value=t},e)}setValueOrInputValue(e,t,n){if(ue(n)){let i=this.isScientificNotation(n);if(i&&this.eInput.validity.valid)return e(n);if(!i){n=this.adjustPrecision(n);const r=this.normalizeValue(n);i=n!=r}if(i)return t(n)}return e(n)}getValue(){const e=this.eInput;if(!e.validity.valid)return;const t=e.value;return this.isScientificNotation(t)?this.adjustPrecision(t,!0):super.getValue()}isScientificNotation(e){return typeof e=="string"&&e.includes("e")}},$ee={selector:"AG-INPUT-NUMBER-FIELD",component:cw};function Uc(e,t){return e.toString().padStart(t,"0")}function kr(e,t=!0,n="-"){if(!e)return null;let i=[e.getFullYear(),e.getMonth()+1,e.getDate()].map(r=>Uc(r,2)).join(n);return t&&(i+=" "+[e.getHours(),e.getMinutes(),e.getSeconds()].map(r=>Uc(r,2)).join(":")),i}var vv=e=>{if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd"}return"th"};function jc(e,t="YYYY-MM-DD"){const n=Uc(e.getFullYear(),4),i=["January","February","March","April","May","June","July","August","September","October","November","December"],r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o={YYYY:()=>n.slice(n.length-4,n.length),YY:()=>n.slice(n.length-2,n.length),Y:()=>`${e.getFullYear()}`,MMMM:()=>i[e.getMonth()],MMM:()=>i[e.getMonth()].slice(0,3),MM:()=>Uc(e.getMonth()+1,2),Mo:()=>`${e.getMonth()+1}${vv(e.getMonth()+1)}`,M:()=>`${e.getMonth()+1}`,Do:()=>`${e.getDate()}${vv(e.getDate())}`,DD:()=>Uc(e.getDate(),2),D:()=>`${e.getDate()}`,dddd:()=>r[e.getDay()],ddd:()=>r[e.getDay()].slice(0,3),dd:()=>r[e.getDay()].slice(0,2),do:()=>`${e.getDay()}${vv(e.getDay())}`,d:()=>`${e.getDay()}`},s=new RegExp(Object.keys(o).join("|"),"g");return t.replace(s,a=>a in o?o[a]():a)}function Oi(e){if(!e)return null;const[t,n]=e.split(" ");if(!t)return null;const i=t.split("-").map(d=>parseInt(d,10));if(i.filter(d=>!isNaN(d)).length!==3)return null;const[r,o,s]=i,a=new Date(r,o-1,s);if(a.getFullYear()!==r||a.getMonth()!==o-1||a.getDate()!==s)return null;if(!n||n==="00:00:00")return a;const[l,u,c]=n.split(":").map(d=>parseInt(d,10));return l>=0&&l<24&&a.setHours(l),u>=0&&u<60&&a.setMinutes(u),c>=0&&c<60&&a.setSeconds(c),a}var Uee=class extends wl{constructor(e){super(e,"ag-date-field","date")}postConstruct(){super.postConstruct();const e=vl();this.addManagedListeners(this.eInput,{wheel:this.onWheel.bind(this),mousedown:()=>{this.isDisabled()||e||this.eInput.focus()}}),this.eInput.step="any"}onWheel(e){Gt(this.beans)===this.eInput&&e.preventDefault()}setMin(e){const t=e instanceof Date?kr(e??null,!1)??void 0:e;return this.min===t?this:(this.min=t,Er(this.eInput,"min",t),this)}setMax(e){const t=e instanceof Date?kr(e??null,!1)??void 0:e;return this.max===t?this:(this.max=t,Er(this.eInput,"max",t),this)}setStep(e){return this.step===e?this:(this.step=e,Er(this.eInput,"step",e),this)}getDate(){if(this.eInput.validity.valid)return Oi(this.getValue())??void 0}setDate(e,t){this.setValue(kr(e??null,!1),t)}},eR={selector:"AG-INPUT-DATE-FIELD",component:Uee},jee=1e3,qee=1e3,_4=100,G4,tp=!1,Kee=class extends K{constructor(e,t){super(),this.tooltipCtrl=e,this.getTooltipValue=t,this.interactionEnabled=!1,this.isInteractingWithTooltip=!1,this.state=0,this.tooltipInstanceCount=0,this.tooltipMouseTrack=!1}wireBeans(e){this.popupSvc=e.popupSvc,this.userCompFactory=e.userCompFactory}postConstruct(){this.gos.get("tooltipInteraction")&&(this.interactionEnabled=!0),this.tooltipTrigger=this.getTooltipTrigger(),this.tooltipMouseTrack=this.gos.get("tooltipMouseTrack");const e=this.tooltipCtrl.getGui();this.tooltipTrigger===0&&this.addManagedListeners(e,{mouseenter:this.onMouseEnter.bind(this),mouseleave:this.onMouseLeave.bind(this)}),this.tooltipTrigger===1&&this.addManagedListeners(e,{focusin:this.onFocusIn.bind(this),focusout:this.onFocusOut.bind(this)}),this.addManagedListeners(e,{mousemove:this.onMouseMove.bind(this)}),this.interactionEnabled||this.addManagedListeners(e,{mousedown:this.onMouseDown.bind(this),keydown:this.onKeyDown.bind(this)})}getGridOptionsTooltipDelay(e){const t=this.gos.get(e);return Math.max(200,t)}getTooltipDelay(e){var t,n,i,r;return e==="show"?((n=(t=this.tooltipCtrl).getTooltipShowDelayOverride)==null?void 0:n.call(t))??this.getGridOptionsTooltipDelay("tooltipShowDelay"):((r=(i=this.tooltipCtrl).getTooltipHideDelayOverride)==null?void 0:r.call(i))??this.getGridOptionsTooltipDelay("tooltipHideDelay")}destroy(){this.setToDoNothing(),super.destroy()}getTooltipTrigger(){const e=this.gos.get("tooltipTrigger");return!e||e==="hover"?0:1}onMouseEnter(e){this.interactionEnabled&&this.interactiveTooltipTimeoutId&&(this.unlockService(),this.startHideTimeout()),!Ua()&&(tp?this.showTooltipTimeoutId=window.setTimeout(()=>{this.prepareToShowTooltip(e)},_4):this.prepareToShowTooltip(e))}onMouseMove(e){this.lastMouseEvent&&(this.lastMouseEvent=e),this.tooltipMouseTrack&&this.state===2&&this.tooltipComp&&this.positionTooltip()}onMouseDown(){this.setToDoNothing()}onMouseLeave(){this.interactionEnabled?this.lockService():this.setToDoNothing()}onFocusIn(){this.prepareToShowTooltip()}onFocusOut(e){var r;const t=e.relatedTarget,n=this.tooltipCtrl.getGui(),i=(r=this.tooltipComp)==null?void 0:r.getGui();this.isInteractingWithTooltip||n.contains(t)||this.interactionEnabled&&(i!=null&&i.contains(t))||this.setToDoNothing()}onKeyDown(){this.isInteractingWithTooltip&&(this.isInteractingWithTooltip=!1),this.setToDoNothing()}prepareToShowTooltip(e){if(this.state!=0||tp)return;let t=0;e&&(t=this.isLastTooltipHiddenRecently()?200:this.getTooltipDelay("show")),this.lastMouseEvent=e||null,this.showTooltipTimeoutId=window.setTimeout(this.showTooltip.bind(this),t),this.state=1}isLastTooltipHiddenRecently(){return Date.now()-G4<jee}setToDoNothing(e){!e&&this.state===2&&this.hideTooltip(),this.onBodyScrollEventCallback&&(this.onBodyScrollEventCallback(),this.onBodyScrollEventCallback=void 0),this.onColumnMovedEventCallback&&(this.onColumnMovedEventCallback(),this.onColumnMovedEventCallback=void 0),this.onDocumentKeyDownCallback&&(this.onDocumentKeyDownCallback(),this.onDocumentKeyDownCallback=void 0),this.clearTimeouts(),this.state=0,this.lastMouseEvent=null}showTooltip(){var s,a,l,u,c,d,h;const e=this.getTooltipValue(),t=this.tooltipCtrl;if(!ue(e)||t.shouldDisplayTooltip&&!t.shouldDisplayTooltip()){this.setToDoNothing();return}const n=(s=t.getRowNode)==null?void 0:s.call(t),i=Le(this.gos,{location:((a=t.getLocation)==null?void 0:a.call(t))??"UNKNOWN",colDef:(l=t.getColDef)==null?void 0:l.call(t),column:(u=t.getColumn)==null?void 0:u.call(t),rowIndex:(c=t.getRowIndex)==null?void 0:c.call(t),node:n,data:n==null?void 0:n.data,value:e,valueFormatted:(d=t.getValueFormatted)==null?void 0:d.call(t),hideTooltipCallback:()=>this.hideTooltip(!0),...((h=t.getAdditionalParams)==null?void 0:h.call(t))??{}});this.state=2,this.tooltipInstanceCount++;const r=this.newTooltipComponentCallback.bind(this,this.tooltipInstanceCount),o=wZ(this.userCompFactory,i);o==null||o.newAgStackInstance().then(r)}hideTooltip(e){!e&&this.isInteractingWithTooltip||(this.tooltipComp&&(this.destroyTooltipComp(),G4=Date.now()),this.eventSvc.dispatchEvent({type:"tooltipHide",parentGui:this.tooltipCtrl.getGui()}),e&&(this.isInteractingWithTooltip=!1),this.setToDoNothing(!0))}newTooltipComponentCallback(e,t){var s;if(this.state!==2||this.tooltipInstanceCount!==e){this.destroyBean(t);return}const i=t.getGui();this.tooltipComp=t,i.classList.contains("ag-tooltip")||i.classList.add("ag-tooltip-custom"),this.tooltipTrigger===0&&i.classList.add("ag-tooltip-animate"),this.interactionEnabled&&i.classList.add("ag-tooltip-interactive");const r=this.getLocaleTextFunc(),o=(s=this.popupSvc)==null?void 0:s.addPopup({eChild:i,ariaLabel:r("ariaLabelTooltip","Tooltip")});if(o&&(this.tooltipPopupDestroyFunc=o.hideFunc),this.positionTooltip(),this.tooltipTrigger===1){const a=()=>this.setToDoNothing();[this.onBodyScrollEventCallback,this.onColumnMovedEventCallback]=this.addManagedEventListeners({bodyScroll:a,columnMoved:a})}this.interactionEnabled&&([this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener]=this.addManagedElementListeners(i,{mouseenter:this.onTooltipMouseEnter.bind(this),mouseleave:this.onTooltipMouseLeave.bind(this)}),[this.onDocumentKeyDownCallback]=this.addManagedElementListeners(wn(this.beans),{keydown:a=>{i.contains(a==null?void 0:a.target)||this.onKeyDown()}}),this.tooltipTrigger===1&&([this.tooltipFocusInListener,this.tooltipFocusOutListener]=this.addManagedElementListeners(i,{focusin:this.onTooltipFocusIn.bind(this),focusout:this.onTooltipFocusOut.bind(this)}))),this.eventSvc.dispatchEvent({type:"tooltipShow",tooltipGui:i,parentGui:this.tooltipCtrl.getGui()}),this.startHideTimeout()}onTooltipMouseEnter(){this.isInteractingWithTooltip=!0,this.unlockService()}onTooltipMouseLeave(){this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,this.lockService())}onTooltipFocusIn(){this.isInteractingWithTooltip=!0}isTooltipFocused(){var n;const e=(n=this.tooltipComp)==null?void 0:n.getGui(),t=Gt(this.beans);return!!e&&e.contains(t)}onTooltipFocusOut(e){const t=this.tooltipCtrl.getGui();this.isTooltipFocused()||(this.isInteractingWithTooltip=!1,t.contains(e.relatedTarget)?this.startHideTimeout():this.hideTooltip())}positionTooltip(){var t,n;const e={type:"tooltip",ePopup:this.tooltipComp.getGui(),nudgeY:18,skipObserver:this.tooltipMouseTrack};this.lastMouseEvent?(t=this.popupSvc)==null||t.positionPopupUnderMouseEvent({...e,mouseEvent:this.lastMouseEvent}):(n=this.popupSvc)==null||n.positionPopupByComponent({...e,eventSource:this.tooltipCtrl.getGui(),position:"under",keepWithinBounds:!0,nudgeY:5})}destroyTooltipComp(){this.tooltipComp.getGui().classList.add("ag-tooltip-hiding");const e=this.tooltipPopupDestroyFunc,t=this.tooltipComp,n=this.tooltipTrigger===0?qee:0;window.setTimeout(()=>{e(),this.destroyBean(t)},n),this.clearTooltipListeners(),this.tooltipPopupDestroyFunc=void 0,this.tooltipComp=void 0}clearTooltipListeners(){[this.tooltipMouseEnterListener,this.tooltipMouseLeaveListener,this.tooltipFocusInListener,this.tooltipFocusOutListener].forEach(e=>{e&&e()}),this.tooltipMouseEnterListener=this.tooltipMouseLeaveListener=this.tooltipFocusInListener=this.tooltipFocusOutListener=null}lockService(){tp=!0,this.interactiveTooltipTimeoutId=window.setTimeout(()=>{this.unlockService(),this.setToDoNothing()},_4)}unlockService(){tp=!1,this.clearInteractiveTimeout()}startHideTimeout(){this.clearHideTimeout(),this.hideTooltipTimeoutId=window.setTimeout(this.hideTooltip.bind(this),this.getTooltipDelay("hide"))}clearShowTimeout(){this.showTooltipTimeoutId&&(window.clearTimeout(this.showTooltipTimeoutId),this.showTooltipTimeoutId=void 0)}clearHideTimeout(){this.hideTooltipTimeoutId&&(window.clearTimeout(this.hideTooltipTimeoutId),this.hideTooltipTimeoutId=void 0)}clearInteractiveTimeout(){this.interactiveTooltipTimeoutId&&(window.clearTimeout(this.interactiveTooltipTimeoutId),this.interactiveTooltipTimeoutId=void 0)}clearTimeouts(){this.clearShowTimeout(),this.clearHideTimeout(),this.clearInteractiveTimeout()}};function Cv(e){return e.get("tooltipShowMode")==="whenTruncated"}function Ip(e){return()=>{const t=e();return t?t.scrollWidth>t.clientWidth:!0}}var Yee=class extends K{constructor(e,t){super(),this.ctrl=e,t&&(this.beans=t)}postConstruct(){this.refreshTooltip()}setBrowserTooltip(e){const t="title",n=this.ctrl.getGui();n&&(e!=null&&e!=""?n.setAttribute(t,e):n.removeAttribute(t))}updateTooltipText(){const{getTooltipValue:e}=this.ctrl;e&&(this.tooltip=e())}createTooltipFeatureIfNeeded(){this.tooltipManager==null&&(this.tooltipManager=this.createBean(new Kee(this.ctrl,()=>this.tooltip),this.beans.context))}setTooltipAndRefresh(e){this.tooltip=e,this.refreshTooltip()}refreshTooltip(){this.browserTooltips=this.beans.gos.get("enableBrowserTooltips"),this.updateTooltipText(),this.browserTooltips?(this.setBrowserTooltip(this.tooltip),this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context)):(this.setBrowserTooltip(null),this.createTooltipFeatureIfNeeded())}destroy(){this.tooltipManager=this.destroyBean(this.tooltipManager,this.beans.context),super.destroy()}},Xee=class extends pt{constructor(e="default",t=!1){super({tag:"div",cls:`ag-list ag-${e}-list`}),this.cssIdentifier=e,this.unFocusable=t,this.activeClass="ag-active-item",this.options=[],this.itemEls=[]}postConstruct(){const e=this.getGui();this.addManagedElementListeners(e,{mouseleave:()=>this.clearHighlighted()}),!this.unFocusable&&this.addManagedElementListeners(e,{keydown:this.handleKeyDown.bind(this)})}handleKeyDown(e){const t=e.key;switch(t){case j.ENTER:if(!this.highlightedEl)this.setValue(this.getValue());else{const n=this.itemEls.indexOf(this.highlightedEl);this.setValueByIndex(n)}break;case j.DOWN:case j.UP:e.preventDefault(),this.navigate(t);break;case j.PAGE_DOWN:case j.PAGE_UP:case j.PAGE_HOME:case j.PAGE_END:e.preventDefault(),this.navigateToPage(t);break}}navigate(e){const t=e===j.DOWN;let n;const{itemEls:i,highlightedEl:r}=this;if(!r)n=i[t?0:i.length-1];else{let s=i.indexOf(r)+(t?1:-1);s=Math.min(Math.max(s,0),i.length-1),n=i[s]}this.highlightItem(n)}navigateToPage(e){const{itemEls:t,highlightedEl:n}=this;if(!n||t.length===0)return;const i=t.indexOf(n),r=this.options.length-1,o=t[0].clientHeight,s=Math.floor(this.getGui().clientHeight/o);let a=-1;e===j.PAGE_HOME?a=0:e===j.PAGE_END?a=r:e===j.PAGE_DOWN?a=Math.min(i+s,r):e===j.PAGE_UP&&(a=Math.max(i-s,0)),a!==-1&&this.highlightItem(t[a])}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){const{value:t,text:n}=e,i=n||t;return this.options.push({value:t,text:i}),this.renderOption(t,i),this.updateIndices(),this}clearOptions(){this.options=[],this.reset(!0),this.itemEls.forEach(e=>{Cr(e)}),this.itemEls=[],this.refreshAriaRole()}refreshAriaRole(){const e=this.getGui();hs(e,this.options.length===0?"presentation":"listbox")}updateIndices(){const e=this.getGui().querySelectorAll(".ag-list-item");this.refreshAriaRole(),e.forEach((t,n)=>{bX(t,n+1),CX(t,e.length)})}renderOption(e,t){const n=wn(this.beans),i=n.createElement("div");hs(i,"option"),i.classList.add("ag-list-item",`ag-${this.cssIdentifier}-list-item`);const r=n.createElement("span");i.appendChild(r),r.textContent=t,this.unFocusable||(i.tabIndex=-1),this.itemEls.push(i),this.addManagedListeners(i,{mouseover:()=>this.highlightItem(i),mousedown:o=>{o.preventDefault(),o.stopPropagation(),this.setValue(e)}}),this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{getTooltipValue:()=>t,getGui:()=>i,getLocation:()=>"UNKNOWN",shouldDisplayTooltip:()=>r.scrollWidth>r.clientWidth})),this.getGui().appendChild(i)}setValue(e,t){if(this.value===e)return this.fireItemSelected(),this;if(e==null)return this.reset(t),this;const n=this.options.findIndex(i=>i.value===e);if(n!==-1){const i=this.options[n];this.value=i.value,this.displayValue=i.text,this.highlightItem(this.itemEls[n]),t||this.fireChangeEvent()}return this}setValueByIndex(e){return this.setValue(this.options[e].value)}getValue(){return this.value}getDisplayValue(){return this.displayValue}refreshHighlighted(){this.clearHighlighted();const e=this.options.findIndex(t=>t.value===this.value);e!==-1&&this.highlightItem(this.itemEls[e])}reset(e){this.value=null,this.displayValue=null,this.clearHighlighted(),e||this.fireChangeEvent()}highlightItem(e){if(!$r(e))return;this.clearHighlighted(),this.highlightedEl=e,e.classList.add(this.activeClass),U1(e,!0);const t=this.getGui(),{scrollTop:n,clientHeight:i}=t,{offsetTop:r,offsetHeight:o}=e;(r+o>n+i||r<n)&&e.scrollIntoView({block:"nearest"}),this.unFocusable||e.focus()}clearHighlighted(){const e=this.highlightedEl;!e||!$r(e)||(e.classList.remove(this.activeClass),U1(e,!1),this.highlightedEl=null)}fireChangeEvent(){this.dispatchLocalEvent({type:"fieldValueChanged"}),this.fireItemSelected()}fireItemSelected(){this.dispatchLocalEvent({type:"selectedItem"})}},Jee=".ag-picker-field-display{flex:1 1 auto}.ag-picker-field{align-items:center;display:flex}.ag-picker-field-icon{border:0;cursor:pointer;display:flex;margin:0;padding:0}.ag-picker-field-wrapper{background-color:var(--ag-picker-button-background-color);border:var(--ag-picker-button-border);border-radius:5px;min-height:max(var(--ag-list-item-height),calc(var(--ag-spacing)*4));overflow:hidden;&:disabled{opacity:.5}&.ag-picker-has-focus,&:focus-within{background-color:var(--ag-picker-button-focus-background-color);border:var(--ag-picker-button-focus-border);box-shadow:var(--ag-focus-shadow)}}",Zee={tag:"div",cls:"ag-picker-field",role:"presentation",children:[{tag:"div",ref:"eLabel"},{tag:"div",ref:"eWrapper",cls:"ag-wrapper ag-picker-field-wrapper ag-picker-collapsed",children:[{tag:"div",ref:"eDisplayField",cls:"ag-picker-field-display"},{tag:"div",ref:"eIcon",cls:"ag-picker-field-icon",attrs:{"aria-hidden":"true"}}]}]},Qee=class extends Q5{constructor(e){if(super(e,(e==null?void 0:e.template)||Zee,(e==null?void 0:e.agComponents)||[],e==null?void 0:e.className),this.isPickerDisplayed=!1,this.skipClick=!1,this.pickerGap=4,this.hideCurrentPicker=null,this.eLabel=le,this.eWrapper=le,this.eDisplayField=le,this.eIcon=le,this.registerCSS(Jee),this.ariaRole=e==null?void 0:e.ariaRole,this.onPickerFocusIn=this.onPickerFocusIn.bind(this),this.onPickerFocusOut=this.onPickerFocusOut.bind(this),!e)return;const{pickerGap:t,maxPickerHeight:n,variableWidth:i,minPickerWidth:r,maxPickerWidth:o}=e;t!=null&&(this.pickerGap=t),this.variableWidth=!!i,n!=null&&this.setPickerMaxHeight(n),r!=null&&this.setPickerMinWidth(r),o!=null&&this.setPickerMaxWidth(o)}postConstruct(){super.postConstruct(),this.setupAria();const e=`ag-${this.getCompId()}-display`;this.eDisplayField.setAttribute("id",e);const t=this.getAriaElement();this.addManagedElementListeners(t,{keydown:this.onKeyDown.bind(this)}),this.addManagedElementListeners(this.eLabel,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)}),this.addManagedElementListeners(this.eWrapper,{mousedown:this.onLabelOrWrapperMouseDown.bind(this)});const{pickerIcon:n,inputWidth:i}=this.config;if(n){const r=br(n,this.beans);r&&this.eIcon.appendChild(r)}i!=null&&this.setInputWidth(i)}setupAria(){const e=this.getAriaElement();e.setAttribute("tabindex",this.gos.get("tabIndex").toString()),$1(e,!1),this.ariaRole&&hs(e,this.ariaRole)}onLabelOrWrapperMouseDown(e){if(e){const t=this.getFocusableElement();if(t!==this.eWrapper&&(e==null?void 0:e.target)===t)return;e.preventDefault(),this.getFocusableElement().focus()}if(this.skipClick){this.skipClick=!1;return}this.isDisabled()||(this.isPickerDisplayed?this.hidePicker():this.showPicker())}onKeyDown(e){switch(e.key){case j.UP:case j.DOWN:case j.ENTER:case j.SPACE:e.preventDefault(),this.onLabelOrWrapperMouseDown();break;case j.ESCAPE:this.isPickerDisplayed&&(e.preventDefault(),e.stopPropagation(),this.hideCurrentPicker&&this.hideCurrentPicker());break}}showPicker(){this.isPickerDisplayed=!0,this.pickerComponent||(this.pickerComponent=this.createPickerComponent());const e=this.pickerComponent.getGui();e.addEventListener("focusin",this.onPickerFocusIn),e.addEventListener("focusout",this.onPickerFocusOut),this.hideCurrentPicker=this.renderAndPositionPicker(),this.toggleExpandedStyles(!0)}renderAndPositionPicker(){const e=this.pickerComponent.getGui();this.gos.get("suppressScrollWhenPopupsAreOpen")||([this.destroyMouseWheelFunc]=this.addManagedEventListeners({bodyScroll:()=>{this.hidePicker()}}));const t=this.getLocaleTextFunc(),{config:{pickerAriaLabelKey:n,pickerAriaLabelValue:i,modalPicker:r=!0},maxPickerHeight:o,minPickerWidth:s,maxPickerWidth:a,variableWidth:l,beans:u,eWrapper:c}=this,d={modal:r,eChild:e,closeOnEsc:!0,closedCallback:()=>{const g=ZA(u);this.beforeHidePicker(),g&&this.isAlive()&&this.getFocusableElement().focus()},ariaLabel:t(n,i),anchorToElement:c};e.style.position="absolute";const h=u.popupSvc,p=h.addPopup(d);l?(s&&(e.style.minWidth=s),e.style.width=Wy(Jf(c)),a&&(e.style.maxWidth=a)):e0(e,a??Jf(c));const f=o??`${Gy(h.getPopupParent())}px`;return e.style.setProperty("max-height",f),this.alignPickerToComponent(),p.hideFunc}alignPickerToComponent(){if(!this.pickerComponent)return;const{pickerGap:e,config:{pickerType:t},beans:{popupSvc:n,gos:i},eWrapper:r,pickerComponent:o}=this,s=i.get("enableRtl")?"right":"left";n.positionPopupByComponent({type:t,eventSource:r,ePopup:o.getGui(),position:"under",alignSide:s,keepWithinBounds:!0,nudgeY:e})}beforeHidePicker(){this.destroyMouseWheelFunc&&(this.destroyMouseWheelFunc(),this.destroyMouseWheelFunc=void 0),this.toggleExpandedStyles(!1);const e=this.pickerComponent.getGui();e.removeEventListener("focusin",this.onPickerFocusIn),e.removeEventListener("focusout",this.onPickerFocusOut),this.isPickerDisplayed=!1,this.pickerComponent=void 0,this.hideCurrentPicker=null}toggleExpandedStyles(e){if(!this.isAlive())return;const t=this.getAriaElement();$1(t,e);const n=this.eWrapper.classList;n.toggle("ag-picker-expanded",e),n.toggle("ag-picker-collapsed",!e)}onPickerFocusIn(){this.togglePickerHasFocus(!0)}onPickerFocusOut(e){var t;(t=this.pickerComponent)!=null&&t.getGui().contains(e.relatedTarget)||this.togglePickerHasFocus(!1)}togglePickerHasFocus(e){this.pickerComponent&&this.eWrapper.classList.toggle("ag-picker-has-focus",e)}hidePicker(){var e;(e=this.hideCurrentPicker)==null||e.call(this)}setInputWidth(e){return e0(this.eWrapper,e),this}getFocusableElement(){return this.eWrapper}setPickerGap(e){return this.pickerGap=e,this}setPickerMinWidth(e){return typeof e=="number"&&(e=`${e}px`),this.minPickerWidth=e??void 0,this}setPickerMaxWidth(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerWidth=e??void 0,this}setPickerMaxHeight(e){return typeof e=="number"&&(e=`${e}px`),this.maxPickerHeight=e??void 0,this}destroy(){this.hidePicker(),super.destroy()}},ete=".ag-select{align-items:center;display:flex;&.ag-disabled{opacity:.5}}:where(.ag-select){.ag-picker-field-wrapper{cursor:default}&.ag-disabled .ag-picker-field-wrapper:focus{box-shadow:none}&:not(.ag-cell-editor,.ag-label-align-top){min-height:var(--ag-list-item-height)}.ag-picker-field-display{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ag-picker-field-icon{align-items:center;display:flex}}:where(.ag-ltr) :where(.ag-select){.ag-picker-field-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding)/2);padding-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-select){.ag-picker-field-wrapper{padding-left:var(--ag-spacing);padding-right:calc(var(--ag-cell-horizontal-padding)/2)}}",dw=class extends Qee{constructor(e){super({pickerAriaLabelKey:"ariaLabelSelectField",pickerAriaLabelValue:"Select Field",pickerType:"ag-list",className:"ag-select",pickerIcon:"selectOpen",ariaRole:"combobox",...e}),this.registerCSS(ete)}postConstruct(){this.tooltipFeature=this.createOptionalManagedBean(this.beans.registry.createDynamicBean("tooltipFeature",!1,{shouldDisplayTooltip:Ip(()=>this.eDisplayField),getGui:()=>this.getGui()})),super.postConstruct(),this.createListComponent(),this.eWrapper.tabIndex=this.gos.get("tabIndex");const{options:e,value:t,placeholder:n}=this.config;e!=null&&this.addOptions(e),t!=null&&this.setValue(t,!0),n&&t==null&&(this.eDisplayField.textContent=n),this.addManagedElementListeners(this.eWrapper,{focusout:this.onWrapperFocusOut.bind(this)})}onWrapperFocusOut(e){this.eWrapper.contains(e.relatedTarget)||this.hidePicker()}createListComponent(){const e=this.createBean(new Xee("select",!0));this.listComponent=e,e.setParentComponent(this);const t=e.getAriaElement(),n=`ag-select-list-${e.getCompId()}`;t.setAttribute("id",n),TX(this.getAriaElement(),t),e.addManagedElementListeners(e.getGui(),{mousedown:i=>{i==null||i.preventDefault()}}),e.addManagedListeners(e,{selectedItem:()=>{this.hidePicker(),this.dispatchLocalEvent({type:"selectedItem"})},fieldValueChanged:()=>{this.listComponent&&(this.setValue(this.listComponent.getValue(),!1,!0),this.hidePicker())}})}createPickerComponent(){return this.listComponent}onKeyDown(e){var n;const{key:t}=e;switch(t===j.TAB&&this.hidePicker(),t){case j.ENTER:case j.UP:case j.DOWN:case j.PAGE_UP:case j.PAGE_DOWN:case j.PAGE_HOME:case j.PAGE_END:e.preventDefault(),this.isPickerDisplayed?(n=this.listComponent)==null||n.handleKeyDown(e):super.onKeyDown(e);break;case j.ESCAPE:super.onKeyDown(e);break;case j.SPACE:this.isPickerDisplayed?e.preventDefault():super.onKeyDown(e);break}}showPicker(){const e=this.listComponent;e&&(super.showPicker(),e.refreshHighlighted())}addOptions(e){return e.forEach(t=>this.addOption(t)),this}addOption(e){return this.listComponent.addOption(e),this}clearOptions(){var e;return(e=this.listComponent)==null||e.clearOptions(),this.setValue(void 0,!0),this}setValue(e,t,n){const{listComponent:i,config:{placeholder:r},eDisplayField:o,tooltipFeature:s}=this;if(this.value===e||!i)return this;if(n||i.setValue(e,!0),i.getValue()===this.getValue())return this;let l=i.getDisplayValue();return l==null&&r&&(l=r),o.textContent=l,s==null||s.setTooltipAndRefresh(l??null),super.setValue(e,t)}destroy(){this.listComponent=this.destroyBean(this.listComponent),super.destroy()}},tte={selector:"AG-SELECT",component:dw},bv={TAB_GUARD:"ag-tab-guard",TAB_GUARD_TOP:"ag-tab-guard-top",TAB_GUARD_BOTTOM:"ag-tab-guard-bottom"},nte=class extends K{constructor(e){super(),this.skipTabGuardFocus=!1,this.forcingFocusOut=!1,this.allowFocus=!1;const{comp:t,eTopGuard:n,eBottomGuard:i,focusTrapActive:r,forceFocusOutWhenTabGuardsAreEmpty:o,isFocusableContainer:s,focusInnerElement:a,onFocusIn:l,onFocusOut:u,shouldStopEventPropagation:c,onTabKeyDown:d,handleKeyDown:h,isEmpty:p,eFocusableElement:f}=e;this.comp=t,this.eTopGuard=n,this.eBottomGuard=i,this.providedFocusInnerElement=a,this.eFocusableElement=f,this.focusTrapActive=!!r,this.forceFocusOutWhenTabGuardsAreEmpty=!!o,this.isFocusableContainer=!!s,this.providedFocusIn=l,this.providedFocusOut=u,this.providedShouldStopEventPropagation=c,this.providedOnTabKeyDown=d,this.providedHandleKeyDown=h,this.providedIsEmpty=p}postConstruct(){this.createManagedBean(new _u(this.eFocusableElement,{shouldStopEventPropagation:()=>this.shouldStopEventPropagation(),onTabKeyDown:e=>this.onTabKeyDown(e),handleKeyDown:e=>this.handleKeyDown(e),onFocusIn:e=>this.onFocusIn(e),onFocusOut:e=>this.onFocusOut(e)})),this.activateTabGuards(),[this.eTopGuard,this.eBottomGuard].forEach(e=>this.addManagedElementListeners(e,{focus:this.onFocus.bind(this)}))}handleKeyDown(e){this.providedHandleKeyDown&&this.providedHandleKeyDown(e)}tabGuardsAreActive(){return!!this.eTopGuard&&this.eTopGuard.hasAttribute("tabIndex")}shouldStopEventPropagation(){return this.providedShouldStopEventPropagation?this.providedShouldStopEventPropagation():!1}activateTabGuards(){if(this.forcingFocusOut)return;const e=this.gos.get("tabIndex");this.comp.setTabIndex(e.toString())}deactivateTabGuards(){this.comp.setTabIndex()}onFocus(e){if(this.isFocusableContainer&&!this.eFocusableElement.contains(e.relatedTarget)&&!this.allowFocus){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.skipTabGuardFocus){this.skipTabGuardFocus=!1;return}if(this.forceFocusOutWhenTabGuardsAreEmpty&&(this.providedIsEmpty?this.providedIsEmpty():nu(this.eFocusableElement,".ag-tab-guard").length===0)){this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard);return}if(this.isFocusableContainer&&this.eFocusableElement.contains(e.relatedTarget))return;const t=e.target===this.eBottomGuard;!(this.providedFocusInnerElement?this.providedFocusInnerElement(t):this.focusInnerElement(t))&&this.forceFocusOutWhenTabGuardsAreEmpty&&this.findNextElementOutsideAndFocus(e.target===this.eBottomGuard)}findNextElementOutsideAndFocus(e){var l;const t=wn(this.beans),n=nu(t.body,null,!0),i=n.indexOf(e?this.eTopGuard:this.eBottomGuard);if(i===-1)return;let r,o;e?(r=0,o=i):(r=i+1,o=n.length);const s=n.slice(r,o),a=this.gos.get("tabIndex");s.sort((u,c)=>{const d=parseInt(u.getAttribute("tabindex")||"0"),h=parseInt(c.getAttribute("tabindex")||"0");return h===a?1:d===a?-1:d===0?1:h===0?-1:d-h}),(l=s[e?s.length-1:0])==null||l.focus()}onFocusIn(e){this.focusTrapActive||this.forcingFocusOut||(this.providedFocusIn&&this.providedFocusIn(e),this.isFocusableContainer||this.deactivateTabGuards())}onFocusOut(e){this.focusTrapActive||(this.providedFocusOut&&this.providedFocusOut(e),this.eFocusableElement.contains(e.relatedTarget)||this.activateTabGuards())}onTabKeyDown(e){if(this.providedOnTabKeyDown){this.providedOnTabKeyDown(e);return}if(this.focusTrapActive||e.defaultPrevented)return;const t=this.tabGuardsAreActive();t&&this.deactivateTabGuards();const n=this.getNextFocusableElement(e.shiftKey);t&&setTimeout(()=>this.activateTabGuards(),0),n&&(n.focus(),e.preventDefault())}focusInnerElement(e=!1){const t=nu(this.eFocusableElement);return this.tabGuardsAreActive()&&(t.splice(0,1),t.splice(t.length-1,1)),t.length?(t[e?t.length-1:0].focus({preventScroll:!0}),!0):!1}getNextFocusableElement(e){return yl(this.beans,this.eFocusableElement,!1,e)}forceFocusOutOfContainer(e=!1){if(this.forcingFocusOut)return;const t=e?this.eTopGuard:this.eBottomGuard;this.activateTabGuards(),this.skipTabGuardFocus=!0,this.forcingFocusOut=!0,t.focus(),window.setTimeout(()=>{this.forcingFocusOut=!1,this.activateTabGuards()})}isTabGuard(e,t){return e===this.eTopGuard&&!t||e===this.eBottomGuard&&(t??!0)}setAllowFocus(e){this.allowFocus=e}},ite=class extends K{constructor(e){super(),this.comp=e}initialiseTabGuard(e){this.eTopGuard=this.createTabGuard("top"),this.eBottomGuard=this.createTabGuard("bottom"),this.eFocusableElement=this.comp.getFocusableElement();const{eTopGuard:t,eBottomGuard:n,eFocusableElement:i}=this,r=[t,n],o={setTabIndex:m=>{r.forEach(v=>m!=null?v.setAttribute("tabindex",m):v.removeAttribute("tabindex"))}};this.addTabGuards(t,n);const{focusTrapActive:s=!1,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}=e;this.tabGuardCtrl=this.createManagedBean(new nte({comp:o,focusTrapActive:s,eTopGuard:t,eBottomGuard:n,eFocusableElement:i,onFocusIn:a,onFocusOut:l,focusInnerElement:u,handleKeyDown:c,onTabKeyDown:d,shouldStopEventPropagation:h,isEmpty:p,forceFocusOutWhenTabGuardsAreEmpty:f,isFocusableContainer:g}))}getTabGuardCtrl(){return this.tabGuardCtrl}createTabGuard(e){const t=wn(this.beans).createElement("div"),n=e==="top"?bv.TAB_GUARD_TOP:bv.TAB_GUARD_BOTTOM;return t.classList.add(bv.TAB_GUARD,n),hs(t,"presentation"),t}addTabGuards(e,t){const n=this.eFocusableElement;n.insertAdjacentElement("afterbegin",e),n.insertAdjacentElement("beforeend",t)}removeAllChildrenExceptTabGuards(){const e=[this.eTopGuard,this.eBottomGuard];si(this.comp.getFocusableElement()),this.addTabGuards(...e)}forceFocusOutOfContainer(e=!1){this.tabGuardCtrl.forceFocusOutOfContainer(e)}appendChild(e,t,n){$y(t)||(t=t.getGui());const{eBottomGuard:i}=this;i?i.insertAdjacentElement("beforebegin",t):e(t,n)}destroy(){const{eTopGuard:e,eBottomGuard:t}=this;Cr(e),Cr(t),super.destroy()}},tR=class extends pt{initialiseTabGuard(e){this.tabGuardFeature=this.createManagedBean(new ite(this)),this.tabGuardFeature.initialiseTabGuard(e)}forceFocusOutOfContainer(e=!1){this.tabGuardFeature.forceFocusOutOfContainer(e)}appendChild(e,t){this.tabGuardFeature.appendChild(super.appendChild.bind(this),e,t)}},Gu=class extends pt{isPopup(){return!0}setParentComponent(e){e.addCssClass("ag-has-popup"),super.setParentComponent(e)}destroy(){const e=this.parentComponent;e&&e.isAlive()&&e.getGui().classList.remove("ag-has-popup"),super.destroy()}},Vl=class{constructor(e,t=!1){this.DOUBLE_TAP_MILLIS=500,this.destroyFuncs=[],this.touching=!1,this.localEventService=new dl,this.preventMouseClick=t;const n=this.onTouchStart.bind(this),i=this.onTouchMove.bind(this),r=this.onTouchEnd.bind(this);e.addEventListener("touchstart",n,{passive:!0}),e.addEventListener("touchmove",i,{passive:!0}),e.addEventListener("touchend",r,{passive:!1}),this.destroyFuncs.push(()=>{e.removeEventListener("touchstart",n,{passive:!0}),e.removeEventListener("touchmove",i,{passive:!0}),e.removeEventListener("touchend",r,{passive:!1})})}getActiveTouch(e){for(let t=0;t<e.length;t++)if(e[t].identifier===this.touchStart.identifier)return e[t];return null}addEventListener(e,t){this.localEventService.addEventListener(e,t)}removeEventListener(e,t){this.localEventService.removeEventListener(e,t)}onTouchStart(e){if(this.touching)return;this.touchStart=e.touches[0],this.touching=!0,this.moved=!1;const t=this.touchStart;window.setTimeout(()=>{const n=this.touchStart===t;if(this.touching&&n&&!this.moved){this.moved=!0;const i={type:"longTap",touchStart:this.touchStart,touchEvent:e};this.localEventService.dispatchEvent(i)}},500)}onTouchMove(e){if(!this.touching)return;const t=this.getActiveTouch(e.touches);if(!t)return;!L5(t,this.touchStart,4)&&(this.moved=!0)}onTouchEnd(e){if(this.touching){if(!this.moved){const t={type:"tap",touchStart:this.touchStart};this.localEventService.dispatchEvent(t),this.checkForDoubleTap()}this.preventMouseClick&&e.cancelable&&e.preventDefault(),this.touching=!1}}checkForDoubleTap(){const e=Date.now();if(this.lastTapTime&&this.lastTapTime>0)if(e-this.lastTapTime>this.DOUBLE_TAP_MILLIS){const n={type:"doubleTap",touchStart:this.touchStart};this.localEventService.dispatchEvent(n),this.lastTapTime=null}else this.lastTapTime=e;else this.lastTapTime=e}destroy(){this.destroyFuncs.forEach(e=>e())}},nR=class{constructor(e="javascript"){this.frameworkName=e,this.renderingEngine="vanilla",this.batchFrameworkComps=!1,this.wrapIncoming=t=>t(),this.wrapOutgoing=t=>t(),this.baseDocLink=`${WA}/${this.frameworkName}-data-grid`,VX(this.baseDocLink)}setInterval(e,t){return new bi(n=>{n(window.setInterval(e,t))})}addEventListener(e,t,n,i){let r={};if(typeof i=="object"?r=i:typeof i=="boolean"&&(r={capture:i}),r.passive==null){const o=o5(t);o!=null&&(r.passive=o)}e.addEventListener(t,n,r)}frameworkComponent(e){return null}isFrameworkComponent(e){return!1}getDocLink(e){return`${this.baseDocLink}${e?`/${e}`:""}`}};function rte(e){return{beanName:"gridApi",bean:e.getBean("apiFunctionSvc").api}}var ote=["licenseManager","environment","eventSvc","gos","paginationAutoPageSizeSvc","apiFunctionSvc","gridApi","registry","agCompUtils","userCompFactory","rowContainerHeight","horizontalResizeSvc","localeSvc","pinnedRowModel","dragSvc","colGroupSvc","visibleCols","popupSvc","selectionSvc","colFilter","quickFilter","filterManager","colModel","headerNavigation","pageBounds","pagination","pageBoundsListener","rowSpanSvc","stickyRowSvc","rowRenderer","expressionSvc","alignedGridsSvc","navigation","valueCache","valueSvc","autoWidthCalc","filterMenuFactory","dragAndDrop","focusSvc","cellNavigation","cellStyles","scrollVisibleSvc","sortSvc","colHover","colAnimation","autoColSvc","selectionColSvc","changeDetectionSvc","animationFrameSvc","undoRedo","colDefFactory","rowStyleSvc","rowNodeBlockLoader","rowNodeSorter","ctrlsSvc","pinnedCols","dataTypeSvc","syncSvc","overlays","stateSvc","expansionSvc","apiEventSvc","ariaAnnounce","menuSvc","colMoves","colAutosize","colFlex","colResize","pivotColsSvc","valueColsSvc","rowGroupColsSvc","funcColsSvc","colNames","colViewport","pivotResultCols","showRowGroupCols","validation"],W4=Object.fromEntries(ote.map((e,t)=>[e,t]));function ste(e,t){const n=(e.beanName?W4[e.beanName]:void 0)??Number.MAX_SAFE_INTEGER,i=(t.beanName?W4[t.beanName]:void 0)??Number.MAX_SAFE_INTEGER;return n-i}function ate(e,t){return(e==null?void 0:e.beanName)==="gridDestroySvc"?-1:0}var lte={tag:"div",cls:"ag-pinned-left-header",role:"rowgroup"},ute={tag:"div",cls:"ag-pinned-right-header",role:"rowgroup"},cte={tag:"div",cls:"ag-header-viewport",role:"presentation",attrs:{tabindex:"-1"},children:[{tag:"div",ref:"eCenterContainer",cls:"ag-header-container",role:"rowgroup"}]},yv=class extends pt{constructor(e){super(),this.eCenterContainer=le,this.headerRowComps={},this.rowCompsList=[],this.pinned=e}postConstruct(){this.selectAndSetTemplate();const e={setDisplayed:n=>this.setDisplayed(n),setCtrls:n=>this.setCtrls(n),setCenterWidth:n=>this.eCenterContainer.style.width=n,setViewportScrollLeft:n=>this.getGui().scrollLeft=n,setPinnedContainerWidth:n=>{const i=this.getGui();i.style.width=n,i.style.maxWidth=n,i.style.minWidth=n}};this.createManagedBean(new Cee(this.pinned)).setComp(e,this.getGui())}selectAndSetTemplate(){const e=this.pinned=="left",t=this.pinned=="right",n=e?lte:t?ute:cte;this.setTemplate(n),this.eRowContainer=this.eCenterContainer!==le?this.eCenterContainer:this.getGui()}destroy(){this.setCtrls([]),super.destroy()}destroyRowComp(e){this.destroyBean(e),this.eRowContainer.removeChild(e.getGui())}setCtrls(e){const t=this.headerRowComps;this.headerRowComps={},this.rowCompsList=[];let n;const i=r=>{const o=r.getGui();o.parentElement!=this.eRowContainer&&this.eRowContainer.appendChild(o),n&&VA(this.eRowContainer,o,n),n=o};e.forEach(r=>{const o=r.instanceId,s=t[o];delete t[o];const a=s||this.createBean(new fee(r));this.headerRowComps[o]=a,this.rowCompsList.push(a),i(a)}),Object.values(t).forEach(r=>this.destroyRowComp(r))}},dte={tag:"div",cls:"ag-header",role:"presentation"},hte=class extends pt{constructor(){super(dte)}postConstruct(){const e={addOrRemoveCssClass:(i,r)=>this.addOrRemoveCssClass(i,r),setHeightAndMinHeight:i=>{this.getGui().style.height=i,this.getGui().style.minHeight=i}};this.createManagedBean(new aee).setComp(e,this.getGui(),this.getFocusableElement());const n=i=>{this.createManagedBean(i),this.appendChild(i)};n(new yv("left")),n(new yv(null)),n(new yv("right"))}},pte={selector:"AG-HEADER-ROOT",component:hte},fte=class extends pt{constructor(e,t,n,i,r){super(),this.cellCtrl=t,this.rendererVersion=0,this.editorVersion=0,this.beans=e,this.column=t.column,this.rowNode=t.rowNode,this.eRow=i;const o=gn({tag:"div",role:t.getCellAriaRole(),attrs:{"comp-id":`${this.getCompId()}`,"col-id":t.colIdSanitised}});this.eCell=o;let s;t.isCellSpanning()?(s=gn({tag:"div",cls:"ag-spanned-cell-wrapper",role:"presentation"}),s.appendChild(o),this.setTemplateFromElement(s)):this.setTemplateFromElement(o),this.cellCssClassManager=new y5(()=>o),this.forceWrapper=t.isForceWrapper(),this.refreshWrapper(!1);const a={addOrRemoveCssClass:(l,u)=>this.cellCssClassManager.addOrRemoveCssClass(l,u),setUserStyles:l=>rh(o,l),getFocusableElement:()=>o,setIncludeSelection:l=>this.includeSelection=l,setIncludeRowDrag:l=>this.includeRowDrag=l,setIncludeDndSource:l=>this.includeDndSource=l,setRenderDetails:(l,u,c)=>this.setRenderDetails(l,u,c),setEditDetails:(l,u,c)=>this.setEditDetails(l,u,c),getCellEditor:()=>this.cellEditor||null,getCellRenderer:()=>this.cellRenderer||null,getParentOfValue:()=>this.getParentOfValue()};t.setComp(a,o,s,this.eCellWrapper,n,r,void 0)}getParentOfValue(){return this.eCellValue??this.eCellWrapper??this.eCell}setRenderDetails(e,t,n){if(this.cellEditor&&!this.cellEditorPopupWrapper)return;this.firstRender=this.firstRender==null;const r=this.refreshWrapper(!1);this.refreshEditStyles(!1),e?!(n||r)&&this.refreshCellRenderer(e)||(this.destroyRenderer(),this.createCellRendererInstance(e)):(this.destroyRenderer(),this.insertValueWithoutCellRenderer(t))}setEditDetails(e,t,n){e?this.createCellEditorInstance(e,t,n):this.destroyEditor()}removeControls(){const e=this.beans.context;this.checkboxSelectionComp=e.destroyBean(this.checkboxSelectionComp),this.dndSourceComp=e.destroyBean(this.dndSourceComp),this.rowDraggingComp=e.destroyBean(this.rowDraggingComp)}refreshWrapper(e){const t=this.includeRowDrag||this.includeDndSource||this.includeSelection,n=t||this.forceWrapper,i=n&&this.eCellWrapper==null;i&&(this.eCellWrapper=gn({tag:"div",cls:"ag-cell-wrapper",role:"presentation"}),this.eCell.appendChild(this.eCellWrapper));const r=!n&&this.eCellWrapper!=null;r&&(Cr(this.eCellWrapper),this.eCellWrapper=void 0),this.cellCssClassManager.addOrRemoveCssClass("ag-cell-value",!n);const o=!e&&n,s=o&&this.eCellValue==null;s&&(this.eCellValue=gn({tag:"span",cls:"ag-cell-value",role:"presentation"}),this.eCellWrapper.appendChild(this.eCellValue));const a=!o&&this.eCellValue!=null;a&&(Cr(this.eCellValue),this.eCellValue=void 0);const l=i||r||s||a;return l&&this.removeControls(),!e&&t&&this.addControls(),l}addControls(){const{cellCtrl:e,eCellWrapper:t,eCellValue:n,includeRowDrag:i,includeDndSource:r,includeSelection:o}=this,s=a=>{a&&t.insertBefore(a.getGui(),n)};i&&this.rowDraggingComp==null&&(this.rowDraggingComp=e.createRowDragComp(),s(this.rowDraggingComp)),r&&this.dndSourceComp==null&&(this.dndSourceComp=e.createDndSource(),s(this.dndSourceComp)),o&&this.checkboxSelectionComp==null&&(this.checkboxSelectionComp=e.createSelectionCheckbox(),s(this.checkboxSelectionComp))}createCellEditorInstance(e,t,n){const i=this.editorVersion,r=e.newAgStackInstance(),{params:o}=e;r.then(a=>this.afterCellEditorCreated(i,a,o,t,n)),Bt(this.cellEditor)&&o.cellStartedEdit&&this.cellCtrl.focusCell(!0)}insertValueWithoutCellRenderer(e){const t=this.getParentOfValue();si(t);const n=e!=null?rs(e,!0):null;n!=null&&(t.textContent=n)}destroyRenderer(){const{context:e}=this.beans;this.cellRenderer=e.destroyBean(this.cellRenderer),Cr(this.cellRendererGui),this.cellRendererGui=null,this.rendererVersion++}destroyEditor(){var n,i;const{context:e}=this.beans;(((n=this.cellEditorPopupWrapper)==null?void 0:n.getGui().contains(Gt(this.beans)))||this.cellCtrl.hasBrowserFocus())&&this.eCell.focus({preventScroll:!0}),(i=this.hideEditorPopup)==null||i.call(this),this.hideEditorPopup=void 0,this.cellEditor=e.destroyBean(this.cellEditor),this.cellEditorPopupWrapper=e.destroyBean(this.cellEditorPopupWrapper),Cr(this.cellEditorGui),this.cellEditorGui=null,this.editorVersion++}refreshCellRenderer(e){var n;if(((n=this.cellRenderer)==null?void 0:n.refresh)==null||this.cellRendererClass!==e.componentClass)return!1;const t=this.cellRenderer.refresh(e.params);return t===!0||t===void 0}createCellRendererInstance(e){const t=this.rendererVersion,{componentClass:n}=e,i=()=>{if(this.rendererVersion!==t||!this.isAlive())return;const s=e.newAgStackInstance(),a=this.afterCellRendererCreated.bind(this,t,n);s==null||s.then(a)},{animationFrameSvc:r}=this.beans;r!=null&&r.active&&this.firstRender?r.createTask(i,this.rowNode.rowIndex,"p2",e.componentFromFramework):i()}afterCellRendererCreated(e,t,n){if(!this.isAlive()||e!==this.rendererVersion){this.beans.context.destroyBean(n);return}this.cellRenderer=n,this.cellRendererClass=t;const r=n.getGui();if(this.cellRendererGui=r,r!=null){const o=this.getParentOfValue();si(o),o.appendChild(r)}}afterCellEditorCreated(e,t,n,i,r){var u;const o=e!==this.editorVersion,{context:s}=this.beans;if(o){s.destroyBean(t);return}if(t.isCancelBeforeStart&&t.isCancelBeforeStart()){s.destroyBean(t),this.cellCtrl.stopEditing(!0);return}if(!t.getGui){ie(97,{colId:this.column.getId()}),s.destroyBean(t);return}this.cellEditor=t,this.cellEditorGui=t.getGui();const l=i||t.isPopup!==void 0&&t.isPopup();l?this.addPopupCellEditor(n,r):this.addInCellEditor(),this.refreshEditStyles(!0,l),(u=t.afterGuiAttached)==null||u.call(t),this.cellCtrl.cellEditorAttached()}refreshEditStyles(e,t){const{cellCssClassManager:n}=this;n.addOrRemoveCssClass("ag-cell-inline-editing",e&&!t),n.addOrRemoveCssClass("ag-cell-popup-editing",e&&!!t),n.addOrRemoveCssClass("ag-cell-not-inline-editing",!e||!!t),this.cellCtrl.setInlineEditingCss()}addInCellEditor(){const{eCell:e}=this;e.contains(Gt(this.beans))&&e.focus(),this.destroyRenderer(),this.refreshWrapper(!0),si(this.getParentOfValue()),this.cellEditorGui&&this.getParentOfValue().appendChild(this.cellEditorGui)}addPopupCellEditor(e,t){var m;const{gos:n,context:i,editSvc:r,popupSvc:o,localeSvc:s}=this.beans;n.get("editType")==="fullRow"&&ie(98);const a=this.cellEditor;this.cellEditorPopupWrapper=i.createBean(r.createPopupEditorWrapper(e));const l=this.cellEditorPopupWrapper.getGui();this.cellEditorGui&&l.appendChild(this.cellEditorGui);const u=n.get("stopEditingWhenCellsLoseFocus"),c=t??((m=a.getPopupPosition)==null?void 0:m.call(a))??"over",d=n.get("enableRtl"),h={ePopup:l,column:this.column,rowNode:this.rowNode,type:"popupCellEditor",eventSource:this.eCell,position:c,alignSide:d?"right":"left",keepWithinBounds:!0},p=o.positionPopupByComponent.bind(o,h),f=FA(s),g=o.addPopup({modal:u,eChild:l,closeOnEsc:!0,closedCallback:()=>{this.cellCtrl.onPopupEditorClosed()},anchorToElement:this.eCell,positionCallback:p,ariaLabel:f("ariaLabelCellEditor","Cell Editor")});g&&(this.hideEditorPopup=g.hideFunc)}detach(){this.eRow.removeChild(this.getGui())}destroy(){this.cellCtrl.stopEditing(),this.destroyRenderer(),this.destroyEditor(),this.removeControls(),super.destroy()}},gte=class extends pt{constructor(e,t,n){super(),this.cellComps=new Map,this.beans=t,this.rowCtrl=e;const i=gn({tag:"div",role:"row",attrs:{"comp-id":`${this.getCompId()}`}});this.setInitialStyle(i,n),this.setTemplateFromElement(i);const r=i.style;this.domOrder=this.rowCtrl.getDomOrder();const o={setDomOrder:s=>this.domOrder=s,setCellCtrls:s=>this.setCellCtrls(s),showFullWidth:s=>this.showFullWidth(s),getFullWidthCellRenderer:()=>this.fullWidthCellRenderer,addOrRemoveCssClass:(s,a)=>this.addOrRemoveCssClass(s,a),setUserStyles:s=>rh(i,s),setTop:s=>r.top=s,setTransform:s=>r.transform=s,setRowIndex:s=>i.setAttribute("row-index",s),setRowId:s=>i.setAttribute("row-id",s),setRowBusinessKey:s=>i.setAttribute("row-business-key",s),refreshFullWidth:s=>{var a,l;return((l=(a=this.fullWidthCellRenderer)==null?void 0:a.refresh)==null?void 0:l.call(a,s()))??!1}};e.setComp(o,this.getGui(),n,void 0),this.addDestroyFunc(()=>{e.unsetComp(n)})}setInitialStyle(e,t){const n=this.rowCtrl.getInitialTransform(t);if(n)e.style.setProperty("transform",n);else{const i=this.rowCtrl.getInitialRowTop(t);i&&e.style.setProperty("top",i)}}showFullWidth(e){const t=i=>{if(this.isAlive()){const r=i.getGui();this.getGui().appendChild(r),this.rowCtrl.setupDetailRowAutoHeight(r),this.setFullWidthRowComp(i)}else this.beans.context.destroyBean(i)};e.newAgStackInstance().then(t)}setCellCtrls(e){const t=new Map(this.cellComps);for(const n of e){const i=n.instanceId;this.cellComps.has(i)?t.delete(i):this.newCellComp(n)}this.destroyCells(t),this.ensureDomOrder(e)}ensureDomOrder(e){if(!this.domOrder)return;const t=[];for(const n of e){const i=this.cellComps.get(n.instanceId);i&&t.push(i.getGui())}_A(this.getGui(),t)}newCellComp(e){const t=new fte(this.beans,e,this.rowCtrl.printLayout,this.getGui(),this.rowCtrl.editing);this.cellComps.set(e.instanceId,t),this.getGui().appendChild(t.getGui())}destroy(){super.destroy(),this.destroyCells(this.cellComps)}setFullWidthRowComp(e){this.fullWidthCellRenderer=e,this.addDestroyFunc(()=>{this.fullWidthCellRenderer=this.beans.context.destroyBean(this.fullWidthCellRenderer)})}destroyCells(e){for(const t of e.values()){if(!t)return;const n=t.cellCtrl.instanceId;if(this.cellComps.get(n)!==t)return;t.detach(),t.destroy(),this.cellComps.delete(n)}}};function mte(e,t,n){const i=!!n.gos.get("enableCellSpan")&&!!t.getSpannedRowCtrls,r={tag:"div",ref:"eContainer",cls:Pp(e),role:"rowgroup"};if(t.type==="center"||i){const o={tag:"div",ref:"eSpannedContainer",cls:`ag-spanning-container ${BQ(e)}`,role:"rowgroup"};return{tag:"div",ref:"eViewport",cls:`ag-viewport ${$5(e)}`,role:"presentation",children:[r,i?o:null]}}return r}var vte=class extends pt{constructor(e){super(),this.eViewport=le,this.eContainer=le,this.eSpannedContainer=le,this.rowCompsNoSpan={},this.rowCompsWithSpan={},this.name=e==null?void 0:e.name,this.options=sh(this.name)}postConstruct(){this.setTemplate(mte(this.name,this.options,this.beans));const e={setHorizontalScroll:n=>this.eViewport.scrollLeft=n,setViewportHeight:n=>this.eViewport.style.height=n,setRowCtrls:({rowCtrls:n})=>this.setRowCtrls(n),setSpannedRowCtrls:n=>this.setRowCtrls(n,!0),setDomOrder:n=>{this.domOrder=n},setContainerWidth:n=>{this.eContainer.style.width=n,this.eSpannedContainer&&(this.eSpannedContainer.style.width=n)},setOffsetTop:n=>{const i=`translateY(${n})`;this.eContainer.style.transform=i,this.eSpannedContainer&&(this.eSpannedContainer.style.transform=i)}};this.createManagedBean(new qQ(this.name)).setComp(e,this.eContainer,this.eSpannedContainer,this.eViewport)}destroy(){this.setRowCtrls([]),this.setRowCtrls([],!0),super.destroy(),this.lastPlacedElement=null}setRowCtrls(e,t){const{beans:n,options:i}=this,r=t?this.eSpannedContainer:this.eContainer,o=t?{...this.rowCompsWithSpan}:{...this.rowCompsNoSpan},s={};t?this.rowCompsWithSpan=s:this.rowCompsNoSpan=s,this.lastPlacedElement=null;const a=[];for(const l of e){const u=l.instanceId,c=o[u];let d;if(c)d=c,delete o[u];else{if(!l.rowNode.displayed)continue;d=new gte(l,n,i.type)}s[u]=d,a.push([d,!c])}this.removeOldRows(Object.values(o),r),this.addRowNodes(a,r)}addRowNodes(e,t){const{domOrder:n}=this;for(const[i,r]of e){const o=i.getGui();n?this.ensureDomOrder(o,t):r&&t.appendChild(o)}}removeOldRows(e,t){for(const n of e)t.removeChild(n.getGui()),n.destroy()}ensureDomOrder(e,t){VA(t,e,this.lastPlacedElement),this.lastPlacedElement=e}},Cte={selector:"AG-ROW-CONTAINER",component:vte};function Zu(e,t){return t.map(n=>{const i=`e${n[0].toUpperCase()+n.substring(1)}RowContainer`;return e[i]={name:n},{tag:"ag-row-container",ref:i,attrs:{name:n}}})}function bte(e){const t={},n={tag:"div",ref:"eGridRoot",cls:"ag-root ag-unselectable",children:[{tag:"ag-header-root"},{tag:"div",ref:"eTop",cls:"ag-floating-top",role:"presentation",children:Zu(t,["topLeft","topCenter","topRight","topFullWidth"])},{tag:"div",ref:"eBody",cls:"ag-body",role:"presentation",children:[{tag:"div",ref:"eBodyViewport",cls:"ag-body-viewport",role:"presentation",children:Zu(t,["left","center","right","fullWidth"])},{tag:"ag-fake-vertical-scroll"}]},{tag:"div",ref:"eStickyTop",cls:"ag-sticky-top",role:"presentation",children:Zu(t,["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"])},{tag:"div",ref:"eStickyBottom",cls:"ag-sticky-bottom",role:"presentation",children:Zu(t,["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"])},{tag:"div",ref:"eBottom",cls:"ag-floating-bottom",role:"presentation",children:Zu(t,["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"])},{tag:"ag-fake-horizontal-scroll"},e?{tag:"ag-overlay-wrapper"}:null]};return{paramsMap:t,elementParams:n}}var yte=class extends pt{constructor(){super(...arguments),this.eGridRoot=le,this.eBodyViewport=le,this.eStickyTop=le,this.eStickyBottom=le,this.eTop=le,this.eBottom=le,this.eBody=le}postConstruct(){const{overlays:e,rangeSvc:t}=this.beans,n=e==null?void 0:e.getOverlayWrapperSelector(),{paramsMap:i,elementParams:r}=bte(!!n);this.setTemplate(r,[...n?[n]:[],QQ,nee,pte,Cte],i);const o=(a,l)=>{const u=`${a}px`;l.style.minHeight=u,l.style.height=u},s={setRowAnimationCssOnBodyViewport:(a,l)=>this.setRowAnimationCssOnBodyViewport(a,l),setColumnCount:a=>xX(this.getGui(),a),setRowCount:a=>wX(this.getGui(),a),setTopHeight:a=>o(a,this.eTop),setBottomHeight:a=>o(a,this.eBottom),setTopInvisible:a=>this.eTop.classList.toggle("ag-invisible",a),setBottomInvisible:a=>this.eBottom.classList.toggle("ag-invisible",a),setStickyTopHeight:a=>this.eStickyTop.style.height=a,setStickyTopTop:a=>this.eStickyTop.style.top=a,setStickyTopWidth:a=>this.eStickyTop.style.width=a,setStickyBottomHeight:a=>{this.eStickyBottom.style.height=a,this.eStickyBottom.classList.toggle("ag-invisible",a==="0px")},setStickyBottomBottom:a=>this.eStickyBottom.style.bottom=a,setStickyBottomWidth:a=>this.eStickyBottom.style.width=a,setColumnMovingCss:(a,l)=>this.addOrRemoveCssClass(a,l),updateLayoutClasses:(a,l)=>{const u=[this.eBodyViewport.classList,this.eBody.classList];for(const c of u)c.toggle(zr.AUTO_HEIGHT,l.autoHeight),c.toggle(zr.NORMAL,l.normal),c.toggle(zr.PRINT,l.print);this.addOrRemoveCssClass(zr.AUTO_HEIGHT,l.autoHeight),this.addOrRemoveCssClass(zr.NORMAL,l.normal),this.addOrRemoveCssClass(zr.PRINT,l.print)},setAlwaysVerticalScrollClass:(a,l)=>this.eBodyViewport.classList.toggle(q5,l),registerBodyViewportResizeListener:a=>{const l=va(this.beans,this.eBodyViewport,a);this.addDestroyFunc(()=>l())},setPinnedTopBottomOverflowY:a=>this.eTop.style.overflowY=this.eBottom.style.overflowY=a,setCellSelectableCss:(a,l)=>{[this.eTop,this.eBodyViewport,this.eBottom].forEach(u=>u.classList.toggle(a,l))},setBodyViewportWidth:a=>this.eBodyViewport.style.width=a,setGridRootRole:a=>hs(this.eGridRoot,a)};this.ctrl=this.createManagedBean(new XQ),this.ctrl.setComp(s,this.getGui(),this.eBodyViewport,this.eTop,this.eBottom,this.eStickyTop,this.eStickyBottom),(t&&ps(this.gos)||Td(this.gos))&&yX(this.getGui(),!0)}setRowAnimationCssOnBodyViewport(e,t){const n=this.eBodyViewport.classList;n.toggle("ag-row-animation",t),n.toggle("ag-row-no-animation",!t)}},wte={selector:"AG-GRID-BODY",component:yte},Ste=class extends K{constructor(){super(...arguments),this.additionalFocusableContainers=new Set}setComp(e,t,n){this.view=e,this.eGridHostDiv=t,this.eGui=n,this.eGui.setAttribute("grid-id",this.beans.context.getGridId());const{dragAndDrop:i,ctrlsSvc:r}=this.beans;i==null||i.registerGridDropTarget(()=>this.eGui,this),M5(this.gos,t),this.createManagedBean(new ew(this.view)),this.view.setRtlClass(this.gos.get("enableRtl")?"ag-rtl":"ag-ltr");const o=va(this.beans,this.eGridHostDiv,this.onGridSizeChanged.bind(this));this.addDestroyFunc(()=>o()),r.register("gridCtrl",this)}isDetailGrid(){var t;const e=A5(this.getGui());return((t=e==null?void 0:e.getAttribute("row-id"))==null?void 0:t.startsWith("detail"))||!1}getOptionalSelectors(){var t,n,i,r;const e=this.beans;return{paginationSelector:(t=e.pagination)==null?void 0:t.getPaginationSelector(),gridHeaderDropZonesSelector:e.registry.getSelector("AG-GRID-HEADER-DROP-ZONES"),sideBarSelector:(n=e.sideBar)==null?void 0:n.getSelector(),statusBarSelector:(i=e.registry)==null?void 0:i.getSelector("AG-STATUS-BAR"),watermarkSelector:(r=e.licenseManager)==null?void 0:r.getWatermarkSelector()}}onGridSizeChanged(){this.eventSvc.dispatchEvent({type:"gridSizeChanged",clientWidth:this.eGridHostDiv.clientWidth,clientHeight:this.eGridHostDiv.clientHeight})}destroyGridUi(){this.view.destroyGridUi()}getGui(){return this.eGui}setResizeCursor(e){this.view.setCursor(e?"ew-resize":null)}disableUserSelect(e){this.view.setUserSelect(e?"none":null)}focusNextInnerContainer(e){const t=this.getFocusableContainers(),{indexWithFocus:n,nextIndex:i}=this.getNextFocusableIndex(t,e);if(i<0||i>=t.length)return!1;if(i===0){if(n>0){const{visibleCols:r,focusSvc:o}=this.beans,s=r.allCols,a=wt(s);if(o.focusGridView({column:a,backwards:!0}))return!0}return!1}return this.focusContainer(t[i],e)}focusInnerElement(e){const t=this.gos.getCallback("focusGridInnerElement");if(t&&t({fromBottom:!!e}))return!0;const n=this.getFocusableContainers(),{focusSvc:i,visibleCols:r}=this.beans,o=r.allCols;if(e){if(n.length>1)return this.focusContainer(wt(n),e);const s=wt(o);if(i.focusGridView({column:s,backwards:e}))return!0}if(this.gos.get("headerHeight")===0||Xa(this.beans)){if(i.focusGridView({column:o[0],backwards:e}))return!0;for(let s=1;s<n.length;s++)if(pl(n[s].getGui(),e))return!0;return!1}return i.focusFirstHeader()}forceFocusOutOfContainer(e=!1){this.view.forceFocusOutOfContainer(e)}addFocusableContainer(e){this.additionalFocusableContainers.add(e)}removeFocusableContainer(e){this.additionalFocusableContainers.delete(e)}allowFocusForNextCoreContainer(e){var o;const t=this.view.getFocusableContainers(),{nextIndex:n,indexWithFocus:i}=this.getNextFocusableIndex(t,e);if(i===-1||n<0||n>=t.length)return;const r=t[n];(o=r.setAllowFocus)==null||o.call(r,!0),setTimeout(()=>{var s;(s=r.setAllowFocus)==null||s.call(r,!1)})}isFocusable(){var t,n;const e=this.beans;return!Eg(e)||!Xa(e)||!!((n=(t=e.sideBar)==null?void 0:t.comp)!=null&&n.isDisplayed())}getNextFocusableIndex(e,t){const n=Gt(this.beans),i=e.findIndex(o=>o.getGui().contains(n)),r=i+(t?-1:1);return{indexWithFocus:i,nextIndex:r}}focusContainer(e,t){var i,r;(i=e.setAllowFocus)==null||i.call(e,!0);const n=pl(e.getGui(),t,!1,!0);return(r=e.setAllowFocus)==null||r.call(e,!1),n}getFocusableContainers(){return[...this.view.getFocusableContainers(),...this.additionalFocusableContainers]}destroy(){this.additionalFocusableContainers.clear(),super.destroy()}},xte=class extends tR{constructor(e){super(),this.gridBody=le,this.sideBar=le,this.pagination=le,this.rootWrapperBody=le,this.eGridDiv=e}postConstruct(){const e={destroyGridUi:()=>this.destroyBean(this),setRtlClass:o=>this.addCssClass(o),forceFocusOutOfContainer:this.forceFocusOutOfContainer.bind(this),updateLayoutClasses:this.updateLayoutClasses.bind(this),getFocusableContainers:this.getFocusableContainers.bind(this),setUserSelect:o=>{this.getGui().style.userSelect=o??"",this.getGui().style.webkitUserSelect=o??""},setCursor:o=>{this.getGui().style.cursor=o??""}},t=this.createManagedBean(new Ste),n=t.getOptionalSelectors(),i=this.createTemplate(n),r=[wte,...Object.values(n).filter(o=>!!o)];this.setTemplate(i,r),t.setComp(e,this.eGridDiv,this.getGui()),this.insertGridIntoDom(),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>t.focusInnerElement(o),forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:()=>!t.isFocusable()})}insertGridIntoDom(){const e=this.getGui();this.eGridDiv.appendChild(e),this.addDestroyFunc(()=>{this.eGridDiv.removeChild(e),ca(this.gos,"Grid removed from DOM")})}updateLayoutClasses(e,t){const n=this.rootWrapperBody.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=zr,{autoHeight:s,normal:a,print:l}=t;n.toggle(i,s),n.toggle(r,a),n.toggle(o,l),this.addOrRemoveCssClass(i,s),this.addOrRemoveCssClass(r,a),this.addOrRemoveCssClass(o,l)}createTemplate(e){const t=e.gridHeaderDropZonesSelector?{tag:"ag-grid-header-drop-zones"}:null,n=e.sideBarSelector?{tag:"ag-side-bar",ref:"sideBar"}:null,i=e.statusBarSelector?{tag:"ag-status-bar"}:null,r=e.watermarkSelector?{tag:"ag-watermark"}:null,o=e.paginationSelector?{tag:"ag-pagination",ref:"pagination"}:null;return{tag:"div",cls:"ag-root-wrapper",role:"presentation",children:[t,{tag:"div",ref:"rootWrapperBody",cls:"ag-root-wrapper-body",role:"presentation",children:[{tag:"ag-grid-body",ref:"gridBody"},n]},i,o,r]}}getFocusableElement(){return this.rootWrapperBody}forceFocusOutOfContainer(e=!1){var t;if(!e&&((t=this.pagination)!=null&&t.isDisplayed())){this.pagination.forceFocusOutOfContainer(e);return}super.forceFocusOutOfContainer(e)}getFocusableContainers(){const e=[this.gridBody];return[this.sideBar,this.pagination].forEach(t=>{t&&e.push(t)}),e.filter(t=>$r(t.getGui()))}},Ge=(e,t)=>{for(const n of Object.keys(t))t[n]=e;return t},$4={dispatchEvent:"CommunityCore",...Ge("CommunityCore",{destroy:0,getGridId:0,getGridOption:0,isDestroyed:0,setGridOption:0,updateGridOptions:0}),...Ge("GridState",{getState:0}),...Ge("SharedRowSelection",{setNodesSelected:0,selectAll:0,deselectAll:0,selectAllFiltered:0,deselectAllFiltered:0,selectAllOnCurrentPage:0,deselectAllOnCurrentPage:0,getSelectedNodes:0,getSelectedRows:0}),...Ge("RowApi",{redrawRows:0,setRowNodeExpanded:0,getRowNode:0,addRenderedRowListener:0,getRenderedNodes:0,forEachNode:0,getFirstDisplayedRowIndex:0,getLastDisplayedRowIndex:0,getDisplayedRowAtIndex:0,getDisplayedRowCount:0}),...Ge("ScrollApi",{getVerticalPixelRange:0,getHorizontalPixelRange:0,ensureColumnVisible:0,ensureIndexVisible:0,ensureNodeVisible:0}),...Ge("KeyboardNavigation",{getFocusedCell:0,clearFocusedCell:0,setFocusedCell:0,tabToNextCell:0,tabToPreviousCell:0,setFocusedHeader:0}),...Ge("EventApi",{addEventListener:0,addGlobalListener:0,removeEventListener:0,removeGlobalListener:0}),...Ge("ValueCache",{expireValueCache:0}),...Ge("CellApi",{getCellValue:0}),...Ge("SharedMenu",{showColumnMenu:0,hidePopupMenu:0}),...Ge("Sort",{onSortChanged:0}),...Ge("PinnedRow",{getPinnedTopRowCount:0,getPinnedBottomRowCount:0,getPinnedTopRow:0,getPinnedBottomRow:0}),...Ge("Overlay",{showLoadingOverlay:0,showNoRowsOverlay:0,hideOverlay:0}),...Ge("RenderApi",{setGridAriaProperty:0,refreshCells:0,refreshHeader:0,isAnimationFrameQueueEmpty:0,flushAllAnimationFrames:0,getSizesForCurrentTheme:0,getCellRendererInstances:0}),...Ge("HighlightChanges",{flashCells:0}),...Ge("RowDrag",{addRowDropZone:0,removeRowDropZone:0,getRowDropZoneParams:0}),...Ge("ColumnApi",{getColumnDefs:0,getColumnDef:0,getDisplayNameForColumn:0,getColumn:0,getColumns:0,applyColumnState:0,getColumnState:0,resetColumnState:0,isPinning:0,isPinningLeft:0,isPinningRight:0,getDisplayedColAfter:0,getDisplayedColBefore:0,setColumnsVisible:0,setColumnsPinned:0,getAllGridColumns:0,getDisplayedLeftColumns:0,getDisplayedCenterColumns:0,getDisplayedRightColumns:0,getAllDisplayedColumns:0,getAllDisplayedVirtualColumns:0}),...Ge("ColumnAutoSize",{sizeColumnsToFit:0,autoSizeColumns:0,autoSizeAllColumns:0}),...Ge("ColumnGroup",{setColumnGroupOpened:0,getColumnGroup:0,getProvidedColumnGroup:0,getDisplayNameForColumnGroup:0,getColumnGroupState:0,setColumnGroupState:0,resetColumnGroupState:0,getLeftDisplayedColumnGroups:0,getCenterDisplayedColumnGroups:0,getRightDisplayedColumnGroups:0,getAllDisplayedColumnGroups:0}),...Ge("ColumnMove",{moveColumnByIndex:0,moveColumns:0}),...Ge("ColumnResize",{setColumnWidths:0}),...Ge("ColumnHover",{isColumnHovered:0}),...Ge("EditCore",{getCellEditorInstances:0,getEditingCells:0,stopEditing:0,startEditingCell:0}),...Ge("UndoRedoEdit",{undoCellEditing:0,redoCellEditing:0,getCurrentUndoSize:0,getCurrentRedoSize:0}),...Ge("FilterCore",{isAnyFilterPresent:0,onFilterChanged:0}),...Ge("ColumnFilter",{isColumnFilterPresent:0,getColumnFilterInstance:0,destroyFilter:0,setFilterModel:0,getFilterModel:0,getColumnFilterModel:0,setColumnFilterModel:0,showColumnFilter:0}),...Ge("QuickFilter",{isQuickFilterPresent:0,getQuickFilter:0,resetQuickFilter:0}),...Ge("Find",{findGetActiveMatch:0,findGetTotalMatches:0,findGoTo:0,findNext:0,findPrevious:0,findGetNumMatches:0,findGetParts:0,findClearActive:0,findRefresh:0}),...Ge("Pagination",{paginationIsLastPageFound:0,paginationGetPageSize:0,paginationGetCurrentPage:0,paginationGetTotalPages:0,paginationGetRowCount:0,paginationGoToNextPage:0,paginationGoToPreviousPage:0,paginationGoToFirstPage:0,paginationGoToLastPage:0,paginationGoToPage:0}),...Ge("CsrmSsrmSharedApi",{expandAll:0,collapseAll:0,onRowHeightChanged:0}),...Ge("SsrmInfiniteSharedApi",{setRowCount:0,getCacheBlockState:0,isLastRowIndexKnown:0}),...Ge("ClientSideRowModelApi",{onGroupExpandedOrCollapsed:0,refreshClientSideRowModel:0,isRowDataEmpty:0,forEachLeafNode:0,forEachNodeAfterFilter:0,forEachNodeAfterFilterAndSort:0,resetRowHeights:0,applyTransaction:0,applyTransactionAsync:0,flushAsyncTransactions:0,getBestCostNodeSelection:0}),...Ge("CsvExport",{getDataAsCsv:0,exportDataAsCsv:0}),...Ge("InfiniteRowModel",{refreshInfiniteCache:0,purgeInfiniteCache:0,getInfiniteRowCount:0}),...Ge("AdvancedFilter",{getAdvancedFilterModel:0,setAdvancedFilterModel:0,showAdvancedFilterBuilder:0,hideAdvancedFilterBuilder:0}),...Ge("IntegratedCharts",{getChartModels:0,getChartRef:0,getChartImageDataURL:0,downloadChart:0,openChartToolPanel:0,closeChartToolPanel:0,createRangeChart:0,createPivotChart:0,createCrossFilterChart:0,updateChart:0,restoreChart:0}),...Ge("Clipboard",{copyToClipboard:0,cutToClipboard:0,copySelectedRowsToClipboard:0,copySelectedRangeToClipboard:0,copySelectedRangeDown:0,pasteFromClipboard:0}),...Ge("ExcelExport",{getDataAsExcel:0,exportDataAsExcel:0,getSheetDataForExcel:0,getMultipleSheetsAsExcel:0,exportMultipleSheetsAsExcel:0}),...Ge("SharedMasterDetail",{addDetailGridInfo:0,removeDetailGridInfo:0,getDetailGridInfo:0,forEachDetailGridInfo:0}),...Ge("ContextMenu",{showContextMenu:0}),...Ge("ColumnMenu",{showColumnChooser:0,hideColumnChooser:0}),...Ge("CellSelection",{getCellRanges:0,addCellRange:0,clearRangeSelection:0,clearCellSelection:0}),...Ge("SharedRowGrouping",{setRowGroupColumns:0,removeRowGroupColumns:0,addRowGroupColumns:0,getRowGroupColumns:0,moveRowGroupColumn:0}),...Ge("SharedAggregation",{addAggFuncs:0,clearAggFuncs:0,setColumnAggFunc:0}),...Ge("SharedPivot",{isPivotMode:0,getPivotResultColumn:0,setValueColumns:0,getValueColumns:0,removeValueColumns:0,addValueColumns:0,setPivotColumns:0,removePivotColumns:0,addPivotColumns:0,getPivotColumns:0,setPivotResultColumns:0,getPivotResultColumns:0}),...Ge("ServerSideRowModelApi",{getServerSideSelectionState:0,setServerSideSelectionState:0,applyServerSideTransaction:0,applyServerSideTransactionAsync:0,applyServerSideRowData:0,retryServerSideLoads:0,flushServerSideAsyncTransactions:0,refreshServerSide:0,getServerSideGroupLevelState:0}),...Ge("SideBar",{isSideBarVisible:0,setSideBarVisible:0,setSideBarPosition:0,openToolPanel:0,closeToolPanel:0,getOpenedToolPanel:0,refreshToolPanel:0,isToolPanelShowing:0,getToolPanelInstance:0,getSideBar:0}),...Ge("StatusBar",{getStatusPanel:0})},wv={isDestroyed:()=>!0,destroy(){},preConstruct(){},postConstruct(){},preWireBeans(){},wireBeans(){}},Ete=(e,t)=>e.eventSvc.dispatchEvent(t),iR=class{};Reflect.defineProperty(iR,"name",{value:"GridApi"});var kte=class extends K{constructor(){super(),this.beanName="apiFunctionSvc",this.api=new iR,this.fns={...wv,dispatchEvent:Ete},this.preDestroyLink="";const{api:e}=this;for(const t of Object.keys($4))e[t]=this.makeApi(t)[t]}postConstruct(){this.preDestroyLink=this.beans.frameworkOverrides.getDocLink("grid-lifecycle/#grid-pre-destroyed")}addFunction(e,t){var r;const{fns:n,beans:i}=this;n!==wv&&(n[e]=((r=i==null?void 0:i.validation)==null?void 0:r.validateApiFunction(e,t))??t)}makeApi(e){return{[e]:(...t)=>{const{beans:n,fns:{[e]:i}}=this;return i?i(n,...t):this.apiNotFound(e)}}}apiNotFound(e){const{beans:t,gos:n,preDestroyLink:i}=this;if(!t)ie(26,{fnName:e,preDestroyLink:i});else{const r=$4[e];n.assertModuleRegistered(r,`api.${e}`)&&ie(27,{fnName:e,module:r})}}destroy(){super.destroy(),this.fns=wv,this.beans=null}};function Fte(e){return e.context.getGridId()}function Tte(e){e.gridDestroySvc.destroy()}function Ate(e){return e.gridDestroySvc.destroyCalled}function Rte(e,t){return e.gos.get(t)}function Dte(e,t,n){rR(e,{[t]:n})}function rR(e,t){e.gos.updateGridOptions({options:t})}var Mte={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{draggable:"true"}},Pte=class extends pt{constructor(e,t,n){super(Mte),this.rowNode=e,this.column=t,this.eCell=n}postConstruct(){this.getGui().appendChild(br("rowDrag",this.beans,null)),this.addGuiEventListener("mousedown",t=>{t.stopPropagation()}),this.addDragSource(),this.checkVisibility()}addDragSource(){this.addGuiEventListener("dragstart",this.onDragStart.bind(this))}onDragStart(e){const{rowNode:t,column:n,eCell:i,gos:r}=this,o=n.getColDef().dndSourceOnRowDrag,s=e.dataTransfer;if(s.setDragImage(i,0,0),o){const a=Le(r,{rowNode:t,dragEvent:e});o(a)}else try{const a=JSON.stringify(t.data);s.setData("application/json",a),s.setData("text/plain",a)}catch{}}checkVisibility(){const e=this.column.isDndSource(this.rowNode);this.setDisplayed(e)}};function Ite(e,t){var n,i;(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null||i.addRowDropZone(t)}function Ote(e,t){var i,r;const n=(i=e.dragAndDrop)==null?void 0:i.findExternalZone(t);n&&((r=e.dragAndDrop)==null||r.removeDropTarget(n))}function Lte(e,t){var n,i;return(i=(n=e.rowDragSvc)==null?void 0:n.rowDragFeature)==null?void 0:i.getRowDropZone(t)}var Nte=class extends K{constructor(){super(...arguments),this.beanName="horizontalResizeSvc"}addResizeBar(e){const t={dragStartPixels:e.dragStartPixels||0,eElement:e.eResizeBar,onDragStart:this.onDragStart.bind(this,e),onDragStop:this.onDragStop.bind(this,e),onDragging:this.onDragging.bind(this,e),onDragCancel:this.onDragStop.bind(this,e),includeTouch:!0,stopPropagationForTouch:!0},{dragSvc:n}=this.beans;return n.addDragSource(t),()=>n.removeDragSource(t)}onDragStart(e,t){this.dragStartX=t.clientX,this.setResizeIcons();const n=t instanceof MouseEvent&&t.shiftKey===!0;e.onResizeStart(n)}setResizeIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!0),e.disableUserSelect(!0)}onDragStop(e){e.onResizeEnd(this.resizeAmount),this.resetIcons()}resetIcons(){const e=this.beans.ctrlsSvc.get("gridCtrl");e.setResizeCursor(!1),e.disableUserSelect(!1)}onDragging(e,t){this.resizeAmount=t.clientX-this.dragStartX,e.onResizing(this.resizeAmount)}},Bte={tag:"div",cls:"ag-drag-handle ag-row-drag",attrs:{"aria-hidden":"true"}},zte=class extends pt{constructor(e,t,n,i,r,o){super(),this.cellValueFn=e,this.rowNode=t,this.column=n,this.customGui=i,this.dragStartPixels=r,this.suppressVisibilityChange=o,this.dragSource=null}isCustomGui(){return this.customGui!=null}postConstruct(){const{beans:e,rowNode:t,column:n,gos:i}=this;if(this.customGui?this.setDragElement(this.customGui,this.dragStartPixels):(this.setTemplate(Bte),this.getGui().appendChild(br("rowDrag",e,null)),this.addDragSource()),!this.suppressVisibilityChange){const r=i.get("rowDragManaged")?new Vte(this,t,n):new Hte(this,t,n);this.createManagedBean(r,this.beans.context)}}setDragElement(e,t){this.setTemplateFromElement(e,void 0,void 0,!0),this.addDragSource(t)}getSelectedNodes(){var i;const e=this.rowNode;if(!this.gos.get("rowDragMultiRow"))return[e];const n=((i=this.beans.selectionSvc)==null?void 0:i.getSelectedNodes())??[];return n.indexOf(e)!==-1?n:[e]}getDragItem(){const{column:e,rowNode:t}=this;return{rowNode:t,rowNodes:this.getSelectedNodes(),columns:e?[e]:void 0,defaultTextValue:this.cellValueFn()}}getRowDragText(e){if(e){const t=e.getColDef();if(t.rowDragText)return t.rowDragText}return this.gos.get("rowDragText")}addDragSource(e=4){this.dragSource&&this.removeDragSource();const t=this.getGui();this.gos.get("enableCellTextSelection")&&(this.removeMouseDownListener(),this.mouseDownListener=this.addManagedElementListeners(t,{mousedown:i=>{i==null||i.preventDefault()}})[0]);const n=this.getLocaleTextFunc();this.dragSource={type:2,eElement:t,dragItemName:()=>{var s;const i=this.getDragItem(),r=((s=i.rowNodes)==null?void 0:s.length)||1,o=this.getRowDragText(this.column);return o?o(i,r):r===1?this.cellValueFn():`${r} ${n("rowDragRows","rows")}`},getDragItem:()=>this.getDragItem(),dragStartPixels:e,dragSourceDomDataKey:this.gos.getDomDataKey()},this.beans.dragAndDrop.addDragSource(this.dragSource,!0)}destroy(){this.removeDragSource(),this.removeMouseDownListener(),super.destroy()}removeDragSource(){this.dragSource&&(this.beans.dragAndDrop.removeDragSource(this.dragSource),this.dragSource=null)}removeMouseDownListener(){this.mouseDownListener&&(this.mouseDownListener(),this.mouseDownListener=void 0)}},oR=class extends K{constructor(e,t,n){super(),this.parent=e,this.rowNode=t,this.column=n}setDisplayedOrVisible(e){const t={skipAriaHidden:!0};if(e)this.parent.setDisplayed(!1,t);else{let n=!0,i=!1;const{column:r,rowNode:o,parent:s}=this;r&&(n=r.isRowDrag(o)||s.isCustomGui(),i=typeof r.getColDef().rowDrag=="function"),i?(s.setDisplayed(!0,t),s.setVisible(n,t)):(s.setDisplayed(n,t),s.setVisible(!0,t))}}},Hte=class extends oR{postConstruct(){this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this));const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedListeners(this.beans.eventSvc,{newColumnsLoaded:e}),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const e=this.gos.get("suppressRowDrag");this.setDisplayedOrVisible(e)}},Vte=class extends oR{postConstruct(){const e=this.workOutVisibility.bind(this);this.addManagedListeners(this.beans.eventSvc,{sortChanged:e,filterChanged:e,columnRowGroupChanged:e,newColumnsLoaded:e}),this.addManagedListeners(this.rowNode,{dataChanged:e,cellChanged:e}),this.addManagedPropertyListener("suppressRowDrag",this.onSuppressRowDrag.bind(this)),this.workOutVisibility()}onSuppressRowDrag(){this.workOutVisibility()}workOutVisibility(){const{rowDragSvc:e,dragAndDrop:t,gos:n}=this.beans,i=e.rowDragFeature,r=i&&i.shouldPreventRowMove(),o=n.get("suppressRowDrag"),s=t.hasExternalDropZones(),a=r&&!s||o;this.setDisplayedOrVisible(a)}},_te=class extends K{constructor(){super(...arguments),this.beanName="rowDragSvc"}setupRowDrag(e,t){const n=t.createManagedBean(new hQ(e)),i=this.beans.dragAndDrop;i.addDropTarget(n),t.addDestroyFunc(()=>i.removeDropTarget(n)),this.rowDragFeature=n}createRowDragComp(e,t,n,i,r,o){return new zte(e,t,n,i,r,o)}createRowDragCompForRow(e,t){if(ps(this.gos))return;const n=this.getLocaleTextFunc();return this.createRowDragComp(()=>`1 ${n("rowDragRow","row")}`,e,void 0,t,void 0,!0)}createRowDragCompForCell(e,t,n,i,r,o){const s=this.gos;return s.get("rowDragManaged")&&(!Ci(s)||s.get("pagination"))?void 0:this.createRowDragComp(n,e,t,i,r,o)}},sR={moduleName:"Drag",version:pe,beans:[pQ]},Gte={moduleName:"DragAndDrop",version:pe,dynamicBeans:{dndSourceComp:Pte},icons:{rowDrag:"grip"}},aR={moduleName:"SharedDragAndDrop",version:pe,beans:[rQ],dependsOn:[sR],userComponents:{agDragAndDropImage:Tee},icons:{columnMovePin:"pin",columnMoveHide:"eye-slash",columnMoveMove:"arrows",columnMoveLeft:"left",columnMoveRight:"right",columnMoveGroup:"group",columnMoveValue:"aggregation",columnMovePivot:"pivot",dropNotAllowed:"not-allowed",rowDrag:"grip"}},Wte={moduleName:"RowDrag",version:pe,beans:[_te],apiFunctions:{addRowDropZone:Ite,removeRowDropZone:Ote,getRowDropZoneParams:Lte},dependsOn:[aR]},$te={moduleName:"HorizontalResize",version:pe,beans:[Nte],dependsOn:[sR]},Ute=":where(.ag-ltr) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:left .2s}.ag-header-group-cell{transition:left .2s,width .2s}}:where(.ag-rtl) :where(.ag-column-moving){.ag-cell,.ag-header-cell,.ag-spanned-cell-wrapper{transition:right .2s}.ag-header-group-cell{transition:right .2s,width .2s}}",jte=class extends K{constructor(){super(...arguments),this.beanName="colAnimation",this.executeNextFuncs=[],this.executeLaterFuncs=[],this.active=!1,this.activeNext=!1,this.suppressAnimation=!1,this.animationThreadCount=0}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>this.gridBodyCtrl=e.gridBodyCtrl)}isActive(){return this.active&&!this.suppressAnimation}setSuppressAnimation(e){this.suppressAnimation=e}start(){if(this.active)return;const{gos:e}=this;e.get("suppressColumnMoveAnimation")||e.get("enableRtl")||(this.ensureAnimationCssClassPresent(),this.active=!0,this.activeNext=!0)}finish(){this.active&&this.flush(()=>this.activeNext=!1,()=>this.active=!1)}executeNextVMTurn(e){this.activeNext?this.executeNextFuncs.push(e):e()}executeLaterVMTurn(e){this.active?this.executeLaterFuncs.push(e):e()}ensureAnimationCssClassPresent(){this.animationThreadCount++;const e=this.animationThreadCount,{gridBodyCtrl:t}=this;t.setColumnMovingCss(!0),this.executeLaterFuncs.push(()=>{this.animationThreadCount===e&&t.setColumnMovingCss(!1)})}flush(e,t){const{executeNextFuncs:n,executeLaterFuncs:i}=this;if(n.length===0&&i.length===0){e(),t();return}const r=o=>{for(;o.length;){const s=o.pop();s&&s()}};this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e(),r(n)},0),window.setTimeout(()=>{t(),r(i)},200)})}};function qte(e,t,n){var i;(i=e.colMoves)==null||i.moveColumnByIndex(t,n,"api")}function Kte(e,t,n){var i;(i=e.colMoves)==null||i.moveColumns(t,n,"api")}var Yte=class extends K{constructor(e){super(),this.pinned=e,this.columnsToAggregate=[],this.columnsToGroup=[],this.columnsToPivot=[]}onDragEnter(e){if(this.clearColumnsList(),this.gos.get("functionsReadOnly"))return;const t=e.dragItem.columns;t&&t.forEach(n=>{n.isPrimary()&&(n.isAnyFunctionActive()||(n.isAllowValue()?this.columnsToAggregate.push(n):n.isAllowRowGroup()?this.columnsToGroup.push(n):n.isAllowPivot()&&this.columnsToPivot.push(n)))})}getIconName(){return this.columnsToAggregate.length+this.columnsToGroup.length+this.columnsToPivot.length>0?this.pinned?"pinned":"move":null}onDragLeave(e){this.clearColumnsList()}clearColumnsList(){this.columnsToAggregate.length=0,this.columnsToGroup.length=0,this.columnsToPivot.length=0}onDragging(e){}onDragStop(e){const{valueColsSvc:t,rowGroupColsSvc:n,pivotColsSvc:i}=this.beans;this.columnsToAggregate.length>0&&(t==null||t.addColumns(this.columnsToAggregate,"toolPanelDragAndDrop")),this.columnsToGroup.length>0&&(n==null||n.addColumns(this.columnsToGroup,"toolPanelDragAndDrop")),this.columnsToPivot.length>0&&(i==null||i.addColumns(this.columnsToPivot,"toolPanelDragAndDrop"))}onDragCancel(){this.clearColumnsList()}};function Xte(e,t){!t||t.length<=1||t.filter(i=>e.indexOf(i)<0).length>0||t.sort((i,r)=>{const o=e.indexOf(i),s=e.indexOf(r);return o-s})}function lR(e){const{isFromHeader:t,fromLeft:n,xPosition:i,fromEnter:r,fakeEvent:o,pinned:s,gos:a,colModel:l,colMoves:u,visibleCols:c}=e;let{allMovingColumns:d}=e;if(t){const x=[];d.forEach(E=>{var F;let R=null,T=E.getParent();for(;T!=null&&T.getDisplayedLeafColumns().length===1;)R=T,T=T.getParent();R!=null?(!!((F=R.getColGroupDef())!=null&&F.marryChildren)?R.getProvidedColumnGroup().getLeafColumns():R.getLeafColumns()).forEach(L=>{x.includes(L)||x.push(L)}):x.includes(E)||x.push(E)}),d=x}const h=d.slice();Xte(l.getCols(),h);const p=ene({movingCols:h,draggingRight:n,xPosition:i,pinned:s,gos:a,colModel:l,visibleCols:c}),f=Jte(h,l);if(p.length===0)return;const g=p[0];let m=f!==null&&!r;if(t&&(m=f!==null),m&&!o&&(!n&&g>=f||n&&g<=f))return;const v=c.allCols,b=[];let S=null;for(let x=0;x<p.length;x++){const E=p[x],R=u.getProposedColumnOrder(h,E);if(!u.doesOrderPassRules(R))continue;const T=R.filter(D=>v.includes(D));if(S===null)S=T;else if(!bl(T,S))break;const F=Zte(R);b.push({move:E,fragCount:F})}if(b.length===0)return;b.sort((x,E)=>x.fragCount-E.fragCount);const y=b[0].move;if(!(y>l.getCols().length-d.length))return{columns:d,toIndex:y}}function uR(e){const{columns:t,toIndex:n}=lR(e)||{},{finished:i,colMoves:r}=e;return!t||n==null?null:(r.moveColumns(t,n,"uiColumnMoved",i),i?null:{columns:t,toIndex:n})}function Jte(e,t){const n=t.getCols(),i=e.map(l=>n.indexOf(l)).sort((l,u)=>l-u),r=i[0];return wt(i)-r!==i.length-1?null:r}function Zte(e){function t(i){const r=[];let o=i.getOriginalParent();for(;o!=null;)r.push(o),o=o.getOriginalParent();return r}let n=0;for(let i=0;i<e.length-1;i++){let r=t(e[i]),o=t(e[i+1]);[r,o]=r.length>o.length?[r,o]:[o,r],r.forEach(s=>{o.indexOf(s)===-1&&n++})}return n}function Qte(e,t){switch(t){case"left":return e.leftCols;case"right":return e.rightCols;default:return e.centerCols}}function ene(e){const{movingCols:t,draggingRight:n,xPosition:i,pinned:r,gos:o,colModel:s,visibleCols:a}=e;if(o.get("suppressMovableColumns")||t.some(S=>S.getColDef().suppressMovable))return[];const u=Qte(a,r),c=s.getCols(),d=u.filter(S=>t.includes(S)),h=u.filter(S=>!t.includes(S)),p=c.filter(S=>!t.includes(S));let f=0,g=i;if(n){let S=0;d.forEach(y=>S+=y.getActualWidth()),g-=S}if(g>0){for(let S=0;S<h.length;S++){const y=h[S];if(g-=y.getActualWidth(),g<0)break;f++}n&&f++}let m;if(f>0){const S=h[f-1];m=p.indexOf(S)+1}else m=p.indexOf(h[0]),m===-1&&(m=0);const v=[m],b=(S,y)=>S-y;if(n){let S=m+1;const y=c.length-1;for(;S<=y;)v.push(S),S++;v.sort(b)}else{let S=m;const y=c.length-1;let x=c[S];for(;S<=y&&u.indexOf(x)<0;)S++,v.push(S),x=c[S];S=m-1;const E=0;for(;S>=E;)v.push(S),S--;v.sort(b).reverse()}return v}function sC(e){var u;const{pinned:t,fromKeyboard:n,gos:i,ctrlsSvc:r,useHeaderRow:o,skipScrollPadding:s}=e;let a=(u=r.getHeaderRowContainerCtrl(t))==null?void 0:u.eViewport,{x:l}=e;return a?(n&&(l-=a.getBoundingClientRect().left),i.get("enableRtl")&&(o&&(a=a.querySelector(".ag-header-row")),l=a.clientWidth-l),t==null&&!s&&(l+=r.get("center").getCenterViewportScrollLeft()),l):0}function Sv(e,t){for(const n of e)n.moving=t,n.dispatchColEvent("movingChanged","uiColumnMoved")}var U4=7,aC=100,np=aC/2,tne=5,nne=100,ine=class extends K{constructor(e){super(),this.pinned=e,this.needToMoveLeft=!1,this.needToMoveRight=!1,this.lastMovedInfo=null,this.isCenterContainer=!ue(e)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}getIconName(){const{pinned:e,lastDraggingEvent:t}=this,n=(t==null?void 0:t.dragItem.columns)??[];for(const i of n){const r=i.getPinned();if(i.getColDef().lockPinned){if(r==e)return"move";continue}if(r===e||!e)return"move";if(!r&&e)return"pinned"}return"notAllowed"}onDragEnter(e){const t=e.dragItem,n=t.columns;if(e.dragSource.type===0)this.setColumnsVisible(n,!0,"uiColumnDragged");else{const r=t.visibleState,o=(n||[]).filter(s=>r[s.getId()]);this.setColumnsVisible(o,!0,"uiColumnDragged")}this.gos.get("suppressMoveWhenColumnDragging")||this.attemptToPinColumns(n,this.pinned),this.onDragging(e,!0,!0)}onDragging(e=this.lastDraggingEvent,t=!1,n=!1,i=!1){const{gos:r,ctrlsSvc:o}=this.beans,s=r.get("suppressMoveWhenColumnDragging");if(i&&!s){this.finishColumnMoving();return}if(this.lastDraggingEvent=e,!e||!i&&Bt(e.hDirection))return;const a=sC({x:e.x,pinned:this.pinned,gos:r,ctrlsSvc:o});t||this.checkCenterForScrolling(a),s?this.handleColumnDragWhileSuppressingMovement(e,t,n,a,i):this.handleColumnDragWhileAllowingMovement(e,t,n,a,i)}onDragLeave(){this.ensureIntervalCleared(),this.clearHighlighted(),this.lastMovedInfo=null}onDragStop(){this.onDragging(this.lastDraggingEvent,!1,!0,!0),this.ensureIntervalCleared(),this.lastMovedInfo=null}onDragCancel(){this.clearHighlighted(),this.ensureIntervalCleared(),this.lastMovedInfo=null}setColumnsVisible(e,t,n){if(!e)return;const i=e.filter(r=>!r.getColDef().lockVisible);this.beans.colModel.setColsVisible(i,t,n)}finishColumnMoving(){this.clearHighlighted();const e=this.lastMovedInfo;if(!e)return;const{columns:t,toIndex:n}=e;this.beans.colMoves.moveColumns(t,n,"uiColumnMoved",!0)}handleColumnDragWhileSuppressingMovement(e,t,n,i,r){const o=this.getAllMovingColumns(e,!0);if(r){const s=this.isAttemptingToPin(o);s&&this.attemptToPinColumns(o,void 0,!0);const{fromLeft:a,xPosition:l}=this.getNormalisedXPositionInfo(o,s)||{};if(a==null||l==null){this.finishColumnMoving();return}this.moveColumnsAfterHighlight({allMovingColumns:o,xPosition:l,fromEnter:t,fakeEvent:n,fromLeft:a})}else{if(!this.beans.dragAndDrop.isDropZoneWithinThisGrid(e))return;this.highlightHoveredColumn(o,i)}}handleColumnDragWhileAllowingMovement(e,t,n,i,r){const o=this.getAllMovingColumns(e),s=this.normaliseDirection(e.hDirection)==="right",a=e.dragSource.type===1,l=this.getMoveColumnParams({allMovingColumns:o,isFromHeader:a,xPosition:i,fromLeft:s,fromEnter:t,fakeEvent:n}),u=uR({...l,finished:r});u&&(this.lastMovedInfo=u)}getAllMovingColumns(e,t=!1){const n=e.dragSource.getDragItem();let i=null;t?(i=n.columnsInSplit,i||(i=n.columns)):i=n.columns;const r=o=>o.getColDef().lockPinned?o.getPinned()==this.pinned:!0;return i?i.filter(r):[]}getMoveColumnParams(e){const{allMovingColumns:t,isFromHeader:n,xPosition:i,fromLeft:r,fromEnter:o,fakeEvent:s}=e,{gos:a,colModel:l,colMoves:u,visibleCols:c}=this.beans;return{allMovingColumns:t,isFromHeader:n,fromLeft:r,xPosition:i,pinned:this.pinned,fromEnter:o,fakeEvent:s,gos:a,colModel:l,colMoves:u,visibleCols:c}}highlightHoveredColumn(e,t){var c;const{gos:n,colModel:i}=this.beans,r=n.get("enableRtl"),o=i.getCols().filter(d=>d.isVisible()&&d.getPinned()===this.pinned);let s=null,a=null,l=null;for(const d of o){if(a=d.getActualWidth(),s=this.getNormalisedColumnLeft(d,0,r),s!=null){const h=s+a;if(s<=t&&h>=t){l=d;break}}s=null,a=null}if(l)e.indexOf(l)!==-1&&(l=null);else{for(let d=o.length-1;d>=0;d--){const h=o[d],p=o[d].getParent();if(!p){l=h;break}const f=p==null?void 0:p.getDisplayedLeafColumns();if(f.length){l=wt(f);break}}if(!l)return;s=this.getNormalisedColumnLeft(l,0,r),a=l.getActualWidth()}if(((c=this.lastHighlightedColumn)==null?void 0:c.column)!==l&&this.clearHighlighted(),l==null||s==null||a==null)return;let u;t-s<a/2!==r?u=0:u=1,j4(l,u),this.lastHighlightedColumn={column:l,position:u}}getNormalisedXPositionInfo(e,t){const{gos:n,visibleCols:i}=this.beans,r=n.get("enableRtl"),{firstMovingCol:o,column:s,position:a}=this.getColumnMoveAndTargetInfo(e,t,r);if(!o||!s||a==null)return;const l=i.allCols,u=l.indexOf(o),c=l.indexOf(s),d=a===0!==r,h=u<c||u===c&&!d;let p=0;if(d?h&&(p-=1):h||(p+=1),c+p===u)return;const f=l[c+p];if(!f)return;const g=this.getNormalisedColumnLeft(f,20,r);return{fromLeft:h,xPosition:g}}getColumnMoveAndTargetInfo(e,t,n){const i=this.lastHighlightedColumn||{},{firstMovingCol:r,lastMovingCol:o}=rne(e);if(!r||!o||i.column||!t)return{firstMovingCol:r,...i};const a=this.getPinDirection()==="left";return{firstMovingCol:r,position:a?1:0,column:a!==n?r:o}}normaliseDirection(e){if(this.gos.get("enableRtl"))switch(e){case"left":return"right";case"right":return"left"}return e}getNormalisedColumnLeft(e,t,n){const{gos:i,ctrlsSvc:r}=this.beans,o=e.getLeft();if(o==null)return null;const s=e.getActualWidth();return sC({x:n?o+s-t:o+t,pinned:e.getPinned(),useHeaderRow:n,skipScrollPadding:!0,gos:i,ctrlsSvc:r})}isAttemptingToPin(e){const t=this.needToMoveLeft||this.needToMoveRight,n=this.failedMoveAttempts>U4;return t&&n||e.some(i=>i.getPinned()!==this.pinned)}moveColumnsAfterHighlight(e){const{allMovingColumns:t,xPosition:n,fromEnter:i,fakeEvent:r,fromLeft:o}=e,s=this.getMoveColumnParams({allMovingColumns:t,isFromHeader:!0,xPosition:n,fromLeft:o,fromEnter:i,fakeEvent:r}),{columns:a,toIndex:l}=lR(s)||{};a&&l!=null&&(this.lastMovedInfo={columns:a,toIndex:l}),this.finishColumnMoving()}clearHighlighted(){const{lastHighlightedColumn:e}=this;e&&(j4(e.column,null),this.lastHighlightedColumn=null)}checkCenterForScrolling(e){if(!this.isCenterContainer)return;const t=this.beans.ctrlsSvc.get("center"),n=t.getCenterViewportScrollLeft(),i=n+t.getCenterWidth();let r,o;this.gos.get("enableRtl")?(r=e<n+np,o=e>i-np):(o=e<n+np,r=e>i-np),this.needToMoveRight=r,this.needToMoveLeft=o,o||r?this.ensureIntervalStarted():this.ensureIntervalCleared()}ensureIntervalStarted(){var e;this.movingIntervalId||(this.intervalCount=0,this.failedMoveAttempts=0,this.movingIntervalId=window.setInterval(this.moveInterval.bind(this),nne),(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.needToMoveLeft?"left":"right",!0))}ensureIntervalCleared(){var e;this.movingIntervalId&&(window.clearInterval(this.movingIntervalId),this.movingIntervalId=null,this.failedMoveAttempts=0,(e=this.beans.dragAndDrop.getDragAndDropImageComponent())==null||e.setIcon(this.getIconName(),!1))}moveInterval(){var i,r;let e;this.intervalCount++,e=10+this.intervalCount*tne,e>aC&&(e=aC);let t=null;const n=this.gridBodyCon.scrollFeature;if(this.needToMoveLeft?t=n.scrollHorizontally(-e):this.needToMoveRight&&(t=n.scrollHorizontally(e)),t!==0)this.onDragging(this.lastDraggingEvent),this.failedMoveAttempts=0;else{this.failedMoveAttempts++;const{pinnedCols:o,dragAndDrop:s,gos:a}=this.beans;if(this.failedMoveAttempts<=U4+1||!o)return;if((i=s.getDragAndDropImageComponent())==null||i.setIcon("pinned",!1),!a.get("suppressMoveWhenColumnDragging")){const l=(r=this.lastDraggingEvent)==null?void 0:r.dragItem.columns;this.attemptToPinColumns(l,void 0,!0)}}}getPinDirection(){if(this.needToMoveLeft||this.pinned==="left")return"left";if(this.needToMoveRight||this.pinned==="right")return"right"}attemptToPinColumns(e,t,n=!1){const i=(e||[]).filter(s=>!s.getColDef().lockPinned);if(!i.length)return 0;n&&(t=this.getPinDirection());const{pinnedCols:r,dragAndDrop:o}=this.beans;return r==null||r.setColsPinned(i,t,"uiColumnDragged"),n&&o.nudge(),i.length}destroy(){super.destroy(),this.lastDraggingEvent=null,this.clearHighlighted(),this.lastMovedInfo=null}};function j4(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchColEvent("headerHighlightChanged","uiColumnMoved"))}function rne(e){const t=e.length;let n,i;for(let r=0;r<t;r++){if(!n){const o=e[r];o.getLeft()!=null&&(n=o)}if(!i){const o=e[t-1-r];o.getLeft()!=null&&(i=o)}if(n&&i)break}return{firstMovingCol:n,lastMovingCol:i}}var one=class extends K{constructor(e,t){super(),this.pinned=e,this.eContainer=t}postConstruct(){const{ctrlsSvc:e,dragAndDrop:t}=this.beans,n=this.pinned;e.whenReady(this,i=>{let r;const o=i.gridBodyCtrl.eBodyViewport;switch(n){case"left":r=[[o,i.left.eContainer],[i.bottomLeft.eContainer],[i.topLeft.eContainer]];break;case"right":r=[[o,i.right.eContainer],[i.bottomRight.eContainer],[i.topRight.eContainer]];break;default:r=[[o,i.center.eViewport],[i.bottomCenter.eViewport],[i.topCenter.eViewport]];break}this.eSecondaryContainers=r}),this.moveColumnFeature=this.createManagedBean(new ine(n)),this.bodyDropPivotTarget=this.createManagedBean(new Yte(n)),t.addDropTarget(this),this.addDestroyFunc(()=>t.removeDropTarget(this))}isInterestedIn(e){return e===1||e===0&&this.gos.get("allowDragFromColumnsToolPanel")}getSecondaryContainers(){return this.eSecondaryContainers}getContainer(){return this.eContainer}getIconName(){return this.currentDropListener.getIconName()}isDropColumnInPivotMode(e){return this.beans.colModel.isPivotMode()&&e.dragSource.type===0}onDragEnter(e){this.currentDropListener=this.isDropColumnInPivotMode(e)?this.bodyDropPivotTarget:this.moveColumnFeature,this.currentDropListener.onDragEnter(e)}onDragLeave(e){this.currentDropListener.onDragLeave(e)}onDragging(e){this.currentDropListener.onDragging(e)}onDragStop(e){this.currentDropListener.onDragStop(e)}onDragCancel(){this.currentDropListener.onDragCancel()}},sne=class extends K{constructor(){super(...arguments),this.beanName="colMoves"}moveColumnByIndex(e,t,n){const i=this.beans.colModel.getCols();if(!i)return;const r=i[e];this.moveColumns([r],t,n)}moveColumns(e,t,n,i=!0){const{colModel:r,colAnimation:o,visibleCols:s,eventSvc:a}=this.beans,l=r.getCols();if(!l)return;if(t>l.length-e.length){ie(30,{toIndex:t});return}o==null||o.start();const u=r.getColsForKeys(e);this.doesMovePassRules(u,t)&&(D4(r.getCols(),u,t),s.refresh(n),a.dispatchEvent({type:"columnMoved",columns:u,column:u.length===1?u[0]:null,toIndex:t,finished:i,source:n})),o==null||o.finish()}doesMovePassRules(e,t){const n=this.getProposedColumnOrder(e,t);return this.doesOrderPassRules(n)}doesOrderPassRules(e){const{colModel:t,gos:n}=this.beans;return!(!f5(e,t.getColTree())||!(r=>{const o=u=>u?u==="left"||u===!0?-1:1:0,s=n.get("enableRtl");let a=s?1:-1,l=!0;return r.forEach(u=>{const c=o(u.getColDef().lockPosition);s?c>a&&(l=!1):c<a&&(l=!1),a=c}),l})(e))}getProposedColumnOrder(e,t){const i=this.beans.colModel.getCols().slice();return D4(i,e,t),i}createBodyDropTarget(e,t){return new one(e,t)}moveHeader(e,t,n,i,r){const{ctrlsSvc:o,gos:s,colModel:a,visibleCols:l,focusSvc:u}=this.beans,c=t.getBoundingClientRect(),d=c.left,h=en(n),p=h?c.width:n.getActualWidth(),f=e==="left"!==s.get("enableRtl"),g=sC({x:f?d-20:d+p+20,pinned:i,fromKeyboard:!0,gos:s,ctrlsSvc:o}),m=u.focusedHeader;uR({allMovingColumns:h?n.getLeafColumns():[n],isFromHeader:!0,fromLeft:e==="right",xPosition:g,pinned:i,fromEnter:!1,fakeEvent:!1,gos:s,colModel:a,colMoves:this,visibleCols:l,finished:!0});let v;if(h){const b=n.getDisplayedLeafColumns();v=f?b[0]:wt(b)}else v=n;if(o.getScrollFeature().ensureColumnVisible(v,"auto"),(!r.isAlive()||s.get("ensureDomOrder"))&&m){let b;if(h){const S=n.getGroupId(),y=n.getLeafColumns();if(!y.length)return;const x=y[0].getParent();if(!x)return;b=ane(x,S)}else b=n;b&&u.focusHeaderPosition({headerPosition:{...m,column:b}})}}setDragSourceForHeader(e,t,n){const{gos:i,colModel:r,dragAndDrop:o,visibleCols:s}=this.beans;let a=!i.get("suppressDragLeaveHidesColumns");const l=en(t),u=l?t.getProvidedColumnGroup().getLeafColumns():[t],d={type:1,eElement:e,getDefaultIconName:()=>a?"hide":"notAllowed",getDragItem:l?()=>une(t,s.allCols):()=>lne(t),dragItemName:n,onDragStarted:()=>{a=!i.get("suppressDragLeaveHidesColumns"),Sv(u,!0)},onDragStopped:()=>Sv(u,!1),onDragCancelled:()=>Sv(u,!1),onGridEnter:h=>{if(a){const{columns:p=[],visibleState:f}=h??{},g=l?v=>!f||f[v.getColId()]:()=>!0,m=p.filter(v=>!v.getColDef().lockVisible&&g(v));r.setColsVisible(m,!0,"uiColumnMoved")}},onGridExit:h=>{var p;if(a){const f=((p=h==null?void 0:h.columns)==null?void 0:p.filter(g=>!g.getColDef().lockVisible))||[];r.setColsVisible(f,!1,"uiColumnMoved")}}};return o.addDragSource(d,!0),d}};function ane(e,t){for(;e;){if(e.getGroupId()===t)return e;e=e.getParent()}}function lne(e){const t={};return t[e.getId()]=e.isVisible(),{columns:[e],visibleState:t}}function une(e,t){const n=e.getProvidedColumnGroup().getLeafColumns(),i={};n.forEach(a=>i[a.getId()]=a.isVisible());const r=[];t.forEach(a=>{n.indexOf(a)>=0&&(r.push(a),Ur(n,a))}),n.forEach(a=>r.push(a));const o=[],s=e.getLeafColumns();for(const a of r)s.indexOf(a)!==-1&&o.push(a);return{columns:r,columnsInSplit:o,visibleState:i}}var cne={moduleName:"ColumnMove",version:pe,beans:[sne,jte],apiFunctions:{moveColumnByIndex:qte,moveColumns:Kte},dependsOn:[aR],css:[Ute]},dne=class extends K{constructor(){super(...arguments),this.beanName="autoWidthCalc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowContainerCtrl=e.center})}getPreferredWidthForColumn(e,t){const n=this.getHeaderCellForColumn(e);if(!n)return-1;const i=this.beans.rowRenderer.getAllCellsNotSpanningForColumn(e);return t||i.push(n),this.getPreferredWidthForElements(i)}getPreferredWidthForColumnGroup(e){const t=this.getHeaderCellForColumn(e);return t?this.getPreferredWidthForElements([t]):-1}getPreferredWidthForElements(e,t){const n=document.createElement("form");n.style.position="fixed";const i=this.centerRowContainerCtrl.eContainer;e.forEach(o=>this.cloneItemIntoDummy(o,n)),i.appendChild(n);const r=n.offsetWidth;return i.removeChild(n),t=t??this.gos.get("autoSizePadding"),r+t}getHeaderCellForColumn(e){let t=null;return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().forEach(n=>{const i=n.getHtmlElementForColumnHeader(e);i!=null&&(t=i)}),t}cloneItemIntoDummy(e,t){const n=e.cloneNode(!0);n.style.width="",n.style.position="static",n.style.left="";const i=document.createElement("div"),r=i.classList;["ag-header-cell","ag-header-group-cell"].some(a=>n.classList.contains(a))?(r.add("ag-header","ag-header-row"),i.style.position="static"):r.add("ag-row");let s=e.parentElement;for(;s;){if(["ag-header-row","ag-row"].some(l=>s.classList.contains(l))){for(let l=0;l<s.classList.length;l++){const u=s.classList[l];u!="ag-row-position-absolute"&&r.add(u)}break}s=s.parentElement}i.appendChild(n),t.appendChild(i)}},cR={moduleName:"AutoWidth",version:pe,beans:[dne]};function hne(e,t,n=!0,i="api"){var r;(r=e.colResize)==null||r.setColumnWidths(t,!1,n,i)}var pne=class extends K{constructor(e,t,n,i){super(),this.comp=e,this.eResize=t,this.pinned=n,this.columnGroup=i}postConstruct(){if(!this.columnGroup.isResizable()){this.comp.setResizableDisplayed(!1);return}const{horizontalResizeSvc:e,gos:t,colAutosize:n}=this.beans,i=e.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});this.addDestroyFunc(i),!t.get("suppressAutoSize")&&n&&this.addDestroyFunc(n.addColumnGroupResize(this.eResize,this.columnGroup,()=>this.resizeLeafColumnsToFit("uiColumnResized")))}onResizeStart(e){const{columnsToResize:t,resizeStartWidth:n,resizeRatios:i,groupAfterColumns:r,groupAfterStartWidth:o,groupAfterRatios:s}=this.getInitialValues(e);this.resizeCols=t,this.resizeStartWidth=n,this.resizeRatios=i,this.resizeTakeFromCols=r,this.resizeTakeFromStartWidth=o,this.resizeTakeFromRatios=s,this.toggleColumnResizing(!0)}onResizing(e,t,n="uiColumnResized"){const i=this.normaliseDragChange(t),r=this.resizeStartWidth+i;this.resizeColumnsFromLocalValues(r,n,e)}getInitialValues(e){var l;const t=u=>u.reduce((c,d)=>c+d.getActualWidth(),0),n=(u,c)=>u.map(d=>d.getActualWidth()/c),i=this.getColumnsToResize(),r=t(i),o=n(i,r),s={columnsToResize:i,resizeStartWidth:r,resizeRatios:o};let a=null;if(e&&(a=((l=this.beans.colGroupSvc)==null?void 0:l.getGroupAtDirection(this.columnGroup,"After"))??null),a){const u=a.getDisplayedLeafColumns(),c=s.groupAfterColumns=u.filter(h=>h.isResizable()),d=s.groupAfterStartWidth=t(c);s.groupAfterRatios=n(c,d)}else s.groupAfterColumns=void 0,s.groupAfterStartWidth=void 0,s.groupAfterRatios=void 0;return s}resizeLeafColumnsToFit(e){const t=this.beans.autoWidthCalc.getPreferredWidthForColumnGroup(this.columnGroup),n=this.getInitialValues();t>n.resizeStartWidth&&this.resizeColumns(n,t,e,!0)}resizeColumnsFromLocalValues(e,t,n=!0){if(!this.resizeCols||!this.resizeRatios)return;const i={columnsToResize:this.resizeCols,resizeStartWidth:this.resizeStartWidth,resizeRatios:this.resizeRatios,groupAfterColumns:this.resizeTakeFromCols,groupAfterStartWidth:this.resizeTakeFromStartWidth,groupAfterRatios:this.resizeTakeFromRatios};this.resizeColumns(i,e,t,n)}resizeColumns(e,t,n,i=!0){var d;const{columnsToResize:r,resizeStartWidth:o,resizeRatios:s,groupAfterColumns:a,groupAfterStartWidth:l,groupAfterRatios:u}=e,c=[];if(c.push({columns:r,ratios:s,width:t}),a){const h=t-o;c.push({columns:a,ratios:u,width:l-h})}(d=this.beans.colResize)==null||d.resizeColumnSets({resizeSets:c,finished:i,source:n}),i&&this.toggleColumnResizing(!1)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}getColumnsToResize(){return this.columnGroup.getDisplayedLeafColumns().filter(t=>t.isResizable())}normaliseDragChange(e){let t=e;return this.gos.get("enableRtl")?this.pinned!=="left"&&(t*=-1):this.pinned==="right"&&(t*=-1),t}destroy(){super.destroy(),this.resizeCols=void 0,this.resizeRatios=void 0,this.resizeTakeFromCols=void 0,this.resizeTakeFromRatios=void 0}},fne=class extends K{constructor(e,t,n,i,r){super(),this.pinned=e,this.column=t,this.eResize=n,this.comp=i,this.ctrl=r}postConstruct(){const e=[];let t,n;const i=()=>{if(Ht(this.eResize,t),!t)return;const{horizontalResizeSvc:s,colAutosize:a}=this.beans,l=s.addResizeBar({eResizeBar:this.eResize,onResizeStart:this.onResizeStart.bind(this),onResizing:this.onResizing.bind(this,!1),onResizeEnd:this.onResizing.bind(this,!0)});e.push(l),n&&a&&e.push(a.addColumnAutosize(this.eResize,this.column))},r=()=>{e.forEach(s=>s()),e.length=0},o=()=>{const s=this.column.isResizable(),a=!this.gos.get("suppressAutoSize")&&!this.column.getColDef().suppressAutoSize;(s!==t||a!==n)&&(t=s,n=a,r(),i())};o(),this.addDestroyFunc(r),this.ctrl.setRefreshFunction("resize",o)}onResizing(e,t){const{column:n,lastResizeAmount:i,resizeStartWidth:r,beans:o}=this,s=this.normaliseResizeAmount(t),a=r+s,l=[{key:n,newWidth:a}],{pinnedCols:u,ctrlsSvc:c,colResize:d}=o;if(this.column.getPinned()){const h=(u==null?void 0:u.leftWidth)??0,p=(u==null?void 0:u.rightWidth)??0,f=Ed(c.getGridBodyCtrl().eBodyViewport)-50;if(h+p+(s-i)>f)return}this.lastResizeAmount=s,d==null||d.setColumnWidths(l,this.resizeWithShiftKey,e,"uiColumnResized"),e&&this.toggleColumnResizing(!1)}onResizeStart(e){this.resizeStartWidth=this.column.getActualWidth(),this.lastResizeAmount=0,this.resizeWithShiftKey=e,this.toggleColumnResizing(!0)}toggleColumnResizing(e){this.comp.addOrRemoveCssClass("ag-column-resizing",e)}normaliseResizeAmount(e){let t=e;const n=this.pinned!=="left",i=this.pinned==="right";return this.gos.get("enableRtl")?n&&(t*=-1):i&&(t*=-1),t}},gne=class extends K{constructor(){super(...arguments),this.beanName="colResize"}setColumnWidths(e,t,n,i){const r=[],{colModel:o,gos:s,visibleCols:a}=this.beans;e.forEach(l=>{const u=o.getColDefCol(l.key)||o.getCol(l.key);if(!u)return;if(r.push({width:l.newWidth,ratios:[1],columns:[u]}),s.get("colResizeDefault")==="shift"&&(t=!t),t){const d=a.getColAfter(u);if(!d)return;const h=u.getActualWidth()-l.newWidth,p=d.getActualWidth()+h;r.push({width:p,ratios:[1],columns:[d]})}}),r.length!==0&&this.resizeColumnSets({resizeSets:r,finished:n,source:i})}resizeColumnSets(e){const{resizeSets:t,finished:n,source:i}=e;if(!(!t||t.every(c=>mne(c)))){if(n){const c=t&&t.length>0?t[0].columns:null;Ru(this.eventSvc,c,n,i)}return}const o=[],s=[];t.forEach(c=>{const{width:d,columns:h,ratios:p}=c,f={},g={};h.forEach(b=>s.push(b));let m=!0,v=0;for(;m;){if(v++,v>1e3){dt(31);break}m=!1;const b=[];let S=0,y=d;h.forEach((E,R)=>{if(g[E.getId()])y-=f[E.getId()];else{b.push(E);const F=p[R];S+=F}});const x=1/S;b.forEach((E,R)=>{const T=R===b.length-1;let F;T?F=y:(F=Math.round(p[R]*d*x),y-=F);const D=E.getMinWidth(),O=E.getMaxWidth();F<D?(F=D,g[E.getId()]=!0,m=!0):O>0&&F>O&&(F=O,g[E.getId()]=!0,m=!0),f[E.getId()]=F})}h.forEach(b=>{const S=f[b.getId()];b.getActualWidth()!==S&&(b.setActualWidth(S,i),o.push(b))})});const a=o.length>0;let l=[];if(a){const{colFlex:c,visibleCols:d,colViewport:h}=this.beans;l=(c==null?void 0:c.refreshFlexedColumns({resizingCols:s,skipSetLeft:!0}))??[],d.setLeftValues(i),d.updateBodyWidths(),h.checkViewportColumns()}const u=s.concat(l);(a||n)&&Ru(this.eventSvc,u,n,i,l)}resizeHeader(e,t,n){if(!e.isResizable())return;const i=e.getActualWidth(),r=e.getMinWidth(),o=e.getMaxWidth(),s=Math.min(Math.max(i+t,r),o);this.setColumnWidths([{key:e,newWidth:s}],n,!0,"uiColumnResized")}createResizeFeature(e,t,n,i,r){return new fne(e,t,n,i,r)}createGroupResizeFeature(e,t,n,i){return new pne(e,t,n,i)}};function mne(e){const{columns:t,width:n}=e;let i=0,r=0,o=!0;t.forEach(l=>{const u=l.getMinWidth();i+=u||0;const c=l.getMaxWidth();c>0?r+=c:o=!1});const s=n>=i,a=!o||n<=r;return s&&a}var vne={moduleName:"ColumnResize",version:pe,beans:[gne],apiFunctions:{setColumnWidths:hne},dependsOn:[$te,cR]},Cne=class extends K{constructor(e,t){super(),this.removeChildListenersFuncs=[],this.columnGroup=t,this.comp=e}postConstruct(){this.addListenersToChildrenColumns(),this.addManagedListeners(this.columnGroup,{displayedChildrenChanged:this.onDisplayedChildrenChanged.bind(this)}),this.onWidthChanged(),this.addDestroyFunc(this.removeListenersOnChildrenColumns.bind(this))}addListenersToChildrenColumns(){this.removeListenersOnChildrenColumns();const e=this.onWidthChanged.bind(this);this.columnGroup.getLeafColumns().forEach(t=>{t.__addEventListener("widthChanged",e),t.__addEventListener("visibleChanged",e),this.removeChildListenersFuncs.push(()=>{t.__removeEventListener("widthChanged",e),t.__removeEventListener("visibleChanged",e)})})}removeListenersOnChildrenColumns(){this.removeChildListenersFuncs.forEach(e=>e()),this.removeChildListenersFuncs=[]}onDisplayedChildrenChanged(){this.addListenersToChildrenColumns(),this.onWidthChanged()}onWidthChanged(){const e=this.columnGroup.getActualWidth();this.comp.setWidth(`${e}px`),this.comp.addOrRemoveCssClass("ag-hidden",e===0)}},bne=class extends aw{constructor(){super(...arguments),this.onSuppressColMoveChange=()=>{!this.isAlive()||this.isSuppressMoving()?this.removeDragSource():this.dragSource||this.setDragSource(this.eGui)}}setComp(e,t,n,i,r){const{column:o,beans:s}=this,{context:a,colNames:l,colHover:u,rangeSvc:c,colResize:d}=s;this.comp=e,r=oh(this,a,r),this.setGui(t,r),this.displayName=l.getDisplayNameForColumnGroup(o,"header"),this.refreshHeaderStyles(),this.addClasses(),this.setupMovingCss(r),this.setupExpandable(r),this.setupTooltip(),this.setupAutoHeight({wrapperElement:i,compBean:r}),this.setupUserComp(),this.addHeaderMouseListeners(r),this.addManagedPropertyListener("groupHeaderHeight",this.refreshMaxHeaderHeight.bind(this)),this.refreshMaxHeaderHeight();const h=this.rowCtrl.pinned,p=o.getProvidedColumnGroup().getLeafColumns();u==null||u.createHoverFeature(r,p,t),c==null||c.createRangeHighlightFeature(r,o,e),r.createManagedBean(new sw(o,t,s)),r.createManagedBean(new Cne(e,o)),d?this.resizeFeature=r.createManagedBean(d.createGroupResizeFeature(e,n,h,o)):e.setResizableDisplayed(!1),r.createManagedBean(new _u(t,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:()=>{},handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)})),this.addHighlightListeners(r,p),r.addManagedPropertyListener("suppressMovableColumns",this.onSuppressColMoveChange),this.addResizeAndMoveKeyboardListeners(r),r.addDestroyFunc(()=>this.clearComponent())}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.getDefinition();return Le(t.gos,{colDef:n,columnGroup:e,floatingFilter:!1})}refreshMaxHeaderHeight(){const{gos:e,comp:t}=this,n=e.get("groupHeaderHeight");n!=null?n===0?t.setHeaderWrapperHidden(!0):t.setHeaderWrapperMaxHeight(n):(t.setHeaderWrapperHidden(!1),t.setHeaderWrapperMaxHeight(null))}addHighlightListeners(e,t){if(this.beans.gos.get("suppressMoveWhenColumnDragging"))for(const n of t)e.addManagedListeners(n,{headerHighlightChanged:this.onLeafColumnHighlightChanged.bind(this,n)})}onLeafColumnHighlightChanged(e){const t=this.column.getDisplayedLeafColumns(),n=t[0]===e,i=wt(t)===e;if(!n&&!i)return;const r=e.getHighlighted(),o=!!this.rowCtrl.getHeaderCellCtrls().find(l=>l.column.isMoving());let s=!1,a=!1;if(o){const l=this.beans.gos.get("enableRtl"),u=r===1,c=r===0;n&&(l?a=u:s=c),i&&(l?s=c:a=u)}this.comp.addOrRemoveCssClass("ag-header-highlight-before",s),this.comp.addOrRemoveCssClass("ag-header-highlight-after",a)}resizeHeader(e,t){const{resizeFeature:n}=this;if(!n)return;const i=n.getInitialValues(t);n.resizeColumns(i,i.resizeStartWidth+e,"uiColumnResized",!0)}resizeLeafColumnsToFit(e){var t;(t=this.resizeFeature)==null||t.resizeLeafColumnsToFit(e)}setupUserComp(){const{colGroupSvc:e,userCompFactory:t,gos:n}=this.beans,i=Le(n,{displayName:this.displayName,columnGroup:this.column,setExpanded:o=>{e.setColumnGroupOpened(this.column.getProvidedColumnGroup(),o,"gridInitializing")},setTooltip:(o,s)=>{n.assertModuleRegistered("Tooltip",3),this.setupTooltip(o,s)}}),r=cZ(t,i);r&&this.comp.setUserCompDetails(r)}addHeaderMouseListeners(e){const t=r=>this.handleMouseOverChange(r.type==="mouseenter"),n=()=>this.dispatchColumnMouseEvent("columnHeaderClicked",this.column.getProvidedColumnGroup()),i=r=>this.handleContextMenuMouseEvent(r,void 0,this.column.getProvidedColumnGroup());e.addManagedListeners(this.eGui,{mouseenter:t,mouseleave:t,click:n,contextmenu:i})}handleMouseOverChange(e){this.eventSvc.dispatchEvent({type:e?"columnHeaderMouseOver":"columnHeaderMouseLeave",column:this.column.getProvidedColumnGroup()})}setupTooltip(e,t){var n;this.tooltipFeature=(n=this.beans.tooltipSvc)==null?void 0:n.setupHeaderGroupTooltip(this.tooltipFeature,this,e,t)}setupExpandable(e){const t=this.column.getProvidedColumnGroup();this.refreshExpanded();const n=this.refreshExpanded.bind(this);e.addManagedListeners(t,{expandedChanged:n,expandableChanged:n})}refreshExpanded(){const{column:e}=this;this.expandable=e.isExpandable();const t=e.isExpanded();this.expandable?this.comp.setAriaExpanded(t?"true":"false"):this.comp.setAriaExpanded(void 0),this.refreshHeaderStyles()}addClasses(){const{column:e}=this,t=e.getColGroupDef(),n=F5(t,this.gos,null,e);e.isPadding()?(n.push("ag-header-group-cell-no-group"),e.getLeafColumns().every(r=>r.isSpanHeaderHeight())&&n.push("ag-header-span-height")):(n.push("ag-header-group-cell-with-group"),t!=null&&t.wrapHeaderText&&n.push("ag-header-cell-wrap-text")),n.forEach(i=>this.comp.addOrRemoveCssClass(i,!0))}setupMovingCss(e){const{column:t}=this,i=t.getProvidedColumnGroup().getLeafColumns(),r=()=>this.comp.addOrRemoveCssClass("ag-header-cell-moving",t.isMoving());i.forEach(o=>{e.addManagedListeners(o,{movingChanged:r})}),r()}onFocusIn(e){this.eGui.contains(e.relatedTarget)||this.focusThis()}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();if(!(!this.expandable||!t)&&e.key===j.ENTER){const n=this.column,i=!n.isExpanded();this.beans.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),i,"uiColumnExpanded")}}setDragSource(e){var t;!this.isAlive()||this.isSuppressMoving()||(this.removeDragSource(),e&&(this.dragSource=((t=this.beans.colMoves)==null?void 0:t.setDragSourceForHeader(e,this.column,this.displayName))??null))}isSuppressMoving(){return this.gos.get("suppressMovableColumns")||this.column.getLeafColumns().some(e=>e.getColDef().suppressMovable||e.getColDef().lockPosition)}destroy(){this.tooltipFeature=this.destroyBean(this.tooltipFeature),super.destroy()}};function yne(e,t,n){var i;(i=e.colGroupSvc)==null||i.setColumnGroupOpened(t,n,"api")}function wne(e,t,n){var i;return((i=e.colGroupSvc)==null?void 0:i.getColumnGroup(t,n))??null}function Sne(e,t){var n;return((n=e.colGroupSvc)==null?void 0:n.getProvidedColGroup(t))??null}function xne(e,t,n){return e.colNames.getDisplayNameForColumnGroup(t,n)||""}function Ene(e){var t;return((t=e.colGroupSvc)==null?void 0:t.getColumnGroupState())??[]}function kne(e,t){var n;(n=e.colGroupSvc)==null||n.setColumnGroupState(t,"api")}function Fne(e){var t;(t=e.colGroupSvc)==null||t.resetColumnGroupState("api")}function Tne(e){return e.visibleCols.treeLeft}function Ane(e){return e.visibleCols.treeCenter}function Rne(e){return e.visibleCols.treeRight}function Dne(e){return e.visibleCols.getAllTrees()}function Mne(e,t){for(let n=0;n<t.length;n++){const i=e.indexOf(t[n]);i>=0&&(e[i]=e[e.length-1],e.pop())}}var Pne=class extends K{constructor(){super(...arguments),this.beanName="visibleCols",this.colsAndGroupsMap={},this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.bodyWidth=0,this.leftWidth=0,this.rightWidth=0,this.isBodyWidthDirty=!0}refresh(e,t=!1){var a;const{colModel:n,colGroupSvc:i,colViewport:r}=this.beans;t||this.buildTrees(n,i),i==null||i.updateOpenClosedVisibility();const o=xv(this.treeLeft);this.leftCols=o,this.centerCols=xv(this.treeCenter);const s=xv(this.treeRight);this.rightCols=s,this.joinColsAriaOrder(n),this.joinCols(),this.setLeftValues(e),this.autoHeightCols=this.allCols.filter(l=>l.isAutoHeight()),(a=this.beans.colFlex)==null||a.refreshFlexedColumns(),this.updateBodyWidths(),r.checkViewportColumns(!1),this.setFirstRightAndLastLeftPinned(n,o,s,e),this.eventSvc.dispatchEvent({type:"displayedColumnsChanged",source:e})}updateBodyWidths(){const e=Vo(this.centerCols),t=Vo(this.leftCols),n=Vo(this.rightCols);this.isBodyWidthDirty=this.bodyWidth!==e,(this.bodyWidth!==e||this.leftWidth!==t||this.rightWidth!==n)&&(this.bodyWidth=e,this.leftWidth=t,this.rightWidth=n,this.eventSvc.dispatchEvent({type:"columnContainerWidthChanged"}),this.eventSvc.dispatchEvent({type:"displayedColumnsWidthChanged"}))}setLeftValues(e){this.setLeftValuesOfCols(e),this.setLeftValuesOfGroups()}setFirstRightAndLastLeftPinned(e,t,n,i){let r,o;this.gos.get("enableRtl")?(r=t?t[0]:null,o=n?wt(n):null):(r=t?wt(t):null,o=n?n[0]:null),e.getCols().forEach(s=>{s.setLastLeftPinned(s===r,i),s.setFirstRightPinned(s===o,i)})}buildTrees(e,t){const n=e.getColsToShow(),i=n.filter(l=>l.getPinned()=="left"),r=n.filter(l=>l.getPinned()=="right"),o=n.filter(l=>l.getPinned()!="left"&&l.getPinned()!="right"),s=new b5,a=l=>t?t.createColumnGroups(l):l.columns;this.treeLeft=a({columns:i,idCreator:s,pinned:"left",oldDisplayedGroups:this.treeLeft}),this.treeRight=a({columns:r,idCreator:s,pinned:"right",oldDisplayedGroups:this.treeRight}),this.treeCenter=a({columns:o,idCreator:s,pinned:null,oldDisplayedGroups:this.treeCenter}),this.updateColsAndGroupsMap()}clear(){this.leftCols=[],this.rightCols=[],this.centerCols=[],this.allCols=[],this.ariaOrderColumns=[]}joinColsAriaOrder(e){const t=e.getCols(),n=[],i=[],r=[];for(const o of t){const s=o.getPinned();s?s===!0||s==="left"?n.push(o):r.push(o):i.push(o)}this.ariaOrderColumns=n.concat(i).concat(r)}getAriaColIndex(e){let t;return en(e)?t=e.getLeafColumns()[0]:t=e,this.ariaOrderColumns.indexOf(t)+1}setLeftValuesOfGroups(){[this.treeLeft,this.treeRight,this.treeCenter].forEach(e=>{e.forEach(t=>{en(t)&&t.checkLeft()})})}setLeftValuesOfCols(e){const{colModel:t}=this.beans;if(!t.getColDefCols())return;const i=t.getCols().slice(0),r=this.gos.get("enableRtl");[this.leftCols,this.rightCols,this.centerCols].forEach(o=>{if(r){let s=Vo(o);o.forEach(a=>{s-=a.getActualWidth(),a.setLeft(s,e)})}else{let s=0;o.forEach(a=>{a.setLeft(s,e),s+=a.getActualWidth()})}Mne(i,o)}),i.forEach(o=>{o.setLeft(null,e)})}joinCols(){this.gos.get("enableRtl")?this.allCols=this.rightCols.concat(this.centerCols).concat(this.leftCols):this.allCols=this.leftCols.concat(this.centerCols).concat(this.rightCols)}getAllTrees(){return this.treeLeft&&this.treeRight&&this.treeCenter?this.treeLeft.concat(this.treeCenter).concat(this.treeRight):null}isColDisplayed(e){return this.allCols.indexOf(e)>=0}getLeftColsForRow(e){const{leftCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getRightColsForRow(e){const{rightCols:t,beans:{colModel:n}}=this;return n.colSpanActive?this.getColsForRow(e,t):t}getColsForRow(e,t,n,i){const r=[];let o=null;for(let s=0;s<t.length;s++){const a=t[s],l=t.length-s,u=Math.min(a.getColSpan(e),l),c=[a];if(u>1){const h=u-1;for(let p=1;p<=h;p++)c.push(t[s+p]);s+=h}let d;n?(d=!1,c.forEach(h=>{n(h)&&(d=!0)})):d=!0,d&&(r.length===0&&o&&(i&&i(a))&&r.push(o),r.push(a)),o=a}return r}getContainerWidth(e){switch(e){case"left":return this.leftWidth;case"right":return this.rightWidth;default:return this.bodyWidth}}getColBefore(e){const t=this.allCols,n=t.indexOf(e);return n>0?t[n-1]:null}isPinningLeft(){return this.leftCols.length>0}isPinningRight(){return this.rightCols.length>0}updateColsAndGroupsMap(){this.colsAndGroupsMap={};const e=t=>{this.colsAndGroupsMap[t.getUniqueId()]=t};Ja(this.treeCenter,!1,e),Ja(this.treeLeft,!1,e),Ja(this.treeRight,!1,e)}isVisible(e){return this.colsAndGroupsMap[e.getUniqueId()]===e}getFirstColumn(){const e=this.gos.get("enableRtl"),t=["leftCols","centerCols","rightCols"];e&&t.reverse();for(let n=0;n<t.length;n++){const i=this[t[n]];if(i.length)return e?wt(i):i[0]}return null}getColAfter(e){const t=this.allCols,n=t.indexOf(e);return n<t.length-1?t[n+1]:null}getColsLeftWidth(){return Vo(this.leftCols)}getDisplayedColumnsRightWidth(){return Vo(this.rightCols)}isColAtEdge(e,t){const n=this.allCols;if(!n.length)return!1;const i=t==="first";let r;if(en(e)){const o=e.getDisplayedLeafColumns();if(!o.length)return!1;r=i?o[0]:wt(o)}else r=e;return(i?n[0]:wt(n))===r}};function Ja(e,t,n){if(e)for(let i=0;i<e.length;i++){const r=e[i];if(en(r)){const o=t?r.getDisplayedChildren():r.getChildren();Ja(o,t,n)}n(r)}}function xv(e){const t=[];return Ja(e,!0,n=>{da(n)&&t.push(n)}),t}var Ine=class extends K{constructor(){super(...arguments),this.beanName="colGroupSvc"}getColumnGroupState(){const e=[],t=this.beans.colModel.getColTree();return ss(null,t,n=>{mi(n)&&e.push({groupId:n.getGroupId(),open:n.isExpanded()})}),e}resetColumnGroupState(e){const t=this.beans.colModel.getColDefColTree();if(!t)return;const n=[];ss(null,t,i=>{if(mi(i)){const r=i.getColGroupDef(),o={groupId:i.getGroupId(),open:r?r.openByDefault:void 0};n.push(o)}}),this.setColumnGroupState(n,e)}setColumnGroupState(e,t){const{colModel:n,colAnimation:i,visibleCols:r,eventSvc:o}=this.beans;if(!n.getColTree().length)return;i==null||i.start();const a=[];e.forEach(l=>{const u=l.groupId,c=l.open,d=this.getProvidedColGroup(u);d&&d.isExpanded()!==c&&(d.setExpanded(c),a.push(d))}),r.refresh(t,!0),a.length&&o.dispatchEvent({type:"columnGroupOpened",columnGroup:a.length===1?a[0]:void 0,columnGroups:a}),i==null||i.finish()}setColumnGroupOpened(e,t,n){let i;mi(e)?i=e.getId():i=e||"",this.setColumnGroupState([{groupId:i,open:t}],n)}getProvidedColGroup(e){let t=null;return ss(null,this.beans.colModel.getColTree(),n=>{mi(n)&&n.getId()===e&&(t=n)}),t}getGroupAtDirection(e,t){const n=e.getProvidedColumnGroup().getLevel()+e.getPaddingLevel(),i=e.getDisplayedLeafColumns(),r=t==="After"?wt(i):i[0],o=`getCol${t}`;for(;;){const s=this.beans.visibleCols[o](r);if(!s)return null;const a=this.getColGroupAtLevel(s,n);if(a!==e)return a}}getColGroupAtLevel(e,t){let n=e.getParent(),i,r;for(;i=n.getProvidedColumnGroup().getLevel(),r=n.getPaddingLevel(),!(i+r<=t);)n=n.getParent();return n}updateOpenClosedVisibility(){const e=this.beans.visibleCols.getAllTrees();Ja(e,!1,t=>{en(t)&&t.calculateDisplayedColumns()})}getColumnGroup(e,t){if(!e)return null;if(en(e))return e;const n=this.beans.visibleCols.getAllTrees(),i=typeof t=="number";let r=null;return Ja(n,!1,o=>{if(en(o)){const s=o;let a;i?a=e===s.getGroupId()&&t===s.getPartId():a=e===s.getGroupId(),a&&(r=s)}}),r}createColumnGroups(e){const{columns:t,idCreator:n,pinned:i,oldDisplayedGroups:r,isStandaloneStructure:o}=e,s=this.mapOldGroupsById(r),a=[];let l=t;for(;l.length;){const u=l;l=[];let c=0;const d=h=>{const p=c;c=h;const f=u[p],m=(en(f)?f.getProvidedColumnGroup():f).getOriginalParent();if(m==null){for(let b=p;b<h;b++)a.push(u[b]);return}const v=this.createColumnGroup(m,n,s,i,o);for(let b=p;b<h;b++)v.addChild(u[b]);l.push(v)};for(let h=1;h<u.length;h++){const p=u[h],g=(en(p)?p.getProvidedColumnGroup():p).getOriginalParent(),m=u[c],b=(en(m)?m.getProvidedColumnGroup():m).getOriginalParent();g!==b&&d(h)}c<u.length&&d(u.length)}return o||this.setupParentsIntoCols(a,null),a}createProvidedColumnGroup(e,t,n,i,r,o,s){const a=r.getUniqueKey(t.groupId||null,null),l=this.createMergedColGroupDef(t,a),u=new Dp(l,a,!1,n);this.createBean(u);const c=this.findExistingGroup(t,o);c&&o.splice(c.idx,1);const d=c==null?void 0:c.group;d&&u.setExpanded(d.isExpanded());const h=d5(this.beans,l.children,n+1,e,i,r,o,s);return u.setChildren(h),u}balanceColumnTree(e,t,n,i){const r=[];for(let o=0;o<e.length;o++){const s=e[o];if(mi(s)){const a=s,l=this.balanceColumnTree(a.getChildren(),t+1,n,i);a.setChildren(l),r.push(a)}else{let a,l;for(let u=n-1;u>=t;u--){const c=i.getUniqueKey(null,null),d=this.createMergedColGroupDef(null,c),h=new Dp(d,c,!0,t);this.createBean(h),l&&l.setChildren([h]),l=h,a||(a=l)}if(a&&l)if(r.push(a),e.some(c=>mi(c))){l.setChildren([s]);continue}else{l.setChildren(e);break}r.push(s)}}return r}findDepth(e){let t=0,n=e;for(;n&&n[0]&&mi(n[0]);)t++,n=n[0].getChildren();return t}findMaxDepth(e,t){let n=t;for(let i=0;i<e.length;i++){const r=e[i];if(mi(r)){const o=r,s=this.findMaxDepth(o.getChildren(),t+1);n<s&&(n=s)}}return n}balanceTreeForAutoCols(e,t){const n=[];return e.forEach(i=>{let r=i;for(let o=t-1;o>=0;o--){const s=new Dp(null,`FAKE_PATH_${i.getId()}}_${o}`,!0,o);this.createBean(s),s.setChildren([r]),r.originalParent=s,r=s}t===0&&(i.originalParent=null),n.push(r)}),n}createMergedColGroupDef(e,t){const n={},{gos:i,validation:r}=this.beans;return Object.assign(n,i.get("defaultColGroupDef")),Object.assign(n,e),r==null||r.validateColDef(n,t),n}findExistingGroup(e,t){if(e.groupId!=null)for(let i=0;i<t.length;i++){const r=t[i];if(r.getColGroupDef()&&r.getId()===e.groupId)return{idx:i,group:r}}}createColumnGroup(e,t,n,i,r){const o=e.getGroupId(),s=t.getInstanceIdForKey(o),a=N5(o,s);let l=n[a];return l&&l.getProvidedColumnGroup()!==e&&(l=null),ue(l)?l.reset():(l=new B5(e,o,s,i),r||this.createBean(l)),l}mapOldGroupsById(e){const t={},n=i=>{i.forEach(r=>{if(en(r)){const o=r;t[r.getUniqueId()]=o,n(o.getChildren())}})};return e&&n(e),t}setupParentsIntoCols(e,t){e.forEach(n=>{if(n.parent=t,en(n)){const i=n;this.setupParentsIntoCols(i.getChildren(),i)}})}},One={moduleName:"ColumnGroup",version:pe,dynamicBeans:{headerGroupCellCtrl:bne},beans:[Ine],apiFunctions:{getAllDisplayedColumnGroups:Dne,getCenterDisplayedColumnGroups:Ane,getColumnGroup:wne,getColumnGroupState:Ene,getDisplayNameForColumnGroup:xne,getLeftDisplayedColumnGroups:Tne,getProvidedColumnGroup:Sne,getRightDisplayedColumnGroups:Rne,resetColumnGroupState:Fne,setColumnGroupOpened:yne,setColumnGroupState:kne}},Lne={moduleName:"CheckboxCellRenderer",version:pe,userComponents:{agCheckboxCellRenderer:Iee}};function Nne(e,t){const n=e.colModel.getColDefCol(t);return n?n.getColDef():null}function Bne(e){return e.colModel.getColumnDefs()}function zne(e,t,n){return e.colNames.getDisplayNameForColumn(t,n)||""}function Hne(e,t){return e.colModel.getColDefCol(t)}function Vne(e){return e.colModel.getColDefCols()}function _ne(e,t){return tr(e,t,"api")}function Gne(e){return Rd(e)}function Wne(e){NJ(e,"api")}function $ne(e){return e.visibleCols.isPinningLeft()||e.visibleCols.isPinningRight()}function Une(e){return e.visibleCols.isPinningLeft()}function jne(e){return e.visibleCols.isPinningRight()}function qne(e,t){return e.visibleCols.getColAfter(t)}function Kne(e,t){return e.visibleCols.getColBefore(t)}function Yne(e,t,n){e.colModel.setColsVisible(t,n,"api")}function Xne(e,t,n){var i;(i=e.pinnedCols)==null||i.setColsPinned(t,n,"api")}function Jne(e){return e.colModel.getCols()}function Zne(e){return e.visibleCols.leftCols}function Qne(e){return e.visibleCols.centerCols}function eie(e){return e.visibleCols.rightCols}function tie(e){return e.visibleCols.allCols}function nie(e){return e.colViewport.getViewportColumns()}function lC(e,t){if(!e)return;const n=e,i={};return Object.keys(n).forEach(r=>{if(t&&t.indexOf(r)>=0||s5.has(r))return;const o=n[r];typeof o=="object"&&o!==null&&o.constructor===Object?i[r]=lC(o):i[r]=o}),i}var iie=class extends K{constructor(){super(...arguments),this.beanName="colDefFactory"}wireBeans(e){this.rowGroupColsSvc=e.rowGroupColsSvc,this.pivotColsSvc=e.pivotColsSvc}getColumnDefs(e,t,n,i){var a,l;const r=e.slice();t?r.sort((u,c)=>n.indexOf(u)-n.indexOf(c)):n&&r.sort((u,c)=>i.indexOf(u)-i.indexOf(c));const o=(a=this.rowGroupColsSvc)==null?void 0:a.columns,s=(l=this.pivotColsSvc)==null?void 0:l.columns;return this.buildColumnDefs(r,o,s)}buildColumnDefs(e,t=[],n=[]){const i=[],r={};return e.forEach(o=>{const s=this.createDefFromColumn(o,t,n);let a=!0,l=s,u=o.getOriginalParent(),c=null;for(;u;){let d=null;if(u.isPadding()){u=u.getOriginalParent();continue}const h=r[u.getGroupId()];if(h){h.children.push(l),a=!1;break}if(d=this.createDefFromGroup(u),d&&(d.children=[l],r[d.groupId]=d,l=d,u=u.getOriginalParent()),u!=null&&c===u){a=!1;break}c=u}a&&i.push(l)}),i}createDefFromGroup(e){const t=lC(e.getColGroupDef(),["children"]);return t&&(t.groupId=e.getGroupId()),t}createDefFromColumn(e,t,n){const i=lC(e.getColDef());return i.colId=e.getColId(),i.width=e.getActualWidth(),i.rowGroup=e.isRowGroupActive(),i.rowGroupIndex=e.isRowGroupActive()?t.indexOf(e):null,i.pivot=e.isPivotActive(),i.pivotIndex=e.isPivotActive()?n.indexOf(e):null,i.aggFunc=e.isValueActive()?e.getAggFunc():null,i.hide=e.isVisible()?void 0:!0,i.pinned=e.isPinned()?e.getPinned():null,i.sort=e.getSort()?e.getSort():null,i.sortIndex=e.getSortIndex()!=null?e.getSortIndex():null,i}},rie=class extends K{constructor(){super(...arguments),this.beanName="colFlex"}refreshFlexedColumns(e={}){const t=e.source??"flex";e.viewportWidth!=null&&(this.flexViewportWidth=e.viewportWidth);const n=this.flexViewportWidth;if(!n)return[];const{visibleCols:i}=this.beans,r=i.centerCols;let o=-1;if(e.resizingCols){const f=new Set(e.resizingCols);for(let g=r.length-1;g>=0;g--)if(f.has(r[g])){o=g;break}}let s=!1;const a=r.map((f,g)=>{const m=f.getFlex(),v=m!=null&&m>0&&g>o;return s||(s=v),{col:f,isFlex:v,flex:Math.max(0,m??0),initialSize:f.getActualWidth(),min:f.getMinWidth(),max:f.getMaxWidth(),targetSize:0}});if(!s)return[];let l=a.length,u=a.reduce((f,g)=>f+g.flex,0),c=n;const d=(f,g)=>{f.frozenSize=g,f.col.setActualWidth(g,t),c-=g,u-=f.flex,l-=1},h=f=>f.frozenSize!=null;for(const f of a)f.isFlex||d(f,f.initialSize);for(;l>0;){const f=Math.round(u<1?c*u:c);let g,m=0,v=0;for(const y of a){if(h(y))continue;g=y,v+=f*(y.flex/u);const x=v-m,E=Math.round(x);y.targetSize=E,m+=E}g&&(g.targetSize+=f-m);let b=0;for(const y of a){if(h(y))continue;const x=y.targetSize,E=Math.min(Math.max(x,y.min),y.max);b+=E-x,y.violationType=E===x?void 0:E<x?"max":"min",y.targetSize=E}const S=b===0?"all":b>0?"min":"max";for(const y of a)h(y)||(S==="all"||y.violationType===S)&&d(y,y.targetSize)}e.skipSetLeft||i.setLeftValues(t),e.updateBodyWidths&&i.updateBodyWidths();const p=a.filter(f=>f.isFlex&&!f.violationType).map(f=>f.col);if(e.fireResizedEvent){const f=a.filter(m=>m.initialSize!==m.frozenSize).map(m=>m.col),g=a.filter(m=>m.flex).map(m=>m.col);Ru(this.eventSvc,f,!0,t,g)}return p}initCol(e){const{flex:t,initialFlex:n}=e.colDef;t!==void 0?e.flex=t:n!==void 0&&(e.flex=n)}setColFlex(e,t){e.flex=t??null,e.dispatchStateUpdatedEvent("flex")}},oie=class extends K{constructor(){super(...arguments),this.beanName="dataTypeSvc",this.dataTypeDefinitions={},this.isPendingInference=!1,this.isColumnTypeOverrideInDataTypeDefinitions=!1,this.columnStateUpdatesPendingInference={},this.columnStateUpdateListenerDestroyFuncs=[]}wireBeans(e){this.colModel=e.colModel}postConstruct(){this.processDataTypeDefinitions(),this.addManagedPropertyListener("dataTypeDefinitions",e=>{this.processDataTypeDefinitions(),this.colModel.recreateColumnDefs(e)})}processDataTypeDefinitions(){const e=this.getDefaultDataTypes(),t={};this.dataTypeDefinitions=t;const n={};this.formatValueFuncs=n;const i=s=>a=>{const{column:l,node:u,value:c}=a;let d=l.getColDef().valueFormatter;return d===s.groupSafeValueFormatter&&(d=s.valueFormatter),this.beans.valueSvc.formatValue(l,u,c,d)};for(const s of Object.keys(e)){const a=e[s],l={...a,groupSafeValueFormatter:Y4(a,this.gos)};t[s]=l,n[s]=i(l)}const r=this.gos.get("dataTypeDefinitions")??{},o={};this.dataTypeMatchers=o;for(const s of Object.keys(r)){const a=r[s],l=this.processDataTypeDefinition(a,r,[s],e);l&&(t[s]=l,a.dataTypeMatcher&&(o[s]=a.dataTypeMatcher),n[s]=i(l))}this.checkObjectValueHandlers(e),["dateString","text","number","boolean","date"].forEach(s=>{const a=o[s];a&&delete o[s],o[s]=a??e[s].dataTypeMatcher})}processDataTypeDefinition(e,t,n,i){let r;const o=e.extendsDataType;if(e.columnTypes&&(this.isColumnTypeOverrideInDataTypeDefinitions=!0),e.extendsDataType===e.baseDataType){let s=i[o];const a=t[o];if(s&&a&&(s=a),!K4(e,s,o))return;r=q4(s,e)}else{if(n.includes(o)){ie(44);return}const s=t[o];if(!K4(e,s,o))return;const a=this.processDataTypeDefinition(s,t,[...n,o],i);if(!a)return;r=q4(a,e)}return{...r,groupSafeValueFormatter:Y4(r,this.gos)}}updateColDefAndGetColumnType(e,t,n){let{cellDataType:i}=t;const{field:r}=t;if(i===void 0&&(i=e.cellDataType),(i==null||i===!0)&&(i=this.canInferCellDataType(e,t)?this.inferCellDataType(r,n):!1),!i){e.cellDataType=!1;return}const o=this.dataTypeDefinitions[i];if(!o){ie(47,{cellDataType:i});return}return e.cellDataType=i,o.groupSafeValueFormatter&&(e.valueFormatter=o.groupSafeValueFormatter),o.valueParser&&(e.valueParser=o.valueParser),o.suppressDefaultProperties||this.setColDefPropertiesForBaseDataType(e,i,o,n),o.columnTypes}addColumnListeners(e){if(!this.isPendingInference)return;const t=this.columnStateUpdatesPendingInference[e.getColId()];if(!t)return;const n=i=>{t.add(i.key)};e.__addEventListener("columnStateUpdated",n),this.columnStateUpdateListenerDestroyFuncs.push(()=>e.__removeEventListener("columnStateUpdated",n))}canInferCellDataType(e,t){const{gos:n}=this;if(!Ci(n))return!1;const i={cellRenderer:!0,valueGetter:!0,valueParser:!0,refData:!0};if(Ev(t,i))return!1;const r=t.type===null?e.type:t.type;if(r){const o=n.get("columnTypes")??{};if(s0(r).some(a=>{const l=o[a.trim()];return l&&Ev(l,i)}))return!1}return!Ev(e,i)}inferCellDataType(e,t){if(!e)return;let n;const i=this.getInitialData();if(i){const r=e.indexOf(".")>=0&&!this.gos.get("suppressFieldDotNotation");n=Wc(i,e,r)}else this.initWaitForRowData(t);if(n!=null)return Object.keys(this.dataTypeMatchers).find(r=>this.dataTypeMatchers[r](n))??"object"}getInitialData(){var t;const e=this.gos.get("rowData");if(e!=null&&e.length)return e[0];if(this.initialData)return this.initialData;{const n=(t=this.beans.rowModel.rootNode)==null?void 0:t.allLeafChildren;if(n!=null&&n.length)return n[0].data}return null}initWaitForRowData(e){if(this.columnStateUpdatesPendingInference[e]=new Set,this.isPendingInference)return;this.isPendingInference=!0;const t=this.isColumnTypeOverrideInDataTypeDefinitions,{colAutosize:n,eventSvc:i}=this.beans;t&&n&&(n.shouldQueueResizeOperations=!0);const[r]=this.addManagedEventListeners({rowDataUpdateStarted:o=>{const{firstRowData:s}=o;s&&(r==null||r(),this.isPendingInference=!1,this.processColumnsPendingInference(s,t),this.columnStateUpdatesPendingInference={},t&&(n==null||n.processResizeOperations()),i.dispatchEvent({type:"dataTypesInferred"}))}})}processColumnsPendingInference(e,t){this.initialData=e;const n=[];this.destroyColumnStateUpdateListeners();const i={},r={};for(const o of Object.keys(this.columnStateUpdatesPendingInference)){const s=this.columnStateUpdatesPendingInference[o],a=this.colModel.getCol(o);if(!a)return;const l=a.getColDef();if(!this.resetColDefIntoCol(a,"cellDataTypeInferred"))return;const u=a.getColDef();if(t&&u.type&&u.type!==l.type){const c=aie(a,s);c.rowGroup&&c.rowGroupIndex==null&&(i[o]=c),c.pivot&&c.pivotIndex==null&&(r[o]=c),n.push(c)}}t&&n.push(...this.generateColumnStateForRowGroupAndPivotIndexes(i,r)),n.length&&tr(this.beans,{state:n},"cellDataTypeInferred"),this.initialData=null}generateColumnStateForRowGroupAndPivotIndexes(e,t){const n={},{rowGroupColsSvc:i,pivotColsSvc:r}=this.beans;return i==null||i.restoreColumnOrder(n,e),r==null||r.restoreColumnOrder(n,t),Object.values(n)}resetColDefIntoCol(e,t){const n=e.getUserProvidedColDef();if(!n)return!1;const i=nC(this.beans,n,e.getColId());return e.setColDef(i,n,t),!0}checkObjectValueHandlers(e){const t=this.dataTypeDefinitions.object,n=e.object;this.hasObjectValueParser=t.valueParser!==n.valueParser,this.hasObjectValueFormatter=t.valueFormatter!==n.valueFormatter}getDateStringTypeDefinition(e){const{dateString:t}=this.dataTypeDefinitions;return e?this.getDataTypeDefinition(e)??t:t}getDateParserFunction(e){return this.getDateStringTypeDefinition(e).dateParser}getDateFormatterFunction(e){return this.getDateStringTypeDefinition(e).dateFormatter}getDataTypeDefinition(e){const t=e.getColDef();if(t.cellDataType)return this.dataTypeDefinitions[t.cellDataType]}getBaseDataType(e){var t;return(t=this.getDataTypeDefinition(e))==null?void 0:t.baseDataType}checkType(e,t){var i;if(t==null)return!0;const n=(i=this.getDataTypeDefinition(e))==null?void 0:i.dataTypeMatcher;return n?n(t):!0}validateColDef(e){const t=n=>ie(48,{property:n});if(e.cellDataType==="object"){const{object:n}=this.dataTypeDefinitions;e.valueFormatter===n.groupSafeValueFormatter&&!this.hasObjectValueFormatter&&t("Formatter"),e.editable&&e.valueParser===n.valueParser&&!this.hasObjectValueParser&&t("Parser")}}getFormatValue(e){return this.formatValueFuncs[e]}isColPendingInference(e){return this.isPendingInference&&!!this.columnStateUpdatesPendingInference[e]}setColDefPropertiesForBaseDataType(e,t,n,i){var o;const r=this.formatValueFuncs[t];switch(n.baseDataType){case"number":{e.cellEditor="agNumberCellEditor";break}case"boolean":{e.cellEditor="agCheckboxCellEditor",e.cellRenderer="agCheckboxCellRenderer",e.getFindText=()=>null,e.suppressKeyboardEvent=s=>!!s.colDef.editable&&s.event.key===j.SPACE;break}case"date":{e.cellEditor="agDateCellEditor",e.keyCreator=r;break}case"dateString":{e.cellEditor="agDateStringCellEditor",e.keyCreator=r;break}case"object":{e.cellEditorParams={useFormatter:!0},e.comparator=(s,a)=>{const l=this.colModel.getColDefCol(i),u=l==null?void 0:l.getColDef();if(!l||!u)return 0;const c=s==null?"":r({column:l,node:null,value:s}),d=a==null?"":r({column:l,node:null,value:a});return c===d?0:c>d?1:-1},e.keyCreator=r;break}}(o=this.beans.filterManager)==null||o.setColDefPropertiesForDataType(e,n,r)}getDefaultDataTypes(){const e=n=>!!n.match("^\\d{4}-\\d{2}-\\d{2}$"),t=this.getLocaleTextFunc();return{number:{baseDataType:"number",valueParser:n=>{var i,r;return((r=(i=n.newValue)==null?void 0:i.trim)==null?void 0:r.call(i))===""?null:Number(n.newValue)},valueFormatter:n=>n.value==null?"":typeof n.value!="number"||isNaN(n.value)?t("invalidNumber","Invalid Number"):String(n.value),dataTypeMatcher:n=>typeof n=="number"},text:{baseDataType:"text",valueParser:n=>n.newValue===""?null:Y1(n.newValue),dataTypeMatcher:n=>typeof n=="string"},boolean:{baseDataType:"boolean",valueParser:n=>{var i,r;return n.newValue==null?n.newValue:((r=(i=n.newValue)==null?void 0:i.trim)==null?void 0:r.call(i))===""?null:String(n.newValue).toLowerCase()==="true"},valueFormatter:n=>n.value==null?"":String(n.value),dataTypeMatcher:n=>typeof n=="boolean"},date:{baseDataType:"date",valueParser:n=>Oi(n.newValue==null?null:String(n.newValue)),valueFormatter:n=>n.value==null?"":!(n.value instanceof Date)||isNaN(n.value.getTime())?t("invalidDate","Invalid Date"):kr(n.value,!1)??"",dataTypeMatcher:n=>n instanceof Date},dateString:{baseDataType:"dateString",dateParser:n=>Oi(n)??void 0,dateFormatter:n=>kr(n??null,!1)??void 0,valueParser:n=>e(String(n.newValue))?n.newValue:null,valueFormatter:n=>e(String(n.value))?n.value:"",dataTypeMatcher:n=>typeof n=="string"&&e(n)},object:{baseDataType:"object",valueParser:()=>null,valueFormatter:n=>Y1(n.value)??""}}}destroyColumnStateUpdateListeners(){this.columnStateUpdateListenerDestroyFuncs.forEach(e=>e()),this.columnStateUpdateListenerDestroyFuncs=[]}destroy(){this.dataTypeDefinitions={},this.dataTypeMatchers={},this.formatValueFuncs={},this.columnStateUpdatesPendingInference={},this.destroyColumnStateUpdateListeners(),super.destroy()}};function q4(e,t){const n={...e,...t};return e.columnTypes&&t.columnTypes&&t.appendColumnTypes&&(n.columnTypes=[...s0(e.columnTypes),...s0(t.columnTypes)]),n}function K4(e,t,n){return t?t.baseDataType!==e.baseDataType?(ie(46),!1):!0:(ie(45,{parentCellDataType:n}),!1)}function Y4(e,t){if(e.valueFormatter)return n=>{var i,r;if((i=n.node)!=null&&i.group){const o=(n.colDef.pivotValueColumn??n.column).getAggFunc();if(o){if(o==="first"||o==="last")return e.valueFormatter(n);if(e.baseDataType==="number"&&o!=="count"){if(typeof n.value=="number")return e.valueFormatter(n);if(typeof n.value=="object"){if(!n.value)return;if("toNumber"in n.value)return e.valueFormatter({...n,value:n.value.toNumber()});if("value"in n.value)return e.valueFormatter({...n,value:n.value.value})}}return}if(t.get("groupDisplayType")==="groupRows"&&!t.get("treeData"))return}else if(t.get("groupHideOpenParents")&&n.column.isRowGroupActive()&&typeof n.value=="string"&&!((r=e.dataTypeMatcher)!=null&&r.call(e,n.value)))return;return e.valueFormatter(n)}}function sie(e,t,n,i){if(!t[n])return!1;const r=e[n];return r===null?(t[n]=!1,!1):i===void 0?!!r:r===i}function Ev(e,t){return[["cellRenderer","agSparklineCellRenderer"],["valueGetter",void 0],["valueParser",void 0],["refData",void 0]].some(([n,i])=>sie(e,t,n,i))}function aie(e,t){const n=C5(e);return t.forEach(i=>{delete n[i],i==="rowGroup"?delete n.rowGroupIndex:i==="pivot"&&delete n.pivotIndex}),n}var lie={moduleName:"DataType",version:pe,beans:[oie],dependsOn:[Lne]},uie={moduleName:"ColumnFlex",version:pe,beans:[rie]},cie={moduleName:"ColumnApi",version:pe,beans:[iie],apiFunctions:{getColumnDef:Nne,getDisplayNameForColumn:zne,getColumn:Hne,getColumns:Vne,applyColumnState:_ne,getColumnState:Gne,resetColumnState:Wne,isPinning:$ne,isPinningLeft:Une,isPinningRight:jne,getDisplayedColAfter:qne,getDisplayedColBefore:Kne,setColumnsVisible:Yne,setColumnsPinned:Xne,getAllGridColumns:Jne,getDisplayedLeftColumns:Zne,getDisplayedCenterColumns:Qne,getDisplayedRightColumns:eie,getAllDisplayedColumns:tie,getAllDisplayedVirtualColumns:nie,getColumnDefs:Bne}};function die(e){if(!e||e==null)return null;const t=/([a-z])([A-Z])/g,n=/([A-Z]+)([A-Z])([a-z])/g;return e.replace(t,"$1 $2").replace(n,"$1 $2$3").replace(/\./g," ").split(" ").map(r=>r.substring(0,1).toUpperCase()+(r.length>1?r.substring(1,r.length):"")).join(" ")}var hie=class extends K{constructor(){super(...arguments),this.beanName="colNames"}getDisplayNameForColumn(e,t,n=!1){if(!e)return null;const i=this.getHeaderName(e.getColDef(),e,null,null,t),{aggColNameSvc:r}=this.beans;return n&&r?r.getHeaderName(e,i):i}getDisplayNameForProvidedColumnGroup(e,t,n){const i=t==null?void 0:t.getColGroupDef();return i?this.getHeaderName(i,null,e,t,n):null}getDisplayNameForColumnGroup(e,t){return this.getDisplayNameForProvidedColumnGroup(e,e.getProvidedColumnGroup(),t)}getHeaderName(e,t,n,i,r){var s;const o=e.headerValueGetter;if(o){const a=Le(this.gos,{colDef:e,column:t,columnGroup:n,providedColumnGroup:i,location:r});return typeof o=="function"?o(a):typeof o=="string"?((s=this.beans.expressionSvc)==null?void 0:s.evaluate(o,a))??null:""}else{if(e.headerName!=null)return e.headerName;if(e.field)return die(e.field)}return""}},pie=class extends K{constructor(){super(...arguments),this.beanName="colViewport",this.colsWithinViewport=[],this.headerColsWithinViewport=[],this.colsWithinViewportHash="",this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={}}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel}postConstruct(){this.suppressColumnVirtualisation=this.gos.get("suppressColumnVirtualisation")}setScrollPosition(e,t,n=!1){const{visibleCols:i}=this,r=i.isBodyWidthDirty;if(!(e===this.scrollWidth&&t===this.scrollPosition&&!r)){if(this.scrollWidth=e,this.scrollPosition=t,i.isBodyWidthDirty=!0,this.gos.get("enableRtl")){const s=i.bodyWidth;this.viewportLeft=s-t-e,this.viewportRight=s-t}else this.viewportLeft=t,this.viewportRight=e+t;this.colModel.ready&&this.checkViewportColumns(n)}}getHeadersToRender(e,t){let n;switch(e){case"left":n=this.rowsOfHeadersToRenderLeft[t];break;case"right":n=this.rowsOfHeadersToRenderRight[t];break;default:n=this.rowsOfHeadersToRenderCenter[t];break}return n||[]}extractViewportColumns(){const e=this.visibleCols.centerCols;this.isColumnVirtualisationSuppressed()?(this.colsWithinViewport=e,this.headerColsWithinViewport=e):(this.colsWithinViewport=e.filter(this.isColumnInRowViewport.bind(this)),this.headerColsWithinViewport=e.filter(this.isColumnInHeaderViewport.bind(this)))}isColumnVirtualisationSuppressed(){return this.suppressColumnVirtualisation||this.viewportRight===0}clear(e){this.rowsOfHeadersToRenderLeft={},this.rowsOfHeadersToRenderRight={},this.rowsOfHeadersToRenderCenter={},e||(this.colsWithinViewportHash="")}isColumnInHeaderViewport(e){return e.isAutoHeaderHeight()||fie(e)?!0:this.isColumnInRowViewport(e)}isColumnInRowViewport(e){if(e.isAutoHeight())return!0;const t=e.getLeft()||0,n=t+e.getActualWidth(),i=this.viewportLeft-200,r=this.viewportRight+200,o=t<i&&n<i,s=t>r&&n>r;return!o&&!s}getViewportColumns(){const{leftCols:e,rightCols:t}=this.visibleCols;return this.colsWithinViewport.concat(e).concat(t)}getColsWithinViewport(e){if(!this.colModel.colSpanActive)return this.colsWithinViewport;const t=o=>{const s=o.getLeft();return ue(s)&&s>this.viewportLeft},n=this.isColumnVirtualisationSuppressed()?void 0:this.isColumnInRowViewport.bind(this),{visibleCols:i}=this,r=i.centerCols;return i.getColsForRow(e,r,n,t)}checkViewportColumns(e=!1){this.extractViewport()&&this.eventSvc.dispatchEvent({type:"virtualColumnsChanged",afterScroll:e})}calculateHeaderRows(){this.clear(!0);const e={},{leftCols:t,rightCols:n,treeLeft:i,treeRight:r,treeCenter:o}=this.visibleCols;this.headerColsWithinViewport.concat(t).concat(n).forEach(l=>e[l.getId()]=!0);const a=(l,u,c)=>{let d=!1;for(let h=0;h<l.length;h++){const p=l[h];let f=!1;if(da(p))f=e[p.getId()]===!0;else{const m=p.getDisplayedChildren();m&&(f=a(m,u,c+1))}f&&(d=!0,u[c]||(u[c]=[]),u[c].push(p))}return d};a(i,this.rowsOfHeadersToRenderLeft,0),a(r,this.rowsOfHeadersToRenderRight,0),a(o,this.rowsOfHeadersToRenderCenter,0)}extractViewport(){const e=i=>`${i.getId()}-${i.getPinned()||"normal"}`;this.extractViewportColumns();const t=this.getViewportColumns().map(e).join("#"),n=this.colsWithinViewportHash!==t;return n&&(this.colsWithinViewportHash=t,this.calculateHeaderRows()),n}};function fie(e){for(;e;){if(e.isAutoHeaderHeight())return!0;e=e.getParent()}return!1}var gie=class extends K{constructor(){super(...arguments),this.beanName="agCompUtils"}adaptFunction(e,t){if(!e.cellRenderer)return null;class n{refresh(){return!1}getGui(){return this.eGui}init(r){const o=t(r),s=typeof o;if(s==="string"||s==="number"||s==="boolean"){this.eGui=Sg("<span>"+o+"</span>");return}if(o==null){this.eGui=gn({tag:"span"});return}this.eGui=o}}return n}},mie={moduleName:"CellRendererFunction",version:pe,beans:[gie]},vie=class extends K{constructor(){super(...arguments),this.beanName="registry",this.agGridDefaults={},this.agGridDefaultParams={},this.jsComps={},this.dynamicBeans={},this.selectors={},this.icons={}}postConstruct(){const e=this.gos.get("components");if(e!=null)for(const t of Object.keys(e))this.jsComps[t]=e[t]}registerModule(e){const{icons:t,userComponents:n,dynamicBeans:i,selectors:r}=e;if(n){const o=(s,a,l)=>{this.agGridDefaults[s]=a,l&&(this.agGridDefaultParams[s]=l)};for(const s of Object.keys(n)){const a=n[s];typeof a=="object"?o(s,a.classImp,a.params):o(s,a)}}if(i)for(const o of Object.keys(i))this.dynamicBeans[o]=i[o];if(r==null||r.forEach(o=>{this.selectors[o.selector]=o}),t)for(const o of Object.keys(t))this.icons[o]=t[o]}getUserComponent(e,t){var a;const n=(l,u,c)=>({componentFromFramework:u,component:l,params:c}),{frameworkOverrides:i}=this.beans,r=i.frameworkComponent(t,this.gos.get("components"));if(r!=null)return n(r,!0);const o=this.jsComps[t];if(o){const l=i.isFrameworkComponent(o);return n(o,l)}const s=this.agGridDefaults[t];return s?n(s,!1,this.agGridDefaultParams[t]):((a=this.beans.validation)==null||a.missingUserComponent(e,t,this.agGridDefaults,this.jsComps),null)}createDynamicBean(e,t,...n){const i=this.dynamicBeans[e];if(i==null){if(t)throw new Error(na(256));return}return new i(...n)}getSelector(e){return this.selectors[e]}getIcon(e){return this.icons[e]}},Cie=23,bie=class extends K{constructor(){super(...arguments),this.beanName="ctrlsSvc",this.params={},this.ready=!1,this.readyCallbacks=[]}postConstruct(){var e,t;this.addEventListener("ready",()=>{this.updateReady(),this.ready&&(this.readyCallbacks.forEach(n=>n(this.params)),this.readyCallbacks.length=0)},((t=(e=this.beans.frameworkOverrides).runWhenReadyAsync)==null?void 0:t.call(e))??!1)}updateReady(){const e=Object.values(this.params);this.ready=e.length===Cie&&e.every(t=>(t==null?void 0:t.isAlive())??!1)}whenReady(e,t){this.ready?t(this.params):this.readyCallbacks.push(t),e.addDestroyFunc(()=>{const n=this.readyCallbacks.indexOf(t);n>=0&&this.readyCallbacks.splice(n,1)})}register(e,t){this.params[e]=t,this.updateReady(),this.ready&&this.dispatchLocalEvent({type:"ready"}),t.addDestroyFunc(()=>{this.updateReady()})}get(e){return this.params[e]}getGridBodyCtrl(){return this.params.gridBodyCtrl}getHeaderRowContainerCtrls(){const{leftHeader:e,centerHeader:t,rightHeader:n}=this.params;return[e,n,t]}getHeaderRowContainerCtrl(e){const t=this.params;switch(e){case"left":return t.leftHeader;case"right":return t.rightHeader;default:return t.centerHeader}}getScrollFeature(){return this.getGridBodyCtrl().scrollFeature}},yie=':where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart),:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]){box-sizing:border-box;&:after,&:before{box-sizing:border-box}&:where(div,span,label):focus-visible{box-shadow:inset var(--ag-focus-shadow);outline:none}}:where(.ag-root-wrapper,.ag-popup,.ag-dnd-ghost,.ag-chart) :where([class^=ag-]) ::-ms-clear{display:none}.ag-aria-description-container{border:0;z-index:9999;clip:rect(1px,1px,1px,1px);height:1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px}.ag-hidden{display:none!important}.ag-invisible{visibility:hidden!important}.ag-unselectable{-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-selectable{-webkit-user-select:text;-moz-user-select:text;user-select:text}.ag-tab-guard{display:block;height:0;position:absolute;width:0}:where(.ag-virtual-list-viewport) .ag-tab-guard{position:sticky}.ag-tab-guard-top{top:1px}.ag-tab-guard-bottom{bottom:1px}.ag-shake-left-to-right{animation-direction:alternate;animation-duration:.2s;animation-iteration-count:infinite;animation-name:ag-shake-left-to-right}@keyframes ag-shake-left-to-right{0%{padding-left:6px;padding-right:2px}to{padding-left:2px;padding-right:6px}}.ag-body-horizontal-scroll-viewport,.ag-body-vertical-scroll-viewport,.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport,.ag-virtual-list-viewport{flex:1 1 auto;height:100%;min-width:0;overflow:hidden;position:relative}.ag-viewport{position:relative}.ag-spanning-container{position:absolute;top:0;z-index:1}.ag-body-viewport,.ag-center-cols-viewport,.ag-floating-bottom-viewport,.ag-floating-top-viewport,.ag-header-viewport,.ag-sticky-bottom-viewport,.ag-sticky-top-viewport{overflow-x:auto;-ms-overflow-style:none!important;scrollbar-width:none!important;&::-webkit-scrollbar{display:none!important}}.ag-body-viewport{display:flex;overflow-x:hidden;&:where(.ag-layout-normal){overflow-y:auto;-webkit-overflow-scrolling:touch}}.ag-floating-bottom-container,.ag-floating-top-container,.ag-sticky-bottom-container,.ag-sticky-top-container{min-height:1px}.ag-center-cols-viewport{min-height:100%;width:100%}.ag-body-horizontal-scroll-viewport{overflow-x:scroll}.ag-body-vertical-scroll-viewport{overflow-y:scroll}.ag-virtual-list-viewport{overflow:auto;width:100%}.ag-body-container,.ag-body-horizontal-scroll-container,.ag-body-vertical-scroll-container,.ag-center-cols-container,.ag-floating-bottom-container,.ag-floating-bottom-full-width-container,.ag-floating-top-container,.ag-full-width-container,.ag-header-container,.ag-pinned-left-cols-container,.ag-pinned-right-cols-container,.ag-sticky-bottom-container,.ag-sticky-top-container,.ag-virtual-list-container{position:relative}.ag-floating-bottom-container,.ag-floating-top-container,.ag-header-container,.ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top,.ag-sticky-bottom-container,.ag-sticky-top-container{height:100%;white-space:nowrap}.ag-center-cols-container,.ag-pinned-right-cols-container{display:block}.ag-body-horizontal-scroll-container{height:100%}.ag-body-vertical-scroll-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container,.ag-full-width-container,.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{pointer-events:none;position:absolute;top:0}:where(.ag-ltr) .ag-floating-bottom-full-width-container,:where(.ag-ltr) .ag-floating-top-full-width-container,:where(.ag-ltr) .ag-full-width-container,:where(.ag-ltr) .ag-sticky-bottom-full-width-container,:where(.ag-ltr) .ag-sticky-top-full-width-container{left:0}:where(.ag-rtl) .ag-floating-bottom-full-width-container,:where(.ag-rtl) .ag-floating-top-full-width-container,:where(.ag-rtl) .ag-full-width-container,:where(.ag-rtl) .ag-sticky-bottom-full-width-container,:where(.ag-rtl) .ag-sticky-top-full-width-container{right:0}.ag-full-width-container{width:100%}.ag-floating-bottom-full-width-container,.ag-floating-top-full-width-container{display:inline-block;height:100%;overflow:hidden;width:100%}.ag-virtual-list-container{overflow:hidden}.ag-body{display:flex;flex:1 1 auto;flex-direction:row!important;min-height:0;position:relative}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:flex;min-height:0;min-width:0;position:relative;&:where(.ag-scrollbar-invisible){bottom:0;position:absolute;&:where(.ag-apple-scrollbar){opacity:0;transition:opacity .4s;visibility:hidden;&:where(.ag-scrollbar-scrolling,.ag-scrollbar-active){opacity:1;visibility:visible}}}}.ag-body-horizontal-scroll{width:100%;&:where(.ag-scrollbar-invisible){left:0;right:0}}.ag-body-vertical-scroll{height:100%;&:where(.ag-scrollbar-invisible){top:0;z-index:10}}:where(.ag-ltr) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){right:0}}:where(.ag-rtl) .ag-body-vertical-scroll{&:where(.ag-scrollbar-invisible){left:0}}.ag-force-vertical-scroll{overflow-y:scroll!important}.ag-horizontal-left-spacer,.ag-horizontal-right-spacer{height:100%;min-width:0;overflow-x:scroll;&:where(.ag-scroller-corner){overflow-x:hidden}}:where(.ag-row-animation) .ag-row{transition:transform .4s,top .4s,opacity .2s;&:where(.ag-after-created){transition:transform .4s,top .4s,height .4s,opacity .2s}}:where(.ag-row-no-animation) .ag-row{transition:none}.ag-row-loading{align-items:center;display:flex}.ag-row-position-absolute{position:absolute}.ag-row-position-relative{position:relative}.ag-full-width-row{overflow:hidden;pointer-events:all}.ag-row-inline-editing{z-index:1}.ag-row-dragging{z-index:2}.ag-stub-cell{align-items:center;display:flex}.ag-cell{display:inline-block;height:100%;position:absolute;white-space:nowrap;&:focus-visible{box-shadow:none}}.ag-cell-value{flex:1 1 auto}.ag-cell-value,.ag-group-value{overflow:hidden;text-overflow:ellipsis}.ag-cell-wrap-text{white-space:normal;word-break:break-word}:where(.ag-cell) .ag-icon{display:inline-block;vertical-align:middle}.ag-floating-top{border-bottom:var(--ag-pinned-row-border)}.ag-floating-bottom,.ag-floating-top{display:flex;overflow:hidden;position:relative;white-space:nowrap;width:100%}.ag-floating-bottom{border-top:var(--ag-pinned-row-border)}.ag-sticky-bottom,.ag-sticky-top{background-color:var(--ag-background-color);display:flex;height:0;overflow:hidden;position:absolute;width:100%;z-index:1}.ag-opacity-zero{opacity:0!important}.ag-cell-label-container{align-items:center;display:flex;flex-direction:row-reverse;height:100%;justify-content:space-between;width:100%}:where(.ag-right-aligned-header){.ag-cell-label-container{flex-direction:row}.ag-header-cell-text{text-align:end}}.ag-column-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr){direction:ltr;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row}}:where(.ag-rtl){direction:rtl;text-align:right;.ag-body,.ag-body-horizontal-scroll,.ag-body-viewport,.ag-floating-bottom,.ag-floating-top,.ag-header,.ag-sticky-bottom,.ag-sticky-top{flex-direction:row-reverse}.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{display:block}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(180deg)}}:where(.ag-rtl){.ag-icon-contracted,.ag-icon-expanded,.ag-icon-tree-closed{transform:rotate(-180deg)}}.ag-measurement-container{height:0;overflow:hidden;visibility:hidden;width:0}.ag-measurement-element-border{display:inline-block;&:before{border-left:var(--ag-internal-measurement-border);content:"";display:block}}.ag-group{position:relative;width:100%}.ag-group-title-bar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-title{display:inline;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}:where(.ag-group-title-bar) .ag-group-title{cursor:default}.ag-group-toolbar{align-items:center;display:flex;padding:var(--ag-spacing)}.ag-group-container{display:flex}.ag-disabled .ag-group-container{pointer-events:none}.ag-disabled-group-container,.ag-disabled-group-title-bar{opacity:.5}.ag-group-container-horizontal{flex-flow:row wrap}.ag-group-container-vertical{flex-direction:column}.ag-group-title-bar-icon{cursor:pointer;flex:none}:where(.ag-ltr) .ag-group-title-bar-icon{margin-right:var(--ag-spacing)}:where(.ag-rtl) .ag-group-title-bar-icon{margin-left:var(--ag-spacing)}:where(.ag-group-item-alignment-stretch) .ag-group-item{align-items:stretch}:where(.ag-group-item-alignment-start) .ag-group-item{align-items:flex-start}:where(.ag-group-item-alignment-end) .ag-group-item{align-items:flex-end}.ag-popup-child{top:0;z-index:5;&:where(:not(.ag-tooltip-custom)){box-shadow:var(--ag-popup-shadow)}}.ag-popup-editor{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-large-text-input{display:block}:where(.ag-ltr) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-left:var(--ag-row-group-indent-size)}:where(.ag-rtl) .ag-row:not(.ag-row-level-0) .ag-pivot-leaf-group{margin-right:var(--ag-row-group-indent-size)}:where(.ag-ltr) .ag-row-group-leaf-indent{margin-left:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}:where(.ag-rtl) .ag-row-group-leaf-indent{margin-right:calc(var(--ag-cell-widget-spacing) + var(--ag-icon-size))}.ag-value-change-delta{padding:0 2px}.ag-value-change-delta-up{color:var(--ag-value-change-delta-up-color)}.ag-value-change-delta-down{color:var(--ag-value-change-delta-down-color)}.ag-value-change-value{background-color:transparent;border-radius:1px;padding-left:1px;padding-right:1px;transition:background-color 1s}.ag-value-change-value-highlight{background-color:var(--ag-value-change-value-highlight-background-color);transition:background-color .1s}.ag-cell-data-changed{background-color:var(--ag-value-change-value-highlight-background-color)!important}.ag-cell-data-changed-animation{background-color:transparent}.ag-cell-highlight{background-color:var(--ag-range-selection-highlight-color)!important}.ag-row,.ag-spanned-row{color:var(--ag-cell-text-color);font-family:var(--ag-cell-font-family);font-size:var(--ag-data-font-size);white-space:nowrap;--ag-internal-content-line-height:calc(min(var(--ag-row-height), var(--ag-line-height, 1000px)) - var(--ag-internal-row-border-width, 1px) - 2px)}.ag-row{background-color:var(--ag-background-color);border-bottom:var(--ag-row-border);height:var(--ag-row-height);width:100%}:where(.ag-body-vertical-content-no-gap>div>div>div,.ag-body-vertical-content-no-gap>div>div>div>div)>.ag-row-last{border-bottom-color:transparent}.ag-sticky-bottom{border-top:var(--ag-row-border);box-sizing:content-box!important}.ag-group-contracted,.ag-group-expanded{cursor:pointer}.ag-cell,.ag-full-width-row .ag-cell-wrapper.ag-row-group{border:1px solid transparent;line-height:var(--ag-internal-content-line-height);-webkit-font-smoothing:subpixel-antialiased}:where(.ag-ltr) .ag-cell{border-right:var(--ag-column-border)}:where(.ag-rtl) .ag-cell{border-left:var(--ag-column-border)}.ag-spanned-cell-wrapper{background-color:var(--ag-background-color);position:absolute}.ag-spanned-cell-wrapper>.ag-spanned-cell{display:block;position:relative}:where(.ag-ltr) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-right-color:transparent}:where(.ag-rtl) :where(.ag-body-horizontal-content-no-gap) .ag-column-last{border-left-color:transparent}.ag-cell-wrapper{align-items:center;display:flex;>:where(:not(.ag-cell-value,.ag-group-value)){align-items:center;display:flex;height:var(--ag-internal-content-line-height)}&:where(.ag-row-group){align-items:flex-start}:where(.ag-full-width-row) &:where(.ag-row-group){align-items:center;height:100%}}:where(.ag-ltr) .ag-cell-wrapper{padding-left:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-rtl) .ag-cell-wrapper{padding-right:calc(var(--ag-indentation-level)*var(--ag-row-group-indent-size))}:where(.ag-cell-wrap-text:not(.ag-cell-auto-height)) .ag-cell-wrapper{align-items:normal;height:100%;:where(.ag-cell-value){height:100%}}:where(.ag-ltr) .ag-row>.ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}:where(.ag-rtl) .ag-row>.ag-cell-wrapper.ag-row-group{padding-right:calc(var(--ag-cell-horizontal-padding) + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-cell-focus:not(.ag-cell-range-selected):focus-within,.ag-cell-range-single-cell,.ag-cell-range-single-cell.ag-cell-range-handle,.ag-context-menu-open .ag-cell-focus:not(.ag-cell-range-selected),.ag-context-menu-open .ag-full-width-row.ag-row-focus .ag-cell-wrapper.ag-row-group,.ag-full-width-row.ag-row-focus:focus .ag-cell-wrapper.ag-row-group{border:1px solid;border-color:var(--ag-range-selection-border-color);border-style:var(--ag-range-selection-border-style);outline:initial}.ag-full-width-row.ag-row-focus:focus{box-shadow:none}:where(.ag-ltr) .ag-group-contracted,:where(.ag-ltr) .ag-group-expanded,:where(.ag-ltr) .ag-row-drag,:where(.ag-ltr) .ag-selection-checkbox{margin-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-group-contracted,:where(.ag-rtl) .ag-group-expanded,:where(.ag-rtl) .ag-row-drag,:where(.ag-rtl) .ag-selection-checkbox{margin-left:var(--ag-cell-widget-spacing)}:where(.ag-ltr) .ag-group-child-count{margin-left:3px}:where(.ag-rtl) .ag-group-child-count{margin-right:3px}.ag-row-highlight-above:after,.ag-row-highlight-below:after{background-color:var(--ag-range-selection-border-color);content:"";height:1px;position:absolute;width:calc(100% - 1px)}:where(.ag-ltr) .ag-row-highlight-above:after,:where(.ag-ltr) .ag-row-highlight-below:after{left:1px}:where(.ag-rtl) .ag-row-highlight-above:after,:where(.ag-rtl) .ag-row-highlight-below:after{right:1px}.ag-row-highlight-above:after{top:0}.ag-row-highlight-below:after{bottom:0}.ag-row-odd{background-color:var(--ag-odd-row-background-color)}.ag-row-selected:before{background-color:var(--ag-selected-row-background-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-full-width-row.ag-row-group:before,.ag-row-hover:not(.ag-full-width-row):before{background-color:var(--ag-row-hover-color);content:"";display:block;inset:0;pointer-events:none;position:absolute}.ag-row-hover.ag-row-selected:before{background-color:var(--ag-row-hover-color);background-image:linear-gradient(var(--ag-selected-row-background-color),var(--ag-selected-row-background-color))}.ag-row.ag-full-width-row.ag-row-group>*{position:relative}.ag-column-hover{background-color:var(--ag-column-hover-color)}.ag-header-range-highlight{background-color:var(--ag-range-header-highlight-color)}.ag-right-aligned-cell{font-variant-numeric:tabular-nums}:where(.ag-ltr) .ag-right-aligned-cell{text-align:right}:where(.ag-rtl) .ag-right-aligned-cell{text-align:left}.ag-right-aligned-cell .ag-cell-value,.ag-right-aligned-cell .ag-group-value{margin-left:auto}:where(.ag-ltr) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-ltr) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level));padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}:where(.ag-rtl) .ag-cell:not(.ag-cell-inline-editing),:where(.ag-rtl) .ag-full-width-row .ag-cell-wrapper.ag-row-group{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px + var(--ag-row-group-indent-size)*var(--ag-indentation-level))}.ag-row>.ag-cell-wrapper{padding-left:calc(var(--ag-cell-horizontal-padding) - 1px);padding-right:calc(var(--ag-cell-horizontal-padding) - 1px)}.ag-row-dragging{cursor:move;opacity:.5}.ag-details-row{background-color:var(--ag-background-color);padding:calc(var(--ag-spacing)*3.75)}.ag-layout-auto-height,.ag-layout-print{.ag-center-cols-container,.ag-center-cols-viewport{min-height:150px}}.ag-overlay-loading-wrapper{background-color:var(--ag-modal-overlay-background-color)}.ag-skeleton-container{align-content:center;height:100%;width:100%}.ag-skeleton-effect{animation:ag-skeleton-loading 1.5s ease-in-out .5s infinite;background-color:var(--ag-row-loading-skeleton-effect-color);border-radius:.25rem;height:1em;width:100%}:where(.ag-ltr) .ag-right-aligned-cell .ag-skeleton-effect{margin-left:auto}:where(.ag-rtl) .ag-right-aligned-cell .ag-skeleton-effect{margin-right:auto}@keyframes ag-skeleton-loading{0%{opacity:1}50%{opacity:.4}to{opacity:1}}.ag-loading{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-loading{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-loading{padding-right:var(--ag-cell-horizontal-padding)}:where(.ag-ltr) .ag-loading-icon{padding-right:var(--ag-cell-widget-spacing)}:where(.ag-rtl) .ag-loading-icon{padding-left:var(--ag-cell-widget-spacing)}.ag-icon-loading{animation-duration:1s;animation-iteration-count:infinite;animation-name:spin;animation-timing-function:linear}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.ag-input-wrapper,.ag-picker-field-wrapper{align-items:center;display:flex;flex:1 1 auto;line-height:normal;position:relative}.ag-input-field{align-items:center;display:flex;flex-direction:row}.ag-input-field-input:where(:not([type=checkbox],[type=radio])){flex:1 1 auto;min-width:0;width:100%}.ag-header{background-color:var(--ag-header-background-color);border-bottom:var(--ag-header-row-border);color:var(--ag-header-text-color);display:flex;font-family:var(--ag-header-font-family);font-size:var(--ag-header-font-size);font-weight:var(--ag-header-font-weight);overflow:hidden;white-space:nowrap;width:100%}.ag-header-row{height:var(--ag-header-height);position:absolute}.ag-floating-filter-button-button,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,:where(.ag-header-cell-sortable) .ag-header-cell-label{cursor:pointer}:where(.ag-ltr) .ag-header-expand-icon{margin-left:4px}:where(.ag-rtl) .ag-header-expand-icon{margin-right:4px}.ag-header-row:where(:not(:first-child)){:where(.ag-header-cell:not(.ag-header-span-height.ag-header-span-total,.ag-header-parent-hidden),.ag-header-group-cell.ag-header-group-cell-with-group){border-top:var(--ag-header-row-border)}}.ag-header-row:where(:not(.ag-header-row-column-group)){overflow:hidden}:where(.ag-header.ag-header-allow-overflow) .ag-header-row{overflow:visible}.ag-header-cell{display:inline-flex;overflow:hidden}.ag-header-group-cell{contain:paint;display:flex}.ag-header-cell,.ag-header-group-cell{align-items:center;gap:var(--ag-cell-widget-spacing);height:100%;padding:0 var(--ag-cell-horizontal-padding);position:absolute}@property --ag-internal-moving-color{syntax:"<color>";inherits:false;initial-value:transparent}@property --ag-internal-hover-color{syntax:"<color>";inherits:false;initial-value:transparent}.ag-header-cell:where(:not(.ag-floating-filter)),.ag-header-group-cell{&:before{background-image:linear-gradient(var(--ag-internal-hover-color),var(--ag-internal-hover-color)),linear-gradient(var(--ag-internal-moving-color),var(--ag-internal-moving-color));content:"";inset:0;position:absolute;--ag-internal-moving-color:transparent;--ag-internal-hover-color:transparent;transition:--ag-internal-moving-color var(--ag-header-cell-background-transition-duration),--ag-internal-hover-color var(--ag-header-cell-background-transition-duration)}&:where(:hover):before{--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}&:where(.ag-header-cell-moving):before{--ag-internal-moving-color:var(--ag-header-cell-moving-background-color);--ag-internal-hover-color:var(--ag-header-cell-hover-background-color)}}:where(.ag-header-cell:not(.ag-floating-filter) *,.ag-header-group-cell *){position:relative;z-index:1}.ag-header-cell-menu-button:where(:not(.ag-header-menu-always-show)){opacity:0;transition:opacity .2s}.ag-header-cell-filter-button,:where(.ag-header-cell.ag-header-active) .ag-header-cell-menu-button{opacity:1}.ag-header-cell-label,.ag-header-group-cell-label{align-items:center;align-self:stretch;display:flex;flex:1 1 auto;overflow:hidden;padding:5px 0}:where(.ag-ltr) .ag-sort-indicator-icon{padding-left:var(--ag-spacing)}:where(.ag-rtl) .ag-sort-indicator-icon{padding-right:var(--ag-spacing)}.ag-header-cell-label{text-overflow:ellipsis}.ag-header-group-cell-label.ag-sticky-label{flex:none;max-width:100%;overflow:visible;position:sticky}:where(.ag-ltr) .ag-header-group-cell-label.ag-sticky-label{left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-header-group-cell-label.ag-sticky-label{right:var(--ag-cell-horizontal-padding)}.ag-header-cell-text,.ag-header-group-text{overflow:hidden;text-overflow:ellipsis}.ag-header-cell-text{word-break:break-word}.ag-header-cell-comp-wrapper{width:100%}:where(.ag-header-group-cell) .ag-header-cell-comp-wrapper{display:flex}:where(.ag-header-cell:not(.ag-header-cell-auto-height)) .ag-header-cell-comp-wrapper{align-items:center;display:flex;height:100%}.ag-header-cell-wrap-text .ag-header-cell-comp-wrapper{white-space:normal}.ag-header-cell-comp-wrapper-limited-height>*{overflow:hidden}:where(.ag-right-aligned-header) .ag-header-cell-label{flex-direction:row-reverse}:where(.ag-ltr) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell:not(.ag-right-aligned-header)){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-ltr) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-right:var(--ag-spacing)}}:where(.ag-rtl) :where(.ag-header-cell.ag-right-aligned-header){.ag-header-label-icon,.ag-header-menu-icon{margin-left:var(--ag-spacing)}}.ag-header-cell:after,.ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{content:"";height:var(--ag-header-column-border-height);position:absolute;top:calc(50% - var(--ag-header-column-border-height)*.5);z-index:1}:where(.ag-ltr) .ag-header-cell:after,:where(.ag-ltr) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-right:var(--ag-header-column-border);right:0}:where(.ag-rtl) .ag-header-cell:after,:where(.ag-rtl) .ag-header-group-cell:where(:not(.ag-header-span-height.ag-header-group-cell-no-group)):after{border-left:var(--ag-header-column-border);left:0}.ag-header-highlight-after:after,.ag-header-highlight-before:after{background-color:var(--ag-accent-color);content:"";height:100%;position:absolute;width:1px}:where(.ag-ltr) .ag-header-highlight-before:after{left:0}:where(.ag-rtl) .ag-header-highlight-before:after{right:0}:where(.ag-ltr) .ag-header-highlight-after:after{right:0;:where(.ag-pinned-left-header) &{right:1px}}:where(.ag-rtl) .ag-header-highlight-after:after{left:0;:where(.ag-pinned-left-header) &{left:1px}}.ag-header-cell-resize{align-items:center;cursor:ew-resize;display:flex;height:100%;position:absolute;top:0;width:8px;z-index:2;&:after{background-color:var(--ag-header-column-resize-handle-color);content:"";height:var(--ag-header-column-resize-handle-height);position:absolute;top:calc(50% - var(--ag-header-column-resize-handle-height)*.5);width:var(--ag-header-column-resize-handle-width);z-index:1}}:where(.ag-ltr) .ag-header-cell-resize{right:-3px;&:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-rtl) .ag-header-cell-resize{left:-3px;&:after{right:calc(50% - var(--ag-header-column-resize-handle-width))}}:where(.ag-header-cell.ag-header-span-height) .ag-header-cell-resize:after{height:calc(100% - var(--ag-spacing)*4);top:calc(var(--ag-spacing)*2)}.ag-header-group-cell-no-group:where(.ag-header-span-height){display:none}.ag-sort-indicator-container{display:flex;gap:var(--ag-spacing)}.ag-layout-print{&.ag-body{display:block;height:unset}&.ag-root-wrapper{display:inline-block}.ag-body-horizontal-scroll,.ag-body-vertical-scroll{display:none}&.ag-force-vertical-scroll{overflow-y:visible!important}}@media print{.ag-root-wrapper.ag-layout-print{display:table;.ag-body-horizontal-scroll-viewport,.ag-body-viewport,.ag-center-cols-container,.ag-center-cols-viewport,.ag-root,.ag-root-wrapper-body,.ag-virtual-list-viewport{display:block!important;height:auto!important;overflow:hidden!important}.ag-cell,.ag-row{-moz-column-break-inside:avoid;break-inside:avoid}}}ag-grid,ag-grid-angular{display:block}.ag-chart,.ag-dnd-ghost,.ag-popup,.ag-root-wrapper{cursor:default;line-height:normal;white-space:normal;-webkit-font-smoothing:antialiased;background-color:var(--ag-background-color);color:var(--ag-text-color);color-scheme:var(--ag-browser-color-scheme);font-family:var(--ag-font-family);font-size:var(--ag-font-size);--ag-indentation-level:0}.ag-root-wrapper{border:var(--ag-wrapper-border);border-radius:var(--ag-wrapper-border-radius);display:flex;flex-direction:column;overflow:hidden;position:relative;&.ag-layout-normal{height:100%}}.ag-root-wrapper-body{display:flex;flex-direction:row;&.ag-layout-normal{flex:1 1 auto;height:0;min-height:0}}.ag-root{display:flex;flex-direction:column;position:relative;&.ag-layout-auto-height,&.ag-layout-normal{flex:1 1 auto;overflow:hidden;width:0}&.ag-layout-normal{height:100%}}.ag-drag-handle{color:var(--ag-drag-handle-color);cursor:grab}.ag-list-item,.ag-virtual-list-item{height:var(--ag-list-item-height)}.ag-virtual-list-item{position:absolute;width:100%}.ag-select-list{background-color:var(--ag-picker-list-background-color);border:var(--ag-picker-list-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);overflow:hidden auto}.ag-list-item{align-items:center;display:flex;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;&.ag-active-item{background-color:var(--ag-row-hover-color)}}.ag-select-list-item{cursor:default;-webkit-user-select:none;-moz-user-select:none;user-select:none;:where(span){overflow:hidden;text-overflow:ellipsis;white-space:nowrap}}:where(.ag-ltr) .ag-select-list-item{padding-left:calc(var(--ag-cell-horizontal-padding)/2)}:where(.ag-rtl) .ag-select-list-item{padding-right:calc(var(--ag-cell-horizontal-padding)/2)}.ag-list-item-hovered:after{background-color:var(--ag-accent-color);content:"";height:1px;left:0;position:absolute;right:0}.ag-item-highlight-top:after{top:0}.ag-item-highlight-bottom:after{bottom:0}:where(.ag-icon):before{align-items:center;background-color:currentcolor;color:inherit;content:"";display:flex;font-family:inherit;font-size:var(--ag-icon-size);font-style:normal;font-variant:normal;height:var(--ag-icon-size);justify-content:center;line-height:var(--ag-icon-size);-webkit-mask-size:contain;mask-size:contain;text-transform:none;width:var(--ag-icon-size)}.ag-icon{background-position:50%;background-repeat:no-repeat;background-size:contain;color:var(--ag-icon-color);display:block;height:var(--ag-icon-size);position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:var(--ag-icon-size)}.ag-column-select-column-group-readonly,.ag-column-select-column-readonly,.ag-disabled,[disabled]{.ag-icon{opacity:.5}&.ag-icon-grip{opacity:.35}}.ag-column-select-column-readonly{&.ag-icon-grip,.ag-icon-grip{opacity:.35}}.ag-chart-menu-icon,.ag-chart-settings-next,.ag-chart-settings-prev,.ag-column-group-icons,.ag-column-select-header-icon,.ag-filter-toolpanel-expand,.ag-floating-filter-button-button,.ag-group-title-bar-icon,.ag-header-cell-filter-button,.ag-header-cell-menu-button,.ag-header-expand-icon,.ag-panel-title-bar-button,.ag-panel-title-bar-button-icon,.ag-set-filter-group-icons,:where(.ag-group-contracted) .ag-icon,:where(.ag-group-expanded) .ag-icon{background-color:var(--ag-icon-button-background-color);border-radius:var(--ag-icon-button-border-radius);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-background-color);color:var(--ag-icon-button-color);&:hover{background-color:var(--ag-icon-button-hover-background-color);box-shadow:0 0 0 var(--ag-icon-button-background-spread) var(--ag-icon-button-hover-background-color);color:var(--ag-icon-button-hover-color)}}.ag-filter-active{background-image:linear-gradient(var(--ag-icon-button-active-background-color),var(--ag-icon-button-active-background-color));border-radius:1px;outline:solid var(--ag-icon-button-background-spread) var(--ag-icon-button-active-background-color);position:relative;&:after{background-color:var(--ag-accent-color);border-radius:50%;content:"";height:6px;position:absolute;top:-1px;width:6px}:where(.ag-icon-filter){clip-path:path("M8,0C8,4.415 11.585,8 16,8L16,16L0,16L0,0L8,0Z");color:var(--ag-icon-button-active-color)}}:where(.ag-ltr) .ag-filter-active{&:after{right:-1px}}:where(.ag-rtl) .ag-filter-active{&:after{left:-1px}}.ag-menu{background-color:var(--ag-menu-background-color);border:var(--ag-menu-border);border-radius:var(--ag-border-radius);box-shadow:var(--ag-menu-shadow);color:var(--ag-menu-text-color);max-height:100%;overflow-y:auto}.ag-menu,.ag-resizer{position:absolute;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ag-resizer{pointer-events:none;z-index:1}:where(.ag-resizer){&.ag-resizer-topLeft{cursor:nwse-resize;height:5px;left:0;top:0;width:5px}&.ag-resizer-top{cursor:ns-resize;height:5px;left:5px;right:5px;top:0}&.ag-resizer-topRight{cursor:nesw-resize;height:5px;right:0;top:0;width:5px}&.ag-resizer-right{bottom:5px;cursor:ew-resize;right:0;top:5px;width:5px}&.ag-resizer-bottomRight{bottom:0;cursor:nwse-resize;height:5px;right:0;width:5px}&.ag-resizer-bottom{bottom:0;cursor:ns-resize;height:5px;left:5px;right:5px}&.ag-resizer-bottomLeft{bottom:0;cursor:nesw-resize;height:5px;left:0;width:5px}&.ag-resizer-left{bottom:5px;cursor:ew-resize;left:0;top:5px;width:5px}}',C3,b3,hw=typeof window!="object"||!((b3=(C3=window==null?void 0:window.document)==null?void 0:C3.fonts)!=null&&b3.forEach),uC=new WeakMap,Pu=(e,t,n,i,r,o)=>{if(hw)return;i&&(e=`@layer ${CSS.escape(i)} { ${e} }`);let s=uC.get(t);if(s||(s=[],uC.set(t,s)),s.find(c=>c.css===e))return;const a=document.createElement("style");o&&a.setAttribute("nonce",o),a.dataset.agGlobalCss=n,a.textContent=e;const l={css:e,el:a,priority:r};let u;for(const c of s){if(c.priority>r)break;u=c}if(u){u.el.insertAdjacentElement("afterend",a);const c=s.indexOf(u);s.splice(c+1,0,l)}else t.insertBefore(a,t.querySelector(":not(title, meta)")),s.push(l)},dR=(e,t,n)=>{Pu(yie,e,"core",t,0,n),Array.from(DZ()).sort((i,r)=>i.moduleName.localeCompare(r.moduleName)).forEach(i=>{var r;return(r=i.css)==null?void 0:r.forEach(o=>Pu(o,e,`module-${i.moduleName}`,t,0,n))})},cC=new Set,wie=e=>{cC.add(e)},Sie=e=>{if(cC.delete(e),cC.size===0){uC=new WeakMap;for(const t of document.head.querySelectorAll("style[data-ag-global-css]"))t.remove()}},gs=e=>new hR(e),Ls="$default",xie=0,hR=class{constructor({feature:e,params:t,modeParams:n={},css:i,cssImports:r}){this.feature=e,this.css=i,this.cssImports=r,this.modeParams={[Ls]:{...n[Ls]??{},...t??{}},...n}}use(e,t,n){let i=this._inject;if(i==null){let{css:r}=this;if(r){const o=`ag-theme-${this.feature??"part"}-${++xie}`;typeof r=="function"&&(r=r()),r=`:where(.${o}) {
${r}
}
`;for(const s of this.cssImports??[])r=`@import url(${JSON.stringify(s)});
${r}`;i={css:r,class:o}}else i=!1;this._inject=i}return i&&e&&Pu(i.css,e,i.class,t,1,n),i?i.class:!1}},Eie=e=>e.replace(/[A-Z]/g,t=>`-${t}`).toLowerCase(),pR=e=>`--ag-${Eie(e)}`,yo=e=>`var(${pR(e)})`,kie=(e,t,n)=>Math.max(t,Math.min(n,e)),Fie=e=>{const t=new Map;return n=>{const i=n;return t.has(i)||t.set(i,e(n)),t.get(i)}},Zr=e=>({ref:"accentColor",mix:e}),hr=e=>({ref:"foregroundColor",mix:e}),Wr=e=>({ref:"foregroundColor",mix:e,onto:"backgroundColor"}),Tie=e=>({ref:"foregroundColor",mix:e,onto:"headerBackgroundColor"}),Zi={ref:"backgroundColor"},Qu={ref:"foregroundColor"},_s={ref:"accentColor"},m0={backgroundColor:"#fff",foregroundColor:"#181d1f",borderColor:hr(.15),chromeBackgroundColor:Wr(.02),browserColorScheme:"light"},Aie={...m0,textColor:Qu,accentColor:"#2196f3",invalidColor:"#e02525",wrapperBorder:!0,rowBorder:!0,headerRowBorder:!0,footerRowBorder:{ref:"rowBorder"},columnBorder:{style:"solid",width:1,color:"transparent"},headerColumnBorder:!1,headerColumnBorderHeight:"100%",pinnedColumnBorder:!0,pinnedRowBorder:!0,sidePanelBorder:!0,sideBarPanelWidth:250,sideBarBackgroundColor:{ref:"chromeBackgroundColor"},sideButtonBarBackgroundColor:{ref:"sideBarBackgroundColor"},sideButtonBarTopPadding:0,sideButtonSelectedUnderlineWidth:2,sideButtonSelectedUnderlineColor:"transparent",sideButtonSelectedUnderlineTransitionDuration:0,sideButtonBackgroundColor:"transparent",sideButtonTextColor:{ref:"textColor"},sideButtonHoverBackgroundColor:{ref:"sideButtonBackgroundColor"},sideButtonHoverTextColor:{ref:"sideButtonTextColor"},sideButtonSelectedBackgroundColor:Zi,sideButtonSelectedTextColor:{ref:"sideButtonTextColor"},sideButtonBorder:"solid 1px transparent",sideButtonSelectedBorder:!0,sideButtonLeftPadding:{ref:"spacing"},sideButtonRightPadding:{ref:"spacing"},sideButtonVerticalPadding:{calc:"spacing * 3"},fontFamily:["-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu","Cantarell","Helvetica Neue","sans-serif"],headerBackgroundColor:{ref:"chromeBackgroundColor"},headerFontFamily:{ref:"fontFamily"},cellFontFamily:{ref:"fontFamily"},headerFontWeight:500,headerFontSize:{ref:"fontSize"},dataFontSize:{ref:"fontSize"},headerTextColor:{ref:"textColor"},headerCellHoverBackgroundColor:"transparent",headerCellMovingBackgroundColor:{ref:"headerCellHoverBackgroundColor"},headerCellBackgroundTransitionDuration:"0.2s",cellTextColor:{ref:"textColor"},subtleTextColor:{ref:"textColor",mix:.5},rangeSelectionBorderStyle:"solid",rangeSelectionBorderColor:_s,rangeSelectionBackgroundColor:Zr(.2),rangeSelectionChartBackgroundColor:"#0058FF1A",rangeSelectionChartCategoryBackgroundColor:"#00FF841A",rangeSelectionHighlightColor:Zr(.5),rangeHeaderHighlightColor:Tie(.08),rowNumbersSelectedColor:Zr(.5),rowHoverColor:Zr(.08),columnHoverColor:Zr(.05),selectedRowBackgroundColor:Zr(.12),modalOverlayBackgroundColor:{ref:"backgroundColor",mix:.66},oddRowBackgroundColor:Zi,borderRadius:4,wrapperBorderRadius:8,cellHorizontalPadding:{calc:"spacing * 2 * cellHorizontalPaddingScale"},cellWidgetSpacing:{calc:"spacing * 1.5"},cellHorizontalPaddingScale:1,rowGroupIndentSize:{calc:"cellWidgetSpacing + iconSize"},valueChangeDeltaUpColor:"#43a047",valueChangeDeltaDownColor:"#e53935",valueChangeValueHighlightBackgroundColor:"#16a08580",spacing:8,fontSize:14,rowHeight:{calc:"max(iconSize, dataFontSize) + spacing * 3.25 * rowVerticalPaddingScale"},rowVerticalPaddingScale:1,headerHeight:{calc:"max(iconSize, dataFontSize) + spacing * 4 * headerVerticalPaddingScale"},headerVerticalPaddingScale:1,popupShadow:"0 0 16px #00000026",cardShadow:"0 1px 4px 1px #00000018",dropdownShadow:{ref:"cardShadow"},dragAndDropImageBackgroundColor:Zi,dragAndDropImageBorder:!0,dragAndDropImageShadow:{ref:"popupShadow"},dragHandleColor:hr(.7),focusShadow:{spread:3,color:Zr(.5)},headerColumnResizeHandleHeight:"30%",headerColumnResizeHandleWidth:2,headerColumnResizeHandleColor:{ref:"borderColor"},widgetContainerHorizontalPadding:{calc:"spacing * 1.5"},widgetContainerVerticalPadding:{calc:"spacing * 1.5"},widgetHorizontalSpacing:{calc:"spacing * 1.5"},widgetVerticalSpacing:{ref:"spacing"},listItemHeight:{calc:"max(iconSize, dataFontSize) + widgetVerticalSpacing"},iconSize:16,iconColor:"inherit",iconButtonColor:{ref:"iconColor"},iconButtonBackgroundColor:"transparent",iconButtonBackgroundSpread:4,iconButtonBorderRadius:1,iconButtonHoverColor:{ref:"iconButtonColor"},iconButtonHoverBackgroundColor:hr(.1),iconButtonActiveColor:_s,iconButtonActiveBackgroundColor:Zr(.28),iconButtonActiveIndicatorColor:_s,toggleButtonWidth:28,toggleButtonHeight:18,toggleButtonOnBackgroundColor:_s,toggleButtonOffBackgroundColor:Wr(.3),toggleButtonSwitchBackgroundColor:Zi,toggleButtonSwitchInset:2,menuBorder:{color:hr(.2)},menuBackgroundColor:Wr(.03),menuTextColor:Wr(.95),menuShadow:{ref:"popupShadow"},menuSeparatorColor:{ref:"borderColor"},setFilterIndentSize:{ref:"iconSize"},chartMenuPanelWidth:260,chartMenuLabelColor:hr(.8),dialogShadow:{ref:"popupShadow"},cellEditingBorder:{color:_s},cellEditingShadow:{ref:"cardShadow"},dialogBorder:{color:hr(.2)},panelBackgroundColor:Zi,panelTitleBarBackgroundColor:{ref:"headerBackgroundColor"},panelTitleBarIconColor:{ref:"headerTextColor"},panelTitleBarTextColor:{ref:"headerTextColor"},panelTitleBarFontWeight:{ref:"headerFontWeight"},panelTitleBarBorder:!0,columnSelectIndentSize:{ref:"iconSize"},toolPanelSeparatorBorder:!0,tooltipBackgroundColor:{ref:"chromeBackgroundColor"},tooltipTextColor:{ref:"textColor"},tooltipBorder:!0,columnDropCellBackgroundColor:hr(.07),columnDropCellTextColor:{ref:"textColor"},columnDropCellDragHandleColor:{ref:"textColor"},columnDropCellBorder:{color:hr(.13)},selectCellBackgroundColor:hr(.07),selectCellBorder:{color:hr(.13)},advancedFilterBuilderButtonBarBorder:!0,advancedFilterBuilderIndentSize:{calc:"spacing * 2 + iconSize"},advancedFilterBuilderJoinPillColor:"#f08e8d",advancedFilterBuilderColumnPillColor:"#a6e194",advancedFilterBuilderOptionPillColor:"#f3c08b",advancedFilterBuilderValuePillColor:"#85c0e4",findMatchColor:Qu,findMatchBackgroundColor:"#ffff00",findActiveMatchColor:Qu,findActiveMatchBackgroundColor:"#ffa500",filterToolPanelGroupIndent:{ref:"spacing"},rowLoadingSkeletonEffectColor:hr(.15),statusBarLabelColor:Qu,statusBarLabelFontWeight:500,statusBarValueColor:Qu,statusBarValueFontWeight:500},Rie=":where(.ag-button){background:none;border:none;color:inherit;cursor:pointer;font-family:inherit;font-size:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0;text-indent:inherit;text-shadow:inherit;text-transform:inherit;word-spacing:inherit;&:disabled{cursor:default}&:focus-visible{box-shadow:var(--ag-focus-shadow);outline:none}}.ag-standard-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:var(--ag-button-background-color);border:var(--ag-button-border);border-radius:var(--ag-button-border-radius);color:var(--ag-button-text-color);cursor:pointer;font-weight:var(--ag-button-font-weight);padding:var(--ag-button-vertical-padding) var(--ag-button-horizontal-padding);&:hover{background-color:var(--ag-button-hover-background-color);border:var(--ag-button-hover-border);color:var(--ag-button-hover-text-color)}&:active{background-color:var(--ag-button-active-background-color);border:var(--ag-button-active-border);color:var(--ag-button-active-text-color)}&:disabled{background-color:var(--ag-button-disabled-background-color);border:var(--ag-button-disabled-border);color:var(--ag-button-disabled-text-color)}}",Die={buttonTextColor:"inherit",buttonFontWeight:"normal",buttonBackgroundColor:"transparent",buttonBorder:!1,buttonBorderRadius:{ref:"borderRadius"},buttonHorizontalPadding:{calc:"spacing * 2"},buttonVerticalPadding:{ref:"spacing"},buttonHoverTextColor:{ref:"buttonTextColor"},buttonHoverBackgroundColor:{ref:"buttonBackgroundColor"},buttonHoverBorder:{ref:"buttonBorder"},buttonActiveTextColor:{ref:"buttonHoverTextColor"},buttonActiveBackgroundColor:{ref:"buttonHoverBackgroundColor"},buttonActiveBorder:{ref:"buttonHoverBorder"},buttonDisabledTextColor:{ref:"inputDisabledTextColor"},buttonDisabledBackgroundColor:{ref:"inputDisabledBackgroundColor"},buttonDisabledBorder:{ref:"inputDisabledBorder"}},Mie=()=>gs({feature:"buttonStyle",params:{...Die,buttonBackgroundColor:Zi,buttonBorder:!0,buttonHoverBackgroundColor:{ref:"rowHoverColor"},buttonActiveBorder:{color:_s}},css:Rie}),Pie=Mie(),Iie=".ag-column-drop-vertical-empty-message{align-items:center;border:1px dashed;border-color:var(--ag-border-color);display:flex;inset:0;justify-content:center;margin:calc(var(--ag-spacing)*1.5) calc(var(--ag-spacing)*2);overflow:hidden;padding:calc(var(--ag-spacing)*2);position:absolute}",Oie=()=>gs({feature:"columnDropStyle",css:Iie}),fR=Oie(),Lie=["colorScheme","color","length","scale","borderStyle","border","shadow","image","fontFamily","fontWeight","duration"],Nie=Fie(e=>(e=e.toLowerCase(),Lie.find(t=>e.endsWith(t.toLowerCase()))??"length")),Fg=e=>typeof e=="object"&&(e!=null&&e.ref)?yo(e.ref):typeof e=="string"?e:typeof e=="number"?String(e):!1,pw=e=>{if(typeof e=="string")return e;if(e&&"ref"in e){const t=yo(e.ref);return e.mix==null?t:`color-mix(in srgb, ${e.onto?yo(e.onto):"transparent"}, ${t} ${kie(e.mix*100,0,100)}%)`}return!1},Bie=Fg,Ul=e=>typeof e=="string"?e:typeof e=="number"?`${e}px`:e&&"calc"in e?`calc(${e.calc.replace(/ ?[*/+] ?/g," $& ").replace(/-?\b[a-z][a-z0-9]*\b(?![-(])/gi,n=>n[0]==="-"?n:` ${yo(n)} `)})`:e&&"ref"in e?yo(e.ref):!1,zie=Fg,Hie=(e,t)=>typeof e=="string"?e:e===!0?"solid 1px var(--ag-border-color)":e===!1?t==="columnBorder"?"solid 1px transparent":"none":e&&"ref"in e?yo(e.ref):gR(e.style??"solid")+" "+Ul(e.width??1)+" "+pw(e.color??{ref:"borderColor"}),Vie=e=>typeof e=="string"?e:e===!1?"none":e&&"ref"in e?yo(e.ref):[Ul(e.offsetX??0),Ul(e.offsetY??0),Ul(e.radius??0),Ul(e.spread??0),pw(e.color??{ref:"foregroundColor"})].join(" "),gR=Fg,mR=e=>typeof e=="string"?e.includes(",")?e:X4(e):e&&"googleFont"in e?mR(e.googleFont):e&&"ref"in e?yo(e.ref):Array.isArray(e)?e.map(t=>(typeof t=="object"&&"googleFont"in t&&(t=t.googleFont),X4(t))).join(", "):!1,X4=e=>/^[\w-]+$|\w\(/.test(e)?e:JSON.stringify(e),_ie=Fg,vR=e=>typeof e=="string"?e:e&&"url"in e?`url(${JSON.stringify(e.url)})`:e&&"svg"in e?vR({url:`data:image/svg+xml,${encodeURIComponent(e.svg)}`}):e&&"ref"in e?yo(e.ref):!1,Gie=(e,t)=>typeof e=="string"?e:typeof e=="number"?(e>=10&&dt(104,{value:e,param:t}),`${e}s`):e&&"ref"in e?yo(e.ref):!1,Wie={color:pw,colorScheme:Bie,length:Ul,scale:zie,border:Hie,borderStyle:gR,shadow:Vie,image:vR,fontFamily:mR,fontWeight:_ie,duration:Gie},$ie=(e,t)=>{const n=Nie(e);return Wie[n](t,e)},Uie=()=>new CR().withPart(Pie).withPart(fR),CR=class bR{constructor(t=[]){this.parts=t}withPart(t){return typeof t=="function"&&(t=t()),t instanceof hR?new bR([...this.parts,t]):(Z1(259,{part:t},"Invalid part"),this)}withoutPart(t){return this.withPart(gs({feature:t}))}withParams(t,n=Ls){return this.withPart(gs({modeParams:{[n]:t}}))}_startUse({styleContainer:t,cssLayer:n,nonce:i,loadThemeGoogleFonts:r}){if(hw)return;qie(),dR(t,n,i);const o=jie(this);if(o.length>0)for(const s of o)r&&Yie(s,i);for(const s of this.parts)s.use(t,n,i)}_getCssClass(){return this._cssClassCache??(this._cssClassCache=J4(this.parts).map(t=>t.use(void 0,void 0,void 0)).filter(Boolean).join(" "))}_getModeParams(){let t=this._paramsCache;if(!t){const n={[Ls]:{...Aie}};for(const i of J4(this.parts))for(const r of Object.keys(i.modeParams)){const o=i.modeParams[r];if(o){const s=n[r]??(n[r]={}),a=new Set;for(const l of Object.keys(o)){const u=o[l];u!==void 0&&(s[l]=u,a.add(l))}if(r===Ls)for(const l of Object.keys(n)){const u=n[l];if(l!==Ls)for(const c of a)delete u[c]}}}this._paramsCache=t=n}return t}_getPerGridCss(t){const n="##SELECTOR##";let i=this._paramsCssCache;if(!i){let r="",o="";const s=this._getModeParams();for(const l of Object.keys(s)){const u=s[l];if(l!==Ls){const d=`:where([data-ag-theme-mode="${typeof CSS=="object"?CSS.escape(l):l}"]) & {
`;r+=d,o+=d}for(const c of Object.keys(u).sort()){const d=u[c],h=$ie(c,d);if(h===!1)dt(107,{key:c,value:d});else{const p=pR(c),f=p.replace("--ag-","--ag-inherited-");r+=`	${p}: var(${f}, ${h});
`,o+=`	${f}: var(${p});
`}}l!==Ls&&(r+=`}
`,o+=`}
`)}let a=`${n} {
${r}}
`;a+=`:has(> ${n}):not(${n}) {
${o}}
`,this._paramsCssCache=i=a}return i.replaceAll(n,`:where(.${t})`)}},J4=e=>{const t=new Map;for(const i of e)t.set(i.feature,i);const n=[];for(const i of e)(!i.feature||t.get(i.feature)===i)&&n.push(i);return n},jie=e=>{const t=new Set,n=o=>{if(Array.isArray(o))o.forEach(n);else{const s=o==null?void 0:o.googleFont;typeof s=="string"&&t.add(s)}};return Object.values(e._getModeParams()).flatMap(o=>Object.values(o)).forEach(n),Array.from(t).sort()},Z4=!1,qie=()=>{if(!Z4){Z4=!0;for(const e of Array.from(document.head.querySelectorAll('style[data-ag-scope="legacy"]')))e.remove()}},Kie=new Set,Yie=async(e,t)=>{Kie.add(e);const n=`@import url('https://${Xie}/css2?family=${encodeURIComponent(e)}:wght@100;200;300;400;500;600;700;800;900&display=swap');
`;Pu(n,document.head,`googleFont:${e}`,void 0,0,t)},Xie="fonts.googleapis.com",Jie='.ag-checkbox-input-wrapper,.ag-radio-button-input-wrapper{background-color:var(--ag-checkbox-unchecked-background-color);border:solid var(--ag-checkbox-border-width) var(--ag-checkbox-unchecked-border-color);flex:none;height:var(--ag-icon-size);position:relative;width:var(--ag-icon-size);:where(input){-webkit-appearance:none;-moz-appearance:none;appearance:none;cursor:pointer;display:block;height:var(--ag-icon-size);margin:0;opacity:0;width:var(--ag-icon-size)}&:after{content:"";display:block;inset:0;-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;pointer-events:none;position:absolute}&:where(.ag-checked){background-color:var(--ag-checkbox-checked-background-color);border-color:var(--ag-checkbox-checked-border-color);&:after{background-color:var(--ag-checkbox-checked-shape-color)}}&:where(:focus-within,:active){box-shadow:var(--ag-focus-shadow)}&:where(.ag-disabled){filter:grayscale();opacity:.5}}.ag-checkbox-input-wrapper{border-radius:var(--ag-checkbox-border-radius);&:where(.ag-checked):after{-webkit-mask-image:var(--ag-checkbox-checked-shape-image);mask-image:var(--ag-checkbox-checked-shape-image)}&:where(.ag-indeterminate){background-color:var(--ag-checkbox-indeterminate-background-color);border-color:var(--ag-checkbox-indeterminate-border-color);&:after{background-color:var(--ag-checkbox-indeterminate-shape-color);-webkit-mask-image:var(--ag-checkbox-indeterminate-shape-image);mask-image:var(--ag-checkbox-indeterminate-shape-image)}}}.ag-radio-button-input-wrapper{border-radius:100%;&:where(.ag-checked):after{-webkit-mask-image:var(--ag-radio-checked-shape-image);mask-image:var(--ag-radio-checked-shape-image)}}',Zie=()=>gs({feature:"checkboxStyle",params:{checkboxBorderWidth:1,checkboxBorderRadius:{ref:"borderRadius"},checkboxUncheckedBackgroundColor:Zi,checkboxUncheckedBorderColor:Wr(.3),checkboxCheckedBackgroundColor:_s,checkboxCheckedBorderColor:{ref:"checkboxCheckedBackgroundColor"},checkboxCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="7" fill="none"><path stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.75" d="M1 3.5 3.5 6l5-5"/></svg>'},checkboxCheckedShapeColor:Zi,checkboxIndeterminateBackgroundColor:Wr(.3),checkboxIndeterminateBorderColor:{ref:"checkboxIndeterminateBackgroundColor"},checkboxIndeterminateShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="10" height="2" fill="none"><rect width="10" height="2" fill="#000" rx="1"/></svg>'},checkboxIndeterminateShapeColor:Zi,radioCheckedShapeImage:{svg:'<svg xmlns="http://www.w3.org/2000/svg" width="6" height="6" fill="none"><circle cx="3" cy="3" r="3" fill="#000"/></svg>'}},css:Jie}),Qie=Zie(),yR=()=>({...m0,backgroundColor:"hsl(217, 0%, 17%)",foregroundColor:"#FFF",chromeBackgroundColor:Wr(.05),rowHoverColor:Zr(.15),selectedRowBackgroundColor:Zr(.2),menuBackgroundColor:Wr(.1),browserColorScheme:"dark",popupShadow:"0 0px 20px #000A",cardShadow:"0 1px 4px 1px #000A",advancedFilterBuilderJoinPillColor:"#7a3a37",advancedFilterBuilderColumnPillColor:"#355f2d",advancedFilterBuilderOptionPillColor:"#5a3168",advancedFilterBuilderValuePillColor:"#374c86",findMatchColor:Zi,findActiveMatchColor:Zi,checkboxUncheckedBorderColor:Wr(.4),toggleButtonOffBackgroundColor:Wr(.4)}),ere=()=>({...yR(),backgroundColor:"#1f2836"}),tre=()=>gs({feature:"colorScheme",params:m0,modeParams:{light:m0,dark:yR(),"dark-blue":ere()}}),nre=tre(),wR={aggregation:'<path d="M18 7V4H6l6 8-6 8h12v-3"/>',arrows:'<polyline points="5 9 2 12 5 15"/><polyline points="9 5 12 2 15 5"/><polyline points="15 19 12 22 9 19"/><polyline points="19 9 22 12 19 15"/><line x1="2" x2="22" y1="12" y2="12"/><line x1="12" x2="12" y1="2" y2="22"/>',asc:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',cancel:'<path d="m18 6-12 12"/><path d="m6 6 12 12"/>',chart:'<line x1="18" x2="18" y1="20" y2="10"/><line x1="12" x2="12" y1="20" y2="4"/><line x1="6" x2="6" y1="20" y2="14"/>',"color-picker":'<path d="m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"/><path d="m5 2 5 5"/><path d="M2 13h15"/><path d="M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"/>',columns:'<path d="M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18"/>',contracted:'<path d="m9 18 6-6-6-6"/>',copy:'<rect width="14" height="14" x="8" y="8" rx="2" ry="2"/><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"/>',cross:'<path d="M18 6 6 18"/><path d="m6 6 12 12"/>',csv:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',cut:'<circle cx="6" cy="6" r="3"/><path d="M8.12 8.12 12 12"/><path d="M20 4 8.12 15.88"/><circle cx="6" cy="18" r="3"/><path d="M14.8 14.8 20 20"/>',desc:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',down:'<path d="M12 5v14"/><path d="m19 12-7 7-7-7"/>',excel:'<path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/>',expanded:'<path d="m15 18-6-6 6-6"/>',"eye-slash":'<path d="M9.88 9.88a3 3 0 1 0 4.24 4.24"/><path d="M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68"/><path d="M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61"/><line x1="2" x2="22" y1="2" y2="22"/>',eye:'<path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/>',filter:'<path d="M3 6h18"/><path d="M7 12h10"/><path d="M10 18h4"/>',first:'<path d="m17 18-6-6 6-6"/><path d="M7 6v12"/>',group:'<path d="M16 12H3"/><path d="M16 18H3"/><path d="M10 6H3"/><path d="M21 18V8a2 2 0 0 0-2-2h-5"/><path d="m16 8-2-2 2-2"/>',last:'<path d="m7 18 6-6-6-6"/><path d="M17 6v12"/>',left:'<path d="m12 19-7-7 7-7"/><path d="M19 12H5"/>',linked:'<path d="M9 17H7A5 5 0 0 1 7 7h2"/><path d="M15 7h2a5 5 0 1 1 0 10h-2"/><line x1="8" x2="16" y1="12" y2="12"/>',loading:'<line x1="12" x2="12" y1="2" y2="6"/><line x1="12" x2="12" y1="18" y2="22"/><line x1="4.93" x2="7.76" y1="4.93" y2="7.76"/><line x1="16.24" x2="19.07" y1="16.24" y2="19.07"/><line x1="2" x2="6" y1="12" y2="12"/><line x1="18" x2="22" y1="12" y2="12"/><line x1="4.93" x2="7.76" y1="19.07" y2="16.24"/><line x1="16.24" x2="19.07" y1="7.76" y2="4.93"/>',maximize:'<polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/>',menu:'<line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/>',"menu-alt":'<circle cx="12" cy="5" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="12" r="0.75" fill="#D9D9D9"/><circle cx="12" cy="19" r="0.75" fill="#D9D9D9"/>',minimize:'<polyline points="4 14 10 14 10 20"/><polyline points="20 10 14 10 14 4"/><line x1="14" x2="21" y1="10" y2="3"/><line x1="3" x2="10" y1="21" y2="14"/>',minus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/>',next:'<path d="m9 18 6-6-6-6"/>',none:'<path d="m7 15 5 5 5-5"/><path d="m7 9 5-5 5 5"/>',"not-allowed":'<circle cx="12" cy="12" r="10"/><path d="m4.9 4.9 14.2 14.2"/>',paste:'<path d="M15 2H9a1 1 0 0 0-1 1v2c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V3c0-.6-.4-1-1-1Z"/><path d="M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2M16 4h2a2 2 0 0 1 2 2v2M11 14h10"/><path d="m17 10 4 4-4 4"/>',pin:'<line x1="12" x2="12" y1="17" y2="22"/><path d="M5 17h14v-1.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V6h1a2 2 0 0 0 0-4H8a2 2 0 0 0 0 4h1v4.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24Z"/>',pivot:'<path d="M15 3v18"/><rect width="18" height="18" x="3" y="3" rx="2"/><path d="M21 9H3"/><path d="M21 15H3"/>',plus:'<circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/>',previous:'<path d="m15 18-6-6 6-6"/>',right:'<path d="M5 12h14"/><path d="m12 5 7 7-7 7"/>',save:'<path d="M12 17V3"/><path d="m6 11 6 6 6-6"/><path d="M19 21H5"/>',"small-left":'<path d="m15 18-6-6 6-6"/>',"small-right":'<path d="m9 18 6-6-6-6"/>',tick:'<path d="M20 6 9 17l-5-5"/>',"tree-closed":'<path d="m9 18 6-6-6-6"/>',"tree-indeterminate":'<path d="M5 12h14"/>',"tree-open":'<path d="m6 9 6 6 6-6"/>',unlinked:'<path d="M9 17H7A5 5 0 0 1 7 7"/><path d="M15 7h2a5 5 0 0 1 4 8"/><line x1="8" x2="12" y1="12" y2="12"/><line x1="2" x2="22" y1="2" y2="22"/>',up:'<path d="m5 12 7-7 7 7"/><path d="M12 19V5"/>',grip:'<circle cx="5" cy="8" r="0.5"/><circle cx="12" cy="8" r="0.5"/><circle cx="19" cy="8" r="0.5"/><circle cx="5" cy="16" r="0.5"/><circle cx="12" cy="16" r="0.5"/><circle cx="19" cy="16" r="0.5"/><g stroke="none" fill="currentColor"><circle cx="5" cy="8" r="1"/><circle cx="12" cy="8" r="1"/><circle cx="19" cy="8" r="1"/><circle cx="5" cy="16" r="1"/><circle cx="12" cy="16" r="1"/><circle cx="19" cy="16" r="1"/></g>',settings:'<path d="M20 7h-9"/><path d="M14 17H5"/><circle cx="17" cy="17" r="3"/><circle cx="7" cy="7" r="3"/>'},SR={"small-down":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 10.667 16 21.334l8.667-10.667H7.334Z"/></svg>',"small-up":'<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="black" stroke="none" viewBox="0 0 32 32"><path d="M7.334 21.333 16 10.666l8.667 10.667H7.334Z"/></svg>'},ire=(e={})=>{let t="";for(const n of[...Object.keys(wR),...Object.keys(SR)]){const i=rre(n,e.strokeWidth);t+=`.ag-icon-${n}::before { mask-image: url('data:image/svg+xml,${encodeURIComponent(i)}'); }
`}return t},rre=(e,t=1.5)=>{const n=SR[e];if(n)return n;const i=wR[e];if(!i)throw new Error(`Missing icon data for ${e}`);return`<svg xmlns="http://www.w3.org/2000/svg" class="ag-icon" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke="black" stroke-width="${t}" viewBox="0 0 24 24"><style>* { vector-effect: non-scaling-stroke; }</style>`+i+"</svg>"},ore=(e={})=>gs({feature:"iconSet",css:()=>ire(e)}),sre=ore(),are=':where(.ag-input-field-input[type=number]:not(.ag-number-field-input-stepper)){-webkit-appearance:textfield;-moz-appearance:textfield;appearance:textfield;&::-webkit-inner-spin-button,&::-webkit-outer-spin-button{-webkit-appearance:none;appearance:none;margin:0}}:where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){background-color:var(--ag-input-background-color);border:var(--ag-input-border);border-radius:var(--ag-input-border-radius);color:var(--ag-input-text-color);font-family:inherit;font-size:inherit;line-height:inherit;margin:0;min-height:var(--ag-input-height);padding:0;&:where(:disabled){background-color:var(--ag-input-disabled-background-color);border:var(--ag-input-disabled-border);color:var(--ag-input-disabled-text-color)}&:where(:focus){background-color:var(--ag-input-focus-background-color);border:var(--ag-input-focus-border);box-shadow:var(--ag-input-focus-shadow);color:var(--ag-input-focus-text-color);outline:none}&:where(:invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&:where(.invalid){background-color:var(--ag-input-invalid-background-color);border:var(--ag-input-invalid-border);color:var(--ag-input-invalid-text-color)}&::-moz-placeholder{color:var(--ag-input-placeholder-text-color)}&::placeholder{color:var(--ag-input-placeholder-text-color)}}:where(.ag-ltr) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-left:var(--ag-input-padding-start)}:where(.ag-rtl) :where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){padding-right:var(--ag-input-padding-start)}:where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{background-color:currentcolor;color:var(--ag-input-icon-color);content:"";display:block;height:12px;-webkit-mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");mask-image:url("data:image/svg+xml;charset=utf-8;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS41Ij48cGF0aCBkPSJNNS4zIDlhMy43IDMuNyAwIDEgMCAwLTcuNSAzLjcgMy43IDAgMCAwIDAgNy41Wk0xMC41IDEwLjUgOC4zIDguMiIvPjwvc3ZnPg==");-webkit-mask-position:center;mask-position:center;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;opacity:.5;position:absolute;width:12px}}:where(.ag-ltr) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-left:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-left:calc(var(--ag-spacing)*1.5 + 12px)}}:where(.ag-rtl) :where(.ag-column-select-header-filter-wrapper,.ag-filter-toolpanel-search,.ag-mini-filter,.ag-filter-filter){.ag-input-wrapper:before{margin-right:var(--ag-spacing)}.ag-number-field-input,.ag-text-field-input{padding-right:calc(var(--ag-spacing)*1.5 + 12px)}}',lre=":where(input.ag-input-field-input:not([type]),input.ag-input-field-input[type=text],input.ag-input-field-input[type=number],input.ag-input-field-input[type=tel],input.ag-input-field-input[type=date],input.ag-input-field-input[type=datetime-local],textarea.ag-input-field-input){&:focus{box-shadow:var(--ag-focus-shadow)}}",ure={inputBackgroundColor:"transparent",inputBorder:!1,inputBorderRadius:0,inputTextColor:{ref:"textColor"},inputPlaceholderTextColor:{ref:"inputTextColor",mix:.5},inputPaddingStart:0,inputHeight:{calc:"max(iconSize, fontSize) + spacing * 2"},inputFocusBackgroundColor:{ref:"inputBackgroundColor"},inputFocusBorder:{ref:"inputBorder"},inputFocusShadow:"none",inputFocusTextColor:{ref:"inputTextColor"},inputDisabledBackgroundColor:{ref:"inputBackgroundColor"},inputDisabledBorder:{ref:"inputBorder"},inputDisabledTextColor:{ref:"inputTextColor"},inputInvalidBackgroundColor:{ref:"inputBackgroundColor"},inputInvalidBorder:{ref:"inputBorder"},inputInvalidTextColor:{ref:"inputTextColor"},inputIconColor:{ref:"inputTextColor"},pickerButtonBorder:!1,pickerButtonFocusBorder:{ref:"inputFocusBorder"},pickerButtonBackgroundColor:{ref:"backgroundColor"},pickerButtonFocusBackgroundColor:{ref:"backgroundColor"},pickerListBorder:!1,pickerListBackgroundColor:{ref:"backgroundColor"}},cre=()=>gs({feature:"inputStyle",params:{...ure,inputBackgroundColor:Zi,inputBorder:!0,inputBorderRadius:{ref:"borderRadius"},inputPaddingStart:{ref:"spacing"},inputFocusBorder:{color:_s},inputFocusShadow:{ref:"focusShadow"},inputDisabledBackgroundColor:Wr(.06),inputDisabledTextColor:{ref:"textColor",mix:.5},inputInvalidBorder:{color:{ref:"invalidColor"}},pickerButtonBorder:!0,pickerListBorder:!0},css:()=>are+lre}),dre=cre(),hre='.ag-tabs-header{background-color:var(--ag-tab-bar-background-color);border-bottom:var(--ag-tab-bar-border);display:flex;flex:1;gap:var(--ag-tab-spacing);padding:var(--ag-tab-bar-top-padding) var(--ag-tab-bar-horizontal-padding) 0}.ag-tabs-header-wrapper{display:flex}.ag-tabs-close-button-wrapper{align-items:center;border:0;display:flex;padding:var(--ag-spacing)}:where(.ag-ltr) .ag-tabs-close-button-wrapper{border-right:1px solid var(--ag-border-color)}:where(.ag-rtl) .ag-tabs-close-button-wrapper{border-left:1px solid var(--ag-border-color)}.ag-tabs-close-button{background-color:unset;border:0;cursor:pointer;padding:0}.ag-tab{align-items:center;background-color:var(--ag-tab-background-color);border-left:var(--ag-tab-selected-border-width) solid transparent;border-right:var(--ag-tab-selected-border-width) solid transparent;color:var(--ag-tab-text-color);cursor:pointer;display:flex;flex:1;justify-content:center;padding:var(--ag-tab-top-padding) var(--ag-tab-horizontal-padding) var(--ag-tab-bottom-padding);position:relative;&:hover{background-color:var(--ag-tab-hover-background-color);color:var(--ag-tab-hover-text-color)}&.ag-tab-selected{background-color:var(--ag-tab-selected-background-color);color:var(--ag-tab-selected-text-color)}&:after{background-color:var(--ag-tab-selected-underline-color);bottom:0;content:"";display:block;height:var(--ag-tab-selected-underline-width);left:0;opacity:0;position:absolute;right:0;transition:opacity var(--ag-tab-selected-underline-transition-duration)}&.ag-tab-selected:after{opacity:1}}:where(.ag-ltr) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-left-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-right-color:var(--ag-tab-selected-border-color)}}}:where(.ag-rtl) .ag-tab{&.ag-tab-selected{&:where(:not(:first-of-type)){border-right-color:var(--ag-tab-selected-border-color)}&:where(:not(:last-of-type)){border-left-color:var(--ag-tab-selected-border-color)}}}',pre={tabBarBackgroundColor:"transparent",tabBarHorizontalPadding:0,tabBarTopPadding:0,tabBackgroundColor:"transparent",tabTextColor:{ref:"textColor"},tabHorizontalPadding:{ref:"spacing"},tabTopPadding:{ref:"spacing"},tabBottomPadding:{ref:"spacing"},tabSpacing:"0",tabHoverBackgroundColor:{ref:"tabBackgroundColor"},tabHoverTextColor:{ref:"tabTextColor"},tabSelectedBackgroundColor:{ref:"tabBackgroundColor"},tabSelectedTextColor:{ref:"tabTextColor"},tabSelectedBorderWidth:1,tabSelectedBorderColor:"transparent",tabSelectedUnderlineColor:"transparent",tabSelectedUnderlineWidth:0,tabSelectedUnderlineTransitionDuration:0,tabBarBorder:!1},fre=()=>gs({feature:"tabStyle",params:{...pre,tabBarBorder:!0,tabBarBackgroundColor:hr(.05),tabTextColor:{ref:"textColor",mix:.7},tabSelectedTextColor:{ref:"textColor"},tabHoverTextColor:{ref:"textColor"},tabSelectedBorderColor:{ref:"borderColor"},tabSelectedBackgroundColor:Zi},css:hre}),gre=fre(),mre=()=>Uie().withPart(Qie).withPart(nre).withPart(sre).withPart(gre).withPart(dre).withPart(fR).withParams({fontFamily:[{googleFont:"IBM Plex Sans"},"-apple-system","BlinkMacSystemFont","Segoe UI","Roboto","Oxygen-Sans","Ubuntu"]}),xR=mre(),vre={cssName:"--ag-cell-horizontal-padding",changeKey:"cellHorizontalPaddingChanged",defaultValue:16},Cre={cssName:"--ag-indentation-level",changeKey:"indentationLevelChanged",defaultValue:0,noWarn:!0,cacheDefault:!0},bre={cssName:"--ag-row-group-indent-size",changeKey:"rowGroupIndentSizeChanged",defaultValue:0},Q4={cssName:"--ag-row-height",changeKey:"rowHeightChanged",defaultValue:42},e3={cssName:"--ag-header-height",changeKey:"headerHeightChanged",defaultValue:48},t3={cssName:"--ag-list-item-height",changeKey:"listItemHeightChanged",defaultValue:24},kv={cssName:"--ag-row-border",changeKey:"rowBorderWidthChanged",defaultValue:1,border:!0},yre=0,wre=class extends K{constructor(){super(...arguments),this.beanName="environment",this.sizeEls=new Map,this.lastKnownValues=new Map,this.sizesMeasured=!1,this.paramsClass=`ag-theme-params-${++yre}`,this.globalCSS=[]}wireBeans(e){const{eGridDiv:t,gridOptions:n}=e;this.eGridDiv=t,this.eStyleContainer=n.themeStyleContainer??(t.getRootNode()===document?document.head:t),this.cssLayer=n.themeCssLayer,this.styleNonce=n.styleNonce}postConstruct(){this.addManagedPropertyListener("theme",()=>this.handleThemeGridOptionChange()),this.handleThemeGridOptionChange(),this.addManagedPropertyListener("rowHeight",()=>this.refreshRowHeightVariable()),this.getSizeEl(Q4),this.getSizeEl(e3),this.getSizeEl(t3),this.getSizeEl(kv),this.refreshRowBorderWidthVariable(),this.addDestroyFunc(()=>Sie(this)),this.mutationObserver=new MutationObserver(()=>{this.fireGridStylesChangedEvent("themeChanged")}),this.addDestroyFunc(()=>this.mutationObserver.disconnect())}getDefaultRowHeight(){return this.getCSSVariablePixelValue(Q4)}getDefaultHeaderHeight(){return this.getCSSVariablePixelValue(e3)}getDefaultCellHorizontalPadding(){return this.getCSSVariablePixelValue(vre)}getDefaultIndentation(){return this.getCSSVariablePixelValue(Cre)}getDefaultRowGroupIndentSize(){return this.getCSSVariablePixelValue(bre)}getCellPaddingLeft(){const e=this.getDefaultCellHorizontalPadding(),t=this.getDefaultIndentation(),n=this.getDefaultRowGroupIndentSize();return e-1+n*t}getCellPaddingRight(){return this.getDefaultCellHorizontalPadding()-1}getCellPadding(){return this.getCellPaddingLeft()+this.getCellPaddingRight()}getDefaultColumnMinWidth(){return Math.min(36,this.getDefaultRowHeight())}getDefaultListItemHeight(){return this.getCSSVariablePixelValue(t3)}getRowBorderWidth(){return this.getCSSVariablePixelValue(kv)}applyThemeClasses(e){const{gridTheme:t}=this;let n="";if(t)n=`${this.paramsClass} ${t._getCssClass()}`;else{this.mutationObserver.disconnect();let i=this.eGridDiv;for(;i;){let r=!1;for(const o of Array.from(i.classList))o.startsWith("ag-theme-")&&(r=!0,n=n?`${n} ${o}`:o);r&&this.mutationObserver.observe(i,{attributes:!0,attributeFilter:["class"]}),i=i.parentElement}}for(const i of Array.from(e.classList))i.startsWith("ag-theme-")&&e.classList.remove(i);if(n){const i=e.className;e.className=i+(i?" ":"")+n}}refreshRowHeightVariable(){const{eGridDiv:e}=this,t=e.style.getPropertyValue("--ag-line-height").trim(),n=this.gos.get("rowHeight");if(n==null||isNaN(n)||!isFinite(n))return t!==null&&e.style.setProperty("--ag-line-height",null),-1;const i=`${n}px`;return t!=i?(e.style.setProperty("--ag-line-height",i),n):t!=""?parseFloat(t):-1}addGlobalCSS(e,t){this.gridTheme?Pu(e,this.eStyleContainer,t,this.cssLayer,0,this.styleNonce):this.globalCSS.push([e,t])}getCSSVariablePixelValue(e){const t=this.lastKnownValues.get(e);if(t!=null)return t;const n=this.measureSizeEl(e);return n==="detached"||n==="no-styles"?(e.cacheDefault&&this.lastKnownValues.set(e,e.defaultValue),e.defaultValue):(this.lastKnownValues.set(e,n),n)}measureSizeEl(e){const t=this.getSizeEl(e);if(t.offsetParent==null)return"detached";const n=t.offsetWidth;return n===Fv?"no-styles":(this.sizesMeasured=!0,n)}getMeasurementContainer(){let e=this.eMeasurementContainer;return e||(e=this.eMeasurementContainer=gn({tag:"div",cls:"ag-measurement-container"}),this.eGridDiv.appendChild(e)),e}getSizeEl(e){let t=this.sizeEls.get(e);if(t)return t;const n=this.getMeasurementContainer();t=gn({tag:"div"});const{border:i,noWarn:r}=e;i?(t.className="ag-measurement-element-border",t.style.setProperty("--ag-internal-measurement-border",`var(${e.cssName}, solid ${Fv}px)`)):t.style.width=`var(${e.cssName}, ${Fv}px)`,n.appendChild(t),this.sizeEls.set(e,t);let o=this.measureSizeEl(e);o==="no-styles"&&!r&&ie(9,{variable:e});const s=va(this.beans,t,()=>{const a=this.measureSizeEl(e);a==="detached"||a==="no-styles"||(this.lastKnownValues.set(e,a),a!==o&&(o=a,this.fireGridStylesChangedEvent(e.changeKey)))});return this.addDestroyFunc(()=>s()),t}fireGridStylesChangedEvent(e){e==="rowBorderWidthChanged"&&this.refreshRowBorderWidthVariable(),this.eventSvc.dispatchEvent({type:"gridStylesChanged",[e]:!0})}refreshRowBorderWidthVariable(){const e=this.getCSSVariablePixelValue(kv);this.eGridDiv.style.setProperty("--ag-internal-row-border-width",`${e}px`)}handleThemeGridOptionChange(){const{gos:e,eGridDiv:t,globalCSS:n,gridTheme:i}=this,r=e.get("theme");let o;if(r==="legacy")o=void 0;else{const s=r??xR;s instanceof CR?o=s:dt(240,{theme:s})}if(o!==i){if(o){wie(this),dR(this.eStyleContainer,this.cssLayer,this.styleNonce);for(const[a,l]of n)Pu(a,this.eStyleContainer,l,this.cssLayer,0,this.styleNonce);n.length=0}this.gridTheme=o,o==null||o._startUse({loadThemeGoogleFonts:e.get("loadThemeGoogleFonts"),styleContainer:this.eStyleContainer,cssLayer:this.cssLayer,nonce:this.styleNonce});let s=this.eParamsStyle;if(!s){s=this.eParamsStyle=gn({tag:"style"});const a=this.gos.get("styleNonce");a&&s.setAttribute("nonce",a),t.appendChild(s)}hw||(s.textContent=(o==null?void 0:o._getPerGridCss(this.paramsClass))||""),this.applyThemeClasses(t),this.fireGridStylesChangedEvent("themeChanged")}o&&getComputedStyle(this.getMeasurementContainer()).getPropertyValue("--ag-legacy-styles-loaded")&&dt(r?106:239)}},Fv=15538,Sre=class extends K{constructor(){super(...arguments),this.beanName="eventSvc",this.globalEventService=new dl}postConstruct(){const{globalListener:e,globalSyncListener:t}=this.beans;e&&this.addGlobalListener(e,!0),t&&this.addGlobalListener(t,!1)}addEventListener(e,t,n){this.globalEventService.addEventListener(e,t,n)}removeEventListener(e,t,n){this.globalEventService.removeEventListener(e,t,n)}addGlobalListener(e,t=!1){this.globalEventService.addGlobalListener(e,t)}removeGlobalListener(e,t=!1){this.globalEventService.removeGlobalListener(e,t)}dispatchLocalEvent(){}dispatchEvent(e){this.globalEventService.dispatchEvent(Le(this.gos,e))}dispatchEventOnce(e){this.globalEventService.dispatchEventOnce(Le(this.gos,e))}};function ER(e){return e?e.getLeafColumns().some(t=>t.isSpanHeaderHeight()):!1}function dC(e,t){let n;if(en(e)&&ER(e)&&e.isPadding()){const i=e;n=i.getLeafColumns()[0];let r=n;for(;r!==i;)t++,r=r.getParent()}return{column:n||e,headerRowIndex:t}}var xre=class extends K{constructor(){super(...arguments),this.beanName="headerNavigation",this.currentHeaderRowWithoutSpan=-1}postConstruct(){const e=this.beans;e.ctrlsSvc.whenReady(this,n=>{this.gridBodyCon=n.gridBodyCtrl});const t=wn(e);this.addManagedElementListeners(t,{mousedown:()=>{this.currentHeaderRowWithoutSpan=-1}})}getHeaderPositionForColumn(e,t){let n;const{colModel:i,colGroupSvc:r,ctrlsSvc:o}=this.beans;if(typeof e=="string"?(n=i.getCol(e),n||(n=(r==null?void 0:r.getColumnGroup(e))??null)):n=e,!n)return null;const s=o.getHeaderRowContainerCtrl(),a=s==null?void 0:s.getAllCtrls(),l=wt(a||[]).type==="filter",u=uo(this.beans)-1;let c=-1,d=n;for(;d;)c++,d=d.getParent();let h=c;return t&&l&&h===u-1&&h++,h===-1?null:{headerRowIndex:h,column:n}}navigateVertically(e,t,n){const i=this.beans.focusSvc;if(t||(t=i.focusedHeader),!t)return!1;const{headerRowIndex:r}=t,o=t.column,s=uo(this.beans),a=e==="UP",l=this.getHeaderRowType(r);let{headerRowIndex:u,column:c,headerRowIndexWithoutSpan:d}=a?Ere(l,o,r):kre(l,o,r),h=!1;return u<0&&(u=0,c=o,h=!0),u>=s?(u=-1,this.currentHeaderRowWithoutSpan=-1):d!==void 0&&(this.currentHeaderRowWithoutSpan=d),!h&&!c?!1:i.focusHeaderPosition({headerPosition:{headerRowIndex:u,column:c},allowUserOverride:!0,event:n})}navigateHorizontally(e,t=!1,n){const{focusSvc:i,gos:r}=this.beans,o=i.focusedHeader;let s,a;this.currentHeaderRowWithoutSpan!==-1?o.headerRowIndex=this.currentHeaderRowWithoutSpan:this.currentHeaderRowWithoutSpan=o.headerRowIndex,e==="LEFT"!==r.get("enableRtl")?(a="Before",s=this.findHeader(o,a)):(a="After",s=this.findHeader(o,a));const l=r.getCallback("tabToNextHeader");if(t&&l){const u=i.focusHeaderPositionFromUserFunc({userFunc:l,headerPosition:s,direction:a});if(u){const{headerRowIndex:c}=i.focusedHeader||{};c!=null&&c!=o.headerRowIndex&&(this.currentHeaderRowWithoutSpan=c)}return u}return s||!t?i.focusHeaderPosition({headerPosition:s,direction:a,fromTab:t,allowUserOverride:!0,event:n}):this.focusNextHeaderRow(o,a,n)}focusNextHeaderRow(e,t,n){const i=e.headerRowIndex;let r=null,o;const s=this.beans;if(t==="Before"?i>0&&(o=i-1,this.currentHeaderRowWithoutSpan-=1,r=this.findColAtEdgeForHeaderRow(o,"end")):(o=i+1,this.currentHeaderRowWithoutSpan<uo(s)?this.currentHeaderRowWithoutSpan+=1:this.currentHeaderRowWithoutSpan=-1,r=this.findColAtEdgeForHeaderRow(o,"start")),!r)return!1;const{column:a,headerRowIndex:l}=dC(r.column,r==null?void 0:r.headerRowIndex);return s.focusSvc.focusHeaderPosition({headerPosition:{column:a,headerRowIndex:l},direction:t,fromTab:!0,allowUserOverride:!0,event:n})}scrollToColumn(e,t="After"){if(e.getPinned())return;let n;if(en(e)){const i=e.getDisplayedLeafColumns();n=t==="Before"?wt(i):i[0]}else n=e;this.gridBodyCon.scrollFeature.ensureColumnVisible(n)}findHeader(e,t){let n,i;const{colGroupSvc:r,visibleCols:o}=this.beans;if(en(e.column)?n=(r==null?void 0:r.getGroupAtDirection(e.column,t))??void 0:(i=`getCol${t}`,n=o[i](e.column)),!n)return;const{headerRowIndex:s}=e;if(this.getHeaderRowType(s)!=="filter"){const u=[n];for(;n.getParent();)n=n.getParent(),u.push(n);n=u[Math.max(0,u.length-1-s)]}const{column:a,headerRowIndex:l}=dC(n,s);return{column:a,headerRowIndex:l}}getHeaderRowType(e){const t=this.beans.ctrlsSvc.getHeaderRowContainerCtrl();if(t)return t.getRowType(e)}findColAtEdgeForHeaderRow(e,t){const{visibleCols:n,ctrlsSvc:i,colGroupSvc:r}=this.beans,o=n.allCols,s=o[t==="start"?0:o.length-1];if(!s)return;const a=i.getHeaderRowContainerCtrl(s.getPinned()),l=a==null?void 0:a.getRowType(e);if(l=="group"){const u=r==null?void 0:r.getColGroupAtLevel(s,e);return{headerRowIndex:e,column:u}}return{headerRowIndex:l==null?-1:e,column:s}}};function Ere(e,t,n){const i=e==="filter",r=e==="column";let o=i?t:t.getParent(),s=n-1,a=s;if(r&&ER(t.getParent())){for(;o&&o.isPadding();)o=o.getParent(),s--;a=s,s<0&&(o=t,s=n,a=void 0)}return{column:o,headerRowIndex:s,headerRowIndexWithoutSpan:a}}function kre(e,t,n,i="After"){let r=t,o=n+1;const s=o;if(e==="group"){const a=t.getDisplayedLeafColumns(),l=i==="After"?a[0]:wt(a),u=[];let c=l;for(;c.getParent()!==t;)c=c.getParent(),u.push(c);if(r=l,l.isSpanHeaderHeight())for(let d=u.length-1;d>=0;d--){const h=u[d];if(!h.isPadding()){r=h;break}o++}else r=wt(u),r||(r=l)}return{column:r,headerRowIndex:o,headerRowIndexWithoutSpan:s}}var Fre=class extends K{constructor(){super(...arguments),this.beanName="focusSvc",this.focusFallbackTimeout=null,this.needsFocusRestored=!1}wireBeans(e){this.colModel=e.colModel,this.visibleCols=e.visibleCols,this.rowRenderer=e.rowRenderer,this.navigation=e.navigation,this.filterManager=e.filterManager,this.overlays=e.overlays}postConstruct(){const e=this.clearFocusedCell.bind(this);this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:this.onColumnEverythingChanged.bind(this),columnGroupOpened:e,columnRowGroupChanged:e}),this.addDestroyFunc(VZ(this.beans))}attemptToRecoverFocus(){this.needsFocusRestored=!0,this.focusFallbackTimeout!=null&&clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=window.setTimeout(this.setFocusRecovered.bind(this),100)}setFocusRecovered(){this.needsFocusRestored=!1,this.focusFallbackTimeout!=null&&(clearTimeout(this.focusFallbackTimeout),this.focusFallbackTimeout=null)}shouldTakeFocus(){return this.gos.get("suppressFocusAfterRefresh")?(this.setFocusRecovered(),!1):this.needsFocusRestored?(this.setFocusRecovered(),!0):this.doesRowOrCellHaveBrowserFocus()}onColumnEverythingChanged(){if(!this.focusedCell)return;const e=this.focusedCell.column,t=this.colModel.getCol(e.getId());e!==t&&this.clearFocusedCell()}getFocusCellToUseAfterRefresh(){const{gos:e,focusedCell:t}=this;return e.get("suppressFocusAfterRefresh")||e.get("suppressCellFocus")||!t||!this.doesRowOrCellHaveBrowserFocus()?null:t}getFocusHeaderToUseAfterRefresh(){return this.gos.get("suppressFocusAfterRefresh")||!this.focusedHeader||!this.isDomDataPresentInHierarchy(Gt(this.beans),J5)?null:this.focusedHeader}doesRowOrCellHaveBrowserFocus(){const e=Gt(this.beans);return this.isDomDataPresentInHierarchy(e,c0)?!0:this.isDomDataPresentInHierarchy(e,f0)}isDomDataPresentInHierarchy(e,t){let n=e;for(;n;){if(XA(this.gos,n,t))return!0;n=n.parentNode}return!1}getFocusedCell(){return this.focusedCell}getFocusEventParams(e){const{rowIndex:t,rowPinned:n,column:i}=e,r={rowIndex:t,rowPinned:n,column:i,isFullWidthCell:!1},o=this.rowRenderer.getRowByPosition({rowIndex:t,rowPinned:n});return o&&(r.isFullWidthCell=o.isFullWidth()),r}clearFocusedCell(){if(this.focusedCell==null)return;const e=this.getFocusEventParams(this.focusedCell);this.focusedCell=null,this.eventSvc.dispatchEvent({type:"cellFocusCleared",...e})}setFocusedCell(e){this.setFocusRecovered();const{column:t,rowIndex:n,rowPinned:i,forceBrowserFocus:r=!1,preventScrollOnBrowserFocus:o=!1}=e,s=this.colModel.getCol(t);if(!s){this.focusedCell=null;return}this.focusedCell={rowIndex:n,rowPinned:ns(i),column:s},this.eventSvc.dispatchEvent({type:"cellFocused",...this.getFocusEventParams(this.focusedCell),forceBrowserFocus:r,preventScrollOnBrowserFocus:o})}isCellFocused(e){return this.focusedCell==null?!1:I5(e,this.focusedCell)}isHeaderWrapperFocused(e){if(this.focusedHeader==null)return!1;const{column:t,rowCtrl:{rowIndex:n,pinned:i}}=e,{column:r,headerRowIndex:o}=this.focusedHeader;return t===r&&n===o&&i==r.getPinned()}focusHeaderPosition(e){var l;if(this.setFocusRecovered(),Xa(this.beans))return!1;const{direction:t,fromTab:n,allowUserOverride:i,event:r,fromCell:o,rowWithoutSpanValue:s}=e;let{headerPosition:a}=e;if(o&&((l=this.filterManager)!=null&&l.isAdvFilterHeaderActive()))return this.focusAdvancedFilter(a);if(i){const u=this.focusedHeader,c=uo(this.beans);if(n){const d=this.gos.getCallback("tabToNextHeader");d&&(a=this.getHeaderPositionFromUserFunc({userFunc:d,direction:t,currentPosition:u,headerPosition:a,headerRowCount:c}))}else{const d=this.gos.getCallback("navigateToNextHeader");if(d&&r){const h={key:r.key,previousHeaderPosition:u,nextHeaderPosition:a,headerRowCount:c,event:r};a=d(h)}}}return a?this.focusProvidedHeaderPosition({headerPosition:a,direction:t,event:r,fromCell:o,rowWithoutSpanValue:s}):!1}focusHeaderPositionFromUserFunc(e){if(Xa(this.beans))return!1;const{userFunc:t,headerPosition:n,direction:i,event:r}=e,o=this.focusedHeader,s=uo(this.beans),a=this.getHeaderPositionFromUserFunc({userFunc:t,direction:i,currentPosition:o,headerPosition:n,headerRowCount:s});return!!a&&this.focusProvidedHeaderPosition({headerPosition:a,direction:i,event:r})}getHeaderPositionFromUserFunc(e){const{userFunc:t,direction:n,currentPosition:i,headerPosition:r,headerRowCount:o}=e,a=t({backwards:n==="Before",previousHeaderPosition:i,nextHeaderPosition:r,headerRowCount:o});return a===!0?i:a===!1?null:a}focusProvidedHeaderPosition(e){const{headerPosition:t,direction:n,fromCell:i,rowWithoutSpanValue:r,event:o}=e,{column:s,headerRowIndex:a}=t,{filterManager:l,ctrlsSvc:u,headerNavigation:c}=this.beans;if(a===-1)return l!=null&&l.isAdvFilterHeaderActive()?this.focusAdvancedFilter(t):this.focusGridView({column:s,event:o});c==null||c.scrollToColumn(s,n);const d=u.getHeaderRowContainerCtrl(s.getPinned()),h=(d==null?void 0:d.focusHeader(t.headerRowIndex,s,o))||!1;return c&&h&&(r!=null||i)&&(c.currentHeaderRowWithoutSpan=r??-1),h}focusFirstHeader(){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay())return!0;let e=this.visibleCols.allCols[0];if(!e)return!1;const{colGroupSvc:t}=this.beans;t&&e.getParent()&&(e=t.getColGroupAtLevel(e,0));const n=dC(e,0);return this.focusHeaderPosition({headerPosition:n,rowWithoutSpanValue:0})}focusLastHeader(e){var i;if((i=this.overlays)!=null&&i.isExclusive()&&this.focusOverlay(!0))return!0;const t=uo(this.beans)-1,n=wt(this.visibleCols.allCols);return this.focusHeaderPosition({headerPosition:{headerRowIndex:t,column:n},rowWithoutSpanValue:-1,event:e})}focusPreviousFromFirstCell(e){var t;return(t=this.filterManager)!=null&&t.isAdvFilterHeaderActive()?this.focusAdvancedFilter(null):this.focusLastHeader(e)}isAnyCellFocused(){return!!this.focusedCell}isRowFocused(e,t){return this.focusedCell==null?!1:this.focusedCell.rowIndex===e&&this.focusedCell.rowPinned===ns(t)}focusOverlay(e){var n,i;const t=((n=this.overlays)==null?void 0:n.isVisible())&&((i=this.overlays.eWrapper)==null?void 0:i.getGui());return!!t&&pl(t,e)}focusGridView(e){var o,s,a,l,u,c;const{backwards:t=!1,canFocusOverlay:n=!0,event:i}=e;if((o=this.overlays)!=null&&o.isExclusive())return n&&this.focusOverlay(t);if(Eg(this.beans))return t&&!Xa(this.beans)?this.focusLastHeader():n&&this.focusOverlay(t)?!0:t?!1:Du(this.beans,t);const r=t?cQ(this.beans):uQ(this.beans);if(r){const d=e.column??((s=this.focusedHeader)==null?void 0:s.column),{rowIndex:h,rowPinned:p}=r,f=d0(this.beans,r);if(!d||!f||h==null)return!1;if(d.isSuppressNavigable(f)){const g=this.gos.get("enableRtl");let m;return!i||i.key===j.TAB?m=g?j.LEFT:j.RIGHT:m=i.key,(a=this.beans.navigation)==null||a.navigateToNextCell(null,m,{rowIndex:h,column:d,rowPinned:p||null},!0),!0}if((l=this.navigation)==null||l.ensureCellVisible({rowIndex:h,column:d,rowPinned:p}),t){const g=this.rowRenderer.getRowByPosition(r);if(g!=null&&g.isFullWidth()&&((u=this.navigation)!=null&&u.tryToFocusFullWidthRow(r,t)))return!0}return this.setFocusedCell({rowIndex:h,column:d,rowPinned:ns(p),forceBrowserFocus:!0}),(c=this.beans.rangeSvc)==null||c.setRangeToCell({rowIndex:h,rowPinned:p,column:d}),!0}return!!(n&&this.focusOverlay(t)||t&&this.focusLastHeader())}focusAdvancedFilter(e){var t;return this.advFilterFocusColumn=e==null?void 0:e.column,((t=this.beans.advancedFilter)==null?void 0:t.getCtrl().focusHeaderComp())??!1}focusNextFromAdvancedFilter(e,t){var i;const n=(t?void 0:this.advFilterFocusColumn)??((i=this.visibleCols.allCols)==null?void 0:i[0]);return e?this.focusHeaderPosition({headerPosition:{column:n,headerRowIndex:uo(this.beans)-1}}):this.focusGridView({column:n})}clearAdvancedFilterColumn(){this.advFilterFocusColumn=void 0}},Tre=class extends K{constructor(){super(...arguments),this.beanName="scrollVisibleSvc"}wireBeans(e){this.ctrlsSvc=e.ctrlsSvc,this.colAnimation=e.colAnimation}postConstruct(){this.getScrollbarWidth(),this.addManagedEventListeners({displayedColumnsChanged:this.updateScrollVisible.bind(this),displayedColumnsWidthChanged:this.updateScrollVisible.bind(this)})}updateScrollVisible(){const{colAnimation:e}=this;e!=null&&e.isActive()?e.executeLaterVMTurn(()=>{e.executeLaterVMTurn(()=>this.updateScrollVisibleImpl())}):this.updateScrollVisibleImpl()}updateScrollVisibleImpl(){var n;const e=this.ctrlsSvc.get("center");if(!e||(n=this.colAnimation)!=null&&n.isActive())return;const t={horizontalScrollShowing:e.isHorizontalScrollShowing(),verticalScrollShowing:this.verticalScrollShowing};this.setScrollsVisible(t),this.updateScrollGap()}updateScrollGap(){const e=this.ctrlsSvc.get("center"),t=e.hasHorizontalScrollGap(),n=e.hasVerticalScrollGap();(this.horizontalScrollGap!==t||this.verticalScrollGap!==n)&&(this.horizontalScrollGap=t,this.verticalScrollGap=n,this.eventSvc.dispatchEvent({type:"scrollGapChanged"}))}setScrollsVisible(e){(this.horizontalScrollShowing!==e.horizontalScrollShowing||this.verticalScrollShowing!==e.verticalScrollShowing)&&(this.horizontalScrollShowing=e.horizontalScrollShowing,this.verticalScrollShowing=e.verticalScrollShowing,this.eventSvc.dispatchEvent({type:"scrollVisibilityChanged"}))}getScrollbarWidth(){if(this.scrollbarWidth==null){const e=this.gos.get("scrollbarWidth"),n=typeof e=="number"&&e>=0?e:RX();n!=null&&(this.scrollbarWidth=n,this.eventSvc.dispatchEvent({type:"scrollbarWidthChanged"}))}return this.scrollbarWidth}},Are=class extends K{constructor(){super(...arguments),this.beanName="gridDestroySvc",this.destroyCalled=!1}destroy(){var i;if(this.destroyCalled)return;const{stateSvc:e,ctrlsSvc:t,context:n}=this.beans;this.eventSvc.dispatchEvent({type:"gridPreDestroyed",state:(e==null?void 0:e.getState())??{}}),this.destroyCalled=!0,(i=t.get("gridCtrl"))==null||i.destroyGridUi(),n.destroy(),super.destroy()}},qc=new Set(["gridPreDestroyed","fillStart","pasteStart"]),Rre={suppressContextMenu:!1,preventDefaultOnContextMenu:!1,allowContextMenuWithControlKey:!1,suppressMenuHide:!0,enableBrowserTooltips:!1,tooltipTrigger:"hover",tooltipShowDelay:2e3,tooltipHideDelay:1e4,tooltipMouseTrack:!1,tooltipShowMode:"standard",tooltipInteraction:!1,copyHeadersToClipboard:!1,copyGroupHeadersToClipboard:!1,clipboardDelimiter:"	",suppressCopyRowsToClipboard:!1,suppressCopySingleCellRanges:!1,suppressLastEmptyLineOnPaste:!1,suppressClipboardPaste:!1,suppressClipboardApi:!1,suppressCutToClipboard:!1,maintainColumnOrder:!1,enableStrictPivotColumnOrder:!1,suppressFieldDotNotation:!1,allowDragFromColumnsToolPanel:!1,suppressMovableColumns:!1,suppressColumnMoveAnimation:!1,suppressMoveWhenColumnDragging:!1,suppressDragLeaveHidesColumns:!1,suppressRowGroupHidesColumns:!1,suppressAutoSize:!1,autoSizePadding:20,skipHeaderOnAutoSize:!1,singleClickEdit:!1,suppressClickEdit:!1,readOnlyEdit:!1,stopEditingWhenCellsLoseFocus:!1,enterNavigatesVertically:!1,enterNavigatesVerticallyAfterEdit:!1,enableCellEditingOnBackspace:!1,undoRedoCellEditing:!1,undoRedoCellEditingLimit:10,suppressCsvExport:!1,suppressExcelExport:!1,cacheQuickFilter:!1,includeHiddenColumnsInQuickFilter:!1,excludeChildrenWhenTreeDataFiltering:!1,enableAdvancedFilter:!1,includeHiddenColumnsInAdvancedFilter:!1,enableCharts:!1,masterDetail:!1,keepDetailRows:!1,keepDetailRowsCount:10,detailRowAutoHeight:!1,tabIndex:0,rowBuffer:10,valueCache:!1,valueCacheNeverExpires:!1,enableCellExpressions:!1,suppressTouch:!1,suppressFocusAfterRefresh:!1,suppressBrowserResizeObserver:!1,suppressPropertyNamesCheck:!1,suppressChangeDetection:!1,debug:!1,suppressLoadingOverlay:!1,suppressNoRowsOverlay:!1,pagination:!1,paginationPageSize:100,paginationPageSizeSelector:!0,paginationAutoPageSize:!1,paginateChildRows:!1,suppressPaginationPanel:!1,pivotMode:!1,pivotPanelShow:"never",pivotDefaultExpanded:0,pivotSuppressAutoColumn:!1,suppressExpandablePivotGroups:!1,functionsReadOnly:!1,suppressAggFuncInHeader:!1,alwaysAggregateAtRootLevel:!1,aggregateOnlyChangedColumns:!1,suppressAggFilteredOnly:!1,removePivotHeaderRowWhenSingleValueColumn:!1,animateRows:!0,cellFlashDuration:500,cellFadeDuration:1e3,allowShowChangeAfterFilter:!1,domLayout:"normal",ensureDomOrder:!1,enableRtl:!1,suppressColumnVirtualisation:!1,suppressMaxRenderedRowRestriction:!1,suppressRowVirtualisation:!1,rowDragManaged:!1,suppressRowDrag:!1,suppressMoveWhenRowDragging:!1,rowDragEntireRow:!1,rowDragMultiRow:!1,embedFullWidthRows:!1,groupDisplayType:"singleColumn",groupDefaultExpanded:0,groupMaintainOrder:!1,groupSelectsChildren:!1,groupSuppressBlankHeader:!1,groupSelectsFiltered:!1,showOpenedGroup:!1,groupRemoveSingleChildren:!1,groupRemoveLowestSingleChildren:!1,groupHideOpenParents:!1,groupAllowUnbalanced:!1,rowGroupPanelShow:"never",suppressMakeColumnVisibleAfterUnGroup:!1,treeData:!1,rowGroupPanelSuppressSort:!1,suppressGroupRowsSticky:!1,rowModelType:"clientSide",asyncTransactionWaitMillis:50,suppressModelUpdateAfterUpdateTransaction:!1,cacheOverflowSize:1,infiniteInitialRowCount:1,serverSideInitialRowCount:1,cacheBlockSize:100,maxBlocksInCache:-1,maxConcurrentDatasourceRequests:2,blockLoadDebounceMillis:0,purgeClosedRowNodes:!1,serverSideSortAllLevels:!1,serverSideOnlyRefreshFilteredGroups:!1,serverSidePivotResultFieldSeparator:"_",viewportRowModelPageSize:5,viewportRowModelBufferSize:5,alwaysShowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,debounceVerticalScrollbar:!1,suppressHorizontalScroll:!1,suppressScrollOnNewData:!1,suppressScrollWhenPopupsAreOpen:!1,suppressAnimationFrame:!1,suppressMiddleClickScrolls:!1,suppressPreventDefaultOnMouseWheel:!1,rowMultiSelectWithClick:!1,suppressRowDeselection:!1,suppressRowClickSelection:!1,suppressCellFocus:!1,suppressHeaderFocus:!1,suppressMultiRangeSelection:!1,enableCellTextSelection:!1,enableRangeSelection:!1,enableRangeHandle:!1,enableFillHandle:!1,fillHandleDirection:"xy",suppressClearOnFillReduction:!1,accentedSort:!1,unSortIcon:!1,suppressMultiSort:!1,alwaysMultiSort:!1,suppressMaintainUnsortedOrder:!1,suppressRowHoverHighlight:!1,suppressRowTransform:!1,columnHoverHighlight:!1,deltaSort:!1,enableGroupEdit:!1,groupLockGroupColumns:0,serverSideEnableClientSideSort:!1,suppressServerSideFullWidthLoadingRow:!1,pivotMaxGeneratedColumns:-1,columnMenu:"new",reactiveCustomComponents:!0,suppressSetFilterByDefault:!1,rowNumbers:!1},Dre=0,Mre=0,Pre=class extends K{constructor(){super(...arguments),this.beanName="gos",this.domDataKey="__AG_"+Math.random().toString(),this.gridInstanceId=Mre++,this.propEventSvc=new dl,this.globalEventHandlerFactory=e=>(t,n)=>{if(!this.isAlive())return;const i=qc.has(t);if(i&&!e||!i&&e)return;const r=Ky(t),o=this.gridOptions[r];typeof o=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{o(n)})}}wireBeans(e){this.gridOptions=e.gridOptions,this.validation=e.validation,this.api=e.gridApi,this.gridId=e.context.getGridId()}get gridOptionsContext(){return this.gridOptions.context}postConstruct(){this.eventSvc.addGlobalListener(this.globalEventHandlerFactory().bind(this),!0),this.eventSvc.addGlobalListener(this.globalEventHandlerFactory(!0).bind(this),!1),this.propEventSvc.setFrameworkOverrides(this.beans.frameworkOverrides),this.addManagedEventListeners({gridOptionsChanged:({options:e})=>{this.updateGridOptions({options:e,force:!0,source:"gridOptionsUpdated"})}})}get(e){return this.gridOptions[e]??Rre[e]}getCallback(e){return this.mergeGridCommonParams(this.gridOptions[e])}exists(e){return ue(this.gridOptions[e])}mergeGridCommonParams(e){return e&&(n=>e(this.addGridCommonParams(n)))}updateGridOptions({options:e,force:t,source:n="api"}){const i={id:Dre++,properties:[]},r=[],{gridOptions:o,validation:s}=this;for(const a of Object.keys(e)){const l=e[a];s==null||s.warnOnInitialPropertyUpdate(n,a);const u=t||typeof l=="object"&&n==="api",c=o[a];if(u||c!==l){o[a]=l;const d={type:a,currentValue:l,previousValue:c,changeSet:i,source:n};r.push(d)}}s==null||s.processGridOptions(this.gridOptions),i.properties=r.map(a=>a.type),r.forEach(a=>{ca(this,`Updated property ${a.type} from`,a.previousValue," to ",a.currentValue),this.propEventSvc.dispatchEvent(a)})}addPropertyEventListener(e,t){this.propEventSvc.addEventListener(e,t)}removePropertyEventListener(e,t){this.propEventSvc.removeEventListener(e,t)}getDomDataKey(){return this.domDataKey}addGridCommonParams(e){return e.api=this.api,e.context=this.gridOptionsContext,e}assertModuleRegistered(e,t){const n=Array.isArray(e)?e.some(i=>this.isModuleRegistered(i)):this.isModuleRegistered(e);return n||dt(200,{...this.getModuleErrorParams(),moduleName:e,reasonOrId:t}),n}getModuleErrorParams(){return{gridId:this.gridId,gridScoped:Zy(),rowModelType:this.get("rowModelType"),isUmd:MZ()}}isModuleRegistered(e){return E5(e,this.gridId,this.get("rowModelType"))}};function kR(e){const t={"aria-hidden":"true"};return{tag:"div",cls:"ag-cell-label-container",role:"presentation",children:[{tag:"span",ref:"eMenu",cls:"ag-header-icon ag-header-cell-menu-button",attrs:t},{tag:"span",ref:"eFilterButton",cls:"ag-header-icon ag-header-cell-filter-button",attrs:t},{tag:"div",ref:"eLabel",cls:"ag-header-cell-label",role:"presentation",children:[{tag:"span",ref:"eText",cls:"ag-header-cell-text"},{tag:"span",ref:"eFilter",cls:"ag-header-icon ag-header-label-icon ag-filter-icon",attrs:t},e?{tag:"ag-sort-indicator",ref:"eSortIndicator"}:null]}]}}var Ire=kR(!0),Ore=kR(!1),Lre=class extends pt{constructor(){super(...arguments),this.eFilter=le,this.eFilterButton=le,this.eSortIndicator=le,this.eMenu=le,this.eLabel=le,this.eText=le,this.eSortOrder=le,this.eSortAsc=le,this.eSortDesc=le,this.eSortMixed=le,this.eSortNone=le,this.isLoadingInnerComponent=!1}refresh(e){var n,i,r;const t=this.params;if(this.params=e,this.workOutTemplate(e,!!((n=this.beans)!=null&&n.sortSvc))!=this.currentTemplate||this.workOutShowMenu()!=this.currentShowMenu||e.enableSorting!=this.currentSort||this.currentSuppressMenuHide!=null&&this.shouldSuppressMenuHide()!=this.currentSuppressMenuHide||t.enableFilterButton!=e.enableFilterButton||t.enableFilterIcon!=e.enableFilterIcon)return!1;if(this.innerHeaderComponent){const o={...e};Si(o,e.innerHeaderComponentParams),(r=(i=this.innerHeaderComponent).refresh)==null||r.call(i,o)}else this.setDisplayName(e);return!0}workOutTemplate(e,t){const n=e.template;return n?n!=null&&n.trim?n.trim():n:t?Ire:Ore}init(e){this.params=e;const{sortSvc:t,touchSvc:n,rowNumbersSvc:i,userCompFactory:r}=this.beans,o=t==null?void 0:t.getSortIndicatorSelector();this.currentTemplate=this.workOutTemplate(e,!!o),this.setTemplate(this.currentTemplate,o?[o]:void 0),n==null||n.setupForHeader(this),this.setMenu(),this.setupSort(),i==null||i.setupForHeader(this),this.setupFilterIcon(),this.setupFilterButton(),this.workOutInnerHeaderComponent(r,e),this.setDisplayName(e)}workOutInnerHeaderComponent(e,t){const n=uZ(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderComponent=i,this.eText.appendChild(i.getGui())):this.destroyBean(i))}))}setDisplayName(e){const{displayName:t}=e,n=this.currentDisplayName;if(this.currentDisplayName=t,n===t||this.innerHeaderComponent||this.isLoadingInnerComponent)return;const i=rs(t,!0);this.eText.textContent=i}addInIcon(e,t,n){if(t==null)return;const i=br(e,this.beans,n);i&&t.appendChild(i)}workOutShowMenu(){var e;return this.params.enableMenu&&!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonEnabled())}shouldSuppressMenuHide(){var e;return!!((e=this.beans.menuSvc)!=null&&e.isHeaderMenuButtonAlwaysShowEnabled())}setMenu(){if(!this.eMenu)return;if(this.currentShowMenu=this.workOutShowMenu(),!this.currentShowMenu){Cr(this.eMenu),this.eMenu=void 0;return}const{gos:e,eMenu:t,params:n}=this,i=Ji(e);this.addInIcon(i?"menu":"menuAlt",t,n.column),t.classList.toggle("ag-header-menu-icon",!i);const r=this.shouldSuppressMenuHide();this.currentSuppressMenuHide=r,this.addManagedElementListeners(t,{click:()=>this.showColumnMenu(this.eMenu)}),this.toggleMenuAlwaysShow(r)}toggleMenuAlwaysShow(e){var t;(t=this.eMenu)==null||t.classList.toggle("ag-header-menu-always-show",e)}showColumnMenu(e){const{currentSuppressMenuHide:t,params:n}=this;t||this.toggleMenuAlwaysShow(!0),n.showColumnMenu(e,()=>{t||this.toggleMenuAlwaysShow(!1)})}onMenuKeyboardShortcut(e){var l;const{params:t,gos:n,beans:i,eMenu:r,eFilterButton:o}=this,s=t.column,a=Ji(n);if(e&&!a){if((l=i.menuSvc)!=null&&l.isFilterMenuInHeaderEnabled(s))return t.showFilter(o??r??this.getGui()),!0}else if(t.enableMenu)return this.showColumnMenu(r??o??this.getGui()),!0;return!1}setupSort(){const{sortSvc:e}=this.beans;if(!e)return;const{enableSorting:t,column:n}=this.params;if(this.currentSort=t,!this.eSortIndicator){this.eSortIndicator=this.createBean(e.createSortIndicator(!0));const{eSortIndicator:i,eSortOrder:r,eSortAsc:o,eSortDesc:s,eSortMixed:a,eSortNone:l}=this;i.attachCustomElements(r,o,s,a,l)}this.eSortIndicator.setupSort(n),this.currentSort&&e.setupHeader(this,n,this.eLabel)}setupFilterIcon(){const{eFilter:e,params:t}=this;e&&this.configureFilter(t.enableFilterIcon,e,this.onFilterChangedIcon.bind(this),"filterActive")}setupFilterButton(){const{eFilterButton:e,params:t}=this;if(!e)return;this.configureFilter(t.enableFilterButton,e,this.onFilterChangedButton.bind(this),"filter")?this.addManagedElementListeners(e,{click:()=>t.showFilter(e)}):this.eFilterButton=void 0}configureFilter(e,t,n,i){if(!e)return Cr(t),!1;const r=this.params.column;return this.addInIcon(i,t,r),this.addManagedListeners(r,{filterChanged:n}),n(),!0}onFilterChangedIcon(){const e=this.params.column.isFilterActive();Ht(this.eFilter,e,{skipAriaHidden:!0})}onFilterChangedButton(){const e=this.params.column.isFilterActive();this.eFilterButton.classList.toggle("ag-filter-active",e)}getAnchorElementForMenu(e){const{eFilterButton:t,eMenu:n}=this;return e?t??n??this.getGui():n??t??this.getGui()}destroy(){super.destroy(),this.innerHeaderComponent&&(this.destroyBean(this.innerHeaderComponent),this.innerHeaderComponent=void 0)}},Nre={tag:"div",cls:"ag-header-group-cell-label",role:"presentation",children:[{tag:"span",ref:"agLabel",cls:"ag-header-group-text",role:"presentation"},{tag:"span",ref:"agOpened",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-expanded"},{tag:"span",ref:"agClosed",cls:"ag-header-icon ag-header-expand-icon ag-header-expand-icon-collapsed"}]},Bre=class extends pt{constructor(){super(Nre),this.agOpened=le,this.agClosed=le,this.agLabel=le,this.isLoadingInnerComponent=!1}init(e){const{userCompFactory:t}=this.beans;this.params=e,this.checkWarnings(),this.workOutInnerHeaderGroupComponent(t,e),this.setupLabel(e),this.addGroupExpandIcon(e),this.setupExpandIcons()}checkWarnings(){this.params.template&&ie(89)}workOutInnerHeaderGroupComponent(e,t){const n=dZ(e,t,t);n&&(this.isLoadingInnerComponent=!0,n.newAgStackInstance().then(i=>{this.isLoadingInnerComponent=!1,i&&(this.isAlive()?(this.innerHeaderGroupComponent=i,this.agLabel.appendChild(i.getGui())):this.destroyBean(i))}))}setupExpandIcons(){const{agOpened:e,agClosed:t,params:{columnGroup:n},beans:i}=this;this.addInIcon("columnGroupOpened",e),this.addInIcon("columnGroupClosed",t);const r=l=>{if(is(l))return;const u=!n.isExpanded();i.colGroupSvc.setColumnGroupOpened(n.getProvidedColumnGroup(),u,"uiColumnExpanded")};this.addTouchAndClickListeners(i,t,r),this.addTouchAndClickListeners(i,e,r);const o=l=>{Tu(l)};this.addManagedElementListeners(t,{dblclick:o}),this.addManagedElementListeners(e,{dblclick:o}),this.addManagedElementListeners(this.getGui(),{dblclick:r}),this.updateIconVisibility();const s=n.getProvidedColumnGroup(),a=this.updateIconVisibility.bind(this);this.addManagedListeners(s,{expandedChanged:a,expandableChanged:a})}addTouchAndClickListeners(e,t,n){var i;(i=e.touchSvc)==null||i.setupForHeaderGroup(this,t,n),this.addManagedElementListeners(t,{click:n})}updateIconVisibility(){const{agOpened:e,agClosed:t,params:{columnGroup:n}}=this;if(n.isExpandable()){const i=n.isExpanded();Ht(e,i),Ht(t,!i)}else Ht(e,!1),Ht(t,!1)}addInIcon(e,t){const n=br(e,this.beans,null);n&&t.appendChild(n)}addGroupExpandIcon(e){if(!e.columnGroup.isExpandable()){const{agOpened:t,agClosed:n}=this;Ht(t,!1),Ht(n,!1);return}}setupLabel(e){var r;const{displayName:t,columnGroup:n}=e,i=this.innerHeaderGroupComponent||this.isLoadingInnerComponent;if(ue(t)&&!i){const o=rs(t,!0);this.agLabel.textContent=o}this.addOrRemoveCssClass("ag-sticky-label",!((r=n.getColGroupDef())!=null&&r.suppressStickyLabel))}destroy(){super.destroy(),this.innerHeaderGroupComponent&&(this.destroyBean(this.innerHeaderGroupComponent),this.innerHeaderGroupComponent=void 0)}},zre={moduleName:"ColumnHeaderComp",version:pe,userComponents:{agColumnHeader:Lre},icons:{menu:"menu",menuAlt:"menu-alt"}},Hre={moduleName:"ColumnGroupHeaderComp",version:pe,userComponents:{agColumnGroupHeader:Bre},icons:{columnGroupOpened:"expanded",columnGroupClosed:"contracted"}},Vre=class extends K{constructor(){super(...arguments),this.beanName="animationFrameSvc",this.p1={list:[],sorted:!1},this.p2={list:[],sorted:!1},this.f1={list:[],sorted:!1},this.destroyTasks=[],this.ticking=!1,this.scrollGoingDown=!0,this.lastScrollTop=0,this.taskCount=0}setScrollTop(e){this.scrollGoingDown=e>=this.lastScrollTop,e===0&&(this.scrollGoingDown=!0),this.lastScrollTop=e}postConstruct(){this.active=!this.gos.get("suppressAnimationFrame"),this.batchFrameworkComps=this.beans.frameworkOverrides.batchFrameworkComps}verify(){this.active===!1&&ie(92)}createTask(e,t,n,i){this.verify();let r=n;i&&this.batchFrameworkComps&&(r="f1");const o={task:e,index:t,createOrder:++this.taskCount};this.addTaskToList(this[r],o),this.schedule()}addTaskToList(e,t){e.list.push(t),e.sorted=!1}sortTaskList(e){if(e.sorted)return;const t=this.scrollGoingDown?1:-1;e.list.sort((n,i)=>n.index!==i.index?t*(i.index-n.index):i.createOrder-n.createOrder),e.sorted=!0}addDestroyTask(e){this.verify(),this.destroyTasks.push(e),this.schedule()}executeFrame(e){const{p1:t,p2:n,f1:i,destroyTasks:r,beans:o}=this,{ctrlsSvc:s,frameworkOverrides:a}=o,l=t.list,u=n.list,c=i.list,d=Date.now();let h=0;const p=e<=0,f=s.getScrollFeature();for(;p||h<e;){if(!f.scrollGridIfNeeded()){let m;if(l.length)this.sortTaskList(t),m=l.pop().task;else if(u.length)this.sortTaskList(n),m=u.pop().task;else if(c.length)a.wrapOutgoing(()=>{for(;(p||h<e)&&!f.scrollGridIfNeeded();){if(c.length)this.sortTaskList(i),m=c.pop().task,m();else break;h=Date.now()-d}}),m=()=>{};else if(r.length)m=r.pop();else break;m()}h=Date.now()-d}l.length||u.length||c.length||r.length?this.requestFrame():this.ticking=!1}flushAllFrames(){this.active&&this.executeFrame(-1)}schedule(){this.active&&(this.ticking||(this.ticking=!0,this.requestFrame()))}requestFrame(){const e=this.executeFrame.bind(this,60);ys(this.beans,e)}isQueueEmpty(){return!this.ticking}},_re={moduleName:"AnimationFrame",version:pe,beans:[Vre]},Gre=class extends K{constructor(){super(...arguments),this.beanName="touchSvc"}mockBodyContextMenu(e,t){this.mockContextMenu(e,e.eBodyViewport,t)}mockHeaderContextMenu(e,t){this.mockContextMenu(e,e.eGui,t)}mockRowContextMenu(e){if(!Ua())return;const t=(n,i,r)=>{var a;const{rowCtrl:o,cellCtrl:s}=e.getControlsForEventTarget((r==null?void 0:r.target)??null);s!=null&&s.column&&s.dispatchCellContextMenuEvent(r??null),(a=this.beans.contextMenuSvc)==null||a.handleContextMenuMouseEvent(void 0,r,o,s)};this.mockContextMenu(e,e.element,t)}handleCellDoubleClick(e,t){return(()=>{if(!Ua()||i5("dblclick"))return!1;const i=Date.now(),r=i-e.lastIPadMouseClickEvent<200;return e.lastIPadMouseClickEvent=i,r})()?(e.onCellDoubleClicked(t),t.preventDefault(),!0):!1}setupForHeader(e){const{gos:t,sortSvc:n}=this.beans;if(t.get("suppressTouch"))return;const{params:i,eMenu:r,eFilterButton:o}=e,s=new Vl(e.getGui(),!0),a=e.shouldSuppressMenuHide(),l=a&&ue(r),u=l?new Vl(r,!0):s;if(i.enableMenu){const c=l?"tap":"longTap",d=h=>i.showColumnMenuAfterMouseClick(h.touchStart);e.addManagedListeners(u,{[c]:d})}if(i.enableSorting){const c=d=>{const h=d.touchStart.target;a&&(r!=null&&r.contains(h)||o!=null&&o.contains(h))||n==null||n.progressSort(i.column,!1,"uiColumnSorted")};e.addManagedListeners(s,{tap:c})}if(i.enableFilterButton&&o){const c=new Vl(o,!0);e.addManagedListeners(c,{tap:()=>i.showFilter(o)}),e.addDestroyFunc(()=>c.destroy())}e.addDestroyFunc(()=>s.destroy()),l&&e.addDestroyFunc(()=>u.destroy())}setupForHeaderGroup(e,t,n){const i=new Vl(t,!0);e.addManagedListeners(i,{tap:n}),e.addDestroyFunc(()=>i.destroy())}mockContextMenu(e,t,n){if(!Ua())return;const i=new Vl(t),r=o=>{Pd(this.gos,o.touchEvent)&&n(void 0,o.touchStart,o.touchEvent)};e.addManagedListeners(i,{longTap:r}),e.addDestroyFunc(()=>i.destroy())}},Wre={moduleName:"Touch",version:pe,beans:[Gre]},$re=class extends K{constructor(){super(...arguments),this.beanName="cellNavigation"}wireBeans(e){this.rowSpanSvc=e.rowSpanSvc}getNextCellToFocus(e,t,n=!1){return n?this.getNextCellToFocusWithCtrlPressed(e,t):this.getNextCellToFocusWithoutCtrlPressed(e,t)}getNextCellToFocusWithCtrlPressed(e,t){const n=e===j.UP,i=e===j.DOWN,r=e===j.LEFT;let o,s;const{pageBounds:a,gos:l,visibleCols:u}=this.beans;if(n||i)s=n?a.getFirstRow():a.getLastRow(),o=t.column;else{const c=l.get("enableRtl");s=t.rowIndex,o=(r!==c?u.allCols:[...u.allCols].reverse()).find(h=>this.isCellGoodToFocusOn({rowIndex:s,rowPinned:null,column:h}))}return o?{rowIndex:s,rowPinned:null,column:o}:null}getNextCellToFocusWithoutCtrlPressed(e,t){let n=t,i=!1;for(;!i;){switch(e){case j.UP:n=this.getCellAbove(n);break;case j.DOWN:n=this.getCellBelow(n);break;case j.RIGHT:n=this.gos.get("enableRtl")?this.getCellToLeft(n):this.getCellToRight(n);break;case j.LEFT:n=this.gos.get("enableRtl")?this.getCellToRight(n):this.getCellToLeft(n);break;default:n=null,ie(8,{key:e});break}n?i=this.isCellGoodToFocusOn(n):i=!0}return n}isCellGoodToFocusOn(e){const t=e.column;let n;const{pinnedRowModel:i,rowModel:r}=this.beans;switch(e.rowPinned){case"top":n=i==null?void 0:i.getPinnedTopRow(e.rowIndex);break;case"bottom":n=i==null?void 0:i.getPinnedBottomRow(e.rowIndex);break;default:n=r.getRow(e.rowIndex);break}return n?!this.isSuppressNavigable(t,n):!1}getCellToLeft(e){if(!e)return null;const t=this.beans.visibleCols.getColBefore(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellToRight(e){if(!e)return null;const t=this.beans.visibleCols.getColAfter(e.column);return t?{rowIndex:e.rowIndex,column:t,rowPinned:e.rowPinned}:null}getCellBelow(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellEnd(e))??e,n=O4(this.beans,t);return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getCellAbove(e){var i;if(!e)return null;const t=((i=this.rowSpanSvc)==null?void 0:i.getCellStart(e))??e,n=h0(this.beans,{rowIndex:t.rowIndex,rowPinned:t.rowPinned});return n?{rowIndex:n.rowIndex,column:e.column,rowPinned:n.rowPinned}:null}getNextTabbedCell(e,t){return t?this.getNextTabbedCellBackwards(e):this.getNextTabbedCellForwards(e)}getNextTabbedCellForwards(e){const{visibleCols:t,pagination:n}=this.beans,i=t.allCols;let r=e.rowIndex,o=e.rowPinned,s=t.getColAfter(e.column);if(!s){s=i[0];const a=O4(this.beans,e);if(Bt(a)||!a.rowPinned&&!((n==null?void 0:n.isRowInPage(a.rowIndex))??!0))return null;r=a?a.rowIndex:null,o=a?a.rowPinned:null}return{rowIndex:r,column:s,rowPinned:o}}getNextTabbedCellBackwards(e){const{beans:t}=this,{visibleCols:n,pagination:i}=t,r=n.allCols;let o=e.rowIndex,s=e.rowPinned,a=n.getColBefore(e.column);if(!a){a=wt(r);const l=h0(t,{rowIndex:e.rowIndex,rowPinned:e.rowPinned});if(Bt(l)||!l.rowPinned&&!((i==null?void 0:i.isRowInPage(l.rowIndex))??!0))return null;o=l?l.rowIndex:null,s=l?l.rowPinned:null}return{rowIndex:o,column:a,rowPinned:s}}isSuppressNavigable(e,t){const{suppressNavigable:n}=e.colDef;if(typeof n=="boolean")return n;if(typeof n=="function"){const i=e.createColumnFunctionCallbackParams(t);return n(i)}return!1}};function Ure(e){return e.focusSvc.getFocusedCell()}function jre(e){return e.focusSvc.clearFocusedCell()}function qre(e,t,n,i){e.focusSvc.setFocusedCell({rowIndex:t,column:n,rowPinned:i,forceBrowserFocus:!0})}function Kre(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!1,t))??!1}function Yre(e,t){var n;return((n=e.navigation)==null?void 0:n.tabToNextCell(!0,t))??!1}function Xre(e,t,n=!1){var r;const i=(r=e.headerNavigation)==null?void 0:r.getHeaderPositionForColumn(t,n);i&&e.focusSvc.focusHeaderPosition({headerPosition:i})}var Jre=class extends K{constructor(){super(),this.beanName="navigation",this.onPageDown=E4(this.onPageDown,100),this.onPageUp=E4(this.onPageUp,100)}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridBodyCon=e.gridBodyCtrl})}handlePageScrollingKey(e,t=!1){const n=e.key,i=e.altKey,r=e.ctrlKey||e.metaKey,o=!!this.beans.rangeSvc&&e.shiftKey,s=iQ(this.gos,e);let a=!1;switch(n){case j.PAGE_HOME:case j.PAGE_END:!r&&!i&&(this.onHomeOrEndKey(n),a=!0);break;case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:if(!s)return!1;r&&!i&&!o&&(this.onCtrlUpDownLeftRight(n,s),a=!0);break;case j.PAGE_DOWN:case j.PAGE_UP:!r&&!i&&(a=this.handlePageUpDown(n,s,t));break}return a&&e.preventDefault(),a}handlePageUpDown(e,t,n){return n&&(t=this.beans.focusSvc.getFocusedCell()),t?(e===j.PAGE_UP?this.onPageUp(t):this.onPageDown(t),!0):!1}navigateTo(e){const{scrollIndex:t,scrollType:n,scrollColumn:i,focusIndex:r,focusColumn:o}=e,{scrollFeature:s}=this.gridBodyCon;ue(i)&&!i.isPinned()&&s.ensureColumnVisible(i),ue(t)&&s.ensureIndexVisible(t,n),e.isAsync||s.ensureIndexVisible(r);const{focusSvc:a,rangeSvc:l}=this.beans;a.setFocusedCell({rowIndex:r,column:o,rowPinned:null,forceBrowserFocus:!0}),l==null||l.setRangeToCell({rowIndex:r,rowPinned:null,column:o})}onPageDown(e){const t=this.beans,n=Tv(t),i=this.getViewportHeight(),{pageBounds:r,rowModel:o,rowAutoHeight:s}=t,a=r.getPixelOffset(),l=n.top+i,u=o.getRowIndexAtPixel(l+a);s!=null&&s.active?this.navigateToNextPageWithAutoHeight(e,u):this.navigateToNextPage(e,u)}onPageUp(e){const t=this.beans,n=Tv(t),{pageBounds:i,rowModel:r,rowAutoHeight:o}=t,s=i.getPixelOffset(),a=n.top,l=r.getRowIndexAtPixel(a+s);o!=null&&o.active?this.navigateToNextPageWithAutoHeight(e,l,!0):this.navigateToNextPage(e,l,!0)}navigateToNextPage(e,t,n=!1){const{pageBounds:i,rowModel:r}=this.beans,o=this.getViewportHeight(),s=i.getFirstRow(),a=i.getLastRow(),l=i.getPixelOffset(),u=r.getRow(e.rowIndex),c=n?(u==null?void 0:u.rowHeight)-o-l:o-l,d=(u==null?void 0:u.rowTop)+c;let h=r.getRowIndexAtPixel(d+l);if(h===e.rowIndex){const f=n?-1:1;t=h=e.rowIndex+f}let p;n?(p="bottom",h<s&&(h=s),t<s&&(t=s)):(p="top",h>a&&(h=a),t>a&&(t=a)),this.isRowTallerThanView(r.getRow(h))&&(t=h,p="top"),this.navigateTo({scrollIndex:t,scrollType:p,scrollColumn:null,focusIndex:h,focusColumn:e.column})}navigateToNextPageWithAutoHeight(e,t,n=!1){this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:t,focusColumn:e.column}),setTimeout(()=>{const i=this.getNextFocusIndexForAutoHeight(e,n);this.navigateTo({scrollIndex:t,scrollType:n?"bottom":"top",scrollColumn:null,focusIndex:i,focusColumn:e.column,isAsync:!0})},50)}getNextFocusIndexForAutoHeight(e,t=!1){const n=t?-1:1,i=this.getViewportHeight(),{pageBounds:r,rowModel:o}=this.beans,s=r.getLastRow();let a=0,l=e.rowIndex;for(;l>=0&&l<=s;){const u=o.getRow(l);if(u){const c=u.rowHeight??0;if(a+c>i)break;a+=c}l+=n}return Math.max(0,Math.min(l,s))}getViewportHeight(){const e=this.beans,t=Tv(e),n=this.beans.scrollVisibleSvc.getScrollbarWidth();let i=t.bottom-t.top;return e.ctrlsSvc.get("center").isHorizontalScrollShowing()&&(i-=n),i}isRowTallerThanView(e){if(!e)return!1;const t=e.rowHeight;return typeof t!="number"?!1:t>this.getViewportHeight()}onCtrlUpDownLeftRight(e,t){const n=this.beans.cellNavigation.getNextCellToFocus(e,t,!0),{rowIndex:i}=n,r=n.column;this.navigateTo({scrollIndex:i,scrollType:null,scrollColumn:r,focusIndex:i,focusColumn:r})}onHomeOrEndKey(e){const t=e===j.PAGE_HOME,{visibleCols:n,pageBounds:i,rowModel:r}=this.beans,o=n.allCols,s=t?i.getFirstRow():i.getLastRow(),a=r.getRow(s);if(!a)return;const l=(t?o:[...o].reverse()).find(u=>!u.isSuppressNavigable(a));l&&this.navigateTo({scrollIndex:s,scrollType:null,scrollColumn:l,focusIndex:s,focusColumn:l})}onTabKeyDown(e,t){const n=t.shiftKey,i=this.tabToNextCellCommon(e,n,t),r=this.beans,{ctrlsSvc:o,pageBounds:s,focusSvc:a,gos:l}=r;if(i!==!1){i?t.preventDefault():i===null&&o.get("gridCtrl").allowFocusForNextCoreContainer(n);return}if(n){const{rowIndex:u,rowPinned:c}=e.getRowPosition();(c?u===0:u===s.getFirstRow())&&(l.get("headerHeight")===0||Xa(r)?Du(r,!0,!0):(t.preventDefault(),a.focusPreviousFromFirstCell(t)))}else e instanceof $c&&e.focusCell(!0),(!n&&a.focusOverlay(!1)||Du(r,n))&&t.preventDefault()}tabToNextCell(e,t){const n=this.beans,{focusSvc:i,rowRenderer:r}=n,o=i.getFocusedCell();if(!o)return!1;let s=$l(n,o);return!s&&(s=r.getRowByPosition(o),!s||!s.isFullWidth())?!1:!!this.tabToNextCellCommon(s,e,t)}tabToNextCellCommon(e,t,n){let i=e.editing;if(!i&&e instanceof $c){const s=e.rowCtrl;s&&(i=s.editing)}let r;return i?this.gos.get("editType")==="fullRow"?r=this.moveToNextEditingRow(e,t,n):r=this.moveToNextEditingCell(e,t,n):r=this.moveToNextCellNotEditing(e,t,n),r===null?r:r||!!this.beans.focusSvc.focusedHeader}moveToNextEditingCell(e,t,n=null){var o;const i=e.cellPosition;e.eGui.focus(),e.stopEditing();const r=this.findNextCellToFocusOn(i,t,!0);return r===!1?null:r==null?!1:((o=this.beans.editSvc)==null||o.startEditing(r,null,!0,n),r.focusCell(!1),!0)}moveToNextEditingRow(e,t,n=null){const i=e.cellPosition,r=this.findNextCellToFocusOn(i,t,!0);if(r===!1)return null;if(r==null)return!1;const o=r.cellPosition,s=this.isCellEditable(i),a=this.isCellEditable(o),l=o&&i.rowIndex===o.rowIndex&&i.rowPinned===o.rowPinned,{editSvc:u,rowEditSvc:c}=this.beans;if(s&&(u==null||u.setFocusOutOnEditor(e)),!l){const d=e.rowCtrl;u==null||u.stopRowEditing(d);const h=r.rowCtrl;c==null||c.startEditing(h,void 0,void 0,n)}return a?(u==null||u.setFocusInOnEditor(r),r.focusCell()):r.focusCell(!0),!0}moveToNextCellNotEditing(e,t,n){const i=this.beans.visibleCols.allCols;let r;if(e instanceof g0){if(r={...e.getRowPosition(),column:t?i[0]:wt(i)},this.gos.get("embedFullWidthRows")&&n){const s=e.findFullWidthInfoForEvent(n);s&&(r.column=s.column)}}else r=e.getFocusedCellPosition();const o=this.findNextCellToFocusOn(r,t,!1);if(o===!1)return null;if(o instanceof $c)o.focusCell(!0);else if(o)return this.tryToFocusFullWidthRow(o,t);return ue(o)}findNextCellToFocusOn(e,t,n){let i=e;const r=this.beans,{cellNavigation:o,gos:s,focusSvc:a,rowRenderer:l,rangeSvc:u}=r;for(;;){e!==i&&(e=i),t||(i=this.getLastCellOfColSpan(i)),i=o.getNextTabbedCell(i,t);const c=s.getCallback("tabToNextCell");if(ue(c)){const f=c({backwards:t,editing:n,previousCellPosition:e,nextCellPosition:i||null});if(f===!0)i=e;else{if(f===!1)return!1;i={rowIndex:f.rowIndex,column:f.column,rowPinned:f.rowPinned}}}if(!i)return null;if(i.rowIndex<0){const p=uo(r);return a.focusHeaderPosition({headerPosition:{headerRowIndex:p+i.rowIndex,column:i.column},fromCell:!0}),null}const d=s.get("editType")==="fullRow";if(n&&!d&&!this.isCellEditable(i))continue;this.ensureCellVisible(i);const h=$l(r,i);if(!h){const p=l.getRowByPosition(i);if(!p||!p.isFullWidth()||n)continue;return{...p.getRowPosition(),column:i==null?void 0:i.column}}if(!o.isSuppressNavigable(h.column,h.rowNode))return h.setFocusedCellPosition(i),u==null||u.setRangeToCell(i),h}}isCellEditable(e){const t=this.lookupRowNodeForCell(e);return t?e.column.isCellEditable(t):!1}lookupRowNodeForCell({rowIndex:e,rowPinned:t}){const{pinnedRowModel:n,rowModel:i}=this.beans;return t==="top"?n==null?void 0:n.getPinnedTopRow(e):t==="bottom"?n==null?void 0:n.getPinnedBottomRow(e):i.getRow(e)}navigateToNextCell(e,t,n,i){let r=n,o=!1;const s=this.beans,{cellNavigation:a,focusSvc:l,gos:u}=s;for(;r&&(r===n||!this.isValidNavigateCell(r));)u.get("enableRtl")?t===j.LEFT&&(r=this.getLastCellOfColSpan(r)):t===j.RIGHT&&(r=this.getLastCellOfColSpan(r)),r=a.getNextCellToFocus(t,r),o=Bt(r);if(o&&e&&e.key===j.UP&&(r={rowIndex:-1,rowPinned:null,column:n.column}),i){const d=u.getCallback("navigateToNextCell");if(ue(d)){const p=d({key:t,previousCellPosition:n,nextCellPosition:r||null,event:e});ue(p)?r={rowPinned:p.rowPinned,rowIndex:p.rowIndex,column:p.column}:r=null}}if(!r)return;if(r.rowIndex<0){const d=uo(s);l.focusHeaderPosition({headerPosition:{headerRowIndex:d+r.rowIndex,column:n.column},event:e||void 0,fromCell:!0});return}const c=this.getNormalisedPosition(r);c?this.focusPosition(c):this.tryToFocusFullWidthRow(r)}getNormalisedPosition(e){var i;if(!!((i=this.beans.spannedRowRenderer)!=null&&i.getCellByPosition(e)))return e;this.ensureCellVisible(e);const n=$l(this.beans,e);return n?(e=n.getFocusedCellPosition(),this.ensureCellVisible(e),e):null}tryToFocusFullWidthRow(e,t){const{visibleCols:n,rowRenderer:i,focusSvc:r,eventSvc:o}=this.beans,s=n.allCols,a=i.getRowByPosition(e);if(!a||!a.isFullWidth())return!1;const l=r.getFocusedCell(),u={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column||(t?wt(s):s[0])};this.focusPosition(u);const c=t??(l!=null&&aQ(u,l));return o.dispatchEvent({type:"fullWidthRowFocused",rowIndex:u.rowIndex,rowPinned:u.rowPinned,column:u.column,isFullWidthCell:!0,fromBelow:c}),!0}focusPosition(e){const{focusSvc:t,rangeSvc:n}=this.beans;t.setFocusedCell({rowIndex:e.rowIndex,column:e.column,rowPinned:e.rowPinned,forceBrowserFocus:!0}),n==null||n.setRangeToCell(e)}isValidNavigateCell(e){return!!d0(this.beans,e)}getLastCellOfColSpan(e){const t=$l(this.beans,e);if(!t)return e;const n=t.getColSpanningList();return n.length===1?e:{rowIndex:e.rowIndex,column:wt(n),rowPinned:e.rowPinned}}ensureCellVisible(e){const t=QA(this.gos),n=this.beans.rowModel.getRow(e.rowIndex),i=t&&(n==null?void 0:n.sticky),{scrollFeature:r}=this.gridBodyCon;!i&&Bt(e.rowPinned)&&r.ensureIndexVisible(e.rowIndex),e.column.isPinned()||r.ensureColumnVisible(e.column)}};function Tv(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}var Zre={moduleName:"KeyboardNavigation",version:pe,beans:[Jre,$re,xre],apiFunctions:{getFocusedCell:Ure,clearFocusedCell:jre,setFocusedCell:qre,setFocusedHeader:Xre,tabToNextCell:Kre,tabToPreviousCell:Yre}},Qre=class extends K{constructor(){super(...arguments),this.beanName="pageBoundsListener"}postConstruct(){this.addManagedEventListeners({modelUpdated:this.onModelUpdated.bind(this),recalculateRowBounds:this.calculatePages.bind(this)}),this.onModelUpdated()}onModelUpdated(e){this.calculatePages(),this.eventSvc.dispatchEvent({type:"paginationChanged",animate:(e==null?void 0:e.animate)??!1,newData:(e==null?void 0:e.newData)??!1,newPage:(e==null?void 0:e.newPage)??!1,newPageSize:(e==null?void 0:e.newPageSize)??!1,keepRenderedRows:(e==null?void 0:e.keepRenderedRows)??!1})}calculatePages(){const{pageBounds:e,pagination:t,rowModel:n}=this.beans;t?t.calculatePages():e.calculateBounds(0,n.getRowCount()-1)}},eoe=class extends K{constructor(){super(...arguments),this.beanName="pageBounds",this.pixelOffset=0}getFirstRow(){var e;return((e=this.topRowBounds)==null?void 0:e.rowIndex)??-1}getLastRow(){var e;return((e=this.bottomRowBounds)==null?void 0:e.rowIndex)??-1}getCurrentPageHeight(){const{topRowBounds:e,bottomRowBounds:t}=this;return!e||!t?0:Math.max(t.rowTop+t.rowHeight-e.rowTop,0)}getCurrentPagePixelRange(){const{topRowBounds:e,bottomRowBounds:t}=this,n=(e==null?void 0:e.rowTop)??0,i=t?t.rowTop+t.rowHeight:0;return{pageFirstPixel:n,pageLastPixel:i}}calculateBounds(e,t){const{rowModel:n}=this.beans,i=n.getRowBounds(e);i&&(i.rowIndex=e),this.topRowBounds=i;const r=n.getRowBounds(t);r&&(r.rowIndex=t),this.bottomRowBounds=r,this.calculatePixelOffset()}getPixelOffset(){return this.pixelOffset}calculatePixelOffset(){var t;const e=((t=this.topRowBounds)==null?void 0:t.rowTop)??0;this.pixelOffset!==e&&(this.pixelOffset=e,this.eventSvc.dispatchEvent({type:"paginationPixelOffsetChanged"}))}},toe=".ag-pinned-left-floating-bottom,.ag-pinned-left-floating-top,.ag-pinned-right-floating-bottom,.ag-pinned-right-floating-top{min-width:0;overflow:hidden;position:relative}.ag-pinned-left-sticky-top,.ag-pinned-right-sticky-top{height:100%;overflow:hidden;position:relative}.ag-sticky-bottom-full-width-container,.ag-sticky-top-full-width-container{height:100%;overflow:hidden;width:100%}.ag-pinned-left-header,.ag-pinned-right-header{display:inline-block;height:100%;overflow:hidden;position:relative}.ag-body-horizontal-scroll:not(.ag-scrollbar-invisible){.ag-horizontal-left-spacer:not(.ag-scroller-corner){border-right:var(--ag-pinned-column-border)}.ag-horizontal-right-spacer:not(.ag-scroller-corner){border-left:var(--ag-pinned-column-border)}}.ag-pinned-right-header{border-left:var(--ag-pinned-column-border)}.ag-pinned-left-header{border-right:var(--ag-pinned-column-border)}.ag-cell.ag-cell-first-right-pinned:not(.ag-cell-range-left,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-left:var(--ag-pinned-column-border)}.ag-cell.ag-cell-last-left-pinned:not(.ag-cell-range-right,.ag-cell-range-single-cell,.ag-cell-focus:not(.ag-cell-range-selected):focus-within){border-right:var(--ag-pinned-column-border)}.ag-pinned-left-header .ag-header-cell-resize:after{left:calc(50% - var(--ag-header-column-resize-handle-width))}.ag-pinned-right-header .ag-header-cell-resize:after{left:50%}.ag-pinned-left-header .ag-header-cell-resize{right:-3px}.ag-pinned-right-header .ag-header-cell-resize{left:-3px}",noe=class extends K{constructor(e,t){super(),this.isLeft=e,this.elements=t,this.getWidth=e?()=>this.beans.pinnedCols.leftWidth:()=>this.beans.pinnedCols.rightWidth}postConstruct(){this.addManagedEventListeners({[`${this.isLeft?"left":"right"}PinnedWidthChanged`]:this.onPinnedWidthChanged.bind(this)})}onPinnedWidthChanged(){const e=this.getWidth(),t=e>0;for(const n of this.elements)n&&(Ht(n,t),go(n,e))}},ioe=class extends K{constructor(){super(...arguments),this.beanName="pinnedCols"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,t=>{this.gridBodyCtrl=t.gridBodyCtrl});const e=this.checkContainerWidths.bind(this);this.addManagedEventListeners({displayedColumnsChanged:e,displayedColumnsWidthChanged:e}),this.addManagedPropertyListener("domLayout",e)}checkContainerWidths(){const{gos:e,visibleCols:t,eventSvc:n}=this.beans,i=Xn(e,"print"),r=i?0:t.getColsLeftWidth(),o=i?0:t.getDisplayedColumnsRightWidth();r!=this.leftWidth&&(this.leftWidth=r,n.dispatchEvent({type:"leftPinnedWidthChanged"})),o!=this.rightWidth&&(this.rightWidth=o,n.dispatchEvent({type:"rightPinnedWidthChanged"}))}keepPinnedColumnsNarrowerThanViewport(){const e=this.gridBodyCtrl.eBodyViewport,t=Ed(e);if(t<=50)return;const n=this.getPinnedColumnsOverflowingViewport(t-50),i=this.gos.getCallback("processUnpinnedColumns"),{columns:r,hasLockedPinned:o}=n;let s=r;!s.length&&!o||(i&&(s=i({columns:s,viewportWidth:t})),!(!s||!s.length)&&(s=s.filter(a=>!Au(a)),this.setColsPinned(s,null,"viewportSizeFeature")))}createPinnedWidthFeature(e,...t){return new noe(e,t)}setColsPinned(e,t,n){const{colModel:i,colAnimation:r,visibleCols:o,gos:s}=this.beans;if(!i.cols||!(e!=null&&e.length))return;if(Xn(s,"print")){ie(37);return}r==null||r.start();let a;t===!0||t==="left"?a="left":t==="right"?a="right":a=null;const l=[];e.forEach(u=>{if(!u)return;const c=i.getCol(u);c&&c.getPinned()!==a&&(this.setColPinned(c,a),l.push(c))}),l.length&&(o.refresh(n),m5(this.eventSvc,l,n)),r==null||r.finish()}initCol(e){const{pinned:t,initialPinned:n}=e.colDef;t!==void 0?this.setColPinned(e,t):this.setColPinned(e,n)}setColPinned(e,t){t===!0||t==="left"?e.pinned="left":t==="right"?e.pinned="right":e.pinned=null,e.dispatchStateUpdatedEvent("pinned")}setupHeaderPinnedWidth(e){const{scrollVisibleSvc:t}=this.beans;if(e.pinned==null)return;const n=e.pinned==="left",i=e.pinned==="right";e.hidden=!0;const r=()=>{const o=n?this.leftWidth:this.rightWidth;if(o==null)return;const s=o==0,a=e.hidden!==s,l=this.gos.get("enableRtl"),u=t.getScrollbarWidth(),d=t.verticalScrollShowing&&(l&&n||!l&&i)?o+u:o;e.comp.setPinnedContainerWidth(`${d}px`),e.comp.setDisplayed(!s),a&&(e.hidden=s,e.refresh())};e.addManagedEventListeners({leftPinnedWidthChanged:r,rightPinnedWidthChanged:r,scrollVisibilityChanged:r,scrollbarWidthChanged:r})}getHeaderResizeDiff(e,t){if(t.getPinned()){const{leftWidth:i,rightWidth:r}=this,o=Ed(this.beans.ctrlsSvc.getGridBodyCtrl().eBodyViewport)-50;if(i+r+e>o)if(o>i+r)e=o-i-r;else return 0}return e}getPinnedColumnsOverflowingViewport(e){const t=this.rightWidth??0,n=this.leftWidth??0,i=t+n;let r=!1;if(i<e)return{columns:[],hasLockedPinned:r};const{visibleCols:o}=this.beans,s=[...o.leftCols],a=[...o.rightCols];let l=0,u=0;const c=0,d=[];let h=i-c-e;for(;(u<s.length||l<a.length)&&h>0;){if(l<a.length){const p=a[l++];if(p.colDef.lockPinned){r=!0;continue}h-=p.getActualWidth(),d.push(p)}if(u<s.length&&h>0){const p=s[u++];if(p.colDef.lockPinned){r=!0;continue}h-=p.getActualWidth(),d.push(p)}}return{columns:d,hasLockedPinned:r}}},roe={moduleName:"PinnedColumn",version:pe,beans:[ioe],css:[toe]},ooe=class extends K{constructor(){super(),this.beanName="ariaAnnounce",this.descriptionContainer=null,this.pendingAnnouncements=new Map,this.lastAnnouncement="",this.updateAnnouncement=Kn(this,this.updateAnnouncement.bind(this),200)}postConstruct(){const e=this.beans,t=wn(e),n=this.descriptionContainer=t.createElement("div");n.classList.add("ag-aria-description-container"),RA(n,"polite"),mX(n,"additions text"),gX(n,!0),e.eGridDiv.appendChild(n)}announceValue(e,t){this.pendingAnnouncements.set(t,e),this.updateAnnouncement()}updateAnnouncement(){if(!this.descriptionContainer)return;const e=Array.from(this.pendingAnnouncements.values()).join(". ");this.pendingAnnouncements.clear(),this.descriptionContainer.textContent="",setTimeout(()=>{if(this.isAlive()&&this.descriptionContainer){let t=e;this.lastAnnouncement===t&&(t=`${t}.`),this.lastAnnouncement=t,this.descriptionContainer.textContent=t}},50)}destroy(){var t;super.destroy();const{descriptionContainer:e}=this;e&&(si(e),(t=e.parentElement)==null||t.removeChild(e)),this.descriptionContainer=null,this.pendingAnnouncements.clear()}},soe={moduleName:"Aria",version:pe,beans:[ooe]};function aoe(e){var t;(t=e.overlays)==null||t.showLoadingOverlay()}function loe(e){var t;(t=e.overlays)==null||t.showNoRowsOverlay()}function uoe(e){var t;(t=e.overlays)==null||t.hideOverlay()}var coe=".ag-overlay{inset:0;pointer-events:none;position:absolute;z-index:2}.ag-overlay-panel,.ag-overlay-wrapper{display:flex;height:100%;width:100%}.ag-overlay-wrapper{align-items:center;flex:none;justify-content:center;text-align:center}.ag-overlay-loading-wrapper{pointer-events:all}.ag-overlay-loading-center{background:var(--ag-background-color);border:1px solid var(--ag-border-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-popup-shadow);padding:var(--ag-spacing)}",doe={tag:"div",cls:"ag-overlay",role:"presentation",children:[{tag:"div",cls:"ag-overlay-panel",role:"presentation",children:[{tag:"div",ref:"eOverlayWrapper",cls:"ag-overlay-wrapper",role:"presentation"}]}]},FR=class extends pt{constructor(){super(doe),this.eOverlayWrapper=le,this.activePromise=null,this.activeOverlay=null,this.updateListenerDestroyFunc=null,this.activeCssClass=null,this.elToFocusAfter=null,this.registerCSS(coe)}handleKeyDown(e){if(e.key!==j.TAB||e.defaultPrevented||is(e))return;const t=this.beans;if(yl(t,this.eOverlayWrapper,!1,e.shiftKey))return;let i=!1;e.shiftKey?i=t.focusSvc.focusGridView({column:wt(t.visibleCols.allCols),backwards:!0,canFocusOverlay:!1}):i=Du(t,!1),i&&e.preventDefault()}updateLayoutClasses(e,t){const n=this.eOverlayWrapper.classList,{AUTO_HEIGHT:i,NORMAL:r,PRINT:o}=zr;n.toggle(i,t.autoHeight),n.toggle(r,t.normal),n.toggle(o,t.print)}postConstruct(){this.createManagedBean(new ew(this)),this.setDisplayed(!1,{skipAriaHidden:!0}),this.beans.overlays.setOverlayWrapperComp(this),this.addManagedElementListeners(this.getFocusableElement(),{keydown:this.handleKeyDown.bind(this)})}setWrapperTypeClass(e){const t=this.eOverlayWrapper.classList;this.activeCssClass&&t.toggle(this.activeCssClass,!1),this.activeCssClass=e,t.toggle(e,!0)}showOverlay(e,t,n,i){if(this.setWrapperTypeClass(t),this.destroyActiveOverlay(),this.elToFocusAfter=null,this.activePromise=e,!!e){if(this.setDisplayed(!0,{skipAriaHidden:!0}),n&&this.isGridFocused()){const r=Gt(this.beans);r&&!ZA(this.beans)&&(this.elToFocusAfter=r)}e.then(r=>{if(this.activePromise!==e){this.activeOverlay!==r&&(this.destroyBean(r),r=null);return}if(this.activePromise=null,!!r){if(this.activeOverlay!==r&&(this.eOverlayWrapper.appendChild(r.getGui()),this.activeOverlay=r,i)){const o=r;this.updateListenerDestroyFunc=this.addManagedPropertyListener(i,({currentValue:s})=>{var a;(a=o.refresh)==null||a.call(o,Le(this.gos,{...s??{}}))})}n&&this.isGridFocused()&&pl(this.eOverlayWrapper)}})}}updateOverlayWrapperPaddingTop(e){this.eOverlayWrapper.style.setProperty("padding-top",`${e}px`)}destroyActiveOverlay(){var i;this.activePromise=null;const e=this.activeOverlay;if(!e)return;let t=this.elToFocusAfter;this.activeOverlay=null,this.elToFocusAfter=null,t&&!this.isGridFocused()&&(t=null);const n=this.updateListenerDestroyFunc;n&&(n(),this.updateListenerDestroyFunc=null),this.destroyBean(e),si(this.eOverlayWrapper),(i=t==null?void 0:t.focus)==null||i.call(t,{preventScroll:!0})}hideOverlay(){this.destroyActiveOverlay(),this.setDisplayed(!1,{skipAriaHidden:!0})}isGridFocused(){const e=Gt(this.beans);return!!e&&this.beans.eGridDiv.contains(e)}destroy(){this.elToFocusAfter=null,this.destroyActiveOverlay(),this.beans.overlays.setOverlayWrapperComp(void 0),super.destroy()}},hoe={selector:"AG-OVERLAY-WRAPPER",component:FR},poe=class extends K{constructor(){super(...arguments),this.beanName="overlays",this.state=0,this.showInitialOverlay=!0,this.wrapperPadding=0}postConstruct(){this.isClientSide=Ci(this.gos),this.isServerSide=!this.isClientSide&&Vu(this.gos);const e=()=>this.updateOverlayVisibility();this.addManagedEventListeners({newColumnsLoaded:e,rowDataUpdated:e,gridSizeChanged:this.refreshWrapperPadding.bind(this),rowCountReady:()=>{this.showInitialOverlay=!1,this.updateOverlayVisibility()}}),this.addManagedPropertyListener("loading",e)}setOverlayWrapperComp(e){this.eWrapper=e,this.updateOverlayVisibility()}isVisible(){return this.state!==0&&!!this.eWrapper}isExclusive(){return this.state===1&&!!this.eWrapper}showLoadingOverlay(){this.showInitialOverlay=!1;const e=this.gos,t=e.get("loading");!t&&(t!==void 0||e.get("suppressLoadingOverlay"))||this.doShowLoadingOverlay()}showNoRowsOverlay(){this.showInitialOverlay=!1;const e=this.gos;e.get("loading")||e.get("suppressNoRowsOverlay")||this.doShowNoRowsOverlay()}hideOverlay(){if(this.showInitialOverlay=!1,this.gos.get("loading")){ie(99);return}this.doHideOverlay()}getOverlayWrapperSelector(){return hoe}getOverlayWrapperCompClass(){return FR}updateOverlayVisibility(){if(!this.eWrapper){this.state=0;return}const{state:e,isClientSide:t,isServerSide:n,beans:{gos:i,colModel:r,rowModel:o}}=this;let s=this.gos.get("loading");s!==void 0&&(this.showInitialOverlay=!1),this.showInitialOverlay&&s===void 0&&!i.get("suppressLoadingOverlay")&&(s=!i.get("columnDefs")||!r.ready||!i.get("rowData")&&t),s?e!==1&&this.doShowLoadingOverlay():(this.showInitialOverlay=!1,t&&o.isEmpty()&&!i.get("suppressNoRowsOverlay")?e!==2&&this.doShowNoRowsOverlay():(e===1||!n&&e!==0)&&this.doHideOverlay())}doShowLoadingOverlay(){this.eWrapper&&(this.state=1,this.showOverlay(bZ(this.beans.userCompFactory,Le(this.gos,{})),"ag-overlay-loading-wrapper","loadingOverlayComponentParams"),this.updateExclusive())}doShowNoRowsOverlay(){this.eWrapper&&(this.state=2,this.showOverlay(yZ(this.beans.userCompFactory,Le(this.gos,{})),"ag-overlay-no-rows-wrapper","noRowsOverlayComponentParams"),this.updateExclusive())}doHideOverlay(){this.eWrapper&&(this.state=0,this.eWrapper.hideOverlay(),this.updateExclusive())}showOverlay(e,t,n){var r;const i=(e==null?void 0:e.newAgStackInstance())??null;(r=this.eWrapper)==null||r.showOverlay(i,t,this.isExclusive(),n),this.refreshWrapperPadding()}updateExclusive(){const e=this.exclusive;this.exclusive=this.isExclusive(),this.exclusive!==e&&this.eventSvc.dispatchEvent({type:"overlayExclusiveChanged"})}refreshWrapperPadding(){const e=this.eWrapper;if(!e)return;let t=0;if(this.state===2){const n=this.beans.ctrlsSvc.get("gridHeaderCtrl");t=(n==null?void 0:n.headerHeight)||0}else this.wrapperPadding!==0&&(t=0);this.wrapperPadding!==t&&(this.wrapperPadding=t,e.updateOverlayWrapperPaddingTop(t))}},foe={moduleName:"Overlay",version:pe,userComponents:{agLoadingOverlay:wee,agNoRowsOverlay:xee},apiFunctions:{showLoadingOverlay:aoe,showNoRowsOverlay:loe,hideOverlay:uoe},beans:[poe]},goe=class extends K{constructor(){super(...arguments),this.beanName="rowContainerHeight",this.scrollY=0,this.uiBodyHeight=0}postConstruct(){this.addManagedEventListeners({bodyHeightChanged:this.updateOffset.bind(this)}),this.maxDivHeight=AX(),ca(this.gos,"RowContainerHeightService - maxDivHeight = "+this.maxDivHeight)}updateOffset(){if(!this.stretching)return;const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition().top,t=this.getUiBodyHeight();(e!==this.scrollY||t!==this.uiBodyHeight)&&(this.scrollY=e,this.uiBodyHeight=t,this.calculateOffset())}calculateOffset(){this.setUiContainerHeight(this.maxDivHeight),this.pixelsToShave=this.modelHeight-this.uiContainerHeight,this.maxScrollY=this.uiContainerHeight-this.uiBodyHeight;const e=this.scrollY/this.maxScrollY,t=e*this.pixelsToShave;ca(this.gos,`RowContainerHeightService - Div Stretch Offset = ${t} (${this.pixelsToShave} * ${e})`),this.setDivStretchOffset(t)}setUiContainerHeight(e){e!==this.uiContainerHeight&&(this.uiContainerHeight=e,this.eventSvc.dispatchEvent({type:"rowContainerHeightChanged"}))}clearOffset(){this.setUiContainerHeight(this.modelHeight),this.pixelsToShave=0,this.setDivStretchOffset(0)}setDivStretchOffset(e){const t=typeof e=="number"?Math.floor(e):null;this.divStretchOffset!==t&&(this.divStretchOffset=t,this.eventSvc.dispatchEvent({type:"heightScaleChanged"}))}setModelHeight(e){this.modelHeight=e,this.stretching=e!=null&&this.maxDivHeight>0&&e>this.maxDivHeight,this.stretching?this.calculateOffset():this.clearOffset()}getRealPixelPosition(e){return e-this.divStretchOffset}getUiBodyHeight(){const e=this.beans.ctrlsSvc.getScrollFeature().getVScrollPosition();return e.bottom-e.top}getScrollPositionForPixel(e){if(this.pixelsToShave<=0)return e;const t=this.modelHeight-this.getUiBodyHeight(),n=e/t;return this.maxScrollY*n}},moe=400,voe=class extends K{constructor(){super(...arguments),this.beanName="rowRenderer",this.destroyFuncsForColumnListeners=[],this.rowCtrlsByRowIndex={},this.zombieRowCtrls={},this.allRowCtrls=[],this.topRowCtrls=[],this.bottomRowCtrls=[],this.refreshInProgress=!1,this.dataFirstRenderedFired=!1,this.setupRangeSelectionListeners=()=>{const e=()=>{this.getAllCellCtrls().forEach(o=>o.onCellSelectionChanged())},t=()=>{this.getAllCellCtrls().forEach(o=>o.updateRangeBordersIfRangeCount())},n=()=>{this.eventSvc.addEventListener("cellSelectionChanged",e),this.eventSvc.addEventListener("columnMoved",t),this.eventSvc.addEventListener("columnPinned",t),this.eventSvc.addEventListener("columnVisible",t)},i=()=>{this.eventSvc.removeEventListener("cellSelectionChanged",e),this.eventSvc.removeEventListener("columnMoved",t),this.eventSvc.removeEventListener("columnPinned",t),this.eventSvc.removeEventListener("columnVisible",t)};this.addDestroyFunc(()=>i()),this.addManagedPropertyListeners(["enableRangeSelection","cellSelection"],()=>{ps(this.gos)?n():i()}),ps(this.gos)&&n()}}wireBeans(e){this.pageBounds=e.pageBounds,this.colModel=e.colModel,this.pinnedRowModel=e.pinnedRowModel,this.rowModel=e.rowModel,this.focusSvc=e.focusSvc,this.rowContainerHeight=e.rowContainerHeight,this.ctrlsSvc=e.ctrlsSvc}postConstruct(){this.ctrlsSvc.whenReady(this,e=>{this.gridBodyCtrl=e.gridBodyCtrl,this.initialise()})}initialise(){this.addManagedEventListeners({paginationChanged:this.onPageLoaded.bind(this),pinnedRowDataChanged:this.onPinnedRowDataChanged.bind(this),displayedColumnsChanged:this.onDisplayedColumnsChanged.bind(this),bodyScroll:this.onBodyScroll.bind(this),bodyHeightChanged:this.redraw.bind(this,{})}),this.addManagedPropertyListeners(["domLayout","embedFullWidthRows"],()=>this.onDomLayoutChanged()),this.addManagedPropertyListeners(["suppressMaxRenderedRowRestriction","rowBuffer"],()=>this.redraw()),this.addManagedPropertyListener("suppressCellFocus",i=>this.onSuppressCellFocusChanged(i.currentValue)),this.addManagedPropertyListeners(["groupSuppressBlankHeader","getBusinessKeyForNode","fullWidthCellRenderer","fullWidthCellRendererParams","suppressStickyTotalRow","groupRowRenderer","groupRowRendererParams","loadingCellRenderer","loadingCellRendererParams","detailCellRenderer","detailCellRendererParams","enableRangeSelection","enableCellTextSelection"],()=>this.redrawRows()),this.addManagedPropertyListener("cellSelection",({currentValue:i,previousValue:r})=>{(!r&&i||r&&!i)&&this.redrawRows()});const{stickyRowSvc:e,gos:t,showRowGroupCols:n}=this.beans;if(n&&this.addManagedPropertyListener("showOpenedGroup",()=>{const i=n.getShowRowGroupCols();i.length&&this.refreshCells({columns:i,force:!0})}),e)this.stickyRowFeature=e.createStickyRowFeature(this,this.createRowCon.bind(this),this.destroyRowCtrls.bind(this));else{const i=this.gridBodyCtrl;i.setStickyTopHeight(0),i.setStickyBottomHeight(0)}this.registerCellEventListeners(),this.initialiseCache(),this.printLayout=Xn(t,"print"),this.embedFullWidthRows=this.printLayout||t.get("embedFullWidthRows"),this.redrawAfterModelUpdate()}initialiseCache(){if(this.gos.get("keepDetailRows")){const e=this.getKeepDetailRowsCount(),t=e??3;this.cachedRowCtrls=new Coe(t)}}getKeepDetailRowsCount(){return this.gos.get("keepDetailRowsCount")}getStickyTopRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyTopRowCtrls)??[]}getStickyBottomRowCtrls(){var e;return((e=this.stickyRowFeature)==null?void 0:e.stickyBottomRowCtrls)??[]}updateAllRowCtrls(){var i;const e=Object.values(this.rowCtrlsByRowIndex),t=Object.values(this.zombieRowCtrls),n=((i=this.cachedRowCtrls)==null?void 0:i.getEntries())??[];t.length>0||n.length>0?this.allRowCtrls=[...e,...t,...n]:this.allRowCtrls=e}isCellBeingRendered(e,t){var r;const n=this.rowCtrlsByRowIndex[e];return!t||!n?!!n:n.isFullWidth()?!0:!!((r=this.beans.spannedRowRenderer)==null?void 0:r.getCellByPosition({rowIndex:e,column:t,rowPinned:null}))||!!n.getCellCtrl(t)||!n.isRowRendered()}updateCellFocus(e){this.getAllCellCtrls().forEach(t=>t.onCellFocused(e)),this.getFullWidthRowCtrls().forEach(t=>t.onFullWidthRowFocused(e))}onCellFocusChanged(e){if(e&&e.rowIndex!=null&&!e.rowPinned){const t=this.beans.colModel.getCol(e.column)??void 0;this.isCellBeingRendered(e.rowIndex,t)||this.redraw()}this.updateCellFocus(e)}onSuppressCellFocusChanged(e){this.getAllCellCtrls().forEach(t=>t.onSuppressCellFocusChanged(e)),this.getFullWidthRowCtrls().forEach(t=>t.onSuppressCellFocusChanged(e))}registerCellEventListeners(){this.addManagedEventListeners({cellFocused:e=>this.onCellFocusChanged(e),cellFocusCleared:()=>this.updateCellFocus(),flashCells:e=>{const{cellFlashSvc:t}=this.beans;t&&this.getAllCellCtrls().forEach(n=>t.onFlashCells(n,e))},columnHoverChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onColumnHover())},displayedColumnsChanged:()=>{this.getAllCellCtrls().forEach(e=>e.onDisplayedColumnsChanged())},displayedColumnsWidthChanged:()=>{this.printLayout&&this.getAllCellCtrls().forEach(e=>e.onLeftChanged())}}),this.setupRangeSelectionListeners(),this.refreshListenersToColumnsForCellComps(),this.addManagedEventListeners({gridColumnsChanged:this.refreshListenersToColumnsForCellComps.bind(this)}),this.addDestroyFunc(this.removeGridColumnListeners.bind(this))}removeGridColumnListeners(){this.destroyFuncsForColumnListeners.forEach(e=>e()),this.destroyFuncsForColumnListeners.length=0}refreshListenersToColumnsForCellComps(){this.removeGridColumnListeners(),this.colModel.getCols().forEach(t=>{const n=l=>{this.getAllCellCtrls().forEach(u=>{u.column===t&&l(u)})},i=()=>{n(l=>l.onLeftChanged())},r=()=>{n(l=>l.onWidthChanged())},o=()=>{n(l=>l.onFirstRightPinnedChanged())},s=()=>{n(l=>l.onLastLeftPinnedChanged())},a=()=>{n(l=>l.onColDefChanged())};t.__addEventListener("leftChanged",i),t.__addEventListener("widthChanged",r),t.__addEventListener("firstRightPinnedChanged",o),t.__addEventListener("lastLeftPinnedChanged",s),t.__addEventListener("colDefChanged",a),this.destroyFuncsForColumnListeners.push(()=>{t.__removeEventListener("leftChanged",i),t.__removeEventListener("widthChanged",r),t.__removeEventListener("firstRightPinnedChanged",o),t.__removeEventListener("lastLeftPinnedChanged",s),t.__removeEventListener("colDefChanged",a)})})}onDomLayoutChanged(){const e=Xn(this.gos,"print"),t=e||this.gos.get("embedFullWidthRows"),n=t!==this.embedFullWidthRows||this.printLayout!==e;this.printLayout=e,this.embedFullWidthRows=t,n&&this.redrawAfterModelUpdate({domLayoutChanged:!0})}datasourceChanged(){this.firstRenderedRow=0,this.lastRenderedRow=-1;const e=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(e)}onPageLoaded(e){const t={recycleRows:e.keepRenderedRows,animate:e.animate,newData:e.newData,newPage:e.newPage,onlyBody:!0};this.redrawAfterModelUpdate(t)}getAllCellsNotSpanningForColumn(e){const t=[];return this.getAllRowCtrls().forEach(n=>{var r;const i=(r=n.getCellCtrl(e,!0))==null?void 0:r.eGui;i&&t.push(i)}),t}refreshFloatingRowComps(){this.refreshFloatingRows(this.topRowCtrls,"top"),this.refreshFloatingRows(this.bottomRowCtrls,"bottom")}refreshFloatingRows(e,t){const{pinnedRowModel:n,beans:i,printLayout:r}=this,o=Object.fromEntries(e.map(a=>[a.rowNode.id,a]));n==null||n.forEachPinnedRow(t,(a,l)=>{const u=e[l];u&&n.getPinnedRowById(u.rowNode.id,t)===void 0&&(u.destroyFirstPass(),u.destroySecondPass()),a.id in o?(e[l]=o[a.id],delete o[a.id]):e[l]=new g0(a,i,!1,!1,r)});const s=(t==="top"?n==null?void 0:n.getPinnedTopRowCount():n==null?void 0:n.getPinnedBottomRowCount())??0;e.length=s}onPinnedRowDataChanged(){const e={recycleRows:!0};this.redrawAfterModelUpdate(e)}redrawRow(e,t=!1){var n,i;if(e.sticky)(n=this.stickyRowFeature)==null||n.refreshStickyNode(e);else if((i=this.cachedRowCtrls)!=null&&i.has(e)){this.cachedRowCtrls.removeRow(e);return}else{const r=o=>{const s=o[e.rowIndex];s&&s.rowNode===e&&(s.destroyFirstPass(),s.destroySecondPass(),o[e.rowIndex]=this.createRowCon(e,!1,!1))};switch(e.rowPinned){case"top":r(this.topRowCtrls);break;case"bottom":r(this.bottomRowCtrls);break;default:r(this.rowCtrlsByRowIndex),this.updateAllRowCtrls()}}t||this.dispatchDisplayedRowsChanged(!1)}redrawRows(e){if(e!=null){e==null||e.forEach(n=>this.redrawRow(n,!0)),this.dispatchDisplayedRowsChanged(!1);return}this.redrawAfterModelUpdate()}redrawAfterModelUpdate(e={}){var s;this.getLockOnRefresh();const t=(s=this.beans.focusSvc)==null?void 0:s.getFocusCellToUseAfterRefresh();this.updateContainerHeights(),this.scrollToTopIfNewData(e);const n=!e.domLayoutChanged&&!!e.recycleRows,i=e.animate&&Zl(this.gos),r=n?this.getRowsToRecycle():null;n||this.removeAllRowComps(),this.workOutFirstAndLastRowsToRender();const{stickyRowFeature:o}=this;if(o){o.checkStickyRows();const a=o.extraTopHeight+o.extraBottomHeight;a&&this.updateContainerHeights(a)}this.recycleRows(r,i),this.gridBodyCtrl.updateRowCount(),e.onlyBody||this.refreshFloatingRowComps(),this.dispatchDisplayedRowsChanged(),t!=null&&this.restoreFocusedCell(t),this.releaseLockOnRefresh()}scrollToTopIfNewData(e){var i;const t=e.newData||e.newPage,n=this.gos.get("suppressScrollOnNewData");t&&!n&&(this.gridBodyCtrl.scrollFeature.scrollToTop(),(i=this.stickyRowFeature)==null||i.resetOffsets())}updateContainerHeights(e=0){const{rowContainerHeight:t}=this;if(this.printLayout){t.setModelHeight(null);return}let n=this.pageBounds.getCurrentPageHeight();n===0&&(n=1),t.setModelHeight(n+e)}getLockOnRefresh(){var e,t;if(this.refreshInProgress)throw new Error(na(252));this.refreshInProgress=!0,(t=(e=this.beans.frameworkOverrides).getLockOnRefresh)==null||t.call(e)}releaseLockOnRefresh(){var e,t;this.refreshInProgress=!1,(t=(e=this.beans.frameworkOverrides).releaseLockOnRefresh)==null||t.call(e)}isRefreshInProgress(){return this.refreshInProgress}restoreFocusedCell(e){if(!e)return;const t=this.beans.focusSvc,n=this.findPositionToFocus(e);if(!n){t.focusHeaderPosition({headerPosition:{headerRowIndex:uo(this.beans)-1,column:e.column}});return}if(e.rowIndex!==n.rowIndex||e.rowPinned!=n.rowPinned){t.setFocusedCell({...n,preventScrollOnBrowserFocus:!0,forceBrowserFocus:!0});return}t.doesRowOrCellHaveBrowserFocus()||this.updateCellFocus(Le(this.gos,{...n,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0,type:"cellFocused"}))}findPositionToFocus(e){const{pagination:t,pageBounds:n}=this.beans;let i=e;for(i.rowPinned==null&&t&&n&&!t.isRowInPage(i.rowIndex)&&(i={rowPinned:null,rowIndex:n.getFirstRow()});i;){if(i.rowPinned==null&&n)if(i.rowIndex<n.getFirstRow()){if(i=h0(this.beans,{rowPinned:null,rowIndex:0}),!i)return null}else i.rowIndex>n.getLastRow()&&(i={rowPinned:null,rowIndex:n.getLastRow()});const r=this.getRowByPosition(i);if(r!=null&&r.isAlive())return{...r.getRowPosition(),column:e.column};i=h0(this.beans,i)}return null}getAllCellCtrls(){const e=[],t=this.getAllRowCtrls(),n=t.length;for(let i=0;i<n;i++){const r=t[i].getAllCellCtrls(),o=r.length;for(let s=0;s<o;s++)e.push(r[s])}return e}getAllRowCtrls(){const{spannedRowRenderer:e}=this.beans,t=this.getStickyTopRowCtrls(),n=this.getStickyBottomRowCtrls();return[...this.topRowCtrls,...this.bottomRowCtrls,...t,...n,...(e==null?void 0:e.getCtrls("top"))??[],...(e==null?void 0:e.getCtrls("bottom"))??[],...(e==null?void 0:e.getCtrls("center"))??[],...Object.values(this.rowCtrlsByRowIndex)]}addRenderedRowListener(e,t,n){const i=this.rowCtrlsByRowIndex[t];i&&i.addEventListener(e,n)}refreshCells(e={}){const t={forceRefresh:e.force,newData:!1,suppressFlash:e.suppressFlash};for(const n of this.getCellCtrls(e.rowNodes,e.columns))n.refreshOrDestroyCell(t);this.refreshFullWidth(e.rowNodes)}refreshFullWidth(e){if(!e)return;let t=!1;for(const n of this.getRowCtrls(e)){if(!n.isFullWidth())continue;n.refreshFullWidth()||(t=!0,this.redrawRow(n.rowNode,!0))}t&&this.dispatchDisplayedRowsChanged(!1)}getRowCtrls(e){const t=hC(e),n=this.getAllRowCtrls();return!e||!t?n:n.filter(i=>{const r=i.rowNode;return pC(r,t)})}getCellCtrls(e,t){let n;ue(t)&&(n={},t.forEach(r=>{const o=this.colModel.getCol(r);ue(o)&&(n[o.getId()]=!0)}));const i=[];return this.getRowCtrls(e).forEach(r=>{r.getAllCellCtrls().forEach(o=>{const s=o.column.getId();n&&!n[s]||i.push(o)})}),i}destroy(){this.removeAllRowComps(!0),super.destroy()}removeAllRowComps(e=!1){var n;const t=Object.keys(this.rowCtrlsByRowIndex);this.removeRowCtrls(t,e),(n=this.stickyRowFeature)==null||n.destroyStickyCtrls()}getRowsToRecycle(){const e=[];for(const n of Object.keys(this.rowCtrlsByRowIndex))this.rowCtrlsByRowIndex[n].rowNode.id==null&&e.push(n);this.removeRowCtrls(e);const t={};for(const n of Object.values(this.rowCtrlsByRowIndex)){const i=n.rowNode;t[i.id]=n}return this.rowCtrlsByRowIndex={},t}removeRowCtrls(e,t=!1){e.forEach(n=>{const i=this.rowCtrlsByRowIndex[n];i&&(i.destroyFirstPass(t),i.destroySecondPass()),delete this.rowCtrlsByRowIndex[n]})}onBodyScroll(e){e.direction==="vertical"&&this.redraw({afterScroll:!0})}redraw(e={}){const{focusSvc:t,animationFrameSvc:n}=this.beans,{afterScroll:i}=e;let r;const o=this.stickyRowFeature;o&&(r=(t==null?void 0:t.getFocusCellToUseAfterRefresh())||void 0);const s=this.firstRenderedRow,a=this.lastRenderedRow;this.workOutFirstAndLastRowsToRender();let l=!1;if(o){l=o.checkStickyRows();const c=o.extraTopHeight+o.extraBottomHeight;c&&this.updateContainerHeights(c)}const u=this.firstRenderedRow!==s||this.lastRenderedRow!==a;if(!(i&&!l&&!u)&&(this.getLockOnRefresh(),this.recycleRows(null,!1,i),this.releaseLockOnRefresh(),this.dispatchDisplayedRowsChanged(i&&!l),r!=null)){const c=t==null?void 0:t.getFocusCellToUseAfterRefresh();r!=null&&c==null&&(n==null||n.flushAllFrames(),this.restoreFocusedCell(r))}}removeRowCompsNotToDraw(e,t){const n={};e.forEach(o=>n[o]=!0);const r=Object.keys(this.rowCtrlsByRowIndex).filter(o=>!n[o]);this.removeRowCtrls(r,t)}calculateIndexesToDraw(e){var s,a;const t=[];for(let l=this.firstRenderedRow;l<=this.lastRenderedRow;l++)t.push(l);const n=this.beans.pagination,i=(a=(s=this.beans.focusSvc)==null?void 0:s.getFocusedCell())==null?void 0:a.rowIndex;i!=null&&(i<this.firstRenderedRow||i>this.lastRenderedRow)&&(!n||n.isRowInPage(i))&&t.push(i);const r=l=>{const u=l.rowNode.rowIndex;u==null||u===i||(u<this.firstRenderedRow||u>this.lastRenderedRow)&&this.doNotUnVirtualiseRow(l)&&t.push(u)};for(const l of Object.values(this.rowCtrlsByRowIndex))r(l);if(e)for(const l of Object.values(e))r(l);t.sort((l,u)=>l-u);const o=[];for(let l=0;l<t.length;l++){const u=t[l],c=this.rowModel.getRow(u);c&&!c.sticky&&o.push(u)}return o}recycleRows(e,t=!1,n=!1){const i=this.calculateIndexesToDraw(e);if((this.printLayout||n)&&(t=!1),this.removeRowCompsNotToDraw(i,!t),i.forEach(r=>{this.createOrUpdateRowCtrl(r,e,t,n)}),e){const{animationFrameSvc:r}=this.beans;(r==null?void 0:r.active)&&n&&!this.printLayout?r.addDestroyTask(()=>{this.destroyRowCtrls(e,t),this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}):this.destroyRowCtrls(e,t)}this.updateAllRowCtrls()}dispatchDisplayedRowsChanged(e=!1){this.eventSvc.dispatchEvent({type:"displayedRowsChanged",afterScroll:e})}onDisplayedColumnsChanged(){const{visibleCols:e}=this.beans,t=e.isPinningLeft(),n=e.isPinningRight();(this.pinningLeft!==t||n!==this.pinningRight)&&(this.pinningLeft=t,this.pinningRight=n,this.embedFullWidthRows&&this.redrawFullWidthEmbeddedRows())}redrawFullWidthEmbeddedRows(){const e=[];this.getFullWidthRowCtrls().forEach(t=>{const n=t.rowNode.rowIndex;e.push(n.toString())}),this.refreshFloatingRowComps(),this.removeRowCtrls(e),this.redraw({afterScroll:!0})}getFullWidthRowCtrls(e){const t=hC(e);return this.getAllRowCtrls().filter(n=>{if(!n.isFullWidth())return!1;const i=n.rowNode;return!(t!=null&&!pC(i,t))})}createOrUpdateRowCtrl(e,t,n,i){let r,o=this.rowCtrlsByRowIndex[e];if(o||(r=this.rowModel.getRow(e),ue(r)&&ue(t)&&t[r.id]&&r.alreadyRendered&&(o=t[r.id],t[r.id]=null)),!o)if(r||(r=this.rowModel.getRow(e)),ue(r))o=this.createRowCon(r,n,i);else return;return r&&(r.alreadyRendered=!0),this.rowCtrlsByRowIndex[e]=o,o}destroyRowCtrls(e,t){const n=[];if(e){for(const i of Object.values(e))if(i){if(this.cachedRowCtrls&&i.isCacheable()){this.cachedRowCtrls.addRow(i);continue}if(i.destroyFirstPass(!t),t){const r=i.instanceId;this.zombieRowCtrls[r]=i,n.push(()=>{i.destroySecondPass(),delete this.zombieRowCtrls[r]})}else i.destroySecondPass()}}t&&(n.push(()=>{this.updateAllRowCtrls(),this.dispatchDisplayedRowsChanged()}),window.setTimeout(()=>n.forEach(i=>i()),moe))}getRowBuffer(){return this.gos.get("rowBuffer")}getRowBufferInPixels(){const e=this.getRowBuffer(),t=Ya(this.beans);return e*t}workOutFirstAndLastRowsToRender(){const{rowContainerHeight:e,pageBounds:t,rowModel:n}=this;e.updateOffset();let i,r;if(!n.isRowsToRender())i=0,r=-1;else if(this.printLayout)this.beans.environment.refreshRowHeightVariable(),i=t.getFirstRow(),r=t.getLastRow();else{const c=this.getRowBufferInPixels(),d=this.ctrlsSvc.getScrollFeature(),h=this.gos.get("suppressRowVirtualisation");let p=!1,f,g;do{const y=t.getPixelOffset(),{pageFirstPixel:x,pageLastPixel:E}=t.getCurrentPagePixelRange(),R=e.divStretchOffset,T=d.getVScrollPosition(),F=T.top,D=T.bottom;h?(f=x+R,g=E+R):(f=Math.max(F+y-c,x)+R,g=Math.min(D+y+c,E)+R),this.firstVisibleVPixel=Math.max(F+y,x)+R,this.lastVisibleVPixel=Math.min(D+y,E)+R,p=this.ensureAllRowsInRangeHaveHeightsCalculated(f,g)}while(p);let m=n.getRowIndexAtPixel(f),v=n.getRowIndexAtPixel(g);const b=t.getFirstRow(),S=t.getLastRow();m<b&&(m=b),v>S&&(v=S),i=m,r=v}const o=Xn(this.gos,"normal"),s=this.gos.get("suppressMaxRenderedRowRestriction"),a=Math.max(this.getRowBuffer(),500);o&&!s&&r-i>a&&(r=i+a);const l=i!==this.firstRenderedRow,u=r!==this.lastRenderedRow;(l||u)&&(this.firstRenderedRow=i,this.lastRenderedRow=r,this.eventSvc.dispatchEvent({type:"viewportChanged",firstRow:i,lastRow:r}))}dispatchFirstDataRenderedEvent(){this.dataFirstRenderedFired||(this.dataFirstRenderedFired=!0,ys(this.beans,()=>{this.beans.eventSvc.dispatchEvent({type:"firstDataRendered",firstRow:this.firstRenderedRow,lastRow:this.lastRenderedRow})}))}ensureAllRowsInRangeHaveHeightsCalculated(e,t){var a,l;const n=(a=this.pinnedRowModel)==null?void 0:a.ensureRowHeightsValid(),i=(l=this.stickyRowFeature)==null?void 0:l.ensureRowHeightsValid(),{pageBounds:r,rowModel:o}=this,s=o.ensureRowHeightsValid(e,t,r.getFirstRow(),r.getLastRow());return(s||i)&&this.eventSvc.dispatchEvent({type:"recalculateRowBounds"}),i||s||n?(this.updateContainerHeights(),!0):!1}doNotUnVirtualiseRow(e){const i=e.rowNode,r=this.focusSvc.isRowFocused(i.rowIndex,i.rowPinned),o=e.editing,s=i.detail;return r||o||s?!!this.isRowPresent(i):!1}isRowPresent(e){var t;return this.rowModel.isRowPresent(e)?((t=this.beans.pagination)==null?void 0:t.isRowInPage(e.rowIndex))??!0:!1}createRowCon(e,t,n){var s,a;const i=((s=this.cachedRowCtrls)==null?void 0:s.getRow(e))??null;if(i)return i;const r=n&&!this.printLayout&&!!((a=this.beans.animationFrameSvc)!=null&&a.active);return new g0(e,this.beans,t,r,this.printLayout)}getRenderedNodes(){const e=Object.values(this.rowCtrlsByRowIndex).map(i=>i.rowNode),t=this.getStickyTopRowCtrls().map(i=>i.rowNode),n=this.getStickyBottomRowCtrls().map(i=>i.rowNode);return[...t,...e,...n]}getRowByPosition(e){let t;const{rowIndex:n}=e;switch(e.rowPinned){case"top":t=this.topRowCtrls[n];break;case"bottom":t=this.bottomRowCtrls[n];break;default:t=this.rowCtrlsByRowIndex[n],t||(t=this.getStickyTopRowCtrls().find(i=>i.rowNode.rowIndex===n)||null,t||(t=this.getStickyBottomRowCtrls().find(i=>i.rowNode.rowIndex===n)||null));break}return t}isRangeInRenderedViewport(e,t){if(e==null||t==null)return!1;const i=e>this.lastRenderedRow;return!(t<this.firstRenderedRow)&&!i}},Coe=class{constructor(e){this.entriesMap={},this.entriesList=[],this.maxCount=e}addRow(e){if(this.entriesMap[e.rowNode.id]=e,this.entriesList.push(e),e.setCached(!0),this.entriesList.length>this.maxCount){const t=this.entriesList[0];t.destroyFirstPass(),t.destroySecondPass(),this.removeFromCache(t)}}getRow(e){if(e==null||e.id==null)return null;const t=this.entriesMap[e.id];return t?(this.removeFromCache(t),t.setCached(!1),t.rowNode!=e?null:t):null}has(e){return this.entriesMap[e.id]!=null}removeRow(e){const t=e.id,n=this.entriesMap[t];delete this.entriesMap[t],Ur(this.entriesList,n)}removeFromCache(e){const t=e.rowNode.id;delete this.entriesMap[t],Ur(this.entriesList,e)}getEntries(){return this.entriesList}};function hC(e){if(!e)return;const t={top:{},bottom:{},normal:{}};return e.forEach(n=>{const i=n.id;switch(n.rowPinned){case"top":t.top[i]=n;break;case"bottom":t.bottom[i]=n;break;default:t.normal[i]=n;break}}),t}function pC(e,t){const n=e.id;switch(e.rowPinned){case"top":return t.top[n]!=null;case"bottom":return t.bottom[n]!=null;default:return t.normal[n]!=null}}var boe=class extends K{constructor(){super(...arguments),this.beanName="rowNodeSorter"}postConstruct(){const{gos:e}=this;this.isAccentedSort=e.get("accentedSort"),this.primaryColumnsSortGroups=to(e),this.addManagedPropertyListener("accentedSort",t=>this.isAccentedSort=t.currentValue),this.addManagedPropertyListener("autoGroupColumnDef",()=>this.primaryColumnsSortGroups=to(e))}doFullSort(e,t){const n=e.map((i,r)=>({currentPos:r,rowNode:i}));return n.sort(this.compareRowNodes.bind(this,t)),n.map(i=>i.rowNode)}compareRowNodes(e,t,n){const i=t.rowNode,r=n.rowNode;for(let o=0,s=e.length;o<s;o++){const a=e[o],l=a.sort==="desc",u=this.getValue(i,a.column),c=this.getValue(r,a.column);let d;const h=this.getComparator(a,i);if(h?d=h(u,c,i,r,l):d=LX(u,c,this.isAccentedSort),!isNaN(d)&&d!==0)return a.sort==="asc"?d:d*-1}return t.currentPos-n.currentPos}getComparator(e,t){const n=e.column,i=n.getColDef().comparator;if(i!=null)return i;if(!n.getColDef().showRowGroup)return;const r=!t.group&&n.getColDef().field;if(!r)return;const o=this.beans.colModel.getColDefCol(r);if(o)return o.getColDef().comparator}getValue(e,t){var a,l;const{valueSvc:n,colModel:i,showRowGroupCols:r,gos:o}=this.beans;if(!this.primaryColumnsSortGroups)return n.getValue(t,e,!1);if(e.rowGroupColumn===t){if(qy(o,i.isPivotActive())){const d=(a=e.allLeafChildren)==null?void 0:a[0];return d?n.getValue(t,d,!1):void 0}const c=r==null?void 0:r.getShowRowGroupCol(t.getId());return c?(l=e.groupData)==null?void 0:l[c.getId()]:void 0}if(!(e.group&&t.getColDef().showRowGroup))return n.getValue(t,e,!1)}};function yoe(e){var t;(t=e.sortSvc)==null||t.onSortChanged("api")}var ec=(e,t)=>({tag:"span",ref:`eSort${e}`,cls:`ag-sort-indicator-icon ag-sort-${t} ag-hidden`,attrs:{"aria-hidden":"true"}}),woe={tag:"span",cls:"ag-sort-indicator-container",children:[ec("Order","order"),ec("Asc","ascending-icon"),ec("Desc","descending-icon"),ec("Mixed","mixed-icon"),ec("None","none-icon")]},fw=class extends pt{constructor(e){super(),this.eSortOrder=le,this.eSortAsc=le,this.eSortDesc=le,this.eSortMixed=le,this.eSortNone=le,e||this.setTemplate(woe)}attachCustomElements(e,t,n,i,r){this.eSortOrder=e,this.eSortAsc=t,this.eSortDesc=n,this.eSortMixed=i,this.eSortNone=r}setupSort(e,t=!1){if(this.column=e,this.suppressOrder=t,this.setupMultiSortIndicator(),!e.isSortable()&&!e.getColDef().showRowGroup)return;this.addInIcon("sortAscending",this.eSortAsc,e),this.addInIcon("sortDescending",this.eSortDesc,e),this.addInIcon("sortUnSort",this.eSortNone,e);const n=this.updateIcons.bind(this),i=this.onSortChanged.bind(this);this.addManagedPropertyListener("unSortIcon",n),this.addManagedEventListeners({newColumnsLoaded:n,sortChanged:i,columnRowGroupChanged:i}),this.onSortChanged()}addInIcon(e,t,n){if(t==null)return;const i=br(e,this.beans,n);i&&t.appendChild(i)}onSortChanged(){this.updateIcons(),this.suppressOrder||this.updateSortOrder()}updateIcons(){const{eSortAsc:e,eSortDesc:t,eSortNone:n,column:i,gos:r,beans:o}=this,s=o.sortSvc.getDisplaySortForColumn(i);if(e&&Ht(e,s==="asc",{skipAriaHidden:!0}),t&&Ht(t,s==="desc",{skipAriaHidden:!0}),n){const a=!i.getColDef().unSortIcon&&!r.get("unSortIcon"),l=s==null;Ht(n,!a&&l,{skipAriaHidden:!0})}}setupMultiSortIndicator(){const{eSortMixed:e,column:t,gos:n}=this;this.addInIcon("sortUnSort",e,t);const i=t.getColDef().showRowGroup;to(n)&&i&&(this.addManagedEventListeners({sortChanged:this.updateMultiSortIndicator.bind(this),columnRowGroupChanged:this.updateMultiSortIndicator.bind(this)}),this.updateMultiSortIndicator())}updateMultiSortIndicator(){const{eSortMixed:e,beans:t,column:n}=this;if(e){const i=t.sortSvc.getDisplaySortForColumn(n)==="mixed";Ht(e,i,{skipAriaHidden:!0})}}updateSortOrder(){const{eSortOrder:e,column:t,beans:{sortSvc:n}}=this;if(!e)return;const i=n.getColumnsWithSortingOrdered(),r=n.getDisplaySortIndexForColumn(t)??-1,o=i.some(a=>n.getDisplaySortIndexForColumn(a)??!1),s=r>=0&&o;Ht(e,s,{skipAriaHidden:!0}),r>=0?e.textContent=(r+1).toString():si(e)}},Soe={selector:"AG-SORT-INDICATOR",component:fw},Id=["asc","desc",null],xoe=class extends K{constructor(){super(...arguments),this.beanName="sortSvc"}progressSort(e,t,n){const i=this.getNextSortDirection(e);this.setSortForColumn(e,i,t,n)}progressSortFromEvent(e,t){const i=this.gos.get("multiSortKey")==="ctrl"?t.ctrlKey||t.metaKey:t.shiftKey;this.progressSort(e,i,"uiColumnSorted")}setSortForColumn(e,t,n,i){var c;t!=="asc"&&t!=="desc"&&(t=null);const{gos:r,showRowGroupCols:o}=this.beans,s=to(r);let a=[e];if(s&&e.getColDef().showRowGroup){const d=(c=o==null?void 0:o.getSourceColumnsForGroupColumn)==null?void 0:c.call(o,e),h=d==null?void 0:d.filter(p=>p.isSortable());h&&(a=[e,...h])}a.forEach(d=>this.setColSort(d,t,i));const l=(n||r.get("alwaysMultiSort"))&&!r.get("suppressMultiSort"),u=[];if(!l){const d=this.clearSortBarTheseColumns(a,i);u.push(...d)}this.updateSortIndex(e),u.push(...a),this.dispatchSortChangedEvents(i,u)}updateSortIndex(e){const{gos:t,colModel:n,showRowGroupCols:i}=this.beans,r=to(t),o=i==null?void 0:i.getShowRowGroupCol(e.getId()),s=r&&o||e,a=this.getColumnsWithSortingOrdered();n.forAllCols(c=>this.setColSortIndex(c,null));const l=a.filter(c=>r&&c.getColDef().showRowGroup?!1:c!==s);(s.getSort()?[...l,s]:l).forEach((c,d)=>this.setColSortIndex(c,d))}onSortChanged(e,t){this.dispatchSortChangedEvents(e,t)}isSortActive(){let e=!1;return this.beans.colModel.forAllCols(t=>{t.getSort()&&(e=!0)}),e}dispatchSortChangedEvents(e,t){const n={type:"sortChanged",source:e};t&&(n.columns=t),this.eventSvc.dispatchEvent(n)}clearSortBarTheseColumns(e,t){const n=[];return this.beans.colModel.forAllCols(i=>{e.includes(i)||(i.getSort()&&n.push(i),this.setColSort(i,void 0,t))}),n}getNextSortDirection(e){const t=e.getColDef().sortingOrder??this.gos.get("sortingOrder")??Id,n=t.indexOf(e.getSort()),i=n<0,r=n==t.length-1;return i||r?t[0]:t[n+1]}getIndexedSortMap(){const{gos:e,colModel:t,showRowGroupCols:n,rowGroupColsSvc:i}=this.beans;let r=[];if(t.forAllCols(u=>{u.getSort()&&r.push(u)}),t.isPivotMode()){const u=to(e);r=r.filter(c=>{const d=!!c.getAggFunc(),h=!c.isPrimary(),p=u?n==null?void 0:n.getShowRowGroupCol(c.getId()):c.getColDef().showRowGroup;return d||h||p})}const o=(i==null?void 0:i.columns.filter(u=>!!u.getSort()))??[],s={};r.forEach((u,c)=>s[u.getId()]=c),r.sort((u,c)=>{const d=u.getSortIndex(),h=c.getSortIndex();if(d!=null&&h!=null)return d-h;if(d==null&&h==null){const p=s[u.getId()],f=s[c.getId()];return p>f?1:-1}else return h==null?-1:1});const a=to(e)&&!!o.length;a&&(r=[...new Set(r.map(u=>(n==null?void 0:n.getShowRowGroupCol(u.getId()))??u))]);const l=new Map;return r.forEach((u,c)=>l.set(u,c)),a&&o.forEach(u=>{const c=n.getShowRowGroupCol(u.getId());l.set(u,l.get(c))}),l}getColumnsWithSortingOrdered(){return[...this.getIndexedSortMap().entries()].sort(([,e],[,t])=>e-t).map(([e])=>e)}getSortModel(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),colId:e.getId()}))}getSortOptions(){return this.getColumnsWithSortingOrdered().filter(e=>e.getSort()).map(e=>({sort:e.getSort(),column:e}))}canColumnDisplayMixedSort(e){const t=to(this.gos),n=!!e.getColDef().showRowGroup;return t&&n}getDisplaySortForColumn(e){var s;const t=(s=this.beans.showRowGroupCols)==null?void 0:s.getSourceColumnsForGroupColumn(e);if(!this.canColumnDisplayMixedSort(e)||!(t!=null&&t.length))return e.getSort();const i=e.getColDef().field!=null||!!e.getColDef().valueGetter?[e,...t]:t,r=i[0].getSort();return i.every(a=>a.getSort()==r)?r:"mixed"}getDisplaySortIndexForColumn(e){return this.getIndexedSortMap().get(e)}setupHeader(e,t,n){let i=0;e.addManagedListeners(t,{movingChanged:()=>{i=Date.now()}}),n&&e.addManagedElementListeners(n,{click:o=>{const s=t.isMoving(),l=Date.now()-i<50;s||l||this.progressSortFromEvent(t,o)}});const r=()=>{var s;const o=t.getSort();if(e.addOrRemoveCssClass("ag-header-cell-sorted-asc",o==="asc"),e.addOrRemoveCssClass("ag-header-cell-sorted-desc",o==="desc"),e.addOrRemoveCssClass("ag-header-cell-sorted-none",!o),t.getColDef().showRowGroup){const a=(s=this.beans.showRowGroupCols)==null?void 0:s.getSourceColumnsForGroupColumn(t),u=!(a==null?void 0:a.every(c=>t.getSort()==c.getSort()));e.addOrRemoveCssClass("ag-header-cell-sorted-mixed",u)}};e.addManagedEventListeners({sortChanged:r,columnRowGroupChanged:r})}initCol(e){const{sort:t,initialSort:n,sortIndex:i,initialSortIndex:r}=e.colDef;t!==void 0?(t==="asc"||t==="desc")&&(e.sort=t):(n==="asc"||n==="desc")&&(e.sort=n),i!==void 0?i!==null&&(e.sortIndex=i):r!==null&&(e.sortIndex=r)}updateColSort(e,t,n){t!==void 0&&(t==="desc"||t==="asc"?this.setColSort(e,t,n):this.setColSort(e,void 0,n))}setColSort(e,t,n){e.sort!==t&&(e.sort=t,e.dispatchColEvent("sortChanged",n)),e.dispatchStateUpdatedEvent("sort")}setColSortIndex(e,t){e.sortIndex=t,e.dispatchStateUpdatedEvent("sortIndex")}createSortIndicator(e){return new fw(e)}getSortIndicatorSelector(){return Soe}},TR={moduleName:"Sort",version:pe,beans:[xoe,boe],apiFunctions:{onSortChanged:yoe},userComponents:{agSortIndicator:fw},icons:{sortAscending:"asc",sortDescending:"desc",sortUnSort:"none"}},Eoe=class extends K{constructor(){super(...arguments),this.beanName="syncSvc",this.waitingForColumns=!1}postConstruct(){this.addManagedPropertyListener("columnDefs",e=>this.setColumnDefs(e))}start(){this.beans.ctrlsSvc.whenReady(this,()=>{const e=this.gos.get("columnDefs");e?this.setColumnsAndData(e):this.waitingForColumns=!0,this.gridReady()})}setColumnsAndData(e){const{colModel:t,rowModel:n}=this.beans;t.setColumnDefs(e??[],"gridInitializing"),n.start()}gridReady(){const{eventSvc:e,gos:t}=this;e.dispatchEvent({type:"gridReady"}),ca(t,`initialised successfully, enterprise = ${t.isModuleRegistered("EnterpriseCore")}`)}setColumnDefs(e){const t=this.gos.get("columnDefs");if(t){if(this.waitingForColumns){this.waitingForColumns=!1,this.setColumnsAndData(t);return}this.beans.colModel.setColumnDefs(t,eu(e.source))}}};function koe(e){var t;(t=e.valueCache)==null||t.expire()}function Foe(e,t){const{colKey:n,rowNode:i,useFormatter:r}=t,o=e.colModel.getColDefCol(n)??e.colModel.getCol(n);if(Bt(o))return null;const s=e.valueSvc.getValueForDisplay(o,i);return r?e.valueSvc.formatValue(o,i,s)??rs(s,!0):s}var v0=class{constructor(e,t){this.active=!0,this.nodeIdsToColumns={},this.mapToItems={},this.keepingColumns=e,this.pathRoot={rowNode:t,children:null},this.mapToItems[t.id]=this.pathRoot}depthFirstSearchChangedPath(e,t){const{rowNode:n,children:i}=e;if(i)for(let r=0;r<i.length;++r)this.depthFirstSearchChangedPath(i[r],t);t(n)}depthFirstSearchEverything(e,t,n){const i=e.childrenAfterGroup;if(i)for(let r=0,o=i.length;r<o;++r){const s=i[r];s.childrenAfterGroup?this.depthFirstSearchEverything(s,t,n):n&&t(s)}t(e)}forEachChangedNodeDepthFirst(e,t=!1,n=!1){this.active&&!n?this.depthFirstSearchChangedPath(this.pathRoot,e):this.depthFirstSearchEverything(this.pathRoot.rowNode,e,t)}executeFromRootNode(e){e(this.pathRoot.rowNode)}createPathItems(e){let t=e,n=0;for(;!this.mapToItems[t.id];){const i={rowNode:t,children:null};this.mapToItems[t.id]=i,n++,t=t.parent}return n}populateColumnsMap(e,t){if(!this.keepingColumns||!t)return;let n=e;for(;n;)this.nodeIdsToColumns[n.id]||(this.nodeIdsToColumns[n.id]={}),t.forEach(i=>this.nodeIdsToColumns[n.id][i.getId()]=!0),n=n.parent}linkPathItems(e,t){let n=e;for(let i=0;i<t;i++){const r=this.mapToItems[n.id],o=this.mapToItems[n.parent.id];o.children||(o.children=[]),o.children.push(r),n=n.parent}}addParentNode(e,t){if(!e||e.isRowPinned())return;const n=this.createPathItems(e);this.linkPathItems(e,n),this.populateColumnsMap(e,t)}canSkip(e){return this.active&&!this.mapToItems[e.id]}getValueColumnsForNode(e,t){if(!this.keepingColumns)return t;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>n[r.getId()])}getNotValueColumnsForNode(e,t){if(!this.keepingColumns)return null;const n=this.nodeIdsToColumns[e.id];return t.filter(r=>!n[r.getId()])}},Toe="paste",Aoe=class extends K{constructor(){super(...arguments),this.beanName="changeDetectionSvc",this.clientSideRowModel=null}postConstruct(){const{gos:e,rowModel:t}=this.beans;Ci(e)&&(this.clientSideRowModel=t),this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this)})}onCellValueChanged(e){const{gos:t,rowRenderer:n}=this.beans;if(e.source===Toe||t.get("suppressChangeDetection"))return;const i=e.node,r=[i],o=this.clientSideRowModel,s=o==null?void 0:o.rootNode;if(s&&!i.isRowPinned()){const a=t.get("aggregateOnlyChangedColumns"),l=new v0(a,s);l.addParentNode(i.parent,[e.column]),o.doAggregate(l),l.forEachChangedNodeDepthFirst(u=>{r.push(u),u.sibling&&r.push(u.sibling)})}n.refreshCells({rowNodes:r})}},Roe=class extends K{constructor(){super(...arguments),this.beanName="expressionSvc",this.cache={}}evaluate(e,t){if(typeof e=="string")return this.evaluateExpression(e,t);dt(15,{expression:e})}evaluateExpression(e,t){try{return this.createExpressionFunction(e)(t.value,t.context,t.oldValue,t.newValue,t.value,t.node,t.data,t.colDef,t.rowIndex,t.api,t.getValue,t.column,t.columnGroup)}catch(n){return dt(16,{expression:e,params:t,e:n}),null}}createExpressionFunction(e){const t=this.cache;if(t[e])return t[e];const n=this.createFunctionBody(e),i=new Function("x, ctx, oldValue, newValue, value, node, data, colDef, rowIndex, api, getValue, column, columnGroup",n);return t[e]=i,i}createFunctionBody(e){return e.indexOf("return")>=0?e:"return "+e+";"}},Doe=class extends K{constructor(){super(...arguments),this.beanName="valueCache",this.cacheVersion=0}postConstruct(){const e=this.gos;this.active=e.get("valueCache"),this.neverExpires=e.get("valueCacheNeverExpires")}onDataChanged(){this.neverExpires||this.expire()}expire(){this.cacheVersion++}setValue(e,t,n){if(this.active){const i=this.cacheVersion;e.__cacheVersion!==i&&(e.__cacheVersion=i,e.__cacheData={}),e.__cacheData[t]=n}}getValue(e,t){if(!(!this.active||e.__cacheVersion!==this.cacheVersion))return e.__cacheData[t]}},Moe={moduleName:"ValueCache",version:pe,beans:[Doe],apiFunctions:{expireValueCache:koe}},Poe={moduleName:"Expression",version:pe,beans:[Roe]},Ioe={moduleName:"ChangeDetection",version:pe,beans:[Aoe]},Ooe={moduleName:"CellApi",version:pe,apiFunctions:{getCellValue:Foe}},Loe=class extends K{constructor(){super(...arguments),this.beanName="valueSvc",this.initialised=!1,this.isSsrm=!1}wireBeans(e){this.expressionSvc=e.expressionSvc,this.colModel=e.colModel,this.valueCache=e.valueCache,this.dataTypeSvc=e.dataTypeSvc}postConstruct(){this.initialised||this.init()}init(){this.executeValueGetter=this.valueCache?this.executeValueGetterWithValueCache.bind(this):this.executeValueGetterWithoutValueCache.bind(this),this.isSsrm=Vu(this.gos),this.cellExpressions=this.gos.get("enableCellExpressions"),this.isTreeData=this.gos.get("treeData"),this.initialised=!0;const e=t=>this.callColumnCellValueChangedHandler(t);this.eventSvc.addEventListener("cellValueChanged",e,!0),this.addDestroyFunc(()=>this.eventSvc.removeEventListener("cellValueChanged",e,!0)),this.addManagedPropertyListener("treeData",t=>this.isTreeData=t.currentValue)}getValueForDisplay(e,t){const n=e.getColDef().showRowGroup;if(n!=null){if(typeof n=="string"){const l=this.getDisplayedNode(t,e,!0);if(l)return this.getValue(e,l)}const a=this.getValue(e,t);if(a==null){const l=this.getDisplayedNode(t,e);if(l)return this.getValue(e,l)}return a}const i=t.leafGroup&&this.colModel.isPivotMode(),r=t.group&&t.expanded&&!t.footer&&!i,o=this.gos.get("groupSuppressBlankHeader")||!t.sibling,s=r&&!o;return this.getValue(e,t,s)}getValue(e,t,n=!1){var p;if(this.initialised||this.init(),!t)return;const i=e.getColDef(),r=i.field,o=e.getColId(),s=t.data;let a;const l=i.showRowGroup;if(typeof l=="string"&&(((p=this.beans.rowGroupColsSvc)==null?void 0:p.getColumnIndex(l))??-1)>t.level)return null;const u=t.groupData&&t.groupData[o]!==void 0,c=!n&&t.aggData&&t.aggData[o]!==void 0,d=this.isSsrm&&n&&!!e.getColDef().aggFunc,h=this.isSsrm&&t.footer&&t.field&&(e.getColDef().showRowGroup===!0||e.getColDef().showRowGroup===t.field);if(this.isTreeData&&c?a=t.aggData[o]:this.isTreeData&&i.valueGetter?a=this.executeValueGetter(i.valueGetter,s,e,t):this.isTreeData&&r&&s?a=Wc(s,r,e.isFieldContainsDots()):u?a=t.groupData[o]:c?a=t.aggData[o]:i.valueGetter?a=this.executeValueGetter(i.valueGetter,s,e,t):h?a=Wc(s,t.field,e.isFieldContainsDots()):r&&s&&!d&&(a=Wc(s,r,e.isFieldContainsDots())),this.cellExpressions&&typeof a=="string"&&a.indexOf("=")===0){const f=a.substring(1);a=this.executeValueGetter(f,s,e,t)}return a}parseValue(e,t,n,i){var s;const r=e.getColDef(),o=r.valueParser;if(ue(o)){const a=Le(this.gos,{node:t,data:t==null?void 0:t.data,oldValue:i,newValue:n,colDef:r,column:e});return typeof o=="function"?o(a):(s=this.expressionSvc)==null?void 0:s.evaluate(o,a)}return n}getDeleteValue(e,t){return ue(e.getColDef().valueParser)?this.parseValue(e,t,"",this.getValueForDisplay(e,t))??null:null}formatValue(e,t,n,i,r=!0){let o=null,s;const a=e.getColDef();if(i?s=i:r&&(s=a.valueFormatter),s){const l=Le(this.gos,{value:n,node:t,data:t?t.data:null,colDef:a,column:e});typeof s=="function"?o=s(l):o=this.expressionSvc?this.expressionSvc.evaluate(s,l):null}else if(a.refData)return a.refData[n]||"";return o==null&&Array.isArray(n)&&(o=n.join(", ")),o}getDisplayedNode(e,t,n=!1){var l,u,c;const i=this.gos,r=i.get("groupHideOpenParents"),o=i.get("showOpenedGroup")&&!n;if(!r&&!o)return;const s=t.colDef.showRowGroup;if(s===!0)return e.group?void 0:e.parent??void 0;let a=e;for(;a&&((l=a.rowGroupColumn)==null?void 0:l.getId())!=s;){const d=a===((c=(u=a.parent)==null?void 0:u.childrenAfterSort)==null?void 0:c[0]);if(!o&&!d)return;a=a.parent}if(a!==e)return a??void 0}setValue(e,t,n,i){var c,d;const r=this.colModel.getColDefCol(t);if(!e||!r)return!1;Bt(e.data)&&(e.data={});const{field:o,valueSetter:s}=r.getColDef();if(Bt(o)&&Bt(s))return ie(17),!1;if(this.dataTypeSvc&&!this.dataTypeSvc.checkType(r,n))return ie(135),!1;const a=Le(this.gos,{node:e,data:e.data,oldValue:this.getValue(r,e),newValue:n,colDef:r.getColDef(),column:r});a.newValue=n;let l;if(ue(s)?typeof s=="function"?l=s(a):l=(c=this.expressionSvc)==null?void 0:c.evaluate(s,a):l=this.setValueUsingField(e.data,o,n,r.isFieldContainsDots()),l===void 0&&(l=!0),!l)return!1;e.resetQuickFilterAggregateText(),(d=this.valueCache)==null||d.onDataChanged();const u=this.getValue(r,e);return this.eventSvc.dispatchEvent({type:"cellValueChanged",event:null,rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:a.column,colDef:a.colDef,data:e.data,node:e,oldValue:a.oldValue,newValue:u,value:u,source:i}),!0}callColumnCellValueChangedHandler(e){const t=e.colDef.onCellValueChanged;typeof t=="function"&&this.beans.frameworkOverrides.wrapOutgoing(()=>{t({node:e.node,data:e.data,oldValue:e.oldValue,newValue:e.newValue,colDef:e.colDef,column:e.column,api:e.api,context:e.context})})}setValueUsingField(e,t,n,i){if(!t)return!1;let r=!1;if(!i)r=e[t]===n,r||(e[t]=n);else{const o=t.split(".");let s=e;for(;o.length>0&&s;){const a=o.shift();o.length===0?(r=s[a]===n,r||(s[a]=n)):s=s[a]}}return!r}executeValueGetterWithValueCache(e,t,n,i){const r=n.getColId(),o=this.valueCache.getValue(i,r);if(o!==void 0)return o;const s=this.executeValueGetterWithoutValueCache(e,t,n,i);return this.valueCache.setValue(i,r,s),s}executeValueGetterWithoutValueCache(e,t,n,i){var s;const r=Le(this.gos,{data:t,node:i,column:n,colDef:n.getColDef(),getValue:this.getValueCallback.bind(this,i)});let o;return typeof e=="function"?o=e(r):o=(s=this.expressionSvc)==null?void 0:s.evaluate(e,r),o}getValueCallback(e,t){const n=this.colModel.getColDefCol(t);return n?this.getValue(n,e):null}getKeyForNode(e,t){const n=this.getValue(e,t),i=e.getColDef().keyCreator;let r=n;if(i){const o=Le(this.gos,{value:n,colDef:e.getColDef(),column:e,node:t,data:t.data});r=i(o)}return typeof r=="string"||r==null||(r=String(r),r==="[object Object]"&&ie(121)),r}},Noe={moduleName:"CommunityCore",version:pe,beans:[Are,kte,vie,WJ,goe,Pne,Sre,Pre,VJ,eoe,Qre,voe,Loe,Fre,wre,Tre,bie,Eoe,hie,pie],icons:{selectOpen:"small-down",smallDown:"small-down",colorPicker:"color-picker",smallUp:"small-up",checkboxChecked:"small-up",checkboxIndeterminate:"checkbox-indeterminate",checkboxUnchecked:"checkbox-unchecked",radioButtonOn:"radio-button-on",radioButtonOff:"radio-button-off",smallLeft:"small-left",smallRight:"small-right"},apiFunctions:{getGridId:Fte,destroy:Tte,isDestroyed:Ate,getGridOption:Rte,setGridOption:Dte,updateGridOptions:rR},dependsOn:[lie,cne,vne,TR,zre,One,Hre,foe,Ioe,_re,Zre,roe,soe,Wre,mie,uie,Poe]},gw=class Ta{static applyGlobalGridOptions(t){if(!Ta.gridOptions)return{...t};let n={};return Si(n,Ta.gridOptions,!0,!0),Ta.mergeStrategy==="deep"?Si(n,t,!0,!0):n={...n,...t},Ta.gridOptions.context&&(n.context=Ta.gridOptions.context),t.context&&(Ta.mergeStrategy==="deep"&&n.context&&Si(t.context,n.context,!0,!0),n.context=t.context),n}};gw.gridOptions=void 0;gw.mergeStrategy="shallow";var Boe=gw;function zoe(e,t,n){if(!t)return dt(11),{};const i=n;let r;if(!(i!=null&&i.setThemeOnGridDiv)){const s=gn({tag:"div"});s.style.height="100%",e.appendChild(s),e=s,r=()=>e.remove()}return new Voe().create(e,t,s=>{const a=new xte(e);s.createBean(a)},void 0,n,r)}var Hoe=1,Voe=class{create(e,t,n,i,r,o){const s=Boe.applyGlobalGridOptions(t),a=s.gridId??String(Hoe++),l=s.rowModelType??"clientSide",u=this.getRegisteredModules(r,a,l),c=this.createBeansList(l,u,a),d=this.createProvidedBeans(e,s,r);if(!c)return;const h={providedBeanInstances:d,beanClasses:c,gridId:a,beanInitComparator:ste,beanDestroyComparator:ate,derivedBeans:[rte],destroyCallback:o},p=new IZ(h);return this.registerModuleFeatures(p,u),n(p),p.getBean("syncSvc").start(),i&&i(p),p.getBean("gridApi")}getRegisteredModules(e,t,n){var i;return Md(Noe,void 0),(i=e==null?void 0:e.modules)==null||i.forEach(r=>Md(r,t)),RZ(t,n)}registerModuleFeatures(e,t){const n=e.getBean("registry"),i=e.getBean("apiFunctionSvc");t.forEach(r=>{n.registerModule(r);const o=r.apiFunctions;o&&Object.keys(o).forEach(a=>{i==null||i.addFunction(a,o[a])})})}createProvidedBeans(e,t,n){let i=n?n.frameworkOverrides:null;Bt(i)&&(i=new nR);const r={gridOptions:t,eGridDiv:e,globalListener:n?n.globalListener:null,globalSyncListener:n?n.globalSyncListener:null,frameworkOverrides:i};return n&&n.providedBeanInstances&&Object.assign(r,n.providedBeanInstances),r}createBeansList(e,t,n){const r={clientSide:"ClientSideRowModel",infinite:"InfiniteRowModel",serverSide:"ServerSideRowModel",viewport:"ViewportRowModel"}[e];if(!r){Z1(201,{rowModelType:e},`Unknown rowModelType ${e}.`);return}if(!E5(r,n,e)){Z1(200,{reasonOrId:`rowModelType = '${e}'`,moduleName:r,gridScoped:Zy(),gridId:n,rowModelType:e},`Missing module ${r}Module for rowModelType ${e}. 
If upgrading from before v33, see ${qa}/upgrading-to-ag-grid-33/#changes-to-modules/`);return}const o=new Set;return t.forEach(s=>{var a;return(a=s.beans)==null?void 0:a.forEach(l=>o.add(l))}),Array.from(o)}};function Ao(e){const t=e.rowModel;return t.getType()==="clientSide"?t:void 0}function Tg(e){const t=e.rowModel;return t.getType()==="infinite"?t:void 0}function AR(e){const t=e.rowModel;return t.getType()==="serverSide"?t:void 0}var _oe=["columnEverythingChanged","newColumnsLoaded","columnPivotModeChanged","pivotMaxColumnsExceeded","columnRowGroupChanged","expandOrCollapseAll","columnPivotChanged","gridColumnsChanged","columnValueChanged","columnMoved","columnVisible","columnPinned","columnGroupOpened","columnResized","displayedColumnsChanged","virtualColumnsChanged","columnHeaderMouseOver","columnHeaderMouseLeave","columnHeaderClicked","columnHeaderContextMenu","asyncTransactionsFlushed","rowGroupOpened","rowDataUpdated","pinnedRowDataChanged","rangeSelectionChanged","cellSelectionChanged","chartCreated","chartRangeSelectionChanged","chartOptionsChanged","chartDestroyed","toolPanelVisibleChanged","toolPanelSizeChanged","modelUpdated","cutStart","cutEnd","pasteStart","pasteEnd","fillStart","fillEnd","cellSelectionDeleteStart","cellSelectionDeleteEnd","rangeDeleteStart","rangeDeleteEnd","undoStarted","undoEnded","redoStarted","redoEnded","cellClicked","cellDoubleClicked","cellMouseDown","cellContextMenu","cellValueChanged","cellEditRequest","rowValueChanged","headerFocused","cellFocused","rowSelected","selectionChanged","tooltipShow","tooltipHide","cellKeyDown","cellMouseOver","cellMouseOut","filterChanged","filterModified","filterOpened","advancedFilterBuilderVisibleChanged","sortChanged","virtualRowRemoved","rowClicked","rowDoubleClicked","gridReady","gridPreDestroyed","gridSizeChanged","viewportChanged","firstDataRendered","dragStarted","dragStopped","dragCancelled","rowEditingStarted","rowEditingStopped","cellEditingStarted","cellEditingStopped","bodyScroll","bodyScrollEnd","paginationChanged","componentStateChanged","storeRefreshed","stateUpdated","columnMenuVisibleChanged","contextMenuVisibleChanged","rowDragEnter","rowDragMove","rowDragLeave","rowDragEnd","rowDragCancel","findChanged"],Goe=["scrollbarWidthChanged","keyShortcutChangedCellStart","keyShortcutChangedCellEnd","pinnedHeightChanged","cellFocusCleared","fullWidthRowFocused","checkboxChanged","heightScaleChanged","suppressMovableColumns","suppressMenuHide","suppressFieldDotNotation","columnPanelItemDragStart","columnPanelItemDragEnd","bodyHeightChanged","columnContainerWidthChanged","displayedColumnsWidthChanged","scrollVisibilityChanged","scrollGapChanged","columnHoverChanged","flashCells","paginationPixelOffsetChanged","displayedRowsChanged","leftPinnedWidthChanged","rightPinnedWidthChanged","rowContainerHeightChanged","headerHeightChanged","columnGroupHeaderHeightChanged","columnHeaderHeightChanged","gridStylesChanged","storeUpdated","filterDestroyed","rowDataUpdateStarted","rowCountReady","advancedFilterEnabledChanged","dataTypesInferred","fieldValueChanged","fieldPickerValueSelected","richSelectListRowSelected","sideBarUpdated","alignedGridScroll","alignedGridColumn","gridOptionsChanged","chartTitleEdit","recalculateRowBounds","stickyTopOffsetChanged","overlayExclusiveChanged","beforeRefreshModel","rowNodeDataChanged"],RR=[..._oe,...Goe],Woe=class extends K{constructor(){super(...arguments),this.beanName="localeSvc"}getLocaleTextFunc(){const e=this.gos,t=e.getCallback("getLocaleText");if(t)return(i,r,o)=>t({key:i,defaultValue:r,variableValues:o});const n=e.get("localeText");return(i,r,o)=>{let s=n&&n[i];if(s&&o&&o.length){let a=0;for(;!(a>=o.length||s.indexOf("${variable}")===-1);)s=s.replace("${variable}",o[a++])}return s??r}}},$oe=["overlayLoadingTemplate","overlayNoRowsTemplate","gridId","quickFilterText","rowModelType","editType","domLayout","clipboardDelimiter","rowGroupPanelShow","multiSortKey","pivotColumnGroupTotals","pivotRowTotals","pivotPanelShow","fillHandleDirection","groupDisplayType","treeDataDisplayType","treeDataChildrenField","treeDataParentIdField","colResizeDefault","tooltipTrigger","serverSidePivotResultFieldSeparator","columnMenu","tooltipShowMode","grandTotalRow","themeCssLayer","findSearchValue","styleNonce"],Uoe=["components","rowStyle","context","autoGroupColumnDef","localeText","icons","datasource","dragAndDropImageComponentParams","serverSideDatasource","viewportDatasource","groupRowRendererParams","aggFuncs","fullWidthCellRendererParams","defaultColGroupDef","defaultColDef","defaultCsvExportParams","defaultExcelExportParams","columnTypes","rowClassRules","detailCellRendererParams","loadingCellRendererParams","loadingOverlayComponentParams","noRowsOverlayComponentParams","popupParent","themeStyleContainer","statusBar","chartThemeOverrides","customChartThemes","chartToolPanelsDef","dataTypeDefinitions","advancedFilterParent","advancedFilterBuilderParams","initialState","autoSizeStrategy","selectionColumnDef","findOptions"],joe=["sortingOrder","alignedGrids","rowData","columnDefs","excelStyles","pinnedTopRowData","pinnedBottomRowData","chartThemes","rowClass","paginationPageSizeSelector"],DR=["rowHeight","detailRowHeight","rowBuffer","headerHeight","groupHeaderHeight","groupLockGroupColumns","floatingFiltersHeight","pivotHeaderHeight","pivotGroupHeaderHeight","groupDefaultExpanded","pivotDefaultExpanded","viewportRowModelPageSize","viewportRowModelBufferSize","autoSizePadding","maxBlocksInCache","maxConcurrentDatasourceRequests","tooltipShowDelay","tooltipHideDelay","cacheOverflowSize","paginationPageSize","cacheBlockSize","infiniteInitialRowCount","serverSideInitialRowCount","scrollbarWidth","asyncTransactionWaitMillis","blockLoadDebounceMillis","keepDetailRowsCount","undoRedoCellEditingLimit","cellFlashDuration","cellFadeDuration","tabIndex","pivotMaxGeneratedColumns"],qoe=["theme","rowSelection"],Koe=["cellSelection","sideBar","rowNumbers","suppressGroupChangesColumnVisibility","groupAggFiltering","suppressStickyTotalRow","groupHideParentOfSingleChild"],MR=["loadThemeGoogleFonts","suppressMakeColumnVisibleAfterUnGroup","suppressRowClickSelection","suppressCellFocus","suppressHeaderFocus","suppressHorizontalScroll","groupSelectsChildren","alwaysShowHorizontalScroll","alwaysShowVerticalScroll","debug","enableBrowserTooltips","enableCellExpressions","groupSuppressBlankHeader","suppressMenuHide","suppressRowDeselection","unSortIcon","suppressMultiSort","alwaysMultiSort","singleClickEdit","suppressLoadingOverlay","suppressNoRowsOverlay","suppressAutoSize","skipHeaderOnAutoSize","suppressColumnMoveAnimation","suppressMoveWhenColumnDragging","suppressMovableColumns","suppressFieldDotNotation","enableRangeSelection","enableRangeHandle","enableFillHandle","suppressClearOnFillReduction","deltaSort","suppressTouch","allowContextMenuWithControlKey","suppressContextMenu","suppressDragLeaveHidesColumns","suppressRowGroupHidesColumns","suppressMiddleClickScrolls","suppressPreventDefaultOnMouseWheel","suppressCopyRowsToClipboard","copyHeadersToClipboard","copyGroupHeadersToClipboard","pivotMode","suppressAggFuncInHeader","suppressColumnVirtualisation","alwaysAggregateAtRootLevel","suppressFocusAfterRefresh","functionsReadOnly","animateRows","groupSelectsFiltered","groupRemoveSingleChildren","groupRemoveLowestSingleChildren","enableRtl","enableCellSpan","suppressClickEdit","rowDragEntireRow","rowDragManaged","suppressRowDrag","suppressMoveWhenRowDragging","rowDragMultiRow","enableGroupEdit","embedFullWidthRows","suppressPaginationPanel","groupHideOpenParents","groupAllowUnbalanced","pagination","paginationAutoPageSize","suppressScrollOnNewData","suppressScrollWhenPopupsAreOpen","purgeClosedRowNodes","cacheQuickFilter","includeHiddenColumnsInQuickFilter","ensureDomOrder","accentedSort","suppressChangeDetection","valueCache","valueCacheNeverExpires","aggregateOnlyChangedColumns","suppressAnimationFrame","suppressExcelExport","suppressCsvExport","includeHiddenColumnsInAdvancedFilter","suppressMultiRangeSelection","enterNavigatesVerticallyAfterEdit","enterNavigatesVertically","suppressPropertyNamesCheck","rowMultiSelectWithClick","suppressRowHoverHighlight","suppressRowTransform","suppressClipboardPaste","suppressLastEmptyLineOnPaste","enableCharts","suppressMaintainUnsortedOrder","enableCellTextSelection","suppressBrowserResizeObserver","suppressMaxRenderedRowRestriction","excludeChildrenWhenTreeDataFiltering","tooltipMouseTrack","tooltipInteraction","keepDetailRows","paginateChildRows","preventDefaultOnContextMenu","undoRedoCellEditing","allowDragFromColumnsToolPanel","pivotSuppressAutoColumn","suppressExpandablePivotGroups","debounceVerticalScrollbar","detailRowAutoHeight","serverSideSortAllLevels","serverSideEnableClientSideSort","serverSideOnlyRefreshFilteredGroups","suppressAggFilteredOnly","showOpenedGroup","suppressClipboardApi","suppressModelUpdateAfterUpdateTransaction","stopEditingWhenCellsLoseFocus","groupMaintainOrder","columnHoverHighlight","readOnlyEdit","suppressRowVirtualisation","enableCellEditingOnBackspace","resetRowDataOnUpdate","removePivotHeaderRowWhenSingleValueColumn","suppressCopySingleCellRanges","suppressGroupRowsSticky","suppressCutToClipboard","rowGroupPanelSuppressSort","allowShowChangeAfterFilter","enableAdvancedFilter","masterDetail","treeData","reactiveCustomComponents","applyQuickFilterBeforePivotOrAgg","suppressServerSideFullWidthLoadingRow","suppressAdvancedFilterEval","loading","maintainColumnOrder","enableStrictPivotColumnOrder","suppressSetFilterByDefault"],Yoe=["doesExternalFilterPass","processPivotResultColDef","processPivotResultColGroupDef","getBusinessKeyForNode","isRowSelectable","rowDragText","groupRowRenderer","dragAndDropImageComponent","fullWidthCellRenderer","loadingCellRenderer","loadingOverlayComponent","noRowsOverlayComponent","detailCellRenderer","quickFilterParser","quickFilterMatcher","getLocaleText","isExternalFilterPresent","getRowHeight","getRowClass","getRowStyle","getContextMenuItems","getMainMenuItems","processRowPostCreate","processCellForClipboard","getGroupRowAgg","isFullWidthRow","sendToClipboard","focusGridInnerElement","navigateToNextHeader","tabToNextHeader","navigateToNextCell","tabToNextCell","processCellFromClipboard","getDocument","postProcessPopup","getChildCount","getDataPath","isRowMaster","postSortRows","processHeaderForClipboard","processUnpinnedColumns","processGroupHeaderForClipboard","paginationNumberFormatter","processDataFromClipboard","getServerSideGroupKey","isServerSideGroup","createChartContainer","getChartToolbarItems","fillOperation","isApplyServerSideTransaction","getServerSideGroupLevelParams","isServerSideGroupOpenByDefault","isGroupOpenByDefault","initialGroupOrderComparator","loadingCellRendererSelector","getRowId","chartMenuItems","groupTotalRow","alwaysPassFilter"],fC=[...joe,...Uoe,...$oe,...DR,...Yoe,...MR,...Koe,...qoe],Xoe=class{wrap(e,t,n,i){const r=this.createWrapper(e,i);return t==null||t.forEach(o=>{this.createMethod(r,o,!0)}),n==null||n.forEach(o=>{this.createMethod(r,o,!1)}),r}createMethod(e,t,n){e.addMethod(t,this.createMethodProxy(e,t,n))}createMethodProxy(e,t,n){return function(){return e.hasMethod(t)?e.callMethod(t,arguments):(n&&ie(49,{methodName:t}),null)}}},Joe={tag:"div",cls:"ag-tooltip"},Zoe=class extends Gu{constructor(){super(Joe)}init(e){const{value:t}=e;this.getGui().textContent=rs(t,!0)}};function PR(e){const{inputValue:t,allSuggestions:n,hideIrrelevant:i,filterByPercentageOfBestMatch:r}=e;let o=n.map((l,u)=>({value:l,relevance:Qoe(t,l),idx:u}));if(o.sort((l,u)=>u.relevance-l.relevance),i&&(o=o.filter(l=>l.relevance!==0)),o.length>0&&r&&r>0){const u=o[0].relevance*r;o=o.filter(c=>u-c.relevance<0)}const s=[],a=[];for(const l of o)s.push(l.value),a.push(l.idx);return{values:s,indices:a}}function Qoe(e,t){if(e===t)return 1e3;const n=e.length,i=t.length;if(n===0||i===0)return 0;const r=e.toLocaleLowerCase(),o=t.toLocaleLowerCase(),s=o.indexOf(r);if(s!==-1)return 980-s*2;if([...r].filter(d=>o.includes(d)).length===0)return 0;let l=Array.from({length:i+1},(d,h)=>h);for(let d=0;d<n;d++){const h=[d+1];for(let p=0;p<i;p++){const f=l[p+1]+1,g=h[p]+1;let m=l[p]+(e[d]!==t[p]?1:0);i>10&&p>i/2&&(m+=1),d>0&&p>0&&e[d-1]===t[p-1]&&(m-=4),h.push(Math.min(f,g,m))}l=h}const u=Math.round(l[i]),c=Math.max(1,1e3-u*30);return Math.max(1,c)}function ese(e,t){if(typeof e!="number")return"";const n=t(),i=n("thousandSeparator",","),r=n("decimalSeparator",".");return e.toString().replace(".",r).replace(/(\d)(?=(\d{3})+(?!\d))/g,`$1${i}`)}var tse=class extends K{getFileName(e){const t=this.getDefaultFileExtension();return(e==null||!e.length)&&(e=this.getDefaultFileName()),e.indexOf(".")===-1?`${e}.${t}`:e}getData(e){const t=this.createSerializingSession(e);return this.beans.gridSerializer.serialize(t,e)}getDefaultFileName(){return`export.${this.getDefaultFileExtension()}`}},nse=class{constructor(e){this.groupColumns=[];const{colModel:t,rowGroupColsSvc:n,colNames:i,valueSvc:r,gos:o,processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u}=e;this.colModel=t,this.rowGroupColsSvc=n,this.colNames=i,this.valueSvc=r,this.gos=o,this.processCellCallback=s,this.processHeaderCallback=a,this.processGroupHeaderCallback=l,this.processRowGroupCallback=u}prepare(e){this.groupColumns=e.filter(t=>!!t.getColDef().showRowGroup)}extractHeaderValue(e){return this.getHeaderName(this.processHeaderCallback,e)??""}extractRowCellValue(e,t,n,i,r){const s=(!this.gos.get("groupHideOpenParents")||r.footer)&&this.shouldRenderGroupSummaryCell(r,e,t)?this.createValueForGroupNode(e,r):this.valueSvc.getValueForDisplay(e,r);return this.processCell({accumulatedRowIndex:n,rowNode:r,column:e,value:s,processCellCallback:this.processCellCallback,type:i})}shouldRenderGroupSummaryCell(e,t,n){var s,a;if(!(e.group&&!this.gos.get("treeData")))return!1;if(this.groupColumns.indexOf(t)!==-1){if(((s=e.groupData)==null?void 0:s[t.getId()])!==void 0||Vu(this.gos)&&e.group)return!0;if(e.footer&&e.level===-1){const l=t.getColDef();return l==null||l.showRowGroup===!0||l.showRowGroup===((a=this.rowGroupColsSvc)==null?void 0:a.columns[0].getId())}}const o=qy(this.gos,this.colModel.isPivotMode());return n===0&&o}getHeaderName(e,t){return e?e(Le(this.gos,{column:t})):this.colNames.getDisplayNameForColumn(t,"csv",!0)}createValueForGroupNode(e,t){if(this.processRowGroupCallback)return this.processRowGroupCallback(Le(this.gos,{column:e,node:t}));const n=this.gos.get("treeData"),i=a=>{var u;if(n)return a.key;const l=(u=a.groupData)==null?void 0:u[e.getId()];return!l||!a.rowGroupColumn||a.rowGroupColumn.getColDef().useValueFormatterForExport===!1?l:this.valueSvc.formatValue(a.rowGroupColumn,a,l)??l},r=t.footer,o=[i(t)];if(!JX(this.gos))for(;t.parent;)t=t.parent,o.push(i(t));const s=o.reverse().join(" -> ");return r?`Total ${s}`:s}processCell(e){const{accumulatedRowIndex:t,rowNode:n,column:i,value:r,processCellCallback:o,type:s}=e;return o?{value:o(Le(this.gos,{accumulatedRowIndex:t,column:i,node:n,value:r,type:s,parseValue:a=>this.valueSvc.parseValue(i,n,a,this.valueSvc.getValue(i,n)),formatValue:a=>this.valueSvc.formatValue(i,n,a)??a}))??""}:i.getColDef().useValueFormatterForExport!==!1?{value:r??"",valueFormatted:this.valueSvc.formatValue(i,n,r)}:{value:r??""}}};function ise(e,t){const n=document.defaultView||window;if(!n){ie(52);return}const i=document.createElement("a"),r=n.URL.createObjectURL(t);i.setAttribute("href",r),i.setAttribute("download",e),i.style.display="none",document.body.appendChild(i),i.dispatchEvent(new MouseEvent("click",{bubbles:!1,cancelable:!0,view:n})),document.body.removeChild(i),n.setTimeout(()=>{n.URL.revokeObjectURL(r)},0)}var rse={enableBrowserTooltips:!0,tooltipTrigger:!0,tooltipMouseTrack:!0,tooltipShowMode:!0,tooltipInteraction:!0,defaultColGroupDef:!0,suppressAutoSize:!0,skipHeaderOnAutoSize:!0,autoSizeStrategy:!0,components:!0,stopEditingWhenCellsLoseFocus:!0,undoRedoCellEditing:!0,undoRedoCellEditingLimit:!0,excelStyles:!0,cacheQuickFilter:!0,customChartThemes:!0,chartThemeOverrides:!0,chartToolPanelsDef:!0,loadingCellRendererSelector:!0,localeText:!0,keepDetailRows:!0,keepDetailRowsCount:!0,detailRowHeight:!0,detailRowAutoHeight:!0,tabIndex:!0,valueCache:!0,valueCacheNeverExpires:!0,enableCellExpressions:!0,suppressTouch:!0,suppressBrowserResizeObserver:!0,suppressPropertyNamesCheck:!0,debug:!0,dragAndDropImageComponent:!0,loadingOverlayComponent:!0,suppressLoadingOverlay:!0,noRowsOverlayComponent:!0,paginationPageSizeSelector:!0,paginateChildRows:!0,pivotPanelShow:!0,pivotSuppressAutoColumn:!0,suppressExpandablePivotGroups:!0,aggFuncs:!0,allowShowChangeAfterFilter:!0,ensureDomOrder:!0,enableRtl:!0,suppressColumnVirtualisation:!0,suppressMaxRenderedRowRestriction:!0,suppressRowVirtualisation:!0,rowDragText:!0,groupLockGroupColumns:!0,suppressGroupRowsSticky:!0,rowModelType:!0,cacheOverflowSize:!0,infiniteInitialRowCount:!0,serverSideInitialRowCount:!0,maxBlocksInCache:!0,maxConcurrentDatasourceRequests:!0,blockLoadDebounceMillis:!0,serverSideOnlyRefreshFilteredGroups:!0,serverSidePivotResultFieldSeparator:!0,viewportRowModelPageSize:!0,viewportRowModelBufferSize:!0,debounceVerticalScrollbar:!0,suppressAnimationFrame:!0,suppressPreventDefaultOnMouseWheel:!0,scrollbarWidth:!0,icons:!0,suppressRowTransform:!0,gridId:!0,enableGroupEdit:!0,initialState:!0,processUnpinnedColumns:!0,createChartContainer:!0,getLocaleText:!0,getRowId:!0,reactiveCustomComponents:!0,columnMenu:!0,suppressSetFilterByDefault:!0,getDataPath:!0,enableCellSpan:!0},Ri="clientSide",fi="serverSide",Ol="infinite",ose={onGroupExpandedOrCollapsed:[Ri],refreshClientSideRowModel:[Ri],isRowDataEmpty:[Ri],forEachLeafNode:[Ri],forEachNodeAfterFilter:[Ri],forEachNodeAfterFilterAndSort:[Ri],resetRowHeights:[Ri],applyTransaction:[Ri],applyTransactionAsync:[Ri],flushAsyncTransactions:[Ri],getBestCostNodeSelection:[Ri],getServerSideSelectionState:[fi],setServerSideSelectionState:[fi],applyServerSideTransaction:[fi],applyServerSideTransactionAsync:[fi],applyServerSideRowData:[fi],retryServerSideLoads:[fi],flushServerSideAsyncTransactions:[fi],refreshServerSide:[fi],getServerSideGroupLevelState:[fi],refreshInfiniteCache:[Ol],purgeInfiniteCache:[Ol],getInfiniteRowCount:[Ol],isLastRowIndexKnown:[Ol,fi],expandAll:[Ri,fi],collapseAll:[Ri,fi],onRowHeightChanged:[Ri,fi],setRowCount:[Ol,fi],getCacheBlockState:[Ol,fi]},sse={showLoadingOverlay:{version:"v32",message:'`showLoadingOverlay` is deprecated. Use the grid option "loading"=true instead or setGridOption("loading", true).'},clearRangeSelection:{version:"v32.2",message:"Use `clearCellSelection` instead."},getInfiniteRowCount:{version:"v32.2",old:"getInfiniteRowCount()",new:"getDisplayedRowCount()"},selectAllFiltered:{version:"v33",old:"selectAllFiltered()",new:'selectAll("filtered")'},deselectAllFiltered:{version:"v33",old:"deselectAllFiltered()",new:'deselectAll("filtered")'},selectAllOnCurrentPage:{version:"v33",old:"selectAllOnCurrentPage()",new:'selectAll("currentPage")'},deselectAllOnCurrentPage:{version:"v33",old:"deselectAllOnCurrentPage()",new:'deselectAll("currentPage")'}};function ase(e,t,n){const i=sse[e];if(i){const{version:o,new:s,old:a,message:l}=i,u=a??e;return(...c)=>{const d=s?`Please use ${s} instead. `:"";return Gc(`Since ${o} api.${u} is deprecated. ${d}${l??""}`),t.apply(t,c)}}const r=ose[e];return r?(...o)=>{const s=n.rowModel.getType();if(!r.includes(s)){Jl(`api.${e} can only be called when gridOptions.rowModelType is ${r.join(" or ")}`);return}return t.apply(t,o)}:t}var IR={AdvancedFilter:1,AllEnterprise:1,CellSelection:1,Clipboard:1,ColumnMenu:1,ColumnsToolPanel:1,ContextMenu:1,ExcelExport:1,FiltersToolPanel:1,Find:1,GridCharts:1,IntegratedCharts:1,GroupFilter:1,MasterDetail:1,Menu:1,MultiFilter:1,Pivot:1,RangeSelection:1,RichSelect:1,RowNumbers:1,RowGrouping:1,RowGroupingPanel:1,ServerSideRowModelApi:1,ServerSideRowModel:1,SetFilter:1,SideBar:1,Sparklines:1,StatusBar:1,TreeData:1,ViewportRowModel:1},Av=["TextFilter","NumberFilter","DateFilter","SetFilter","MultiFilter","GroupFilter","CustomFilter"],lse={EditCore:["TextEditor","NumberEditor","DateEditor","CheckboxEditor","LargeTextEditor","SelectEditor","RichSelect","CustomEditor"],CheckboxCellRenderer:["AllCommunity"],ClientSideRowModelHierarchy:["RowGrouping","Pivot","TreeData"],ColumnFilter:Av,ColumnGroupHeaderComp:["AllCommunity"],ColumnGroup:["AllCommunity"],ColumnHeaderComp:["AllCommunity"],ColumnMove:["AllCommunity"],ColumnResize:["AllCommunity"],CommunityCore:["AllCommunity"],CsrmSsrmSharedApi:["ClientSideRowModelApi","ServerSideRowModelApi"],EnterpriseCore:["AllEnterprise"],FilterCore:[...Av,"QuickFilter","ExternalFilter","AdvancedFilter"],GroupCellRenderer:["RowGrouping","Pivot","TreeData","MasterDetail","ServerSideRowModel"],KeyboardNavigation:["AllCommunity"],LoadingCellRenderer:["ServerSideRowModel"],MenuCore:["ColumnMenu","ContextMenu"],MenuItem:["ColumnMenu","ContextMenu","MultiFilter","IntegratedCharts","ColumnsToolPanel"],Overlay:["AllCommunity"],PinnedColumn:["AllCommunity"],SharedAggregation:["RowGrouping","Pivot","TreeData","ServerSideRowModel"],SharedDragAndDrop:["AllCommunity"],SharedMasterDetail:["MasterDetail","ServerSideRowModel"],SharedMenu:[...Av,"ColumnMenu","ContextMenu"],SharedPivot:["Pivot","ServerSideRowModel"],SharedRowGrouping:["RowGrouping","ServerSideRowModel"],SharedRowSelection:["RowSelection","ServerSideRowModel"],SkeletonCellRenderer:["ServerSideRowModel"],Sort:["AllCommunity"],SsrmInfiniteSharedApi:["InfiniteRowModel","ServerSideRowModelApi"],SharedTreeData:["TreeData","ServerSideRowModel"]},use={InfiniteRowModel:"infinite",ClientSideRowModelApi:"clientSide",ClientSideRowModel:"clientSide",ServerSideRowModelApi:"serverSide",ServerSideRowModel:"serverSide",ViewportRowModel:"viewport"};function cse(e,t){const n=[];return(Array.isArray(e)?e:[e]).forEach(i=>{const r=lse[i];r?r.forEach(o=>{const s=use[o];(!s||s===t)&&n.push(o)}):n.push(i)}),n}var iu={agSetColumnFilter:"SetFilter",agSetColumnFloatingFilter:"SetFilter",agMultiColumnFilter:"MultiFilter",agMultiColumnFloatingFilter:"MultiFilter",agGroupColumnFilter:"GroupFilter",agGroupColumnFloatingFilter:"GroupFilter",agGroupCellRenderer:"GroupCellRenderer",agGroupRowRenderer:"GroupCellRenderer",agRichSelect:"RichSelect",agRichSelectCellEditor:"RichSelect",agDetailCellRenderer:"SharedMasterDetail",agSparklineCellRenderer:"Sparklines",agDragAndDropImage:"SharedDragAndDrop",agColumnHeader:"ColumnHeaderComp",agColumnGroupHeader:"ColumnGroupHeaderComp",agSortIndicator:"Sort",agAnimateShowChangeCellRenderer:"HighlightChanges",agAnimateSlideCellRenderer:"HighlightChanges",agLoadingCellRenderer:"LoadingCellRenderer",agSkeletonCellRenderer:"SkeletonCellRenderer",agCheckboxCellRenderer:"CheckboxCellRenderer",agLoadingOverlay:"Overlay",agNoRowsOverlay:"Overlay",agTooltipComponent:"Tooltip",agReadOnlyFloatingFilter:"CustomFilter",agTextColumnFilter:"TextFilter",agNumberColumnFilter:"NumberFilter",agDateColumnFilter:"DateFilter",agDateInput:"DateFilter",agTextColumnFloatingFilter:"TextFilter",agNumberColumnFloatingFilter:"NumberFilter",agDateColumnFloatingFilter:"DateFilter",agCellEditor:"TextEditor",agSelectCellEditor:"SelectEditor",agTextCellEditor:"TextEditor",agNumberCellEditor:"NumberEditor",agDateCellEditor:"DateEditor",agDateStringCellEditor:"DateEditor",agCheckboxCellEditor:"CheckboxEditor",agLargeTextCellEditor:"LargeTextEditor",agMenuItem:"MenuItem",agColumnsToolPanel:"ColumnsToolPanel",agFiltersToolPanel:"FiltersToolPanel",agAggregationComponent:"StatusBar",agSelectedRowCountComponent:"StatusBar",agTotalRowCountComponent:"StatusBar",agFilteredRowCountComponent:"StatusBar",agTotalAndFilteredRowCountComponent:"StatusBar",agFindCellRenderer:"Find"},dse=e=>{const t=e.map(i=>`import { ${Kc(i)} } from '${IR[i]?"ag-grid-enterprise":"ag-grid-community"}';`);return e.some(i=>i==="IntegratedCharts"||i==="Sparklines")&&t.push("import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';"),`import { ModuleRegistry } from 'ag-grid-community'; 
${t.join(` 
`)} 

ModuleRegistry.registerModules([ ${e.map(i=>Kc(i,!0)).join(", ")} ]); 

For more info see: ${qa}/modules/`};function Kc(e,t=!1){return t&&(e==="IntegratedCharts"||e==="Sparklines")?`${e}Module.with(AgChartsEnterpriseModule)`:`${e}Module`}function hse(e,t){const n=t.filter(o=>o==="IntegratedCharts"||o==="Sparklines");let i="";return!(globalThis==null?void 0:globalThis.agCharts)&&n.length>0?i=`Unable to use ${e} as either the ag-charts-community or ag-charts-enterprise script needs to be included alongside ag-grid-enterprise.
`:t.some(o=>IR[o])&&(i=i+`Unable to use ${e} as that requires the ag-grid-enterprise script to be included.
`),i}var n3=({reasonOrId:e,moduleName:t,gridScoped:n,gridId:i,rowModelType:r,additionalText:o,isUmd:s})=>{const a=cse(t,r),l=typeof e=="string"?e:mse[e];if(s)return hse(l,a);const u=a.filter(h=>h==="IntegratedCharts"||h==="Sparklines"),c=u.length>0?`${u.map(h=>Kc(h)).join()} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.`:"";return`${`Unable to use ${l} as ${a.length>1?"one of "+a.map(h=>Kc(h)).join(", "):Kc(a[0])} is not registered${n?" for gridId: "+i:""}. ${c} Check if you have registered the module:
`}
${dse(a)}`+(o?` 

${o}`:"")},i3=e=>`${e} must be initialised with an AG Charts module. One of 'AgChartsCommunityModule' / 'AgChartsEnterpriseModule'.

import { AgChartsEnterpriseModule } from 'ag-charts-enterprise';
import { ModuleRegistry } from 'ag-grid-community';
import { ${e} } from 'ag-grid-enterprise';
    
ModuleRegistry.registerModules([${e}.with(AgChartsEnterpriseModule)]);
    `,pse=e=>`AG Grid: Unable to use the Clipboard API (navigator.clipboard.${e}()). The reason why it could not be used has been logged in the previous line. For this reason the grid has defaulted to using a workaround which doesn't perform as well. Either fix why Clipboard API is blocked, OR stop this message from appearing by setting grid property suppressClipboardApi=true (which will default the grid to using the workaround rather than the API.`,fse={1:()=>"`rowData` must be an array",2:({nodeId:e})=>`Duplicate node id '${e}' detected from getRowId callback, this could cause issues in your grid.`,3:()=>"Calling gridApi.resetRowHeights() makes no sense when using Auto Row Height.",4:({id:e})=>`Could not find row id=${e}, data item was not found for this id`,5:({data:e})=>["Could not find data item as object was not found.",e," Consider using getRowId to help the Grid find matching row data"],6:()=>"'groupHideOpenParents' only works when specifying specific columns for 'colDef.showRowGroup'",7:()=>"Pivoting is not supported with aligned grids as it may produce different columns in each grid.",8:({key:e})=>`Unknown key for navigation ${e}`,9:({variable:e})=>`No value for ${e==null?void 0:e.cssName}. This usually means that the grid has been initialised before styles have been loaded. The default value of ${e==null?void 0:e.defaultValue} will be used and updated when styles load.`,10:({eventType:e})=>`As of v33, the '${e}' event is deprecated. Use the global 'modelUpdated' event to determine when row children have changed.`,11:()=>"No gridOptions provided to createGrid",12:({colKey:e})=>["column ",e," not found"],13:()=>"Could not find rowIndex, this means tasks are being executed on a rowNode that has been removed from the grid.",14:({groupPrefix:e})=>`Row IDs cannot start with ${e}, this is a reserved prefix for AG Grid's row grouping feature.`,15:({expression:e})=>["value should be either a string or a function",e],16:({expression:e,params:t,e:n})=>["Processing of the expression failed","Expression = ",e,"Params = ",t,"Exception = ",n],17:()=>"you need either field or valueSetter set on colDef for editing to work",18:()=>"alignedGrids contains an undefined option.",19:()=>"alignedGrids - No api found on the linked grid.",20:()=>`You may want to configure via a callback to avoid setup race conditions:
                     "alignedGrids: () => [linkedGrid]"`,21:()=>"pivoting is not supported with aligned grids. You can only use one of these features at a time in a grid.",22:({key:e})=>`${e} is an initial property and cannot be updated.`,23:()=>"The return of `getRowHeight` cannot be zero. If the intention is to hide rows, use a filter instead.",24:()=>"row height must be a number if not using standard row model",25:({id:e})=>["The getRowId callback must return a string. The ID ",e," is being cast to a string."],26:({fnName:e,preDestroyLink:t})=>`Grid API function ${e}() cannot be called as the grid has been destroyed.
 Either clear local references to the grid api, when it is destroyed, or check gridApi.isDestroyed() to avoid calling methods against a destroyed grid.
 To run logic when the grid is about to be destroyed use the gridPreDestroy event. See: ${t}`,27:({fnName:e,module:t})=>`API function '${e}' not registered to module '${t}'`,28:()=>"setRowCount cannot be used while using row grouping.",29:()=>"tried to call sizeColumnsToFit() but the grid is coming back with zero width, maybe the grid is not visible yet on the screen?",30:({toIndex:e})=>["tried to insert columns in invalid location, toIndex = ",e,"remember that you should not count the moving columns when calculating the new index"],31:()=>"infinite loop in resizeColumnSets",32:()=>"applyColumnState() - the state attribute should be an array, however an array was not found. Please provide an array of items (one for each col you want to change) for state.",33:()=>"stateItem.aggFunc must be a string. if using your own aggregation functions, register the functions first before using them in get/set state. This is because it is intended for the column state to be stored and retrieved as simple JSON.",34:({key:e})=>`the column type '${e}' is a default column type and cannot be overridden.`,35:()=>"Column type definitions 'columnTypes' with a 'type' attribute are not supported because a column type cannot refer to another column type. Only column definitions 'columnDefs' can use the 'type' attribute to refer to a column type.",36:({t:e})=>"colDef.type '"+e+"' does not correspond to defined gridOptions.columnTypes",37:()=>"Changing the column pinning status is not allowed with domLayout='print'",38:({iconName:e})=>`provided icon '${e}' needs to be a string or a function`,39:()=>"Applying column order broke a group where columns should be married together. Applying new order has been discarded.",40:({e,method:t})=>`${e}
${pse(t)}`,41:()=>"Browser did not allow document.execCommand('copy'). Ensure 'api.copySelectedRowsToClipboard() is invoked via a user event, i.e. button click, otherwise the browser will prevent it for security reasons.",42:()=>"Browser does not support document.execCommand('copy') for clipboard operations",43:({iconName:e})=>`As of v33, icon '${e}' is deprecated. Use the icon CSS name instead.`,44:()=>'Data type definition hierarchies (via the "extendsDataType" property) cannot contain circular references.',45:({parentCellDataType:e})=>`The data type definition ${e} does not exist.`,46:()=>'The "baseDataType" property of a data type definition must match that of its parent.',47:({cellDataType:e})=>`Missing data type definition - "${e}"`,48:({property:e})=>`Cell data type is "object" but no Value ${e} has been provided. Please either provide an object data type definition with a Value ${e}, or set "colDef.value${e}"`,49:({methodName:e})=>`Framework component is missing the method ${e}()`,50:({compName:e})=>`Could not find component ${e}, did you forget to configure this component?`,51:()=>"Export cancelled. Export is not allowed as per your configuration.",52:()=>"There is no `window` associated with the current `document`",53:()=>"unknown value type during csv conversion",54:()=>"Could not find document body, it is needed for drag and drop and context menu.",55:()=>"addRowDropZone - A container target needs to be provided",56:()=>"addRowDropZone - target already exists in the list of DropZones. Use `removeRowDropZone` before adding it again.",57:()=>"unable to show popup filter, filter instantiation failed",58:()=>"no values found for select cellEditor",59:()=>"cannot select pinned rows",60:()=>"cannot select node until it has finished loading",61:()=>"since version v32.2.0, rowNode.isFullWidthCell() has been deprecated. Instead check `rowNode.detail` followed by the user provided `isFullWidthRow` grid option.",62:({colId:e})=>`setFilterModel() - no column found for colId: ${e}`,63:({colId:e})=>`setFilterModel() - unable to fully apply model, filtering disabled for colId: ${e}`,64:({colId:e})=>`setFilterModel() - unable to fully apply model, unable to create filter for colId: ${e}`,65:()=>"filter missing setModel method, which is needed for setFilterModel",66:()=>"filter API missing getModel method, which is needed for getFilterModel",67:()=>"Filter is missing isFilterActive() method",68:()=>"Column Filter API methods have been disabled as Advanced Filters are enabled.",69:({guiFromFilter:e})=>`getGui method from filter returned ${e}; it should be a DOM element.`,70:({newFilter:e})=>`Grid option quickFilterText only supports string inputs, received: ${typeof e}`,71:()=>"debounceMs is ignored when apply button is present",72:({keys:e})=>["ignoring FilterOptionDef as it doesn't contain one of ",e],73:()=>"invalid FilterOptionDef supplied as it doesn't contain a 'displayKey'",74:()=>"no filter options for filter",75:()=>"Unknown button type specified",76:({filterModelType:e})=>['Unexpected type of filter "',e,'", it looks like the filter was configured with incorrect Filter Options'],77:()=>"Filter model is missing 'conditions'",78:()=>'Filter Model contains more conditions than "filterParams.maxNumConditions". Additional conditions have been ignored.',79:()=>'"filterParams.maxNumConditions" must be greater than or equal to zero.',80:()=>'"filterParams.numAlwaysVisibleConditions" must be greater than or equal to zero.',81:()=>'"filterParams.numAlwaysVisibleConditions" cannot be greater than "filterParams.maxNumConditions".',82:({param:e})=>`DateFilter ${e} is not a number`,83:()=>"DateFilter minValidYear should be <= maxValidYear",84:()=>"DateFilter minValidDate should be <= maxValidDate",85:()=>"DateFilter should not have both minValidDate and minValidYear parameters set at the same time! minValidYear will be ignored.",86:()=>"DateFilter should not have both maxValidDate and maxValidYear parameters set at the same time! maxValidYear will be ignored.",87:()=>"DateFilter parameter minValidDate should always be lower than or equal to parameter maxValidDate.",88:({index:e})=>`Invalid row index for ensureIndexVisible: ${e}`,89:()=>"A template was provided for Header Group Comp - templates are only supported for Header Comps (not groups)",90:()=>"datasource is missing getRows method",91:()=>"Filter is missing method doesFilterPass",92:()=>"AnimationFrameService called but animation frames are off",93:()=>"cannot add multiple ranges when `cellSelection.suppressMultiRanges = true`",94:({paginationPageSizeOption:e,pageSizeSet:t,pageSizesSet:n,pageSizeOptions:i})=>`'paginationPageSize=${e}'${t?"":" (default value)"}, but ${e} is not included in${n?"":" the default"} paginationPageSizeSelector=[${i==null?void 0:i.join(", ")}].`,95:({paginationPageSizeOption:e,paginationPageSizeSelector:t})=>`Either set '${t}' to an array that includes ${e} or to 'false' to disable the page size selector.`,96:({id:e,data:t})=>["Duplicate ID",e,"found for pinned row with data",t,"When `getRowId` is defined, it must return unique IDs for all pinned rows. Use the `rowPinned` parameter."],97:({colId:e})=>`cellEditor for column ${e} is missing getGui() method`,98:()=>"popup cellEditor does not work with fullRowEdit - you cannot use them both - either turn off fullRowEdit, or stop using popup editors.",99:()=>"Since v32, `api.hideOverlay()` does not hide the loading overlay when `loading=true`. Set `loading=false` instead.",100:({rowModelType:e})=>`selectAll only available when rowModelType='clientSide', ie not ${e}`,101:({propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})=>{const r=[],o=[...Object.keys(n??[]).filter(a=>!["agCellEditor","agGroupRowRenderer","agSortIndicator"].includes(a)),...Object.keys(i??[])],s=PR({inputValue:t,allSuggestions:o,hideIrrelevant:!0,filterByPercentageOfBestMatch:.8}).values;return r.push(`Could not find '${t}' component. It was configured as "${e}: '${t}'" but it wasn't found in the list of registered components.
`),s.length>0&&r.push(`         Did you mean: [${s.slice(0,3)}]?
`),r.push("If using a custom component check it has been registered correctly."),r},102:()=>"selectAll: 'filtered' only works when gridOptions.rowModelType='clientSide'",103:()=>"Invalid selection state. When using client-side row model, the state must conform to `string[]`.",104:({value:e,param:t})=>`Numeric value ${e} passed to ${t} param will be interpreted as ${e} seconds. If this is intentional use "${e}s" to silence this warning.`,105:({e})=>["chart rendering failed",e],106:()=>`Theming API and Legacy Themes are both used in the same page. A Theming API theme has been provided to the 'theme' grid option, but the file (ag-grid.css) is also included and will cause styling issues. Remove ag-grid.css from the page. See the migration guide: ${qa}/theming-migration/`,107:({key:e,value:t})=>`Invalid value for theme param ${e} - ${t}`,108:({e})=>["chart update failed",e],109:({aggFuncOrString:e})=>`unrecognised aggregation function ${e}`,110:()=>"groupHideOpenParents only works when specifying specific columns for colDef.showRowGroup",111:()=>"Invalid selection state. When `groupSelects` is enabled, the state must conform to `IServerSideGroupSelectionState`.",113:()=>"Set Filter cannot initialise because you are using a row model that does not contain all rows in the browser. Either use a different filter type, or configure Set Filter such that you provide it with values",114:({component:e})=>`Could not find component with name of ${e}. Is it in Vue.components?`,116:()=>"Invalid selection state. The state must conform to `IServerSideSelectionState`.",117:()=>"selectAll must be of boolean type.",118:()=>"Infinite scrolling must be enabled in order to set the row count.",119:()=>"Unable to instantiate filter",120:()=>"MultiFloatingFilterComp expects MultiFilter as its parent",121:()=>"a column you are grouping or pivoting by has objects as values. If you want to group by complex objects then either a) use a colDef.keyCreator (see AG Grid docs) or b) to toString() on the object to return a key",122:()=>"could not find the document, document is empty",123:()=>"Advanced Filter is only supported with the Client-Side Row Model or Server-Side Row Model.",124:()=>"No active charts to update.",125:({chartId:e})=>`Unable to update chart. No active chart found with ID: ${e}.`,126:()=>"unable to restore chart as no chart model is provided",127:({allRange:e})=>`unable to create chart as ${e?"there are no columns in the grid":"no range is selected"}.`,128:({feature:e})=>`${e} is only available if using 'multiRow' selection mode.`,129:({feature:e,rowModel:t})=>`${e} is only available if using 'clientSide' or 'serverSide' rowModelType, you are using ${t}.`,130:()=>'cannot multi select unless selection mode is "multiRow"',132:()=>"Row selection features are not available unless `rowSelection` is enabled.",133:({iconName:e})=>`icon '${e}' function should return back a string or a dom object`,134:({iconName:e})=>`Did not find icon '${e}'`,135:()=>"Data type of the new value does not match the cell data type of the column",136:()=>"Unable to update chart as the 'type' is missing. It must be either 'rangeChartUpdate', 'pivotChartUpdate', or 'crossFilterChartUpdate'.",137:({type:e,currentChartType:t})=>`Unable to update chart as a '${e}' update type is not permitted on a ${t}.`,138:({chartType:e})=>`invalid chart type supplied: ${e}`,139:({customThemeName:e})=>`a custom chart theme with the name ${e} has been supplied but not added to the 'chartThemes' list`,140:({name:e})=>`no stock theme exists with the name '${e}' and no custom chart theme with that name was supplied to 'customChartThemes'`,141:()=>"cross filtering with row grouping is not supported.",142:()=>"cross filtering is only supported in the client side row model.",143:({panel:e})=>`'${e}' is not a valid Chart Tool Panel name`,144:({type:e})=>`Invalid charts data panel group name supplied: '${e}'`,145:({group:e})=>`As of v32, only one charts customize panel group can be expanded at a time. '${e}' will not be expanded.`,146:({comp:e})=>`Unable to instantiate component '${e}' as its module hasn't been loaded. Add 'ValidationModule' to see which module is required.`,147:({group:e})=>`Invalid charts customize panel group name supplied: '${e}'`,148:({group:e})=>`invalid chartGroupsDef config '${e}'`,149:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,150:()=>"'seriesChartTypes' are required when the 'customCombo' chart type is specified.",151:({chartType:e})=>`invalid chartType '${e}' supplied in 'seriesChartTypes', converting to 'line' instead.`,152:({colId:e})=>`no 'seriesChartType' found for colId = '${e}', defaulting to 'line'.`,153:({chartDataType:e})=>`unexpected chartDataType value '${e}' supplied, instead use 'category', 'series' or 'excluded'`,154:({colId:e})=>`cross filtering requires a 'agSetColumnFilter' or 'agMultiColumnFilter' to be defined on the column with id: ${e}`,155:({option:e})=>`'${e}' is not a valid Chart Toolbar Option`,156:({panel:e})=>`Invalid panel in chartToolPanelsDef.panels: '${e}'`,157:({unrecognisedGroupIds:e})=>["unable to find group(s) for supplied groupIds:",e],158:()=>"can not expand a column item that does not represent a column group header",159:()=>"Invalid params supplied to createExcelFileForExcel() - `ExcelExportParams.data` is empty.",160:()=>"Export cancelled. Export is not allowed as per your configuration.",161:()=>"The Excel Exporter is currently on Multi Sheet mode. End that operation by calling 'api.getMultipleSheetAsExcel()' or 'api.exportMultipleSheetsAsExcel()'",162:({id:e,dataType:t})=>`Unrecognized data type for excel export [${e}.dataType=${t}]`,163:({featureName:e})=>`Excel table export does not work with ${e}. The exported Excel file will not contain any Excel tables.
 Please turn off ${e} to enable Excel table exports.`,164:()=>"Unable to add data table to Excel sheet: A table already exists.",165:()=>"Unable to add data table to Excel sheet: Missing required parameters.",166:({unrecognisedGroupIds:e})=>["unable to find groups for these supplied groupIds:",e],167:({unrecognisedColIds:e})=>["unable to find columns for these supplied colIds:",e],168:()=>"detailCellRendererParams.template should be function or string",169:()=>'Reference to eDetailGrid was missing from the details template. Please add data-ref="eDetailGrid" to the template.',170:({providedStrategy:e})=>`invalid cellRendererParams.refreshStrategy = ${e} supplied, defaulting to refreshStrategy = 'rows'.`,171:()=>"could not find detail grid options for master detail, please set gridOptions.detailCellRendererParams.detailGridOptions",172:()=>"could not find getDetailRowData for master / detail, please set gridOptions.detailCellRendererParams.getDetailRowData",173:({group:e})=>`invalid chartGroupsDef config '${e}'`,174:({group:e,chartType:t})=>`invalid chartGroupsDef config '${e}.${t}'`,175:({menuTabName:e,itemsToConsider:t})=>[`Trying to render an invalid menu item '${e}'. Check that your 'menuTabs' contains one of `,t],176:({key:e})=>`unknown menu item type ${e}`,177:()=>"valid values for cellSelection.handle.direction are 'x', 'y' and 'xy'. Default to 'xy'.",178:({colId:e})=>`column ${e} is not visible`,179:()=>"totalValueGetter should be either a function or a string (expression)",180:()=>"agRichSelectCellEditor requires cellEditorParams.values to be set",181:()=>"agRichSelectCellEditor cannot have `multiSelect` and `allowTyping` set to `true`. AllowTyping has been turned off.",182:()=>'you cannot mix groupDisplayType = "multipleColumns" with treeData, only one column can be used to display groups when doing tree data',183:()=>"Group Column Filter only works on group columns. Please use a different filter.",184:({parentGroupData:e,childNodeData:t})=>["duplicate group keys for row data, keys should be unique",[e,t]],185:({data:e})=>["getDataPath() should not return an empty path",[e]],186:({rowId:e,rowData:t,duplicateRowsData:n})=>["duplicate group keys for row data, keys should be unique",e,t,...n??[]],187:({rowId:e,firstData:t,secondData:n})=>[`Duplicate node id ${e}. Row IDs are provided via the getRowId() callback. Please modify the getRowId() callback code to provide unique row id values.`,"first instance",t,"second instance",n],188:()=>"getRowId callback must be provided for Server Side Row Model selection to work correctly.",189:({startRow:e})=>`invalid value ${e} for startRow, the value should be >= 0`,190:({rowGroupId:e,data:t})=>["null and undefined values are not allowed for server side row model keys",e?`column = ${e}`:"","data is ",t],194:({method:e})=>`calling gridApi.${e}() is only possible when using rowModelType=\`clientSide\`.`,195:({justCurrentPage:e})=>`selecting just ${e?"current page":"filtered"} only works when gridOptions.rowModelType='clientSide'`,196:({key:e})=>`Provided ids must be of string type. Invalid id provided: ${e}`,197:()=>"`toggledNodes` must be an array of string ids.",199:()=>"getSelectedNodes and getSelectedRows functions cannot be used with select all functionality with the server-side row model. Use `api.getServerSideSelectionState()` instead.",200:n3,201:({rowModelType:e})=>`Could not find row model for rowModelType = ${e}`,202:()=>"`getSelectedNodes` and `getSelectedRows` functions cannot be used with `groupSelectsChildren` and the server-side row model. Use `api.getServerSideSelectionState()` instead.",203:()=>"Server Side Row Model does not support Dynamic Row Height and Cache Purging. Either a) remove getRowHeight() callback or b) remove maxBlocksInCache property. Purging has been disabled.",204:()=>"Server Side Row Model does not support Auto Row Height and Cache Purging. Either a) remove colDef.autoHeight or b) remove maxBlocksInCache property. Purging has been disabled.",205:({duplicateIdText:e})=>`Unable to display rows as duplicate row ids (${e}) were returned by the getRowId callback. Please modify the getRowId callback to provide unique ids.`,206:()=>"getRowId callback must be implemented for transactions to work. Transaction was ignored.",207:()=>'The Set Filter Parameter "defaultToNothingSelected" value was ignored because it does not work when "excelMode" is used.',208:()=>"Set Filter Value Formatter must return string values. Please ensure the Set Filter Value Formatter returns string values for complex objects.",209:()=>`Set Filter Key Creator is returning null for provided values and provided values are primitives. Please provide complex objects. See ${qa}/filter-set-filter-list/#filter-value-types`,210:()=>"Set Filter has a Key Creator, but provided values are primitives. Did you mean to provide complex objects?",211:()=>"property treeList=true for Set Filter params, but you did not provide a treeListPathGetter or values of type Date.",212:()=>"please review all your toolPanel components, it seems like at least one of them doesn't have an id",213:()=>"Advanced Filter does not work with Filters Tool Panel. Filters Tool Panel has been disabled.",214:({key:e})=>`unable to lookup Tool Panel as invalid key supplied: ${e}`,215:({key:e,defaultByKey:t})=>`the key ${e} is not a valid key for specifying a tool panel, valid keys are: ${Object.keys(t??{}).join(",")}`,216:({name:e})=>`Missing component for '${e}'`,217:({invalidColIds:e})=>["unable to find grid columns for the supplied colDef(s):",e],218:({property:e,defaultOffset:t})=>`${e} must be a number, the value you provided is not a valid number. Using the default of ${t}px.`,219:({property:e})=>`Property ${e} does not exist on the target object.`,220:({lineDash:e})=>`'${e}' is not a valid 'lineDash' option.`,221:()=>"agAggregationComponent should only be used with the client and server side row model.",222:()=>"agFilteredRowCountComponent should only be used with the client side row model.",223:()=>"agSelectedRowCountComponent should only be used with the client and server side row model.",224:()=>"agTotalAndFilteredRowCountComponent should only be used with the client side row model.",225:()=>"agTotalRowCountComponent should only be used with the client side row model.",226:()=>"viewport is missing init method.",227:()=>"menu item icon must be DOM node or string",228:({menuItemOrString:e})=>`unrecognised menu item ${e}`,229:({index:e})=>["invalid row index for ensureIndexVisible: ",e],230:()=>"detailCellRendererParams.template is not supported by AG Grid React. To change the template, provide a Custom Detail Cell Renderer. See https://www.ag-grid.com/react-data-grid/master-detail-custom-detail/",231:()=>"As of v32, using custom components with `reactiveCustomComponents = false` is deprecated.",232:()=>"Using both rowData and v-model. rowData will be ignored.",233:({methodName:e})=>`Framework component is missing the method ${e}()`,234:()=>'Group Column Filter does not work with the colDef property "field". This property will be ignored.',235:()=>'Group Column Filter does not work with the colDef property "filterValueGetter". This property will be ignored.',236:()=>'Group Column Filter does not work with the colDef property "filterParams". This property will be ignored.',237:()=>"Group Column Filter does not work with Tree Data enabled. Please disable Tree Data, or use a different filter.",238:()=>"setRowCount can only accept a positive row count.",239:()=>'Theming API and CSS File Themes are both used in the same page. In v33 we released the Theming API as the new default method of styling the grid. See the migration docs https://www.ag-grid.com/react-data-grid/theming-migration/. Because no value was provided to the `theme` grid option it defaulted to themeQuartz. But the file (ag-grid.css) is also included and will cause styling issues. Either pass the string "legacy" to the theme grid option to use v32 style themes, or remove ag-grid.css from the page to use Theming API.',240:({theme:e})=>`theme grid option must be a Theming API theme object or the string "legacy", received: ${e}`,243:()=>"Failed to deserialize state - each provided state object must be an object.",244:()=>"Failed to deserialize state - `selectAllChildren` must be a boolean value or undefined.",245:()=>"Failed to deserialize state - `toggledNodes` must be an array.",246:()=>"Failed to deserialize state - Every `toggledNode` requires an associated string id.",247:()=>`Row selection state could not be parsed due to invalid data. Ensure all child state has toggledNodes or does not conform with the parent rule. 
Please rebuild the selection state and reapply it.`,248:()=>"SetFloatingFilter expects SetFilter as its parent",249:()=>"Must supply a Value Formatter in Set Filter params when using a Key Creator",250:()=>"Must supply a Key Creator in Set Filter params when `treeList = true` on a group column, and Tree Data or Row Grouping is enabled.",251:({chartType:e})=>`AG Grid: Unable to create chart as an invalid chartType = '${e}' was supplied.`,252:()=>`cannot get grid to draw rows when it is in the middle of drawing rows. 
Your code probably called a grid API method while the grid was in the render stage. 
To overcome this, put the API call into a timeout, e.g. instead of api.redrawRows(), call setTimeout(function() { api.redrawRows(); }, 0). 
To see what part of your code that caused the refresh check this stacktrace.`,253:({version:e})=>["Illegal version string: ",e],254:()=>"Cannot create chart: no chart themes available.",255:({point:e})=>`Lone surrogate U+${e==null?void 0:e.toString(16).toUpperCase()} is not a scalar value`,256:()=>"Unable to initialise. See validation error, or load ValidationModule if missing.",257:()=>i3("IntegratedChartsModule"),258:()=>i3("SparklinesModule"),259:({part:e})=>`the argument to theme.withPart must be a Theming API part object, received: ${e}`,260:({propName:e,compName:t,gridScoped:n,gridId:i,rowModelType:r})=>n3({reasonOrId:`AG Grid '${e}' component: ${t}`,moduleName:iu[t],gridId:i,gridScoped:n,rowModelType:r}),261:()=>"As of v33, `column.isHovered()` is deprecated. Use `api.isColumnHovered(column)` instead.",262:()=>'As of v33, icon key "smallDown" is deprecated. Use "advancedFilterBuilderSelect" for Advanced Filter Builder dropdown, "selectOpen" for Select cell editor and dropdowns (e.g. Integrated Charts menu), "richSelectOpen" for Rich Select cell editor.',263:()=>'As of v33, icon key "smallLeft" is deprecated. Use "panelDelimiterRtl" for Row Group Panel / Pivot Panel, "subMenuOpenRtl" for sub-menus.',264:()=>'As of v33, icon key "smallRight" is deprecated. Use "panelDelimiter" for Row Group Panel / Pivot Panel, "subMenuOpen" for sub-menus.',265:({colId:e})=>`Unable to infer chart data type for column '${e}' if first data entry is null. Please specify "chartDataType", or a "cellDataType" in the column definition. For more information, see ${qa}/integrated-charts-range-chart#coldefchartdatatype .`,266:()=>'As of v33.1, using "keyCreator" with the Rich Select Editor has been deprecated. It now requires the "formatValue" callback to convert complex data to strings.',267:()=>"Detail grids can not use a different theme to the master grid, the `theme` detail grid option will be ignored.",268:()=>"Transactions aren't supported with tree data when using treeDataChildrenField",269:()=>"When `masterSelects: 'detail'`, detail grids must be configured with multi-row selection",270:({id:e,parentId:t})=>`Cycle detected for row with id='${e}' and parent id='${t}'. Resetting the parent for row with id='${e}' and showing it as a root-level node.`,271:({id:e,parentId:t})=>`Parent row not found for row with id='${e}' and parent id='${t}'. Showing row with id='${e}' as a root-level node.`};function gse(e,t){const n=fse[e];if(!n)return[`Missing error text for error id ${e}!`];const i=n(t),o=`
See ${qA(e,t)}`;return Array.isArray(i)?i.concat(o):[i,o]}var mse={1:"Charting Aggregation",2:"pivotResultFields",3:"setTooltip"},vse=()=>({checkboxSelection:{version:"32.2",message:"Use `rowSelection.checkboxes` in `GridOptions` instead."},headerCheckboxSelection:{version:"32.2",message:"Use `rowSelection.headerCheckbox = true` in `GridOptions` instead."},headerCheckboxSelectionFilteredOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "filtered"` in `GridOptions` instead.'},headerCheckboxSelectionCurrentPageOnly:{version:"32.2",message:'Use `rowSelection.selectAll = "currentPage"` in `GridOptions` instead.'},showDisabledCheckboxes:{version:"32.2",message:"Use `rowSelection.hideDisabledCheckboxes = true` in `GridOptions` instead."}}),Cse=()=>({aggFunc:{module:"SharedAggregation"},autoHeight:{supportedRowModels:["clientSide","serverSide"],module:"RowAutoHeight"},cellClass:{module:"CellStyle"},cellClassRules:{module:"CellStyle"},cellEditor:({cellEditor:e,editable:t})=>{if(!t)return null;if(typeof e=="string"){const n=iu[e];if(n)return{module:n}}return{module:"CustomEditor"}},cellRenderer:({cellRenderer:e})=>{if(typeof e!="string")return null;const t=iu[e];return t?{module:t}:null},cellRendererParams:{validate:e=>(e.rowGroup!=null||e.rowGroupIndex!=null||e.cellRenderer==="agGroupCellRenderer")&&"checkbox"in e.cellRendererParams?'Since v33.0, `cellRendererParams.checkbox` has been deprecated. Use `rowSelection.checkboxLocation = "autoGroupColumn"` instead.':null},cellStyle:{module:"CellStyle"},children:()=>OR(),columnChooserParams:{module:"ColumnMenu"},contextMenuItems:{module:"ContextMenu"},dndSource:{module:"DragAndDrop"},dndSourceOnRowDrag:{module:"DragAndDrop"},editable:({editable:e,cellEditor:t})=>e&&!t?{module:"TextEditor"}:null,enableCellChangeFlash:{module:"HighlightChanges"},enablePivot:{module:"SharedPivot"},enableRowGroup:{module:"SharedRowGrouping"},enableValue:{module:"SharedAggregation"},filter:({filter:e})=>{if(e&&typeof e!="string"&&typeof e!="boolean")return{module:"CustomFilter"};if(typeof e=="string"){const t=iu[e];if(t)return{module:t}}return{module:"ColumnFilter"}},floatingFilter:{module:"ColumnFilter"},headerCheckboxSelection:{supportedRowModels:["clientSide","serverSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelection is only supported with rowSelection=multiple"},headerCheckboxSelectionCurrentPageOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionCurrentPageOnly is only supported with rowSelection=multiple"},headerCheckboxSelectionFilteredOnly:{supportedRowModels:["clientSide"],validate:(e,{rowSelection:t})=>t==="multiple"?null:"headerCheckboxSelectionFilteredOnly is only supported with rowSelection=multiple"},headerTooltip:{module:"Tooltip"},headerValueGetter:{validate:e=>{const t=e.headerValueGetter;return typeof t=="function"||typeof t=="string"?null:"headerValueGetter must be a function or a valid string expression"}},icons:{validate:({icons:e})=>{if(e){if(e.smallDown)return na(262);if(e.smallLeft)return na(263);if(e.smallRight)return na(264)}return null}},mainMenuItems:{module:"ColumnMenu"},menuTabs:e=>{var n;const t=["columnsMenuTab","generalMenuTab"];return(n=e.menuTabs)!=null&&n.some(i=>t.includes(i))?{module:"ColumnMenu"}:null},pivot:{module:"SharedPivot"},pivotIndex:{module:"SharedPivot"},rowDrag:{module:"RowDrag"},rowGroup:{module:"SharedRowGrouping"},rowGroupIndex:{module:"SharedRowGrouping"},sortingOrder:{validate:e=>{const t=e.sortingOrder;if(Array.isArray(t)&&t.length>0){const n=t.filter(i=>!Id.includes(i));if(n.length>0)return`sortingOrder must be an array with elements from [${Id.map(t0).join()}], currently it includes [${n.map(t0).join()}]`}else if(!Array.isArray(t)||t.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${t}`;return null}},tooltipField:{module:"Tooltip"},tooltipValueGetter:{module:"Tooltip"},type:{validate:e=>{const t=e.type;return t instanceof Array?t.some(i=>typeof i!="string")?"if colDef.type is supplied an array it should be of type 'string[]'":null:typeof t=="string"?null:"colDef.type should be of type 'string' | 'string[]'"}},rowSpan:{validate:(e,{suppressRowTransform:t})=>t?null:"colDef.rowSpan requires suppressRowTransform to be enabled."},spanRows:{module:"CellSpan",dependencies:{editable:{required:[!1,void 0]},rowDrag:{required:[!1,void 0]},colSpan:{required:[!1,void 0]},rowSpan:{required:[!1,void 0]}},validate:(e,{rowSelection:t,cellSelection:n,suppressRowTransform:i,enableCellSpan:r,rowDragEntireRow:o,enableCellTextSelection:s})=>typeof t=="object"&&(t==null?void 0:t.mode)==="singleRow"&&t!=null&&t.enableClickSelection?"colDef.spanRows is not supported with rowSelection.clickSelection":n?"colDef.spanRows is not supported with cellSelection.":i?"colDef.spanRows is not supported with suppressRowTransform.":r?o?"colDef.spanRows is not supported with rowDragEntireRow.":s?"colDef.spanRows is not supported with enableCellTextSelection.":null:"colDef.spanRows requires enableCellSpan to be enabled."}}),bse={headerName:void 0,columnGroupShow:void 0,headerStyle:void 0,headerClass:void 0,toolPanelClass:void 0,headerValueGetter:void 0,pivotKeys:void 0,groupId:void 0,colId:void 0,sort:void 0,initialSort:void 0,field:void 0,type:void 0,cellDataType:void 0,tooltipComponent:void 0,tooltipField:void 0,headerTooltip:void 0,cellClass:void 0,showRowGroup:void 0,filter:void 0,initialAggFunc:void 0,defaultAggFunc:void 0,aggFunc:void 0,pinned:void 0,initialPinned:void 0,chartDataType:void 0,cellAriaRole:void 0,cellEditorPopupPosition:void 0,headerGroupComponent:void 0,headerGroupComponentParams:void 0,cellStyle:void 0,cellRenderer:void 0,cellRendererParams:void 0,cellEditor:void 0,cellEditorParams:void 0,filterParams:void 0,pivotValueColumn:void 0,headerComponent:void 0,headerComponentParams:void 0,floatingFilterComponent:void 0,floatingFilterComponentParams:void 0,tooltipComponentParams:void 0,refData:void 0,columnChooserParams:void 0,children:void 0,sortingOrder:void 0,allowedAggFuncs:void 0,menuTabs:void 0,pivotTotalColumnIds:void 0,cellClassRules:void 0,icons:void 0,sortIndex:void 0,initialSortIndex:void 0,flex:void 0,initialFlex:void 0,width:void 0,initialWidth:void 0,minWidth:void 0,maxWidth:void 0,rowGroupIndex:void 0,initialRowGroupIndex:void 0,pivotIndex:void 0,initialPivotIndex:void 0,suppressColumnsToolPanel:void 0,suppressFiltersToolPanel:void 0,openByDefault:void 0,marryChildren:void 0,suppressStickyLabel:void 0,hide:void 0,initialHide:void 0,rowGroup:void 0,initialRowGroup:void 0,pivot:void 0,initialPivot:void 0,checkboxSelection:void 0,showDisabledCheckboxes:void 0,headerCheckboxSelection:void 0,headerCheckboxSelectionFilteredOnly:void 0,headerCheckboxSelectionCurrentPageOnly:void 0,suppressHeaderMenuButton:void 0,suppressMovable:void 0,lockPosition:void 0,lockVisible:void 0,lockPinned:void 0,unSortIcon:void 0,suppressSizeToFit:void 0,suppressAutoSize:void 0,enableRowGroup:void 0,enablePivot:void 0,enableValue:void 0,editable:void 0,suppressPaste:void 0,suppressNavigable:void 0,enableCellChangeFlash:void 0,rowDrag:void 0,dndSource:void 0,autoHeight:void 0,wrapText:void 0,sortable:void 0,resizable:void 0,singleClickEdit:void 0,floatingFilter:void 0,cellEditorPopup:void 0,suppressFillHandle:void 0,wrapHeaderText:void 0,autoHeaderHeight:void 0,dndSourceOnRowDrag:void 0,valueGetter:void 0,valueSetter:void 0,filterValueGetter:void 0,keyCreator:void 0,valueFormatter:void 0,valueParser:void 0,comparator:void 0,equals:void 0,pivotComparator:void 0,suppressKeyboardEvent:void 0,suppressHeaderKeyboardEvent:void 0,colSpan:void 0,rowSpan:void 0,spanRows:void 0,getQuickFilterText:void 0,onCellValueChanged:void 0,onCellClicked:void 0,onCellDoubleClicked:void 0,onCellContextMenu:void 0,rowDragText:void 0,tooltipValueGetter:void 0,cellRendererSelector:void 0,cellEditorSelector:void 0,suppressSpanHeaderHeight:void 0,useValueFormatterForExport:void 0,useValueParserForImport:void 0,mainMenuItems:void 0,contextMenuItems:void 0,suppressFloatingFilterButton:void 0,suppressHeaderFilterButton:void 0,suppressHeaderContextMenu:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,context:void 0,dateComponent:void 0,dateComponentParams:void 0,getFindText:void 0},yse=()=>Object.keys(bse),OR=()=>({objectName:"colDef",allProperties:yse(),docsUrl:"column-properties/",deprecations:vse(),validations:Cse()}),wse=()=>({suppressLoadingOverlay:{version:"32",message:"Use `loading`=false instead."},enableFillHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeHandle:{version:"32.2",message:"Use `cellSelection.handle` instead."},enableRangeSelection:{version:"32.2",message:"Use `cellSelection = true` instead."},suppressMultiRangeSelection:{version:"32.2",message:"Use `cellSelection.suppressMultiRanges` instead."},suppressClearOnFillReduction:{version:"32.2",message:"Use `cellSelection.handle.suppressClearOnFillReduction` instead."},fillHandleDirection:{version:"32.2",message:"Use `cellSelection.handle.direction` instead."},fillOperation:{version:"32.2",message:"Use `cellSelection.handle.setFillValue` instead."},suppressRowClickSelection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},suppressRowDeselection:{version:"32.2",message:"Use `rowSelection.enableClickSelection` instead."},rowMultiSelectWithClick:{version:"32.2",message:"Use `rowSelection.enableSelectionWithoutKeys` instead."},groupSelectsChildren:{version:"32.2",message:'Use `rowSelection.groupSelects = "descendants"` instead.'},groupSelectsFiltered:{version:"32.2",message:'Use `rowSelection.groupSelects = "filteredDescendants"` instead.'},isRowSelectable:{version:"32.2",message:"Use `selectionOptions.isRowSelectable` instead."},suppressCopySingleCellRanges:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},suppressCopyRowsToClipboard:{version:"32.2",message:"Use `rowSelection.copySelectedRows` instead."},onRangeSelectionChanged:{version:"32.2",message:"Use `onCellSelectionChanged` instead."},onRangeDeleteStart:{version:"32.2",message:"Use `onCellSelectionDeleteStart` instead."},onRangeDeleteEnd:{version:"32.2",message:"Use `onCellSelectionDeleteEnd` instead."},suppressBrowserResizeObserver:{version:"32.2",message:"The grid always uses the browser's ResizeObserver, this grid option has no effect."},onColumnEverythingChanged:{version:"32.2",message:"Either use `onDisplayedColumnsChanged` which is fired at the same time, or use one of the more specific column events."},groupRemoveSingleChildren:{version:"33",message:"Use `groupHideParentOfSingleChild` instead."},groupRemoveLowestSingleChildren:{version:"33",message:'Use `groupHideParentOfSingleChild: "leafGroupsOnly"` instead.'},suppressRowGroupHidesColumns:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressHideOnGroup"` instead.'},suppressMakeColumnVisibleAfterUnGroup:{version:"33",message:'Use `suppressGroupChangesColumnVisibility: "suppressShowOnUngroup"` instead.'},unSortIcon:{version:"33",message:"Use `defaultColDef.unSortIcon` instead."},sortingOrder:{version:"33",message:"Use `defaultColDef.sortingOrder` instead."},suppressPropertyNamesCheck:{version:"33",message:"`gridOptions` and `columnDefs` both have a `context` property that should be used for arbitrary user data. This means that column definitions and gridOptions should only contain valid properties making this property redundant."}});function Kr(e,t,n,i=Number.MAX_VALUE){return typeof t=="number"||t==null?t==null||t>=n&&t<=i?null:i===Number.MAX_VALUE?`${e}: value should be greater than or equal to ${n}`:`${e}: value should be between ${n} and ${i}`:`${e}: value should be a number`}var Sse=()=>{const e={alignedGrids:{module:"AlignedGrids"},allowContextMenuWithControlKey:{module:"ContextMenu"},autoSizePadding:{validate({autoSizePadding:n}){return Kr("autoSizePadding",n,0)}},autoSizeStrategy:{module:"ColumnAutoSize"},cacheBlockSize:{supportedRowModels:["serverSide","infinite"],validate({cacheBlockSize:n}){return Kr("cacheBlockSize",n,1)}},cacheOverflowSize:{validate({cacheOverflowSize:n}){return Kr("cacheOverflowSize",n,1)}},cellSelection:{module:"CellSelection"},columnHoverHighlight:{module:"ColumnHover"},datasource:{supportedRowModels:["infinite"],module:"InfiniteRowModel"},doesExternalFilterPass:{module:"ExternalFilter"},domLayout:{validate:n=>{const i=n.domLayout,r=["autoHeight","normal","print"];return i&&!r.includes(i)?`domLayout must be one of [${r.join()}], currently it's ${i}`:null}},editType:{module:"EditCore"},enableAdvancedFilter:{module:"AdvancedFilter"},enableCharts:{module:"IntegratedCharts"},enableFillHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeHandle:{dependencies:{enableRangeSelection:{required:[!0]}}},enableRangeSelection:{module:"CellSelection",dependencies:{rowDragEntireRow:{required:[!1,void 0]}}},findSearchValue:{module:"Find"},rowNumbers:{module:"RowNumbers"},getContextMenuItems:{module:"ContextMenu"},getLocaleText:{module:"Locale"},getMainMenuItems:{module:"ColumnMenu"},getRowClass:{module:"RowStyle"},getRowStyle:{module:"RowStyle"},grandTotalRow:{module:"SharedRowGrouping"},groupDefaultExpanded:{supportedRowModels:["clientSide"]},groupHideOpenParents:{supportedRowModels:["clientSide","serverSide"],dependencies:{groupTotalRow:{required:[void 0,"bottom"]},treeData:{required:[void 0,!1],reason:"Tree Data has values at the group level so it doesn't make sense to hide them."}}},groupHideParentOfSingleChild:{dependencies:{groupHideOpenParents:{required:[void 0,!1]}}},groupRemoveLowestSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveSingleChildren:{required:[void 0,!1]}}},groupRemoveSingleChildren:{dependencies:{groupHideOpenParents:{required:[void 0,!1]},groupRemoveLowestSingleChildren:{required:[void 0,!1]}}},groupSelectsChildren:{dependencies:{rowSelection:{required:["multiple"]}}},icons:{validate:({icons:n})=>{if(n){if(n.smallDown)return na(262);if(n.smallLeft)return na(263);if(n.smallRight)return na(264)}return null}},infiniteInitialRowCount:{validate({infiniteInitialRowCount:n}){return Kr("infiniteInitialRowCount",n,1)}},initialGroupOrderComparator:{supportedRowModels:["clientSide"]},initialState:{module:"GridState"},isExternalFilterPresent:{module:"ExternalFilter"},keepDetailRowsCount:{validate({keepDetailRowsCount:n}){return Kr("keepDetailRowsCount",n,1)}},localeText:{module:"Locale"},masterDetail:{module:"SharedMasterDetail"},pagination:{module:"Pagination"},paginationPageSize:{validate({paginationPageSize:n}){return Kr("paginationPageSize",n,1)}},paginationPageSizeSelector:{validate:n=>{const i=n.paginationPageSizeSelector;return typeof i=="boolean"||i==null||i.length?null:`'paginationPageSizeSelector' cannot be an empty array.
                    If you want to hide the page size selector, set paginationPageSizeSelector to false.`}},pinnedTopRowData:{module:"PinnedRow"},pinnedBottomRowData:{module:"PinnedRow"},pivotMode:{dependencies:{treeData:{required:[!1,void 0],reason:"Pivot Mode is not supported with Tree Data."}},module:"SharedPivot"},pivotPanelShow:{module:"RowGroupingPanel"},quickFilterText:{supportedRowModels:["clientSide"],module:"QuickFilter"},rowBuffer:{validate({rowBuffer:n}){return Kr("rowBuffer",n,0)}},rowClass:{validate:n=>typeof n.rowClass=="function"?"rowClass should not be a function, please use getRowClass instead":null,module:"RowStyle"},rowClassRules:{module:"RowStyle"},rowData:{supportedRowModels:["clientSide"],module:"ClientSideRowModel"},rowDragManaged:{supportedRowModels:["clientSide"],dependencies:{treeData:{required:[!1,void 0]},pagination:{required:[!1,void 0]}},module:"RowDrag"},rowGroupPanelShow:{module:"RowGroupingPanel"},rowSelection:{validate({rowSelection:n}){return n&&typeof n=="string"?'As of version 32.2.1, using `rowSelection` with the values "single" or "multiple" has been deprecated. Use the object value instead.':n&&typeof n!="object"?"Expected `RowSelectionOptions` object for the `rowSelection` property.":n&&n.mode!=="multiRow"&&n.mode!=="singleRow"?`Selection mode "${n.mode}" is invalid. Use one of 'singleRow' or 'multiRow'.`:null},module:"SharedRowSelection"},rowStyle:{validate:n=>{const i=n.rowStyle;return i&&typeof i=="function"?"rowStyle should be an object of key/value styles, not be a function, use getRowStyle() instead":null},module:"RowStyle"},serverSideDatasource:{supportedRowModels:["serverSide"],module:"ServerSideRowModel"},serverSideInitialRowCount:{supportedRowModels:["serverSide"],validate({serverSideInitialRowCount:n}){return Kr("serverSideInitialRowCount",n,1)}},serverSideOnlyRefreshFilteredGroups:{supportedRowModels:["serverSide"]},serverSideSortAllLevels:{supportedRowModels:["serverSide"]},sideBar:{module:"SideBar"},sortingOrder:{validate:n=>{const i=n.sortingOrder;if(Array.isArray(i)&&i.length>0){const r=i.filter(o=>!Id.includes(o));if(r.length>0)return`sortingOrder must be an array with elements from [${Id.map(t0).join()}], currently it includes [${r.map(t0).join()}]`}else if(!Array.isArray(i)||i.length<=0)return`sortingOrder must be an array with at least one element, currently it's ${i}`;return null}},statusBar:{module:"StatusBar"},tooltipHideDelay:{validate:n=>n.tooltipHideDelay&&n.tooltipHideDelay<0?"tooltipHideDelay should not be lower than 0":null},tooltipShowDelay:{validate:n=>n.tooltipShowDelay&&n.tooltipShowDelay<0?"tooltipShowDelay should not be lower than 0":null},treeData:{supportedRowModels:["clientSide","serverSide"],module:"SharedTreeData",validate:n=>{const i=n.rowModelType??"clientSide";switch(i){case"clientSide":{const{treeDataChildrenField:r,treeDataParentIdField:o,getDataPath:s,getRowId:a}=n;if(!r&&!o&&!s)return"treeData requires either 'treeDataChildrenField' or 'treeDataParentIdField' or 'getDataPath' in the clientSide row model.";if(r){if(s)return"Cannot use both 'treeDataChildrenField' and 'getDataPath' at the same time.";if(o)return"Cannot use both 'treeDataChildrenField' and 'treeDataParentIdField' at the same time."}if(o){if(!a)return"getRowId callback not provided, tree data with parent id cannot be built.";if(s)return"Cannot use both 'treeDataParentIdField' and 'getDataPath' at the same time."}return null}case"serverSide":{const r=`treeData requires 'isServerSideGroup' and 'getServerSideGroupKey' in the ${i} row model.`;return n.isServerSideGroup&&n.getServerSideGroupKey?null:r}}return null}},treeDataChildrenField:{module:"SharedTreeData"},treeDataParentIdField:{module:"SharedTreeData"},undoRedoCellEditing:{module:"UndoRedoEdit"},valueCache:{module:"ValueCache"},viewportDatasource:{supportedRowModels:["viewport"],module:"ViewportRowModel"},viewportRowModelBufferSize:{validate({viewportRowModelBufferSize:n}){return Kr("viewportRowModelBufferSize",n,0)}},viewportRowModelPageSize:{validate({viewportRowModelPageSize:n}){return Kr("viewportRowModelPageSize",n,1)}},rowDragEntireRow:{dependencies:{cellSelection:{required:[void 0]}}},enableCellSpan:{module:"CellSpan"},autoGroupColumnDef:{validate({autoGroupColumnDef:n,showOpenedGroup:i}){return n!=null&&n.field&&i?"autoGroupColumnDef.field and showOpenedGroup are not supported when used together.":n!=null&&n.valueGetter&&i?"autoGroupColumnDef.valueGetter and showOpenedGroup are not supported when used together.":null}}},t={};return MR.forEach(n=>{t[n]={expectedType:"boolean"}}),DR.forEach(n=>{t[n]={expectedType:"number"}}),Si(t,e),t},xse=()=>({objectName:"gridOptions",allProperties:[...fC,...RR.map(e=>Ky(e))],propertyExceptions:["api"],docsUrl:"grid-options/",deprecations:wse(),validations:Sse()}),Ese={expanded:1,contracted:1,"tree-closed":1,"tree-open":1,"tree-indeterminate":1,pin:1,"eye-slash":1,arrows:1,left:1,right:1,group:1,aggregation:1,pivot:1,"not-allowed":1,chart:1,cross:1,cancel:1,tick:1,first:1,previous:1,next:1,last:1,linked:1,unlinked:1,"color-picker":1,loading:1,menu:1,"menu-alt":1,filter:1,columns:1,maximize:1,minimize:1,copy:1,cut:1,paste:1,grip:1,save:1,csv:1,excel:1,"small-down":1,"small-left":1,"small-right":1,"small-up":1,asc:1,desc:1,none:1,up:1,down:1,plus:1,minus:1,settings:1,"checkbox-checked":1,"checkbox-indeterminate":1,"checkbox-unchecked":1,"radio-button-on":1,"radio-button-off":1,eye:1},kse={chart:"MenuCore",cancel:"EnterpriseCore",first:"Pagination",previous:"Pagination",next:"Pagination",last:"Pagination",linked:"IntegratedCharts",loadingMenuItems:"MenuCore",unlinked:"IntegratedCharts",menu:"ColumnHeaderComp",legacyMenu:"ColumnMenu",filter:"ColumnFilter",filterActive:"ColumnFilter",filterTab:"ColumnMenu",filtersToolPanel:"FiltersToolPanel",columns:["MenuCore"],columnsToolPanel:["ColumnsToolPanel"],maximize:"EnterpriseCore",minimize:"EnterpriseCore",save:"MenuCore",columnGroupOpened:"ColumnGroupHeaderComp",columnGroupClosed:"ColumnGroupHeaderComp",accordionOpen:"EnterpriseCore",accordionClosed:"EnterpriseCore",accordionIndeterminate:"EnterpriseCore",columnSelectClosed:["ColumnsToolPanel","ColumnMenu"],columnSelectOpen:["ColumnsToolPanel","ColumnMenu"],columnSelectIndeterminate:["ColumnsToolPanel","ColumnMenu"],columnMovePin:"SharedDragAndDrop",columnMoveHide:"SharedDragAndDrop",columnMoveMove:"SharedDragAndDrop",columnMoveLeft:"SharedDragAndDrop",columnMoveRight:"SharedDragAndDrop",columnMoveGroup:"SharedDragAndDrop",columnMoveValue:"SharedDragAndDrop",columnMovePivot:"SharedDragAndDrop",dropNotAllowed:"SharedDragAndDrop",groupContracted:"GroupCellRenderer",groupExpanded:"GroupCellRenderer",setFilterGroupClosed:"SetFilter",setFilterGroupOpen:"SetFilter",setFilterGroupIndeterminate:"SetFilter",setFilterLoading:"SetFilter",close:"EnterpriseCore",check:"MenuItem",colorPicker:"CommunityCore",groupLoading:"LoadingCellRenderer",menuAlt:"ColumnHeaderComp",menuPin:"MenuCore",menuValue:"MenuCore",menuAddRowGroup:["MenuCore","ColumnsToolPanel"],menuRemoveRowGroup:["MenuCore","ColumnsToolPanel"],clipboardCopy:"MenuCore",clipboardCut:"MenuCore",clipboardPaste:"MenuCore",pivotPanel:["ColumnsToolPanel","RowGroupingPanel"],rowGroupPanel:["ColumnsToolPanel","RowGroupingPanel"],valuePanel:"ColumnsToolPanel",columnDrag:"EnterpriseCore",rowDrag:["RowDrag","DragAndDrop"],csvExport:"MenuCore",excelExport:"MenuCore",smallDown:"CommunityCore",selectOpen:"CommunityCore",richSelectOpen:"RichSelect",richSelectRemove:"RichSelect",smallLeft:"CommunityCore",smallRight:"CommunityCore",subMenuOpen:"MenuItem",subMenuOpenRtl:"MenuItem",panelDelimiter:"RowGroupingPanel",panelDelimiterRtl:"RowGroupingPanel",smallUp:"CommunityCore",sortAscending:["MenuCore","Sort"],sortDescending:["MenuCore","Sort"],sortUnSort:["MenuCore","Sort"],advancedFilterBuilder:"AdvancedFilter",advancedFilterBuilderDrag:"AdvancedFilter",advancedFilterBuilderInvalid:"AdvancedFilter",advancedFilterBuilderMoveUp:"AdvancedFilter",advancedFilterBuilderMoveDown:"AdvancedFilter",advancedFilterBuilderAdd:"AdvancedFilter",advancedFilterBuilderRemove:"AdvancedFilter",advancedFilterBuilderSelectOpen:"AdvancedFilter",chartsMenu:"IntegratedCharts",chartsMenuEdit:"IntegratedCharts",chartsMenuAdvancedSettings:"IntegratedCharts",chartsMenuAdd:"IntegratedCharts",chartsColorPicker:"IntegratedCharts",chartsThemePrevious:"IntegratedCharts",chartsThemeNext:"IntegratedCharts",chartsDownload:"IntegratedCharts",checkboxChecked:"CommunityCore",checkboxIndeterminate:"CommunityCore",checkboxUnchecked:"CommunityCore",radioButtonOn:"CommunityCore",radioButtonOff:"CommunityCore"},Fse=new Set(["colorPicker","smallUp","checkboxChecked","checkboxIndeterminate","checkboxUnchecked","radioButtonOn","radioButtonOff","smallDown","smallLeft","smallRight"]),Tse={pinSubMenu:"PinnedColumn",pinLeft:"PinnedColumn",pinRight:"PinnedColumn",clearPinned:"PinnedColumn",valueAggSubMenu:"SharedAggregation",autoSizeThis:"ColumnAutoSize",autoSizeAll:"ColumnAutoSize",rowGroup:"SharedRowGrouping",rowUnGroup:"SharedRowGrouping",resetColumns:"CommunityCore",expandAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],contractAll:["ClientSideRowModelHierarchy","ServerSideRowModel"],copy:"Clipboard",copyWithHeaders:"Clipboard",copyWithGroupHeaders:"Clipboard",cut:"Clipboard",paste:"Clipboard",export:["CsvExport","ExcelExport"],csvExport:"CsvExport",excelExport:"ExcelExport",separator:"CommunityCore",pivotChart:"IntegratedCharts",chartRange:"IntegratedCharts",columnFilter:"ColumnFilter",columnChooser:"ColumnMenu",sortAscending:"Sort",sortDescending:"Sort",sortUnSort:"Sort"},Ase=class extends K{constructor(){super(...arguments),this.beanName="validation"}wireBeans(e){this.gridOptions=e.gridOptions,HX(this)}postConstruct(){this.processGridOptions(this.gridOptions)}warnOnInitialPropertyUpdate(e,t){e==="api"&&rse[t]&&ie(22,{key:t})}processGridOptions(e){this.processOptions(e,xse())}validateApiFunction(e,t){return ase(e,t,this.beans)}missingUserComponent(e,t,n,i){const r=iu[t];r?this.gos.assertModuleRegistered(r,`AG Grid '${e}' component: ${t}`):ie(101,{propertyName:e,componentName:t,agGridDefaults:n,jsComps:i})}checkRowEvents(e){Dse.has(e)&&ie(10,{eventType:e})}validateIcon(e){if(Fse.has(e)&&ie(43,{iconName:e}),Ese[e])return;const t=kse[e];if(t){dt(200,{reasonOrId:`icon '${e}'`,moduleName:t,gridScoped:Zy(),gridId:this.beans.context.getGridId(),rowModelType:this.gos.get("rowModelType"),additionalText:"Alternatively, use the CSS icon name directly."});return}ie(134,{iconName:e})}validateMenuItem(e){const t=Tse[e];t&&this.gos.assertModuleRegistered(t,`menu item '${e}'`)}isProvidedUserComp(e){return!!iu[e]}validateColDef(e,t,n){var i;(n||!((i=this.beans.dataTypeSvc)!=null&&i.isColPendingInference(t)))&&this.processOptions(e,OR())}processOptions(e,t){const{validations:n,deprecations:i,allProperties:r,propertyExceptions:o,objectName:s,docsUrl:a}=t;r&&this.gridOptions.suppressPropertyNamesCheck!==!0&&this.checkProperties(e,[...o??[],...Object.keys(i)],r,s,a);const l=new Set,u=d=>{const h=n[d];if(h)if(typeof h=="function"){const p=h(e,this.gridOptions,this.beans);if(!p)return;if("objectName"in p){const f=e[d];if(Array.isArray(f)){f.forEach(g=>{this.processOptions(g,p)});return}this.processOptions(e[d],p);return}return p}else return h;else return};Object.keys(e).forEach(d=>{const h=i[d];if(h){const{message:y,version:x}=h;l.add(`As of v${x}, ${String(d)} is deprecated. ${y??""}`)}const p=e[d];if(p==null||p===!1)return;const f=u(d);if(!f)return;const{module:g,dependencies:m,validate:v,supportedRowModels:b,expectedType:S}=f;if(S){const y=typeof p;if(y!==S){l.add(`${String(d)} should be of type '${S}' but received '${y}' (${p}).`);return}}if(b){const y=this.gridOptions.rowModelType??"clientSide";if(!b.includes(y)){l.add(`${String(d)} is not supported with the '${y}' row model. It is only valid with: ${b.join(", ")}.`);return}}if(g){const y=Array.isArray(g)?g:[g];let x=!0;if(y.forEach(E=>{this.gos.assertModuleRegistered(E,String(d))||(x=!1)}),!x)return}if(m){const y=this.checkForRequiredDependencies(d,m,e);if(y){l.add(y);return}}if(v){const y=v(e,this.gridOptions,this.beans);if(y){l.add(y);return}}}),l.size>0&&l.forEach(d=>{Gc(d)})}checkForRequiredDependencies(e,t,n){const r=Object.entries(t).filter(([o,s])=>{const a=n[o];return!s.required.includes(a)});return r.length===0?null:r.map(([o,s])=>`'${String(e)}' requires '${o}' to be one of [${s.required.map(a=>a===null?"null":a===void 0?"undefined":a).join(", ")}]. ${s.reason??""}`).join(`
           `)}checkProperties(e,t,n,i,r){const o=["__ob__","__v_skip","__metadata__"],s=Rse(Object.getOwnPropertyNames(e),[...o,...t,...n],n),a=Object.keys(s);for(const l of a){const u=s[l];let c=`invalid ${i} property '${l}' did you mean any of these: ${u.slice(0,8).join(", ")}.`;n.includes("context")&&(c+=`
If you are trying to annotate ${i} with application data, use the '${i}.context' property instead.`),Gc(c)}if(a.length>0&&r){const l=this.beans.frameworkOverrides.getDocLink(r);Gc(`to see all the valid ${i} properties please check: ${l}`)}}getConsoleMessage(e,t){return gse(e,t)}};function Rse(e,t,n){const i={},r=e.filter(o=>!t.some(s=>s===o));return r.length>0&&r.forEach(o=>i[o]=PR({inputValue:o,allSuggestions:n}).values),i}var Dse=new Set(["firstChildChanged","lastChildChanged","childIndexChanged"]),Mse={moduleName:"Validation",version:pe,beans:[Ase]};function LR(e){e.sibling&&(e.sibling.childrenAfterFilter=e.childrenAfterFilter)}var Pse=class extends K{constructor(){super(...arguments),this.beanName="filterStage",this.refreshProps=new Set(["excludeChildrenWhenTreeDataFiltering"]),this.step="filter"}wireBeans(e){this.filterManager=e.filterManager}execute(e){const{changedPath:t}=e;this.filter(t)}filter(e){var n;const t=!!((n=this.filterManager)!=null&&n.isChildFilterPresent());this.filterNodes(t,e)}filterNodes(e,t){const n=(i,r)=>{i.hasChildren()&&e&&!r?i.childrenAfterFilter=i.childrenAfterGroup.filter(o=>{const s=o.childrenAfterFilter&&o.childrenAfterFilter.length>0,a=o.data&&this.filterManager.doesRowPassFilter({rowNode:o});return s||a}):i.childrenAfterFilter=i.childrenAfterGroup,LR(i)};if(this.doingTreeDataFiltering()){const i=(o,s)=>{if(o.childrenAfterGroup)for(let a=0;a<o.childrenAfterGroup.length;a++){const l=o.childrenAfterGroup[a],u=s||this.filterManager.doesRowPassFilter({rowNode:l});l.childrenAfterGroup?i(o.childrenAfterGroup[a],u):n(l,u)}n(o,s)},r=o=>i(o,!1);t.executeFromRootNode(r)}else{const i=r=>n(r,!1);t.forEachChangedNodeDepthFirst(i,!0)}}doingTreeDataFiltering(){return this.gos.get("treeData")&&!this.gos.get("excludeChildrenWhenTreeDataFiltering")}},Ise=class extends aw{constructor(){super(...arguments),this.iconCreated=!1}setComp(e,t,n,i,r){this.comp=e;const o=oh(this,this.beans.context,r);this.eButtonShowMainFilter=n,this.eFloatingFilterBody=i,this.setGui(t,o),this.setupActive(),this.refreshHeaderStyles(),this.setupWidth(o),this.setupLeft(o),this.setupHover(o),this.setupFocus(o),this.setupAria(),this.setupFilterButton(),this.setupUserComp(),this.setupSyncWithFilter(o),this.setupUi(),o.addManagedElementListeners(this.eButtonShowMainFilter,{click:this.showParentFilter.bind(this)}),this.setupFilterChangedListener(o),o.addManagedListeners(this.column,{colDefChanged:()=>this.onColDefChanged(o)}),o.addDestroyFunc(()=>{this.eButtonShowMainFilter=null,this.eFloatingFilterBody=null,this.userCompDetails=null,this.clearComponent()})}resizeHeader(){}moveHeader(){}getHeaderClassParams(){const{column:e,beans:t}=this,n=e.colDef;return Le(t.gos,{colDef:n,column:e,floatingFilter:!0})}setupActive(){const e=this.column.getColDef(),t=!!e.filter,n=!!e.floatingFilter;this.active=t&&n}setupUi(){if(this.comp.setButtonWrapperDisplayed(!this.suppressFilterButton&&this.active),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-full-body",this.suppressFilterButton),this.comp.addOrRemoveBodyCssClass("ag-floating-filter-body",!this.suppressFilterButton),!this.active||this.iconCreated)return;const e=br("filter",this.beans,this.column);e&&(this.iconCreated=!0,this.eButtonShowMainFilter.appendChild(e))}setupFocus(e){e.createManagedBean(new _u(this.eGui,{shouldStopEventPropagation:this.shouldStopEventPropagation.bind(this),onTabKeyDown:this.onTabKeyDown.bind(this),handleKeyDown:this.handleKeyDown.bind(this),onFocusIn:this.onFocusIn.bind(this)}))}setupAria(){const e=this.getLocaleTextFunc();wg(this.eButtonShowMainFilter,e("ariaFilterMenuOpen","Open Filter Menu"))}onTabKeyDown(e){var s;const{beans:t}=this;if(Gt(t)===this.eGui)return;const r=yl(t,this.eGui,null,e.shiftKey);if(r){(s=t.headerNavigation)==null||s.scrollToColumn(this.column),e.preventDefault(),r.focus();return}const o=this.findNextColumnWithFloatingFilter(e.shiftKey);o&&t.focusSvc.focusHeaderPosition({headerPosition:{headerRowIndex:this.rowCtrl.rowIndex,column:o},event:e})&&e.preventDefault()}findNextColumnWithFloatingFilter(e){const t=this.beans.visibleCols;let n=this.column;do if(n=e?t.getColBefore(n):t.getColAfter(n),!n)break;while(!n.getColDef().filter||!n.getColDef().floatingFilter);return n}handleKeyDown(e){super.handleKeyDown(e);const t=this.getWrapperHasFocus();switch(e.key){case j.UP:case j.DOWN:t||e.preventDefault();case j.LEFT:case j.RIGHT:if(t)return;e.stopPropagation();case j.ENTER:t&&pl(this.eGui)&&e.preventDefault();break;case j.ESCAPE:t||this.eGui.focus()}}onFocusIn(e){if(this.eGui.contains(e.relatedTarget))return;const n=!!e.relatedTarget&&!e.relatedTarget.classList.contains("ag-floating-filter"),i=!!e.relatedTarget&&ja(e.relatedTarget,"ag-floating-filter");if(n&&i&&e.target===this.eGui){const r=this.lastFocusEvent,o=!!(r&&r.key===j.TAB);if(r&&o){const s=r.shiftKey;pl(this.eGui,s)}}this.focusThis()}setupHover(e){var t;(t=this.beans.colHover)==null||t.addHeaderFilterColumnHoverListener(e,this.comp,this.column,this.eGui)}setupLeft(e){const t=new sw(this.column,this.eGui,this.beans);e.createManagedBean(t)}setupFilterButton(){var e;this.suppressFilterButton=!((e=this.beans.menuSvc)!=null&&e.isFloatingFilterButtonEnabled(this.column)),this.highlightFilterButtonWhenActive=!Ji(this.gos)}setupUserComp(){var t;if(!this.active)return;const e=(t=this.beans.filterManager)==null?void 0:t.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter());e&&this.setCompDetails(e)}setCompDetails(e){this.userCompDetails=e,this.comp.setCompDetails(e)}showParentFilter(){var t;const e=this.suppressFilterButton?this.eFloatingFilterBody:this.eButtonShowMainFilter;(t=this.beans.menuSvc)==null||t.showFilterMenu({column:this.column,buttonElement:e,containerType:"floatingFilter",positionBy:"button"})}setupSyncWithFilter(e){if(!this.active)return;const{filterManager:t}=this.beans,n=i=>{if((i==null?void 0:i.source)==="filterDestroyed"&&!this.isAlive())return;const r=this.comp.getFloatingFilterComp();r&&r.then(o=>{if(o){const s=t==null?void 0:t.getCurrentFloatingFilterParentModel(this.column),a=i?{...i,columns:i.columns??[],source:i.source==="api"?"api":"columnFilter"}:null;o.onParentModelChanged(s,a)}})};[this.destroySyncListener]=e.addManagedListeners(this.column,{filterChanged:n}),t!=null&&t.isFilterActive(this.column)&&n(null)}setupWidth(e){const t=()=>{const n=`${this.column.getActualWidth()}px`;this.comp.setWidth(n)};e.addManagedListeners(this.column,{widthChanged:t}),t()}setupFilterChangedListener(e){this.active&&([this.destroyFilterChangedListener]=e.addManagedListeners(this.column,{filterChanged:this.updateFilterButton.bind(this)}),this.updateFilterButton())}updateFilterButton(){var e;if(!this.suppressFilterButton&&this.comp){const t=!!((e=this.beans.filterManager)!=null&&e.isFilterAllowed(this.column));this.comp.setButtonWrapperDisplayed(t),this.highlightFilterButtonWhenActive&&t&&this.eButtonShowMainFilter.classList.toggle("ag-filter-active",this.column.isFilterActive())}}onColDefChanged(e){var o;const t=this.active;this.setupActive();const n=!t&&this.active;t&&!this.active&&(this.destroySyncListener(),this.destroyFilterChangedListener());const i=this.active?(o=this.beans.filterManager)==null?void 0:o.getFloatingFilterCompDetails(this.column,()=>this.showParentFilter()):null,r=this.comp.getFloatingFilterComp();!r||!i?this.updateCompDetails(e,i,n):r.then(s=>{var a;!s||(a=this.beans.filterManager)!=null&&a.areFilterCompsDifferent(this.userCompDetails??null,i)?this.updateCompDetails(e,i,n):this.updateFloatingFilterParams(i)})}updateCompDetails(e,t,n){this.isAlive()&&(this.setCompDetails(t),this.setupFilterButton(),this.setupUi(),n&&(this.setupSyncWithFilter(e),this.setupFilterChangedListener(e)))}updateFloatingFilterParams(e){var n;if(!e)return;const t=e.params;(n=this.comp.getFloatingFilterComp())==null||n.then(i=>{i!=null&&i.refresh&&typeof i.refresh=="function"&&i.refresh(t)})}addResizeAndMoveKeyboardListeners(){}destroy(){super.destroy(),this.destroySyncListener=null,this.destroyFilterChangedListener=null}};function Ose(e,t){var i;const n=e.colModel.getCol(t);if(!n){dt(12,{colKey:t});return}(i=e.menuSvc)==null||i.showColumnMenu({column:n,positionBy:"auto"})}function Lse(e){var t;(t=e.menuSvc)==null||t.hidePopupMenu()}var Nse={moduleName:"SharedMenu",version:pe,beans:[bee],apiFunctions:{showColumnMenu:Ose,hidePopupMenu:Lse}},Bse=0,zse=200,Hse=class extends K{constructor(){super(...arguments),this.beanName="popupSvc",this.popupList=[]}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.gridCtrl=e.gridCtrl}),this.addManagedEventListeners({gridStylesChanged:this.handleThemeChange.bind(this)})}getPopupParent(){const e=this.gos.get("popupParent");return e||this.gridCtrl.getGui()}positionPopupForMenu(e){const{eventSource:t,ePopup:n,column:i,node:r,event:o}=e,s=t.getBoundingClientRect(),a=this.getParentRect();this.setAlignedTo(t,n);let l=!1;const u=()=>{const c=this.keepXYWithinBounds(n,s.top-a.top,0),d=n.clientWidth>0?n.clientWidth:200;l||(n.style.minWidth=`${d}px`,l=!0);const p=a.right-a.left-d;let f;return this.gos.get("enableRtl")?(f=m(),f<0&&(f=g(),this.setAlignedStyles(n,"left")),f>p&&(f=0,this.setAlignedStyles(n,"right"))):(f=g(),f>p&&(f=m(),this.setAlignedStyles(n,"right")),f<0&&(f=0,this.setAlignedStyles(n,"left"))),{x:f,y:c};function g(){return s.right-a.left-2}function m(){return s.left-a.left-d}};this.positionPopup({ePopup:n,keepWithinBounds:!0,updatePosition:u,postProcessCallback:()=>this.callPostProcessPopup("subMenu",n,t,o instanceof MouseEvent?o:void 0,i,r)})}positionPopupUnderMouseEvent(e){const{ePopup:t,nudgeX:n,nudgeY:i,skipObserver:r}=e;this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:!0,skipObserver:r,updatePosition:()=>this.calculatePointerAlign(e.mouseEvent),postProcessCallback:()=>this.callPostProcessPopup(e.type,e.ePopup,null,e.mouseEvent,e.column,e.rowNode)})}calculatePointerAlign(e){const t=this.getParentRect();return{x:e.clientX-t.left,y:e.clientY-t.top}}positionPopupByComponent(e){const{ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,eventSource:o,alignSide:s="left",position:a="over",column:l,rowNode:u,type:c}=e,d=o.getBoundingClientRect(),h=this.getParentRect();this.setAlignedTo(o,t);const p=()=>{let f=d.left-h.left;s==="right"&&(f-=t.offsetWidth-d.width);let g;return a==="over"?(g=d.top-h.top,this.setAlignedStyles(t,"over")):(this.setAlignedStyles(t,"under"),this.shouldRenderUnderOrAbove(t,d,h,e.nudgeY||0)==="under"?g=d.top-h.top+d.height:g=d.top-t.offsetHeight-(i||0)*2-h.top),{x:f,y:g}};this.positionPopup({ePopup:t,nudgeX:n,nudgeY:i,keepWithinBounds:r,updatePosition:p,postProcessCallback:()=>this.callPostProcessPopup(c,t,o,null,l,u)})}shouldRenderUnderOrAbove(e,t,n,i){const r=n.bottom-t.bottom,o=t.top-n.top,s=e.offsetHeight+i;return r>s?"under":o>s||o>r?"above":"under"}setAlignedStyles(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n],{alignedToElement:r}=i;!r||(["right","left","over","above","under"].forEach(s=>{r.classList.remove(`ag-has-popup-positioned-${s}`),e.classList.remove(`ag-popup-positioned-${s}`)}),!t)||(r.classList.add(`ag-has-popup-positioned-${t}`),e.classList.add(`ag-popup-positioned-${t}`))}setAlignedTo(e,t){const n=this.getPopupIndex(t);if(n!==-1){const i=this.popupList[n];i.alignedToElement=e}}callPostProcessPopup(e,t,n,i,r,o){const s=this.gos.getCallback("postProcessPopup");s&&s({column:r,rowNode:o,ePopup:t,type:e,eventSource:n,mouseEvent:i})}positionPopup(e){const{ePopup:t,keepWithinBounds:n,nudgeX:i,nudgeY:r,skipObserver:o,updatePosition:s}=e,a={width:0,height:0},l=(u=!1)=>{let{x:c,y:d}=s();u&&t.clientWidth===a.width&&t.clientHeight===a.height||(a.width=t.clientWidth,a.height=t.clientHeight,i&&(c+=i),r&&(d+=r),n&&(c=this.keepXYWithinBounds(t,c,1),d=this.keepXYWithinBounds(t,d,0)),t.style.left=`${c}px`,t.style.top=`${d}px`,e.postProcessCallback&&e.postProcessCallback())};if(l(),!o){const u=va(this.beans,t,()=>l(!0));setTimeout(()=>u(),zse)}}getActivePopups(){return this.popupList.map(e=>e.element)}getParentRect(){const e=wn(this.beans);let t=this.getPopupParent();return t===e.body?t=e.documentElement:getComputedStyle(t).position==="static"&&(t=t.offsetParent),zA(t)}keepXYWithinBounds(e,t,n){const i=n===0,r=i?"clientHeight":"clientWidth",o=i?"top":"left",s=i?"height":"width",a=i?"scrollTop":"scrollLeft",l=wn(this.beans),u=l.documentElement,c=this.getPopupParent(),d=e.getBoundingClientRect(),h=c.getBoundingClientRect(),p=l.documentElement.getBoundingClientRect(),f=c===l.body,g=Math.ceil(d[s]);let v=f?(i?BA:Jf)(u)+u[a]:c[r];f&&(v-=Math.abs(p[o]-h[o]));const b=v-g;return Math.min(Math.max(t,0),Math.abs(b))}addPopup(e){const t=wn(this.beans),{eChild:n,ariaLabel:i,alwaysOnTop:r,positionCallback:o,anchorToElement:s}=e;if(!t)return ie(122),{hideFunc:()=>{}};const a=this.getPopupIndex(n);if(a!==-1)return{hideFunc:this.popupList[a].hideFunc};this.initialisePopupPosition(n);const l=this.createPopupWrapper(n,i,!!r),u=this.addEventListenersToPopup({...e,wrapperEl:l});return o&&o(),this.addPopupToPopupList(n,l,u,s),{hideFunc:u}}initialisePopupPosition(e){const n=this.getPopupParent().getBoundingClientRect();ue(e.style.top)||(e.style.top=`${n.top*-1}px`),ue(e.style.left)||(e.style.left=`${n.left*-1}px`)}createPopupWrapper(e,t,n){const i=this.getPopupParent(),{environment:r,gos:o}=this.beans,s=gn({tag:"div"});return r.applyThemeClasses(s),s.classList.add("ag-popup"),e.classList.add(o.get("enableRtl")?"ag-rtl":"ag-ltr","ag-popup-child"),e.hasAttribute("role")||hs(e,"dialog"),wg(e,t),s.appendChild(e),i.appendChild(s),n?this.setAlwaysOnTop(e,!0):this.bringPopupToFront(e),s}handleThemeChange(e){if(e.themeChanged){const t=this.beans.environment;for(const n of this.popupList)t.applyThemeClasses(n.wrapper)}}addEventListenersToPopup(e){const t=this.beans,n=wn(t),i=this.getPopupParent(),{wrapperEl:r,eChild:o,closedCallback:s,afterGuiAttached:a,closeOnEsc:l,modal:u}=e;let c=!1;const d=g=>{if(!r.contains(Gt(t)))return;g.key===j.ESCAPE&&!is(g)&&f({keyboardEvent:g})},h=g=>f({mouseEvent:g}),p=g=>f({touchEvent:g}),f=(g={})=>{const{mouseEvent:m,touchEvent:v,keyboardEvent:b,forceHide:S}=g;!S&&(this.isEventFromCurrentPopup({mouseEvent:m,touchEvent:v},o)||c)||(c=!0,i.removeChild(r),n.removeEventListener("keydown",d),n.removeEventListener("mousedown",h),n.removeEventListener("touchstart",p),n.removeEventListener("contextmenu",h),this.eventSvc.removeEventListener("dragStarted",h),s&&s(m||v||b),this.removePopupFromPopupList(o))};return a&&a({hidePopup:f}),window.setTimeout(()=>{l&&n.addEventListener("keydown",d),u&&(n.addEventListener("mousedown",h),this.eventSvc.addEventListener("dragStarted",h),n.addEventListener("touchstart",p),n.addEventListener("contextmenu",h))},0),f}addPopupToPopupList(e,t,n,i){this.popupList.push({element:e,wrapper:t,hideFunc:n,instanceId:Bse++,isAnchored:!!i}),i&&this.setPopupPositionRelatedToElement(e,i)}getPopupIndex(e){return this.popupList.findIndex(t=>t.element===e)}setPopupPositionRelatedToElement(e,t){const n=this.getPopupIndex(e);if(n===-1)return;const i=this.popupList[n];if(i.stopAnchoringPromise&&i.stopAnchoringPromise.then(o=>o&&o()),i.stopAnchoringPromise=void 0,i.isAnchored=!1,!t)return;const r=this.keepPopupPositionedRelativeTo({element:t,ePopup:e,hidePopup:i.hideFunc});return i.stopAnchoringPromise=r,i.isAnchored=!0,r}removePopupFromPopupList(e){this.setAlignedStyles(e,null),this.setPopupPositionRelatedToElement(e,null),this.popupList=this.popupList.filter(t=>t.element!==e)}keepPopupPositionedRelativeTo(e){const t=this.getPopupParent(),n=t.getBoundingClientRect(),{element:i,ePopup:r}=e,o=i.getBoundingClientRect(),s=d=>parseInt(d.substring(0,d.length-1),10),a=(d,h)=>{const p=n[d]-o[d],f=s(r.style[d]);return{initialDiff:p,lastDiff:p,initial:f,last:f,direction:h}},l=a("top",0),u=a("left",1),c=this.beans.frameworkOverrides;return new bi(d=>{c.wrapIncoming(()=>{c.setInterval(()=>{const h=t.getBoundingClientRect(),p=i.getBoundingClientRect();if(p.top==0&&p.left==0&&p.height==0&&p.width==0){e.hidePopup();return}const g=(m,v)=>{const b=s(r.style[v]);m.last!==b&&(m.initial=b,m.last=b);const S=h[v]-p[v];if(S!=m.lastDiff){const y=this.keepXYWithinBounds(r,m.initial+m.initialDiff-S,m.direction);r.style[v]=`${y}px`,m.last=y}m.lastDiff=S};g(l,"top"),g(u,"left")},200).then(h=>{d(()=>{h!=null&&window.clearInterval(h)})})},"popupPositioning")})}hasAnchoredPopup(){return this.popupList.some(e=>e.isAnchored)}isEventFromCurrentPopup(e,t){const{mouseEvent:n,touchEvent:i}=e,r=n||i;if(!r)return!1;const o=this.getPopupIndex(t);if(o===-1)return!1;for(let s=o;s<this.popupList.length;s++){const a=this.popupList[s];if(cJ(a.element,r))return!0}return this.isElementWithinCustomPopup(r.target)}isElementWithinCustomPopup(e){const t=wn(this.beans);for(;e&&e!==t.body;){if(e.classList.contains("ag-custom-component-popup")||e.parentElement===null)return!0;e=e.parentElement}return!1}getWrapper(e){for(;!e.classList.contains("ag-popup")&&e.parentElement;)e=e.parentElement;return e.classList.contains("ag-popup")?e:null}setAlwaysOnTop(e,t){const n=this.getWrapper(e);n&&(n.classList.toggle("ag-always-on-top",!!t),t&&this.bringPopupToFront(n))}bringPopupToFront(e){const t=this.getPopupParent(),n=Array.prototype.slice.call(t.querySelectorAll(".ag-popup")),i=n.length,r=this.getWrapper(e);if(!r||i<=1||!t.contains(e))return;const o=[],s=[];for(const h of n)h!==r&&(h.classList.contains("ag-always-on-top")?s.push(h):o.push(h));const a=[],l=s.length,d=r.classList.contains("ag-always-on-top")||!l?[...o,...s,r]:[...o,r,...s];for(let h=0;h<=i;h++){const p=d[h];if(n[h]===d[h]||p===r)continue;p.querySelectorAll("div").forEach(g=>{g.scrollTop!==0&&a.push([g,g.scrollTop])}),h===0?t.insertAdjacentElement("afterbegin",p):d[h-1].insertAdjacentElement("afterend",p)}for(;a.length;){const h=a.pop();h[0].scrollTop=h[1]}}},Ag={moduleName:"Popup",version:pe,beans:[Hse]},Vse=".ag-set-filter{--ag-indentation-level:0}.ag-set-filter-item{align-items:center;display:flex;height:100%}:where(.ag-ltr) .ag-set-filter-item{padding-left:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}:where(.ag-rtl) .ag-set-filter-item{padding-right:calc(var(--ag-widget-container-horizontal-padding) + var(--ag-indentation-level)*var(--ag-set-filter-indent-size))}.ag-set-filter-item-checkbox{display:flex;height:100%;width:100%}.ag-set-filter-group-icons{display:block;>*{cursor:pointer}}:where(.ag-ltr) .ag-set-filter-group-icons{margin-right:var(--ag-widget-container-horizontal-padding)}:where(.ag-rtl) .ag-set-filter-group-icons{margin-left:var(--ag-widget-container-horizontal-padding)}.ag-filter-body-wrapper{display:flex;flex-direction:column}:where(.ag-menu:not(.ag-tabs) .ag-filter) .ag-filter-body-wrapper,:where(.ag-menu:not(.ag-tabs) .ag-filter)>:not(.ag-filter-wrapper){min-width:180px}.ag-filter-filter{flex:1 1 0px}.ag-filter-condition{display:flex;justify-content:center}.ag-floating-filter-body{display:flex;flex:1 1 auto;height:100%;position:relative}.ag-floating-filter-full-body{align-items:center;display:flex;flex:1 1 auto;height:100%;overflow:hidden;width:100%}:where(.ag-floating-filter-full-body)>div{flex:1 1 auto}.ag-floating-filter-input{align-items:center;display:flex;width:100%;>*{flex:1 1 auto}:where(.ag-input-field-input[type=date]){width:1px}}.ag-floating-filter-button{display:flex;flex:none}.ag-date-floating-filter-wrapper{display:flex}.ag-set-floating-filter-input [disabled]{pointer-events:none}.ag-floating-filter-button-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:var(--ag-icon-size);width:var(--ag-icon-size)}.ag-filter-loading{align-items:unset;background-color:var(--ag-chrome-background-color);height:100%;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);position:absolute;width:100%;z-index:1;:where(.ag-menu) &{background-color:var(--ag-menu-background-color)}}.ag-filter-separator{border-top:1px solid var(--menu-separator-color)}:where(.ag-filter-select) .ag-picker-field-wrapper{width:0}.ag-filter-condition-operator{height:17px}:where(.ag-ltr) .ag-filter-condition-operator-or{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-condition-operator-or{margin-right:calc(var(--ag-spacing)*2)}.ag-set-filter-select-all{padding-top:var(--ag-widget-container-vertical-padding)}.ag-filter-no-matches,.ag-set-filter-list{height:calc(var(--ag-list-item-height)*6)}.ag-filter-no-matches{padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}.ag-set-filter-tree-list{height:calc(var(--ag-list-item-height)*10)}.ag-set-filter-filter{margin-left:var(--ag-widget-container-horizontal-padding);margin-right:var(--ag-widget-container-horizontal-padding);margin-top:var(--ag-widget-container-vertical-padding)}.ag-filter-to{margin-top:var(--ag-widget-vertical-spacing)}.ag-mini-filter{margin:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}:where(.ag-ltr) .ag-set-filter-add-group-indent{margin-left:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-rtl) .ag-set-filter-add-group-indent{margin-right:calc(var(--ag-icon-size) + var(--ag-widget-container-horizontal-padding))}:where(.ag-filter-menu) .ag-set-filter-list{min-width:200px}.ag-filter-virtual-list-item:focus-visible{box-shadow:inset var(--ag-focus-shadow)}.ag-filter-apply-panel{display:flex;justify-content:flex-end;overflow:hidden;padding:var(--ag-widget-vertical-spacing) var(--ag-widget-container-horizontal-padding) var(--ag-widget-container-vertical-padding)}.ag-filter-apply-panel-button{line-height:1.5}:where(.ag-ltr) .ag-filter-apply-panel-button{margin-left:calc(var(--ag-spacing)*2)}:where(.ag-rtl) .ag-filter-apply-panel-button{margin-right:calc(var(--ag-spacing)*2)}.ag-simple-filter-body-wrapper{display:flex;flex-direction:column;min-height:calc(var(--ag-list-item-height) + var(--ag-widget-container-vertical-padding) + var(--ag-widget-vertical-spacing));overflow-y:auto;padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);padding-bottom:calc(var(--ag-widget-container-vertical-padding) - var(--ag-widget-vertical-spacing));&>*{margin-bottom:var(--ag-widget-vertical-spacing)}:where(.ag-resizer-wrapper){margin:0}}.ag-multi-filter-menu-item{margin:var(--ag-spacing) 0}.ag-multi-filter-group-title-bar{background-color:transparent;color:var(--ag-header-text-color);font-weight:500;padding:calc(var(--ag-spacing)*1.5) var(--ag-spacing)}.ag-group-filter-field-select-wrapper{display:flex;flex-direction:column;gap:var(--ag-widget-vertical-spacing);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding)}";function _se(e){const t=e.filterManager;return!!(t!=null&&t.isColumnFilterPresent())||!!(t!=null&&t.isAggregateFilterPresent())}function Gse(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterInstance(t))??Promise.resolve(void 0)}function Wse(e,t){var i;const n=e.colModel.getColDefCol(t);if(n)return(i=e.filterManager)==null?void 0:i.destroyFilter(n,"api")}function $se(e,t){e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=e.filterManager)==null?void 0:n.setFilterModel(t)})}function Use(e){var t;return((t=e.filterManager)==null?void 0:t.getFilterModel())??{}}function jse(e,t){var n;return((n=e.filterManager)==null?void 0:n.getColumnFilterModel(t))??null}function qse(e,t,n){var i;return((i=e.filterManager)==null?void 0:i.setColumnFilterModel(t,n))??Promise.resolve()}function Kse(e,t){var i;const n=e.colModel.getCol(t);if(!n){dt(12,{colKey:t});return}(i=e.menuSvc)==null||i.showFilterMenu({column:n,containerType:"columnFilter",positionBy:"auto"})}var r3={january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December"},o3=["january","february","march","april","may","june","july","august","september","october","november","december"];function Yse(e,t){return e==null?-1:t==null?1:parseFloat(e)-parseFloat(t)}var Xse=class extends K{constructor(){super(...arguments),this.beanName="colFilter",this.allColumnFilters=new Map,this.allColumnListeners=new Map,this.activeAggregateFilters=[],this.activeColumnFilters=[],this.processingFilterChange=!1,this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue=[]}postConstruct(){var e,t;this.addManagedEventListeners({gridColumnsChanged:this.onColumnsChanged.bind(this),beforeRefreshModel:({params:n})=>{var i;(n.rowDataUpdated||(i=n.changedProps)!=null&&i.has("treeData"))&&this.onNewRowsLoaded("rowDataUpdated")},dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.initialFilterModel={...((t=(e=this.gos.get("initialState"))==null?void 0:e.filter)==null?void 0:t.filterModel)??{}}}setFilterModel(e,t="api"){const{colModel:n,dataTypeSvc:i,filterManager:r}=this.beans;if(i!=null&&i.isPendingInference){this.filterModelUpdateQueue.push({model:e,source:t});return}const o=[],s=this.getFilterModel(!0);if(e){const a=new Set(Object.keys(e));this.allColumnFilters.forEach((l,u)=>{const c=e[u];o.push(ip(l.filterPromise,c)),a.delete(u)}),a.forEach(l=>{const u=n.getColDefCol(l)||n.getCol(l);if(!u){ie(62,{colId:l});return}if(!u.isFilterAllowed()){ie(63,{colId:l});return}const c=this.getOrCreateFilterWrapper(u);if(!c){ie(64,{colId:l});return}o.push(ip(c.filterPromise,e[l]))})}else this.allColumnFilters.forEach(a=>{o.push(ip(a.filterPromise,null))});bi.all(o).then(()=>{const a=this.getFilterModel(!0),l=[];this.allColumnFilters.forEach((u,c)=>{const d=s?s[c]:null,h=a?a[c]:null;kd(d,h)||l.push(u.column)}),l.length>0&&(r==null||r.onFilterChanged({columns:l,source:t}))})}getFilterModel(e){var o;const t={},{allColumnFilters:n,initialFilterModel:i,beans:{colModel:r}}=this;if(n.forEach((s,a)=>{const l=this.getModelFromFilterWrapper(s);ue(l)&&(t[a]=l)}),!e)for(const s of Object.keys(i)){const a=i[s];ue(a)&&!n.has(s)&&((o=r.getCol(s))!=null&&o.isFilterAllowed())&&(t[s]=a)}return t}getModelFromFilterWrapper(e){const{filter:t}=e;return t?typeof t.getModel!="function"?(ie(66),null):t.getModel():this.getModelFromInitialState(e.column)}getModelFromInitialState(e){return this.initialFilterModel[e.getColId()]??null}isColumnFilterPresent(){return this.activeColumnFilters.length>0}isAggregateFilterPresent(){return!!this.activeAggregateFilters.length}disableColumnFilters(){this.initialFilterModel={};const{allColumnFilters:e}=this;return e.size?(e.forEach(t=>this.disposeFilterWrapper(t,"advancedFilterEnabled")),!0):!1}doAggregateFiltersPass(e,t){return this.doColumnFiltersPass(e,t,!0)}updateActiveFilters(){const e=a=>a?a.isFilterActive?a.isFilterActive():(ie(67),!1):!1,{colModel:t,gos:n}=this.beans,i=!!eC(n),r=a=>{if(!a.isPrimary())return!0;const u=!t.isPivotActive();return!a.isValueActive()||!u?!1:t.isPivotMode()?!0:i},o=[],s=[];return this.forEachColumnFilter((a,l)=>{e(a)&&(r(l.column)?o.push(a):s.push(a))}).then(()=>{this.activeAggregateFilters=o,this.activeColumnFilters=s})}updateFilterFlagInColumns(e,t){return this.forEachColumnFilter((n,i)=>this.setColFilterActive(i.column,n.isFilterActive(),e,t))}forEachColumnFilter(e){const t=[];return this.allColumnFilters.forEach(n=>{const i=n.filterPromise;i&&t.push(i.then(r=>e(r,n)))}),bi.all(t)}doColumnFiltersPass(e,t,n){const{data:i,aggData:r}=e,o=n?this.activeAggregateFilters:this.activeColumnFilters,s=n?r:i;for(let a=0;a<o.length;a++){const l=o[a];if(!(l==null||l===t)){if(typeof l.doesFilterPass!="function"){dt(91);continue}if(!l.doesFilterPass({node:e,data:s}))return!1}}return!0}callOnFilterChangedOutsideRenderCycle(e){const{rowRenderer:t,filterManager:n}=this.beans,i=()=>{this.isAlive()&&(n==null||n.onFilterChanged(e))};t.isRefreshInProgress()?setTimeout(i,0):i()}updateBeforeFilterChanged(e={}){const{filterInstance:t,additionalEventAttributes:n}=e;return this.updateDependentFilters(),this.updateActiveFilters().then(()=>this.updateFilterFlagInColumns("filterChanged",n).then(()=>{this.allColumnFilters.forEach(i=>{i.filterPromise&&i.filterPromise.then(r=>{r&&r!==t&&r.onAnyFilterChanged&&r.onAnyFilterChanged()})}),this.processingFilterChange=!0}))}updateAfterFilterChanged(){this.processingFilterChange=!1}isSuppressFlashingCellsBecauseFiltering(){return!(this.gos.get("allowShowChangeAfterFilter")??!1)&&this.processingFilterChange}onNewRowsLoaded(e){this.forEachColumnFilter(t=>{var n;(n=t.onNewRowsLoaded)==null||n.call(t)}).then(()=>this.updateFilterFlagInColumns(e,{afterDataChange:!0})).then(()=>this.updateActiveFilters())}createGetValue(e){const{filterValueSvc:t,colModel:n}=this.beans;return(i,r)=>{const o=r?n.getCol(r):e;return o?t.getValue(o,i):void 0}}isFilterActive(e){const{filter:t}=this.cachedFilter(e)??{};return t?t.isFilterActive():this.getModelFromInitialState(e)!=null}getOrCreateFilterWrapper(e){if(!e.isFilterAllowed())return null;let t=this.cachedFilter(e);return t||(t=this.createFilterWrapper(e),this.setColumnFilterWrapper(e,t)),t}cachedFilter(e){return this.allColumnFilters.get(e.getColId())}getDefaultFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(uv(n))t="agSetColumnFilter";else{const r=i==null?void 0:i.getBaseDataType(e);r==="number"?t="agNumberColumnFilter":r==="date"||r==="dateString"?t="agDateColumnFilter":t="agTextColumnFilter"}return t}getDefaultFloatingFilter(e){let t;const{gos:n,dataTypeSvc:i}=this.beans;if(uv(n))t="agSetColumnFloatingFilter";else{const r=i==null?void 0:i.getBaseDataType(e);r==="number"?t="agNumberColumnFloatingFilter":r==="date"||r==="dateString"?t="agDateColumnFloatingFilter":t="agTextColumnFloatingFilter"}return t}createFilterInstance(e,t){const n=this.getDefaultFilter(e),i=e.getColDef();let r;const o={...this.createFilterParams(e,i),filterModifiedCallback:()=>this.filterModifiedCallbackFactory(r,e)(),filterChangedCallback:a=>this.filterChangedCallbackFactory(r,e)(a),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(r,a))??!0}},s=vZ(this.beans.userCompFactory,i,o,n);return s?{filterPromise:()=>{const a=s.newAgStackInstance();return a.then(l=>{r=l,t&&(t.filter=l??void 0)}),a},compDetails:s}:{filterPromise:null,compDetails:null}}createFilterParams(e,t){return Le(this.gos,{column:e,colDef:t,rowModel:this.beans.rowModel,filterChangedCallback:()=>{},filterModifiedCallback:()=>{},getValue:this.createGetValue(e),doesRowPassOtherFilter:()=>!0})}createFilterWrapper(e){const t={column:e,filterPromise:null,compDetails:null},{filterPromise:n,compDetails:i}=this.createFilterInstance(e,t);return t.filterPromise=(n==null?void 0:n())??null,t.compDetails=i,t}onColumnsChanged(){const e=[],{colModel:t,filterManager:n}=this.beans;this.allColumnFilters.forEach((r,o)=>{let s;r.column.isPrimary()?s=t.getColDefCol(o):s=t.getCol(o),!(s&&s===r.column)&&(e.push(r.column),this.disposeFilterWrapper(r,"columnChanged"),this.disposeColumnListener(o))});const i=e.every(s3);e.length>0&&!i?n==null||n.onFilterChanged({columns:e,source:"api"}):this.updateDependentFilters()}updateDependentFilters(){var e,t;(t=(e=this.beans.autoColSvc)==null?void 0:e.getColumns())==null||t.forEach(n=>{s3(n)&&this.getOrCreateFilterWrapper(n)})}isFilterAllowed(e){if(!e.isFilterAllowed())return!1;const{filter:n}=this.allColumnFilters.get(e.getColId())??{};return n&&typeof(n==null?void 0:n.isFilterAllowed)=="function"?n.isFilterAllowed():!0}getFloatingFilterCompDetails(e,t){const n=c=>{var h;const d=(h=this.getOrCreateFilterWrapper(e))==null?void 0:h.filterPromise;d!=null&&d.then(p=>{c(Dd(p))})},i=e.getColDef(),r={...this.createFilterParams(e,i),filterChangedCallback:()=>n(c=>this.filterChangedCallbackFactory(c,e)())},{userCompFactory:o,frameworkOverrides:s}=this.beans,a=EZ(o,i,r);let l=SQ(s,i,()=>this.getDefaultFloatingFilter(e));l==null&&(l="agReadOnlyFloatingFilter");const u=Le(this.gos,{column:e,filterParams:a,currentParentModel:()=>this.getCurrentFloatingFilterParentModel(e),parentFilterInstance:n,showParentFilter:t});return SZ(o,i,u,l)}getCurrentFloatingFilterParentModel(e){return this.getModelFromFilterWrapper(this.cachedFilter(e)??{column:e})}destroyFilter(e,t="api"){const n=e.getColId(),i=this.allColumnFilters.get(n);this.disposeColumnListener(n),delete this.initialFilterModel[n],i&&this.disposeFilterWrapper(i,t).then(r=>{var o;r&&this.isAlive()&&((o=this.beans.filterManager)==null||o.onFilterChanged({columns:[e],source:"api"}))})}disposeColumnListener(e){const t=this.allColumnListeners.get(e);t&&(this.allColumnListeners.delete(e),t())}disposeFilterWrapper(e,t){var n;return((n=e.filterPromise)==null?void 0:n.then(i=>{const r=!!(i!=null&&i.isFilterActive());return this.destroyBean(i),this.setColFilterActive(e.column,!1,"filterDestroyed"),this.allColumnFilters.delete(e.column.getColId()),this.eventSvc.dispatchEvent({type:"filterDestroyed",source:t,column:e.column}),r}))??bi.resolve(!1)}filterModifiedCallbackFactory(e,t){return()=>{this.eventSvc.dispatchEvent({type:"filterModified",column:t,filterInstance:e})}}filterChangedCallbackFactory(e,t){return n=>{const i=(n==null?void 0:n.source)??"columnFilter",r={filter:e,additionalEventAttributes:n,columns:[t],source:i};this.callOnFilterChangedOutsideRenderCycle(r)}}checkDestroyFilter(e){const t=this.allColumnFilters.get(e);if(!t)return;const n=t.column,{compDetails:i}=n.isFilterAllowed()?this.createFilterInstance(n):{compDetails:null};if(this.areFilterCompsDifferent(t.compDetails,i)){this.destroyFilter(n,"paramsUpdated");return}const r=n.getColDef().filterParams;if(!t.filterPromise){this.destroyFilter(n,"paramsUpdated");return}t.filterPromise.then(o=>{(o!=null&&o.refresh?o.refresh({...this.createFilterParams(n,n.getColDef()),filterModifiedCallback:this.filterModifiedCallbackFactory(o,n),filterChangedCallback:this.filterChangedCallbackFactory(o,n),doesRowPassOtherFilter:a=>{var l;return((l=this.beans.filterManager)==null?void 0:l.doesRowPassOtherFilters(o,a))??!0},...r}):!0)===!1&&this.destroyFilter(n,"paramsUpdated")})}setColumnFilterWrapper(e,t){const n=e.getColId();this.allColumnFilters.set(n,t),this.allColumnListeners.set(n,this.addManagedListeners(e,{colDefChanged:()=>this.checkDestroyFilter(n)})[0])}areFilterCompsDifferent(e,t){if(!t||!e)return!0;const{componentClass:n}=e,{componentClass:i}=t;return!(n===i||(n==null?void 0:n.render)&&(i==null?void 0:i.render)&&n.render===i.render)}hasFloatingFilters(){return this.beans.colModel.getCols().some(t=>t.getColDef().floatingFilter)}getColumnFilterInstance(e){return new Promise(t=>{this.getFilterInstanceImpl(e).then(n=>{t(Dd(n))})})}getFilterInstanceImpl(e){var i;const t=this.beans.colModel.getColDefCol(e);return t?((i=this.getOrCreateFilterWrapper(t))==null?void 0:i.filterPromise)??bi.resolve(null):bi.resolve(void 0)}processFilterModelUpdateQueue(){this.filterModelUpdateQueue.forEach(({model:e,source:t})=>this.setFilterModel(e,t)),this.filterModelUpdateQueue=[],this.columnFilterModelUpdateQueue.forEach(({key:e,model:t,resolve:n})=>{this.setColumnFilterModel(e,t).then(()=>n())}),this.columnFilterModelUpdateQueue=[]}getColumnFilterModel(e){const t=this.getFilterWrapper(e);return t?this.getModelFromFilterWrapper(t):null}setColumnFilterModel(e,t){const{colModel:n,dataTypeSvc:i}=this.beans;if(i!=null&&i.isPendingInference){let a=()=>{};const l=new Promise(u=>{a=u});return this.columnFilterModelUpdateQueue.push({key:e,model:t,resolve:a}),l}const r=n.getColDefCol(e),o=r?this.getOrCreateFilterWrapper(r):null;return o?(a=>new Promise(l=>{a.then(u=>l(u))}))(ip(o.filterPromise,t)):Promise.resolve()}getFilterWrapper(e){const t=this.beans.colModel.getColDefCol(e);return t?this.cachedFilter(t)??null:null}setColDefPropertiesForDataType(e,t,n){const i=uv(this.gos),r=this.getLocaleTextFunc(),o=s=>{const{filterParams:a}=e;e.filterParams=typeof a=="object"?{...a,...s}:s};switch(t.baseDataType){case"number":{i&&o({comparator:Yse});break}case"boolean":{o(i?{valueFormatter:s=>ue(s.value)?r(String(s.value),s.value?"True":"False"):r("blanks","(Blanks)")}:{maxNumConditions:1,debounceMs:0,filterOptions:["empty",{displayKey:"true",displayName:"True",predicate:(s,a)=>a,numberOfInputs:0},{displayKey:"false",displayName:"False",predicate:(s,a)=>a===!1,numberOfInputs:0}]});break}case"date":{o(i?{valueFormatter:s=>{const a=n(s);return ue(a)?a:r("blanks","(Blanks)")},treeList:!0,treeListFormatter:(s,a)=>{if(s==="NaN")return r("invalidDate","Invalid Date");if(a===1&&s!=null){const l=o3[Number(s)-1];return r(l,r3[l])}return s??r("blanks","(Blanks)")}}:{isValidDate:a3});break}case"dateString":{const s=t.dateParser;o(i?{valueFormatter:a=>{const l=n(a);return ue(l)?l:r("blanks","(Blanks)")},treeList:!0,treeListPathGetter:a=>{const l=s(a??void 0);return l?[String(l.getFullYear()),String(l.getMonth()+1),String(l.getDate())]:null},treeListFormatter:(a,l)=>{if(l===1&&a!=null){const u=o3[Number(a)-1];return r(u,r3[u])}return a??r("blanks","(Blanks)")}}:{comparator:(a,l)=>{const u=s(l);return l==null||u<a?-1:u>a?1:0},isValidDate:a=>typeof a=="string"&&a3(s(a))});break}case"object":{i?o({valueFormatter:s=>{const a=n(s);return ue(a)?a:r("blanks","(Blanks)")}}):e.filterValueGetter=s=>n({column:s.column,node:s.node,value:this.beans.valueSvc.getValue(s.column,s.node)});break}}}setColFilterActive(e,t,n,i){e.filterActive!==t&&(e.filterActive=t,e.dispatchColEvent("filterActiveChanged",n)),e.dispatchColEvent("filterChanged",n,i)}destroy(){super.destroy(),this.allColumnFilters.forEach(e=>this.disposeFilterWrapper(e,"gridDestroyed")),this.allColumnListeners.clear()}};function ip(e,t){return e?new bi(n=>{e.then(i=>{typeof i.setModel!="function"&&(ie(65),n()),(i.setModel(t)||bi.resolve()).then(()=>n())})}):bi.resolve()}function s3(e){return e.getColDef().filter==="agGroupColumnFilter"}function a3(e){return e instanceof Date&&!isNaN(e.getTime())}function Jse(e){var t;return!!((t=e.filterManager)!=null&&t.isAnyFilterPresent())}function Zse(e,t="api"){var n;(n=e.filterManager)==null||n.onFilterChanged({source:t})}var Qse=class extends K{constructor(){super(...arguments),this.beanName="filterManager",this.advFilterModelUpdateQueue=[]}wireBeans(e){this.quickFilter=e.quickFilter,this.advancedFilter=e.advancedFilter,this.colFilter=e.colFilter}postConstruct(){const e=this.refreshFiltersForAggregations.bind(this),t=this.updateAdvFilterColumns.bind(this);this.addManagedEventListeners({columnValueChanged:e,columnPivotChanged:e,columnPivotModeChanged:e,newColumnsLoaded:t,columnVisible:t,advancedFilterEnabledChanged:({enabled:i})=>this.onAdvFilterEnabledChanged(i),dataTypesInferred:this.processFilterModelUpdateQueue.bind(this)}),this.externalFilterPresent=this.isExternalFilterPresentCallback(),this.addManagedPropertyListeners(["isExternalFilterPresent","doesExternalFilterPass"],()=>{this.onFilterChanged({source:"api"})}),this.updateAggFiltering(),this.addManagedPropertyListener("groupAggFiltering",()=>{this.updateAggFiltering(),this.onFilterChanged()}),this.quickFilter&&this.addManagedListeners(this.quickFilter,{quickFilterChanged:()=>this.onFilterChanged({source:"quickFilter"})});const{gos:n}=this;this.alwaysPassFilter=n.get("alwaysPassFilter"),this.addManagedPropertyListener("alwaysPassFilter",()=>{this.alwaysPassFilter=n.get("alwaysPassFilter"),this.onFilterChanged({source:"api"})})}isExternalFilterPresentCallback(){const e=this.gos.getCallback("isExternalFilterPresent");return typeof e=="function"&&e({})}doesExternalFilterPass(e){const t=this.gos.get("doesExternalFilterPass");return typeof t=="function"&&t(e)}setFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){this.warnAdvFilters();return}(n=this.colFilter)==null||n.setFilterModel(e,t)}getFilterModel(){var e;return((e=this.colFilter)==null?void 0:e.getFilterModel())??{}}isColumnFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isColumnFilterPresent())}isAggregateFilterPresent(){var e;return!!((e=this.colFilter)!=null&&e.isAggregateFilterPresent())}isChildFilterPresent(){return this.isColumnFilterPresent()||this.isQuickFilterPresent()||this.externalFilterPresent||this.isAdvFilterPresent()}isAnyFilterPresent(){return this.isChildFilterPresent()||this.isAggregateFilterPresent()}isAdvFilterPresent(){return this.isAdvFilterEnabled()&&this.advancedFilter.isFilterPresent()}onAdvFilterEnabledChanged(e){var t,n;e?(t=this.colFilter)!=null&&t.disableColumnFilters()&&this.onFilterChanged({source:"advancedFilter"}):(n=this.advancedFilter)!=null&&n.isFilterPresent()&&(this.advancedFilter.setModel(null),this.onFilterChanged({source:"advancedFilter"}))}isAdvFilterEnabled(){var e;return!!((e=this.advancedFilter)!=null&&e.isEnabled())}isAdvFilterHeaderActive(){return this.isAdvFilterEnabled()&&this.advancedFilter.isHeaderActive()}refreshFiltersForAggregations(){eC(this.gos)&&this.onFilterChanged()}onFilterChanged(e={}){const{source:t,additionalEventAttributes:n,columns:i=[]}=e;this.externalFilterPresent=this.isExternalFilterPresentCallback(),(this.colFilter?this.colFilter.updateBeforeFilterChanged(e):bi.resolve()).then(()=>{var o;const r={source:t,type:"filterChanged",columns:i};n&&Si(r,n),this.eventSvc.dispatchEvent(r),(o=this.colFilter)==null||o.updateAfterFilterChanged()})}isSuppressFlashingCellsBecauseFiltering(){var e;return!!((e=this.colFilter)!=null&&e.isSuppressFlashingCellsBecauseFiltering())}isQuickFilterPresent(){var e;return!!((e=this.quickFilter)!=null&&e.isFilterPresent())}updateAggFiltering(){this.aggFiltering=!!eC(this.gos)}isAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&this.shouldApplyQuickFilterAfterAgg()}isNonAggregateQuickFilterPresent(){return this.isQuickFilterPresent()&&!this.shouldApplyQuickFilterAfterAgg()}shouldApplyQuickFilterAfterAgg(){return(this.aggFiltering||this.beans.colModel.isPivotMode())&&!this.gos.get("applyQuickFilterBeforePivotOrAgg")}doesRowPassOtherFilters(e,t){return this.doesRowPassFilter({rowNode:t,filterInstanceToSkip:e})}doesRowPassAggregateFilters(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.isAggregateFilterPresent()&&!this.colFilter.doAggregateFiltersPass(t,e.filterInstanceToSkip))}doesRowPassFilter(e){var n;const{rowNode:t}=e;return(n=this.alwaysPassFilter)!=null&&n.call(this,t)?!0:!(this.isNonAggregateQuickFilterPresent()&&!this.quickFilter.doesRowPass(t)||this.externalFilterPresent&&!this.doesExternalFilterPass(t)||this.isColumnFilterPresent()&&!this.colFilter.doColumnFiltersPass(t,e.filterInstanceToSkip)||this.isAdvFilterPresent()&&!this.advancedFilter.doesFilterPass(t))}isFilterActive(e){var t;return!!((t=this.colFilter)!=null&&t.isFilterActive(e))}getOrCreateFilterWrapper(e){var t;return((t=this.colFilter)==null?void 0:t.getOrCreateFilterWrapper(e))??null}getDefaultFloatingFilter(e){return this.colFilter.getDefaultFloatingFilter(e)}createFilterParams(e,t){return this.colFilter.createFilterParams(e,t)}isFilterAllowed(e){var t;return this.isAdvFilterEnabled()?!1:!!((t=this.colFilter)!=null&&t.isFilterAllowed(e))}getFloatingFilterCompDetails(e,t){var n;return(n=this.colFilter)==null?void 0:n.getFloatingFilterCompDetails(e,t)}getCurrentFloatingFilterParentModel(e){var t;return(t=this.colFilter)==null?void 0:t.getCurrentFloatingFilterParentModel(e)}destroyFilter(e,t="api"){var n;(n=this.colFilter)==null||n.destroyFilter(e,t)}areFilterCompsDifferent(e,t){var n;return!!((n=this.colFilter)!=null&&n.areFilterCompsDifferent(e,t))}getAdvFilterModel(){return this.isAdvFilterEnabled()?this.advancedFilter.getModel():null}setAdvFilterModel(e,t="api"){var n;if(this.isAdvFilterEnabled()){if((n=this.beans.dataTypeSvc)!=null&&n.isPendingInference){this.advFilterModelUpdateQueue.push(e);return}this.advancedFilter.setModel(e??null),this.onFilterChanged({source:t})}}toggleAdvFilterBuilder(e,t){this.isAdvFilterEnabled()&&this.advancedFilter.getCtrl().toggleFilterBuilder({source:t,force:e})}updateAdvFilterColumns(){this.isAdvFilterEnabled()&&this.advancedFilter.updateValidity()&&this.onFilterChanged({source:"advancedFilter"})}hasFloatingFilters(){var e;return this.isAdvFilterEnabled()?!1:!!((e=this.colFilter)!=null&&e.hasFloatingFilters())}getColumnFilterInstance(e){var t;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve(void 0)):((t=this.colFilter)==null?void 0:t.getColumnFilterInstance(e))??Promise.resolve(void 0)}warnAdvFilters(){ie(68)}setupAdvFilterHeaderComp(e){var t;(t=this.advancedFilter)==null||t.getCtrl().setupHeaderComp(e)}getHeaderRowCount(){return this.isAdvFilterHeaderActive()?1:0}getHeaderHeight(){return this.isAdvFilterHeaderActive()?this.advancedFilter.getCtrl().getHeaderHeight():0}processFilterModelUpdateQueue(){this.advFilterModelUpdateQueue.forEach(e=>this.setAdvFilterModel(e)),this.advFilterModelUpdateQueue=[]}getColumnFilterModel(e){var t;return(t=this.colFilter)==null?void 0:t.getColumnFilterModel(e)}setColumnFilterModel(e,t){var n;return this.isAdvFilterEnabled()?(this.warnAdvFilters(),Promise.resolve()):((n=this.colFilter)==null?void 0:n.setColumnFilterModel(e,t))??Promise.resolve()}setColDefPropertiesForDataType(e,t,n){var i;(i=this.colFilter)==null||i.setColDefPropertiesForDataType(e,t,n)}},eae=class extends K{constructor(){super(...arguments),this.beanName="filterMenuFactory"}wireBeans(e){this.popupSvc=e.popupSvc}hideActiveMenu(){var e;(e=this.hidePopup)==null||e.call(this)}showMenuAfterMouseEvent(e,t,n,i){this.showPopup(e,r=>{var o;(o=this.popupSvc)==null||o.positionPopupUnderMouseEvent({column:e,type:n,mouseEvent:t,ePopup:r})},n,t.target,Ji(this.gos),i)}showMenuAfterButtonClick(e,t,n,i){let r=-1,o="left";const s=Ji(this.gos);!s&&this.gos.get("enableRtl")&&(r=1,o="right");const a=s?void 0:4*r,l=s?void 0:4;this.showPopup(e,u=>{var c;(c=this.popupSvc)==null||c.positionPopupByComponent({type:n,eventSource:t,ePopup:u,nudgeX:a,nudgeY:l,alignSide:o,keepWithinBounds:!0,position:"under",column:e})},n,t,s,i)}showPopup(e,t,n,i,r,o){var g;const s=e?this.createBean(new vQ(e,"COLUMN_MENU")):void 0;if(this.activeMenu=s,!(s!=null&&s.hasFilter())||!e){dt(57);return}const a=gn({tag:"div",cls:`ag-menu${r?"":" ag-filter-menu"}`,role:"presentation"});[this.tabListener]=this.addManagedElementListeners(a,{keydown:m=>this.trapFocusWithin(m,a)}),a.appendChild(s==null?void 0:s.getGui());let l;const u=()=>s==null?void 0:s.afterGuiDetached(),c=rJ(this.gos)?i??this.beans.ctrlsSvc.getGridBodyCtrl().eGridBody:void 0,d=m=>{V4(e,!1,"contextMenu");const v=m instanceof KeyboardEvent;if(this.tabListener&&(this.tabListener=this.tabListener()),v&&i&&$r(i)){const b=A5(i);b==null||b.focus({preventScroll:!0})}u(),this.destroyBean(this.activeMenu),this.dispatchVisibleChangedEvent(!1,n,e),o==null||o()},h=this.getLocaleTextFunc(),p=r&&n!=="columnFilter"?h("ariaLabelColumnMenu","Column Menu"):h("ariaLabelColumnFilter","Column Filter"),f=(g=this.popupSvc)==null?void 0:g.addPopup({modal:!0,eChild:a,closeOnEsc:!0,closedCallback:d,positionCallback:()=>t(a),anchorToElement:c,ariaLabel:p});f&&(this.hidePopup=l=f.hideFunc),s.afterInit().then(()=>{t(a),s.afterGuiAttached({container:n,hidePopup:l})}),V4(e,!0,"contextMenu"),this.dispatchVisibleChangedEvent(!0,n,e)}trapFocusWithin(e,t){e.key!==j.TAB||e.defaultPrevented||yl(this.beans,t,!1,e.shiftKey)||(e.preventDefault(),pl(t,e.shiftKey))}dispatchVisibleChangedEvent(e,t,n){this.eventSvc.dispatchEvent({type:"columnMenuVisibleChanged",visible:e,switchingTab:!1,key:t,column:n??null,columnGroup:null})}isMenuEnabled(e){return e.isFilterAllowed()&&(e.getColDef().menuTabs??["filterMenuTab"]).includes("filterMenuTab")}showMenuAfterContextMenuEvent(){}destroy(){this.destroyBean(this.activeMenu),super.destroy()}},tae=class extends K{constructor(){super(...arguments),this.beanName="filterValueSvc"}getValue(e,t){if(!t)return;const n=e.getColDef(),{filterValueGetter:i}=n;return i?this.executeFilterValueGetter(i,t.data,e,t,n):this.beans.valueSvc.getValue(e,t)}executeFilterValueGetter(e,t,n,i,r){const{expressionSvc:o,valueSvc:s}=this.beans,a=Le(this.gos,{data:t,node:i,column:n,colDef:r,getValue:s.getValueCallback.bind(s,i)});return typeof e=="function"?e(a):o==null?void 0:o.evaluate(e,a)}},nae={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eFloatingFilterText"}]},iae=class extends pt{constructor(){super(nae,[kg]),this.eFloatingFilterText=le}init(e){this.params=e;const t=this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0);this.eFloatingFilterText.setDisabled(!0).setInputAriaLabel(`${t} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`)}onParentModelChanged(e){if(e==null){this.eFloatingFilterText.setValue("");return}this.params.parentFilterInstance(t=>{if(t.getModelAsString){const n=t.getModelAsString(e);this.eFloatingFilterText.setValue(n)}})}refresh(e){this.init(e)}},NR=class{constructor(){this.customFilterOptions={}}init(e,t){this.filterOptions=e.filterOptions||t,this.mapCustomOptions(),this.selectDefaultItem(e)}mapCustomOptions(){const{filterOptions:e}=this;e&&e.forEach(t=>{if(typeof t=="string")return;const n=[["displayKey"],["displayName"],["predicate","test"]],i=r=>r.some(o=>t[o]!=null)?!0:(ie(72,{keys:r}),!1);if(!n.every(i)){this.filterOptions=e.filter(r=>r===t)||[];return}this.customFilterOptions[t.displayKey]=t})}selectDefaultItem(e){const{filterOptions:t}=this;if(e.defaultOption)this.defaultOption=e.defaultOption;else if(t.length>=1){const n=t[0];typeof n=="string"?this.defaultOption=n:n.displayKey?this.defaultOption=n.displayKey:ie(73)}else ie(74)}getCustomOption(e){return this.customFilterOptions[e]}};function Yc(e,t,n){return n==null?e.splice(t):e.splice(t,n)}function C0(e){return e==null||typeof e=="string"&&e.trim().length===0}function rae(e){return e==="AND"||e==="OR"?e:"AND"}function oae(e,t,n){if(e==null)return;const{predicate:i}=e;if(i!=null&&!t.some(r=>r==null))return i(t,n)}function sae(e,t){let n=e.length;return n>t&&(e.splice(t),ie(78),n=t),n}var BR=class extends wQ{constructor(){super(...arguments),this.eTypes=[],this.eJoinOperatorPanels=[],this.eJoinOperatorsAnd=[],this.eJoinOperatorsOr=[],this.eConditionBodies=[],this.listener=()=>this.onUiChanged(),this.lastUiCompletePosition=null,this.joinOperatorId=0}getNumberOfInputs(e){const t=this.optionsFactory.getCustomOption(e);if(t){const{numberOfInputs:i}=t;return i??1}return e&&["empty","notBlank","blank"].indexOf(e)>=0?0:e==="inRange"?2:1}onFloatingFilterChanged(e,t){this.setTypeFromFloatingFilter(e),this.setValueFromFloatingFilter(t),this.onUiChanged(!0)}setTypeFromFloatingFilter(e){this.eTypes.forEach((t,n)=>{const i=n===0?e:this.optionsFactory.defaultOption;t.setValue(i,!0)})}getModelFromUi(){const e=this.getUiCompleteConditions();return e.length===0?null:this.maxNumConditions>1&&e.length>1?{filterType:this.filterType,operator:this.getJoinOperator(),conditions:e}:e[0]}getConditionTypes(){return this.eTypes.map(e=>e.getValue())}getConditionType(e){return this.eTypes[e].getValue()}getJoinOperator(){const{eJoinOperatorsOr:e,defaultJoinOperator:t}=this;return e.length===0?t:e[0].getValue()===!0?"OR":"AND"}areModelsEqual(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;const n=!e.operator,i=!t.operator;if(!n&&i||n&&!i)return!1;let o;if(n){const s=e,a=t;o=this.areSimpleModelsEqual(s,a)}else{const s=e,a=t;o=s.operator===a.operator&&bl(s.conditions,a.conditions,(l,u)=>this.areSimpleModelsEqual(l,u))}return o}shouldRefresh(e){var o;const t=this.getModel(),n=t?t.conditions??[t]:null,i=((o=e.filterOptions)==null?void 0:o.map(s=>typeof s=="string"?s:s.displayKey))??this.getDefaultFilterOptions();return!(!(!n||n.every(s=>i.find(a=>a===s.type)!==void 0))||typeof e.maxNumConditions=="number"&&n&&n.length>e.maxNumConditions)}refresh(e){return!this.shouldRefresh(e)||!super.refresh(e)?!1:(this.setParams(e),this.removeConditionsAndOperators(0),this.createOption(),this.setModel(this.getModel()),!0)}setModelIntoUi(e){if(e.operator){const n=e;let i=n.conditions;i==null&&(i=[],ie(77));const r=sae(i,this.maxNumConditions),o=this.getNumConditions();if(r<o)this.removeConditionsAndOperators(r);else if(r>o)for(let a=o;a<r;a++)this.createJoinOperatorPanel(),this.createOption();const s=n.operator==="OR";this.eJoinOperatorsAnd.forEach(a=>a.setValue(!s,!0)),this.eJoinOperatorsOr.forEach(a=>a.setValue(s,!0)),i.forEach((a,l)=>{this.eTypes[l].setValue(a.type,!0),this.setConditionIntoUi(a,l)})}else{const n=e;this.getNumConditions()>1&&this.removeConditionsAndOperators(1),this.eTypes[0].setValue(n.type,!0),this.setConditionIntoUi(n,0)}return this.lastUiCompletePosition=this.getNumConditions()-1,this.createMissingConditionsAndOperators(),this.onUiChanged(),bi.resolve()}doesFilterPass(e){const t=this.getModel();if(t==null)return!0;const{operator:n}=t,i=[];if(n){const o=t;i.push(...o.conditions??[])}else i.push(t);return i[n&&n==="OR"?"some":"every"](o=>this.individualConditionPasses(e,o))}setParams(e){super.setParams(e),this.setNumConditions(e),this.defaultJoinOperator=rae(e.defaultJoinOperator),this.filterPlaceholder=e.filterPlaceholder,this.optionsFactory=new NR,this.optionsFactory.init(e,this.getDefaultFilterOptions()),this.createFilterListOptions(),this.createOption(),this.createMissingConditionsAndOperators(),this.isReadOnly()&&this.eFilterBody.setAttribute("tabindex","-1")}setNumConditions(e){let t=e.maxNumConditions??2;t<1&&(ie(79),t=1),this.maxNumConditions=t;let n=e.numAlwaysVisibleConditions??1;n<1&&(ie(80),n=1),n>t&&(ie(81),n=t),this.numAlwaysVisibleConditions=n}createOption(){const e=this.createManagedBean(new dw);this.eTypes.push(e),e.addCssClass("ag-filter-select"),this.eFilterBody.appendChild(e.getGui());const t=this.createValueElement();this.eConditionBodies.push(t),this.eFilterBody.appendChild(t),this.putOptionsIntoDropdown(e),this.resetType(e);const n=this.getNumConditions()-1;this.forEachPositionInput(n,i=>this.resetInput(i)),this.addChangedListeners(e,n)}createJoinOperatorPanel(){const e=gn({tag:"div",cls:"ag-filter-condition"});this.eJoinOperatorPanels.push(e);const t=this.createJoinOperator(this.eJoinOperatorsAnd,e,"and"),n=this.createJoinOperator(this.eJoinOperatorsOr,e,"or");this.eFilterBody.appendChild(e);const i=this.eJoinOperatorPanels.length-1,r=this.joinOperatorId++;this.resetJoinOperatorAnd(t,i,r),this.resetJoinOperatorOr(n,i,r),this.isReadOnly()||(t.onValueChange(this.listener),n.onValueChange(this.listener))}createJoinOperator(e,t,n){const i=this.createManagedBean(new _ee);e.push(i);const r="ag-filter-condition-operator";return i.addCssClass(r),i.addCssClass(`${r}-${n}`),t.appendChild(i.getGui()),i}createFilterListOptions(){this.filterListOptions=this.optionsFactory.filterOptions.map(e=>typeof e=="string"?this.createBoilerplateListOption(e):this.createCustomListOption(e))}putOptionsIntoDropdown(e){const{filterListOptions:t}=this;t.forEach(n=>{e.addOption(n)}),e.setDisabled(t.length<=1)}createBoilerplateListOption(e){return{value:e,text:this.translate(e)}}createCustomListOption(e){const{displayKey:t}=e,n=this.optionsFactory.getCustomOption(e.displayKey);return{value:t,text:n?this.getLocaleTextFunc()(n.displayKey,n.displayName):this.translate(t)}}createBodyTemplate(){return null}getAgComponents(){return[]}getCssIdentifier(){return"simple-filter"}updateUiVisibility(){const e=this.getJoinOperator();this.updateNumConditions(),this.updateConditionStatusesAndValues(this.lastUiCompletePosition,e)}updateNumConditions(){let e=-1,t=!0;for(let n=0;n<this.getNumConditions();n++)this.isConditionUiComplete(n)?e=n:t=!1;if(this.shouldAddNewConditionAtEnd(t))this.createJoinOperatorPanel(),this.createOption();else{const n=this.lastUiCompletePosition??this.getNumConditions()-2;if(e<n){this.removeConditionsAndOperators(n+1);const i=e+1,r=n-i;r>0&&this.removeConditionsAndOperators(i,r),this.createMissingConditionsAndOperators()}}this.lastUiCompletePosition=e}updateConditionStatusesAndValues(e,t){this.eTypes.forEach((i,r)=>{const o=this.isConditionDisabled(r,e);i.setDisabled(o||this.filterListOptions.length<=1),r===1&&(xd(this.eJoinOperatorPanels[0],o),this.eJoinOperatorsAnd[0].setDisabled(o),this.eJoinOperatorsOr[0].setDisabled(o))}),this.eConditionBodies.forEach((i,r)=>{Ht(i,this.isConditionBodyVisible(r))});const n=(t??this.getJoinOperator())==="OR";this.eJoinOperatorsAnd.forEach(i=>{i.setValue(!n,!0)}),this.eJoinOperatorsOr.forEach(i=>{i.setValue(n,!0)}),this.forEachInput((i,r,o,s)=>{this.setElementDisplayed(i,r<s),this.setElementDisabled(i,this.isConditionDisabled(o,e))}),this.resetPlaceholder()}shouldAddNewConditionAtEnd(e){return e&&this.getNumConditions()<this.maxNumConditions&&!this.isReadOnly()}removeConditionsAndOperators(e,t){if(e>=this.getNumConditions())return;const{eTypes:n,eConditionBodies:i,eJoinOperatorPanels:r,eJoinOperatorsAnd:o,eJoinOperatorsOr:s}=this;this.removeComponents(n,e,t),this.removeElements(i,e,t),this.removeValueElements(e,t);const a=Math.max(e-1,0);this.removeElements(r,a,t),this.removeComponents(o,a,t),this.removeComponents(s,a,t)}removeElements(e,t,n){Yc(e,t,n).forEach(r=>Cr(r))}removeComponents(e,t,n){Yc(e,t,n).forEach(r=>{Cr(r.getGui()),this.destroyBean(r)})}afterGuiAttached(e){var t;if(super.afterGuiAttached(e),this.resetPlaceholder(),!(e!=null&&e.suppressFocus)){const{eFilterBody:n,eTypes:i}=this;let r;if(!this.isReadOnly()){const o=this.getInputs(0)[0];o instanceof La&&this.isConditionBodyVisible(0)?r=o.getInputElement():r=(t=i[0])==null?void 0:t.getFocusableElement()}(r??n).focus({preventScroll:!0})}}afterGuiDetached(){super.afterGuiDetached();const e=this.getModel();this.resetUiToActiveModel(e);let t=-1,n=-1,i=!1;const r=this.getJoinOperator();for(let s=this.getNumConditions()-1;s>=0;s--)if(this.isConditionUiComplete(s))t===-1&&(t=s,n=s);else{const a=s>=this.numAlwaysVisibleConditions&&!this.isConditionUiComplete(s-1),l=s<t;(a||l)&&(this.removeConditionsAndOperators(s,1),i=!0,l&&n--)}let o=!1;this.getNumConditions()<this.numAlwaysVisibleConditions&&(this.createMissingConditionsAndOperators(),o=!0),this.shouldAddNewConditionAtEnd(n===this.getNumConditions()-1)&&(this.createJoinOperatorPanel(),this.createOption(),o=!0),o&&this.updateConditionStatusesAndValues(n,r),i&&this.updateJoinOperatorsDisabled(),this.lastUiCompletePosition=n}getPlaceholderText(e,t){let n=this.translate(e);if(typeof this.filterPlaceholder=="function"){const i=this.eTypes[t].getValue(),r=this.translate(i);n=this.filterPlaceholder({filterOptionKey:i,filterOption:r,placeholder:n})}else typeof this.filterPlaceholder=="string"&&(n=this.filterPlaceholder);return n}resetPlaceholder(){const e=this.getLocaleTextFunc();this.forEachInput((t,n,i,r)=>{if(!(t instanceof La))return;const o=n===0&&r>1?"inRangeStart":n===0?"filterOoo":"inRangeEnd",s=n===0&&r>1?e("ariaFilterFromValue","Filter from value"):n===0?e("ariaFilterValue","Filter Value"):e("ariaFilterToValue","Filter to Value");t.setInputPlaceholder(this.getPlaceholderText(o,i)),t.setInputAriaLabel(s)})}setElementValue(e,t,n){e instanceof La&&e.setValue(t!=null?String(t):null,!0)}setElementDisplayed(e,t){e instanceof pt&&Ht(e.getGui(),t)}setElementDisabled(e,t){e instanceof pt&&xd(e.getGui(),t)}attachElementOnChange(e,t){e instanceof La&&e.onValueChange(t)}forEachInput(e){this.getConditionTypes().forEach((t,n)=>{this.forEachPositionTypeInput(n,t,e)})}forEachPositionInput(e,t){const n=this.getConditionType(e);this.forEachPositionTypeInput(e,n,t)}forEachPositionTypeInput(e,t,n){const i=this.getNumberOfInputs(t),r=this.getInputs(e);for(let o=0;o<r.length;o++){const s=r[o];s!=null&&n(s,o,e,i)}}isConditionDisabled(e,t){return this.isReadOnly()?!0:e===0?!1:e>t+1}isConditionBodyVisible(e){const t=this.getConditionType(e);return this.getNumberOfInputs(t)>0}isConditionUiComplete(e){return!(e>=this.getNumConditions()||this.getConditionType(e)==="empty"||this.getValues(e).some(n=>n==null))}getNumConditions(){return this.eTypes.length}getUiCompleteConditions(){const e=[];for(let t=0;t<this.getNumConditions();t++)this.isConditionUiComplete(t)&&e.push(this.createCondition(t));return e}createMissingConditionsAndOperators(){if(!this.isReadOnly())for(let e=this.getNumConditions();e<this.numAlwaysVisibleConditions;e++)this.createJoinOperatorPanel(),this.createOption()}resetUiToDefaults(e){return this.removeConditionsAndOperators(this.isReadOnly()?1:this.numAlwaysVisibleConditions),this.eTypes.forEach(t=>this.resetType(t)),this.eJoinOperatorsAnd.forEach((t,n)=>this.resetJoinOperatorAnd(t,n,this.joinOperatorId+n)),this.eJoinOperatorsOr.forEach((t,n)=>this.resetJoinOperatorOr(t,n,this.joinOperatorId+n)),this.joinOperatorId++,this.forEachInput(t=>this.resetInput(t)),this.resetPlaceholder(),this.createMissingConditionsAndOperators(),this.lastUiCompletePosition=null,e||this.onUiChanged(),bi.resolve()}resetType(e){const n=this.getLocaleTextFunc()("ariaFilteringOperator","Filtering operator");e.setValue(this.optionsFactory.defaultOption,!0).setAriaLabel(n).setDisabled(this.isReadOnly()||this.filterListOptions.length<=1)}resetJoinOperatorAnd(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="AND",this.translate("andCondition"),n)}resetJoinOperatorOr(e,t,n){this.resetJoinOperator(e,t,this.defaultJoinOperator==="OR",this.translate("orCondition"),n)}resetJoinOperator(e,t,n,i,r){this.updateJoinOperatorDisabled(e.setValue(n,!0).setName(`ag-simple-filter-and-or-${this.getCompId()}-${r}`).setLabel(i),t)}updateJoinOperatorsDisabled(){const e=(t,n)=>this.updateJoinOperatorDisabled(t,n);this.eJoinOperatorsAnd.forEach(e),this.eJoinOperatorsOr.forEach(e)}updateJoinOperatorDisabled(e,t){e.setDisabled(this.isReadOnly()||t>0)}resetInput(e){this.setElementValue(e,null),this.setElementDisabled(e,this.isReadOnly())}setConditionIntoUi(e,t){const n=this.mapValuesFromModel(e);this.forEachInput((i,r,o)=>{o===t&&this.setElementValue(i,n[r]!=null?n[r]:null)})}setValueFromFloatingFilter(e){this.forEachInput((t,n,i)=>{this.setElementValue(t,n===0&&i===0?e:null,!0)})}addChangedListeners(e,t){this.isReadOnly()||(e.onValueChange(this.listener),this.forEachPositionInput(t,n=>{this.attachElementOnChange(n,this.listener)}))}individualConditionPasses(e,t){const n=this.getCellValue(e.node),i=this.mapValuesFromModel(t),r=this.optionsFactory.getCustomOption(t.type),o=oae(r,i,n);return o??(n==null?this.evaluateNullValue(t.type):this.evaluateNonNullValue(i,n,t,e))}hasInvalidInputs(){return!1}},zR=class extends BR{setParams(e){super.setParams(e),this.scalarFilterParams=e}evaluateNullValue(e){const{includeBlanksInEquals:t,includeBlanksInNotEqual:n,includeBlanksInGreaterThan:i,includeBlanksInLessThan:r,includeBlanksInRange:o}=this.scalarFilterParams;switch(e){case"equals":if(t)return!0;break;case"notEqual":if(n)return!0;break;case"greaterThan":case"greaterThanOrEqual":if(i)return!0;break;case"lessThan":case"lessThanOrEqual":if(r)return!0;break;case"inRange":if(o)return!0;break;case"blank":return!0;case"notBlank":return!1}return!1}evaluateNonNullValue(e,t,n){const i=n.type;if(!this.isValid(t))return i==="notEqual"||i==="notBlank";const r=this.comparator(),o=e[0]!=null?r(e[0],t):0;switch(i){case"equals":return o===0;case"notEqual":return o!==0;case"greaterThan":return o>0;case"greaterThanOrEqual":return o>=0;case"lessThan":return o<0;case"lessThanOrEqual":return o<=0;case"inRange":{const s=r(e[1],t);return this.scalarFilterParams.inRangeInclusive?o>=0&&s<=0:o>0&&s<0}case"blank":return C0(t);case"notBlank":return!C0(t);default:return ie(76,{filterModelType:i}),!0}}},HR=class{constructor(e,t,n,i,r,o){this.alive=!0,this.context=e,this.eParent=r;const s=CZ(t,n,i);s&&s.newAgStackInstance().then(a=>{var c,d;if(!this.alive){e.destroyBean(a);return}if(this.dateComp=a,!a)return;r.appendChild(a.getGui()),(c=a==null?void 0:a.afterGuiAttached)==null||c.call(a);const{tempValue:l,disabled:u}=this;l&&a.setDate(l),u!=null&&((d=a.setDisabled)==null||d.call(a,u)),o==null||o(this)})}destroy(){this.alive=!1,this.dateComp=this.context.destroyBean(this.dateComp)}getDate(){return this.dateComp?this.dateComp.getDate():this.tempValue}setDate(e){const t=this.dateComp;t?t.setDate(e):this.tempValue=e}setDisabled(e){var n;const t=this.dateComp;t?(n=t.setDisabled)==null||n.call(t,e):this.disabled=e}setDisplayed(e){Ht(this.eParent,e)}setInputPlaceholder(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputPlaceholder)==null||n.call(t,e)}setInputAriaLabel(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.setInputAriaLabel)==null||n.call(t,e)}afterGuiAttached(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.afterGuiAttached)==null||n.call(t,e)}updateParams(e){var t,n;(n=(t=this.dateComp)==null?void 0:t.refresh)==null||n.call(t,e)}},VR=["equals","notEqual","lessThan","greaterThan","inRange","blank","notBlank"],mw=class{constructor(e,t,n){this.getLocaleTextFunc=e,this.optionsFactory=t,this.valueFormatter=n}getModelAsString(e){if(!e)return null;const t=e.operator!=null,n=this.getLocaleTextFunc();if(t){const i=e,o=(i.conditions??[]).map(a=>this.getModelAsString(a)),s=i.operator==="AND"?"andCondition":"orCondition";return o.join(` ${n(s,_5[s])} `)}else{if(e.type==="blank"||e.type==="notBlank")return n(e.type,e.type);{const i=e,r=this.optionsFactory.getCustomOption(i.type),{displayKey:o,displayName:s,numberOfInputs:a}=r||{};return o&&s&&a===0?(n(o,s),s):this.conditionToString(i,r)}}}updateParams(e){this.optionsFactory=e.optionsFactory}formatValue(e){const t=this.valueFormatter;return t?t(e??null)??"":String(e)}},_R=class extends mw{constructor(e,t,n){super(t,n),this.dateFilterParams=e}conditionToString(e,t){const{type:n}=e,{numberOfInputs:i}=t||{},r=n=="inRange"||i===2,o=Oi(e.dateFrom),s=Oi(e.dateTo),a=this.dateFilterParams.inRangeFloatingFilterDateFormat;if(r){const l=o!==null?jc(o,a):"null",u=s!==null?jc(s,a):"null";return`${l}-${u}`}return o!=null?jc(o,a):`${n}`}updateParams(e){super.updateParams(e),this.dateFilterParams=e.dateFilterParams}},l3=1e3,u3=1/0,aae=class extends zR{constructor(){super("dateFilter"),this.eConditionPanelsFrom=[],this.eConditionPanelsTo=[],this.dateConditionFromComps=[],this.dateConditionToComps=[],this.minValidYear=l3,this.maxValidYear=u3,this.minValidDate=null,this.maxValidDate=null,this.filterType="date"}afterGuiAttached(e){super.afterGuiAttached(e),this.dateConditionFromComps[0].afterGuiAttached(e)}mapValuesFromModel(e){const{dateFrom:t,dateTo:n,type:i}=e||{};return[t&&Oi(t)||null,n&&Oi(n)||null].slice(0,this.getNumberOfInputs(i))}comparator(){return this.dateFilterParams.comparator??lae}isValid(e){const t=this.dateFilterParams.isValidDate;return!t||t(e)}setParams(e){this.dateFilterParams=e,super.setParams(e);const t=(n,i)=>{if(e[n]!=null)if(isNaN(e[n]))ie(82,{param:n});else return e[n]==null?i:Number(e[n]);return i};this.minValidYear=t("minValidYear",l3),this.maxValidYear=t("maxValidYear",u3),this.minValidYear>this.maxValidYear&&ie(83),this.minValidDate=e.minValidDate?e.minValidDate instanceof Date?e.minValidDate:Oi(e.minValidDate):null,this.maxValidDate=e.maxValidDate?e.maxValidDate instanceof Date?e.maxValidDate:Oi(e.maxValidDate):null,this.minValidDate&&this.maxValidDate&&this.minValidDate>this.maxValidDate&&ie(84),this.filterModelFormatter=new _R(this.dateFilterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory)}createDateCompWrapper(e){const{beans:{userCompFactory:t,context:n,gos:i},dateFilterParams:r}=this,o=new HR(n,t,r.colDef,Le(i,{onDateChanged:()=>this.onUiChanged(),filterParams:r,location:"filter"}),e);return this.addDestroyFunc(()=>o.destroy()),o}setElementValue(e,t){e.setDate(t)}setElementDisplayed(e,t){e.setDisplayed(t)}setElementDisabled(e,t){e.setDisabled(t)}getDefaultFilterOptions(){return VR}createValueElement(){const t=wn(this.beans).createElement("div");return t.classList.add("ag-filter-body"),this.createFromToElement(t,this.eConditionPanelsFrom,this.dateConditionFromComps,"from"),this.createFromToElement(t,this.eConditionPanelsTo,this.dateConditionToComps,"to"),t}createFromToElement(e,t,n,i){const o=wn(this.beans).createElement("div");o.classList.add(`ag-filter-${i}`),o.classList.add(`ag-filter-date-${i}`),t.push(o),e.appendChild(o),n.push(this.createDateCompWrapper(o))}removeValueElements(e,t){this.removeDateComps(this.dateConditionFromComps,e,t),this.removeDateComps(this.dateConditionToComps,e,t),Yc(this.eConditionPanelsFrom,e,t),Yc(this.eConditionPanelsTo,e,t)}removeDateComps(e,t,n){Yc(e,t,n).forEach(r=>r.destroy())}isValidDateValue(e){if(e===null)return!1;const{minValidDate:t,maxValidDate:n,minValidYear:i,maxValidYear:r}=this;if(t){if(e<t)return!1}else if(e.getUTCFullYear()<i)return!1;if(n){if(e>n)return!1}else if(e.getUTCFullYear()>r)return!1;return!0}isConditionUiComplete(e){if(!super.isConditionUiComplete(e))return!1;let t=!0;return this.forEachInput((n,i,r,o)=>{r!==e||!t||i>=o||(t=t&&this.isValidDateValue(n.getDate()))}),t}areSimpleModelsEqual(e,t){return e.dateFrom===t.dateFrom&&e.dateTo===t.dateTo&&e.type===t.type}createCondition(e){const t=this.getConditionType(e),n={},i=this.getValues(e);return i.length>0&&(n.dateFrom=kr(i[0])),i.length>1&&(n.dateTo=kr(i[1])),{dateFrom:null,dateTo:null,filterType:this.filterType,type:t,...n}}resetPlaceholder(){const e=this.getLocaleTextFunc(),t=this.translate("dateFormatOoo"),n=e("ariaFilterValue","Filter Value");this.forEachInput(i=>{i.setInputPlaceholder(t),i.setInputAriaLabel(n)})}getInputs(e){const{dateConditionFromComps:t,dateConditionToComps:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(n.getDate())}),t}translate(e){return e==="lessThan"?super.translate("before"):e==="greaterThan"?super.translate("after"):super.translate(e)}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}};function lae(e,t){const n=t;return n<e?-1:n>e?1:0}var GR=class extends pt{constructor(){super(...arguments),this.defaultDebounceMs=0}setLastTypeFromModel(e){if(!e){this.lastType=this.optionsFactory.defaultOption;return}const t=e.operator;let n;t?n=e.conditions[0]:n=e,this.lastType=n.type}canWeEditAfterModelFromParentFilter(e){if(!e)return this.isTypeEditable(this.lastType);if(e.operator)return!1;const n=e;return this.isTypeEditable(n.type)}init(e){this.setSimpleParams(e,!1)}setSimpleParams(e,t=!0){const n=new NR;this.optionsFactory=n,n.init(e.filterParams,this.getDefaultOptions());const i=n.defaultOption;t||(this.lastType=i),this.readOnly=!!e.filterParams.readOnly;const r=this.isTypeEditable(i);this.setEditable(r)}refresh(e){this.setSimpleParams(e)}hasSingleInput(e){var n;const t=(n=this.optionsFactory.getCustomOption(e))==null?void 0:n.numberOfInputs;return t==null||t==1}isTypeEditable(e){const t=["inRange","empty","blank","notBlank"];return!!e&&!this.readOnly&&this.hasSingleInput(e)&&t.indexOf(e)<0}getAriaLabel(e){return`${this.beans.colNames.getDisplayNameForColumn(e.column,"header",!0)} ${this.getLocaleTextFunc()("ariaFilterInput","Filter Input")}`}},uae={tag:"div",cls:"ag-floating-filter-input",role:"presentation",children:[{tag:"ag-input-text-field",ref:"eReadOnlyText"},{tag:"div",ref:"eDateWrapper",cls:"ag-date-floating-filter-wrapper"}]},cae=class extends GR{constructor(){super(uae,[kg]),this.eReadOnlyText=le,this.eDateWrapper=le}getDefaultOptions(){return VR}init(e){super.init(e),this.params=e,this.filterParams=e.filterParams,this.createDateComponent(),this.filterModelFormatter=new _R(this.filterParams,this.getLocaleTextFunc.bind(this),this.optionsFactory);const t=this.getLocaleTextFunc();this.eReadOnlyText.setDisabled(!0).setInputAriaLabel(t("ariaDateFilterInput","Date Filter Input"))}refresh(e){super.refresh(e),this.params=e,this.filterParams=e.filterParams,this.dateComp.updateParams(this.getDateComponentParams()),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory,dateFilterParams:this.filterParams}),this.updateCompOnModelChange(e.currentParentModel())}updateCompOnModelChange(e){const t=!this.readOnly&&this.canWeEditAfterModelFromParentFilter(e);if(this.setEditable(t),t){const n=e?Oi(e.dateFrom):null;this.dateComp.setDate(n),this.eReadOnlyText.setValue("")}else this.eReadOnlyText.setValue(this.filterModelFormatter.getModelAsString(e)),this.dateComp.setDate(null)}setEditable(e){Ht(this.eDateWrapper,e),Ht(this.eReadOnlyText.getGui(),!e)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(super.setLastTypeFromModel(e),this.updateCompOnModelChange(e))}onDateChanged(){const e=this.dateComp.getDate(),t=kr(e);this.params.parentFilterInstance(n=>{if(n){const i=Oi(t);n.onFloatingFilterChanged(this.lastType||null,i)}})}getDateComponentParams(){const{filterParams:e,column:t}=this.params,n=Qy(e,this.defaultDebounceMs);return Le(this.gos,{onDateChanged:Kn(this,this.onDateChanged.bind(this),n),filterParams:t.getColDef().filterParams,location:"floatingFilter"})}createDateComponent(){const{beans:{context:e,userCompFactory:t},eDateWrapper:n,params:i}=this;this.dateComp=new HR(e,t,i.column.getColDef(),this.getDateComponentParams(),n,r=>{r.setInputAriaLabel(this.getAriaLabel(i))}),this.addDestroyFunc(()=>this.dateComp.destroy())}},dae={tag:"div",cls:"ag-filter-filter",children:[{tag:"ag-input-text-field",ref:"eDateInput",cls:"ag-date-filter"}]},hae=class extends pt{constructor(){super(dae,[kg]),this.eDateInput=le,this.isApply=!1,this.applyOnFocusOut=!1}init(e){this.params=e,this.setParams(e);const t=this.eDateInput.getInputElement();this.addManagedListeners(t,{mouseDown:()=>{this.eDateInput.isDisabled()||this.usingSafariDatePicker||t.focus({preventScroll:!0})},input:this.handleInput.bind(this,!1),change:this.handleInput.bind(this,!0),focusout:this.handleFocusOut.bind(this)})}handleInput(e){if(!this.eDateInput.isDisabled()){if(this.isApply){this.applyOnFocusOut=!e,e&&this.params.onDateChanged();return}e||this.params.onDateChanged()}}handleFocusOut(){this.applyOnFocusOut&&(this.applyOnFocusOut=!1,this.params.onDateChanged())}setParams(e){const t=this.eDateInput.getInputElement(),n=this.shouldUseBrowserDatePicker(e);this.usingSafariDatePicker=n&&vl(),t.type=n?"date":"text";const{minValidYear:i,maxValidYear:r,minValidDate:o,maxValidDate:s,buttons:a}=e.filterParams||{};if(o&&i&&ie(85),s&&r&&ie(86),o&&s){const[l,u]=[o,s].map(c=>c instanceof Date?c:Oi(c));l&&u&&l.getTime()>u.getTime()&&ie(87)}o?o instanceof Date?t.min=jc(o):t.min=o:i&&(t.min=`${i}-01-01`),s?s instanceof Date?t.max=jc(s):t.max=s:r&&(t.max=`${r}-12-31`),this.isApply=e.location==="floatingFilter"&&!!(a!=null&&a.includes("apply"))}refresh(e){this.params=e,this.setParams(e)}getDate(){return Oi(this.eDateInput.getValue())}setDate(e){this.eDateInput.setValue(kr(e,!1))}setInputPlaceholder(e){this.eDateInput.setInputPlaceholder(e)}setInputAriaLabel(e){this.eDateInput.setAriaLabel(e)}setDisabled(e){this.eDateInput.setDisabled(e)}afterGuiAttached(e){(!e||!e.suppressFocus)&&this.eDateInput.getInputElement().focus({preventScroll:!0})}shouldUseBrowserDatePicker(e){var t;return((t=e==null?void 0:e.filterParams)==null?void 0:t.browserDatePicker)??!0}},WR=["equals","notEqual","greaterThan","greaterThanOrEqual","lessThan","lessThanOrEqual","inRange","blank","notBlank"],$R=class extends mw{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:o}=e,s=o=="inRange"||n===2,a=this.formatValue.bind(this);return s?`${a(i)}-${a(r)}`:i!=null?a(i):`${o}`}};function gC(e){const{allowedCharPattern:t}=e??{};return t??null}var pae=class extends zR{constructor(){super("numberFilter"),this.eValuesFrom=[],this.eValuesTo=[],this.filterType="number",this.defaultDebounceMs=500}refresh(e){return this.numberFilterParams.allowedCharPattern!==e.allowedCharPattern?!1:super.refresh(e)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[this.processValue(t),this.processValue(n)].slice(0,this.getNumberOfInputs(i))}comparator(){return(e,t)=>e===t?0:e<t?1:-1}isValid(e){return!isNaN(e)}setParams(e){this.numberFilterParams=e,super.setParams(e),this.filterModelFormatter=new $R(this.getLocaleTextFunc.bind(this),this.optionsFactory,this.numberFilterParams.numberFormatter)}getDefaultFilterOptions(){return WR}setElementValue(e,t,n){const{numberFormatter:i}=this.numberFilterParams,r=!n&&i?i(t??null):t;super.setElementValue(e,r)}createValueElement(){const e=gC(this.numberFilterParams),t=gn({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(t,this.eValuesFrom,"from",e),this.createFromToElement(t,this.eValuesTo,"to",e),t}createFromToElement(e,t,n,i){const r=this.createManagedBean(i?new wl({allowedCharPattern:i}):new cw);r.addCssClass(`ag-filter-${n}`),r.addCssClass("ag-filter-filter"),t.push(r),e.appendChild(r.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}getValues(e){const t=[];return this.forEachPositionInput(e,(n,i,r,o)=>{i<o&&t.push(this.processValue(this.stringToFloat(n.getValue())))}),t}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}processValue(e){return e==null||isNaN(e)?null:e}stringToFloat(e){if(typeof e=="number")return e;let t=ns(e);t!=null&&t.trim()===""&&(t=null);const n=this.numberFilterParams.numberParser;return n?n(t):t==null||t.trim()==="-"?null:parseFloat(t)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValues(e);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}hasInvalidInputs(){let e=!1;return this.forEachInput(t=>{if(!t.getInputElement().validity.valid){e=!0;return}}),e}},UR=class extends K{constructor(e){super(),this.params=e,this.eInput=le,this.onValueChanged=()=>{}}setupGui(e){var i;this.eInput=this.createManagedBean(new wl((i=this.params)==null?void 0:i.config));const t=this.eInput.getGui();e.appendChild(t);const n=r=>this.onValueChanged(r);this.addManagedListeners(t,{input:n,keydown:n})}setEditable(e){this.eInput.setDisabled(!e)}getValue(){return this.eInput.getValue()}setValue(e,t){this.eInput.setValue(e,t)}setValueChangedListener(e){this.onValueChanged=e}setParams({ariaLabel:e,autoComplete:t}){const{eInput:n}=this;n.setInputAriaLabel(e),t!==void 0&&n.setAutoComplete(t)}};function jR(e){const t=e==null?void 0:e.trim();return t===""?e:t}var fae={tag:"div",ref:"eFloatingFilterInputContainer",cls:"ag-floating-filter-input",role:"presentation"},qR=class extends GR{constructor(){super(...arguments),this.eFloatingFilterInputContainer=le,this.defaultDebounceMs=500}postConstruct(){this.setTemplate(fae)}onParentModelChanged(e,t){t!=null&&t.afterFloatingFilter||t!=null&&t.afterDataChange||(this.setLastTypeFromModel(e),this.setEditable(this.canWeEditAfterModelFromParentFilter(e)),this.inputSvc.setValue(this.filterModelFormatter.getModelAsString(e)))}init(e){this.setupFloatingFilterInputService(e),super.init(e),this.setTextInputParams(e)}setupFloatingFilterInputService(e){this.inputSvc=this.createFloatingFilterInputService(e),this.inputSvc.setupGui(this.eFloatingFilterInputContainer)}setTextInputParams(e){this.params=e;const t=e.browserAutoComplete??!1,{inputSvc:n,defaultDebounceMs:i,readOnly:r}=this;if(n.setParams({ariaLabel:this.getAriaLabel(e),autoComplete:t}),this.applyActive=p0(e.filterParams),!r){const o=Qy(e.filterParams,i),s=Kn(this,this.syncUpWithParentFilter.bind(this),o);n.setValueChangedListener(s)}}refresh(e){super.refresh(e),this.setTextInputParams(e)}recreateFloatingFilterInputService(e){const{inputSvc:t}=this,n=t.getValue();si(this.eFloatingFilterInputContainer),this.destroyBean(t),this.setupFloatingFilterInputService(e),t.setValue(n,!0)}syncUpWithParentFilter(e){const t=e.key===j.ENTER;if(this.applyActive&&!t)return;const{inputSvc:n,params:i}=this;let r=n.getValue();i.filterParams.trimInput&&(r=jR(r),n.setValue(r,!0)),i.parentFilterInstance(o=>{o==null||o.onFloatingFilterChanged(this.lastType||null,r||null)})}setEditable(e){this.inputSvc.setEditable(e)}},gae=class extends K{constructor(){super(...arguments),this.onValueChanged=()=>{},this.numberInputActive=!0}setupGui(e){this.eNumberInput=this.createManagedBean(new cw),this.eTextInput=this.createManagedBean(new wl),this.eTextInput.setDisabled(!0);const t=this.eNumberInput.getGui(),n=this.eTextInput.getGui();e.appendChild(t),e.appendChild(n),this.setupListeners(t,i=>this.onValueChanged(i)),this.setupListeners(n,i=>this.onValueChanged(i))}setEditable(e){this.numberInputActive=e,this.eNumberInput.setDisplayed(this.numberInputActive),this.eTextInput.setDisplayed(!this.numberInputActive)}setAutoComplete(e){this.eNumberInput.setAutoComplete(e),this.eTextInput.setAutoComplete(e)}getValue(){return this.getActiveInputElement().getValue()}setValue(e,t){this.getActiveInputElement().setValue(e,t)}getActiveInputElement(){return this.numberInputActive?this.eNumberInput:this.eTextInput}setValueChangedListener(e){this.onValueChanged=e}setupListeners(e,t){this.addManagedListeners(e,{input:t,keydown:t})}setParams(e){this.setAriaLabel(e.ariaLabel),e.autoComplete!==void 0&&this.setAutoComplete(e.autoComplete)}setAriaLabel(e){this.eNumberInput.setInputAriaLabel(e),this.eTextInput.setInputAriaLabel(e)}},mae=class extends qR{init(e){var t;super.init(e),this.filterModelFormatter=new $R(this.getLocaleTextFunc.bind(this),this.optionsFactory,(t=e.filterParams)==null?void 0:t.numberFormatter)}refresh(e){gC(e.filterParams)!==this.allowedCharPattern&&this.recreateFloatingFilterInputService(e),super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return WR}createFloatingFilterInputService(e){return this.allowedCharPattern=gC(e.filterParams),this.allowedCharPattern?this.createManagedBean(new UR({config:{allowedCharPattern:this.allowedCharPattern}})):this.createManagedBean(new gae)}},KR=["contains","notContains","equals","notEqual","startsWith","endsWith","blank","notBlank"],YR=class extends mw{conditionToString(e,t){const{numberOfInputs:n}=t||{},{filter:i,filterTo:r,type:o}=e;return o=="inRange"||n===2?`${i}-${r}`:i!=null?`${i}`:`${o}`}},vae=class extends BR{constructor(){super("textFilter"),this.filterType="text",this.defaultFormatter=e=>e,this.defaultLowercaseFormatter=e=>e==null?null:e.toString().toLowerCase(),this.defaultMatcher=({filterOption:e,value:t,filterText:n})=>{if(n==null)return!1;switch(e){case"contains":return t.indexOf(n)>=0;case"notContains":return t.indexOf(n)<0;case"equals":return t===n;case"notEqual":return t!=n;case"startsWith":return t.indexOf(n)===0;case"endsWith":{const i=t.lastIndexOf(n);return i>=0&&i===t.length-n.length}default:return!1}},this.eValuesFrom=[],this.eValuesTo=[],this.defaultDebounceMs=500}setParams(e){this.textFilterParams=e,super.setParams(e),this.matcher=e.textMatcher||this.defaultMatcher,this.formatter=e.textFormatter||(e.caseSensitive?this.defaultFormatter:this.defaultLowercaseFormatter),this.filterModelFormatter=new YR(this.getLocaleTextFunc.bind(this),this.optionsFactory)}createCondition(e){const t=this.getConditionType(e),n={filterType:this.filterType,type:t},i=this.getValuesWithSideEffects(e,!0);return i.length>0&&(n.filter=i[0]),i.length>1&&(n.filterTo=i[1]),n}areSimpleModelsEqual(e,t){return e.filter===t.filter&&e.filterTo===t.filterTo&&e.type===t.type}getInputs(e){const{eValuesFrom:t,eValuesTo:n}=this;return e>=t.length?[null,null]:[t[e],n[e]]}getValues(e){return this.getValuesWithSideEffects(e,!1)}getValuesWithSideEffects(e,t){const n=[];return this.forEachPositionInput(e,(i,r,o,s)=>{if(r<s){let a=ns(i.getValue());t&&this.textFilterParams.trimInput&&(a=jR(a)??null,i.setValue(a,!0)),n.push(a)}}),n}getDefaultFilterOptions(){return KR}createValueElement(){const e=gn({tag:"div",cls:"ag-filter-body",role:"presentation"});return this.createFromToElement(e,this.eValuesFrom,"from"),this.createFromToElement(e,this.eValuesTo,"to"),e}createFromToElement(e,t,n){const i=this.createManagedBean(new wl);i.addCssClass(`ag-filter-${n}`),i.addCssClass("ag-filter-filter"),t.push(i),e.appendChild(i.getGui())}removeValueElements(e,t){const n=i=>this.removeComponents(i,e,t);n(this.eValuesFrom),n(this.eValuesTo)}mapValuesFromModel(e){const{filter:t,filterTo:n,type:i}=e||{};return[t||null,n||null].slice(0,this.getNumberOfInputs(i))}evaluateNullValue(e){return e?["notEqual","notContains","blank"].indexOf(e)>=0:!1}evaluateNonNullValue(e,t,n,i){const r=e.map(h=>this.formatter(h))||[],o=this.formatter(t),{api:s,colDef:a,column:l,context:u,textFormatter:c}=this.textFilterParams;if(n.type==="blank")return C0(t);if(n.type==="notBlank")return!C0(t);const d={api:s,colDef:a,column:l,context:u,node:i.node,data:i.data,filterOption:n.type,value:o,textFormatter:c};return r.some(h=>this.matcher({...d,filterText:h}))}getModelAsString(e){return this.filterModelFormatter.getModelAsString(e)??""}},Cae=class extends qR{init(e){super.init(e),this.filterModelFormatter=new YR(this.getLocaleTextFunc.bind(this),this.optionsFactory)}refresh(e){super.refresh(e),this.filterModelFormatter.updateParams({optionsFactory:this.optionsFactory})}getDefaultOptions(){return KR}createFloatingFilterInputService(){return this.createManagedBean(new UR)}};function bae(e){var t;return!!((t=e.quickFilter)!=null&&t.isFilterPresent())}function yae(e){var t;return(t=e.quickFilter)==null?void 0:t.getText()}function wae(e){var t;(t=e.quickFilter)==null||t.resetCache()}var Sae=class extends K{constructor(){super(...arguments),this.beanName="quickFilter",this.quickFilter=null,this.quickFilterParts=null}postConstruct(){const e=this.resetCache.bind(this),t=this.gos;this.addManagedEventListeners({columnPivotModeChanged:e,newColumnsLoaded:e,columnRowGroupChanged:e,columnVisible:()=>{t.get("includeHiddenColumnsInQuickFilter")||this.resetCache()}}),this.addManagedPropertyListener("quickFilterText",n=>this.setFilter(n.currentValue)),this.addManagedPropertyListeners(["includeHiddenColumnsInQuickFilter","applyQuickFilterBeforePivotOrAgg"],()=>this.onColumnConfigChanged()),this.quickFilter=this.parseFilter(t.get("quickFilterText")),this.parser=t.get("quickFilterParser"),this.matcher=t.get("quickFilterMatcher"),this.setFilterParts(),this.addManagedPropertyListeners(["quickFilterMatcher","quickFilterParser"],()=>this.setParserAndMatcher())}refreshCols(){var l;const{autoColSvc:e,colModel:t,gos:n,pivotResultCols:i}=this.beans,r=t.isPivotMode(),o=e==null?void 0:e.getColumns(),s=t.getColDefCols();let a=(r&&!n.get("applyQuickFilterBeforePivotOrAgg")?(l=i==null?void 0:i.getPivotResultCols())==null?void 0:l.list:s)??[];o&&(a=a.concat(o)),this.colsToUse=n.get("includeHiddenColumnsInQuickFilter")?a:a.filter(u=>u.isVisible()||u.isRowGroupActive())}isFilterPresent(){return this.quickFilter!==null}doesRowPass(e){const t=this.gos.get("cacheQuickFilter");return this.matcher?this.doesRowPassMatcher(t,e):this.quickFilterParts.every(n=>t?this.doesRowPassCache(e,n):this.doesRowPassNoCache(e,n))}resetCache(){this.beans.rowModel.forEachNode(e=>e.quickFilterAggregateText=null)}getText(){return this.gos.get("quickFilterText")}setFilterParts(){const{quickFilter:e,parser:t}=this;e?this.quickFilterParts=t?t(e):e.split(" "):this.quickFilterParts=null}parseFilter(e){return ue(e)?e.toUpperCase():null}setFilter(e){if(e!=null&&typeof e!="string"){ie(70,{newFilter:e});return}const t=this.parseFilter(e);this.quickFilter!==t&&(this.quickFilter=t,this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}setParserAndMatcher(){const e=this.gos.get("quickFilterParser"),t=this.gos.get("quickFilterMatcher"),n=e!==this.parser||t!==this.matcher;this.parser=e,this.matcher=t,n&&(this.setFilterParts(),this.dispatchLocalEvent({type:"quickFilterChanged"}))}onColumnConfigChanged(){this.refreshCols(),this.resetCache(),this.isFilterPresent()&&this.dispatchLocalEvent({type:"quickFilterChanged"})}doesRowPassNoCache(e,t){return this.colsToUse.some(n=>{const i=this.getTextForColumn(n,e);return ue(i)&&i.indexOf(t)>=0})}doesRowPassCache(e,t){return this.checkGenerateAggText(e),e.quickFilterAggregateText.indexOf(t)>=0}doesRowPassMatcher(e,t){let n;e?(this.checkGenerateAggText(t),n=t.quickFilterAggregateText):n=this.getAggText(t);const{quickFilterParts:i,matcher:r}=this;return r(i,n)}checkGenerateAggText(e){e.quickFilterAggregateText||(e.quickFilterAggregateText=this.getAggText(e))}getTextForColumn(e,t){let n=this.beans.filterValueSvc.getValue(e,t);const i=e.getColDef();if(i.getQuickFilterText){const r=Le(this.gos,{value:n,node:t,data:t.data,column:e,colDef:i});n=i.getQuickFilterText(r)}return ue(n)?n.toString().toUpperCase():null}getAggText(e){const t=[];return this.colsToUse.forEach(n=>{const i=this.getTextForColumn(n,e);ue(i)&&t.push(i)}),t.join(`
`)}},xae={moduleName:"ClientSideRowModelFilter",version:pe,rowModels:["clientSide"],beans:[Pse]},vw={moduleName:"FilterCore",version:pe,beans:[Qse],apiFunctions:{isAnyFilterPresent:Jse,onFilterChanged:Zse},css:[Vse],dependsOn:[xae]},XR={moduleName:"FilterValue",version:pe,beans:[tae]},Rg={moduleName:"ColumnFilter",version:pe,beans:[Xse,eae],dynamicBeans:{headerFilterCellCtrl:Ise},icons:{filter:"filter",filterActive:"filter"},apiFunctions:{isColumnFilterPresent:_se,getColumnFilterInstance:Gse,destroyFilter:Wse,setFilterModel:$se,getFilterModel:Use,getColumnFilterModel:jse,setColumnFilterModel:qse,showColumnFilter:Kse},dependsOn:[vw,Ag,XR,Nse]},Eae={moduleName:"CustomFilter",version:pe,userComponents:{agReadOnlyFloatingFilter:iae},dependsOn:[Rg]},kae={moduleName:"TextFilter",version:pe,dependsOn:[Rg],userComponents:{agTextColumnFilter:vae,agTextColumnFloatingFilter:Cae}},Fae={moduleName:"NumberFilter",version:pe,dependsOn:[Rg],userComponents:{agNumberColumnFilter:pae,agNumberColumnFloatingFilter:mae}},Tae={moduleName:"DateFilter",version:pe,dependsOn:[Rg],userComponents:{agDateColumnFilter:aae,agDateInput:hae,agDateColumnFloatingFilter:cae}},Aae={moduleName:"QuickFilterCore",version:pe,rowModels:["clientSide"],beans:[Sae],dependsOn:[vw,XR]},Rae={moduleName:"QuickFilter",version:pe,apiFunctions:{isQuickFilterPresent:bae,getQuickFilter:yae,resetQuickFilter:wae},dependsOn:[Aae]},Dae={moduleName:"ExternalFilter",version:pe,dependsOn:[vw]},gc=class{constructor(e){this.cellValueChanges=e}},Rv=class extends gc{constructor(e,t,n,i){super(e),this.initialRange=t,this.finalRange=n,this.ranges=i}},Mae=10,c3=class{constructor(e){this.actionStack=[],this.maxStackSize=e||Mae,this.actionStack=new Array(this.maxStackSize)}pop(){return this.actionStack.pop()}push(e){e.cellValueChanges&&e.cellValueChanges.length>0&&(this.actionStack.length===this.maxStackSize&&this.actionStack.shift(),this.actionStack.push(e))}clear(){this.actionStack=[]}getCurrentStackSize(){return this.actionStack.length}},Pae=class extends K{constructor(){super(...arguments),this.beanName="undoRedo",this.cellValueChanges=[],this.activeCellEdit=null,this.activeRowEdit=null,this.isPasting=!1,this.isRangeInAction=!1,this.onCellValueChanged=e=>{const t={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned},n=this.activeCellEdit!==null&&I5(this.activeCellEdit,t),i=this.activeRowEdit!==null&&lQ(this.activeRowEdit,t);if(!(n||i||this.isPasting||this.isRangeInAction))return;const{rowPinned:o,rowIndex:s,column:a,oldValue:l,value:u}=e,c={rowPinned:o,rowIndex:s,columnId:a.getColId(),newValue:u,oldValue:l};this.cellValueChanges.push(c)},this.clearStacks=()=>{this.undoStack.clear(),this.redoStack.clear()}}postConstruct(){const{gos:e,ctrlsSvc:t}=this.beans;if(!e.get("undoRedoCellEditing"))return;const n=e.get("undoRedoCellEditingLimit");if(n<=0)return;this.undoStack=new c3(n),this.redoStack=new c3(n),this.addListeners();const i=this.clearStacks.bind(this);this.addManagedEventListeners({cellValueChanged:this.onCellValueChanged.bind(this),modelUpdated:r=>{r.keepUndoRedoStack||this.clearStacks()},columnPivotModeChanged:i,newColumnsLoaded:i,columnGroupOpened:i,columnRowGroupChanged:i,columnMoved:i,columnPinned:i,columnVisible:i,rowDragEnd:i}),t.whenReady(this,r=>{this.gridBodyCtrl=r.gridBodyCtrl})}getCurrentUndoStackSize(){var e;return((e=this.undoStack)==null?void 0:e.getCurrentStackSize())??0}getCurrentRedoStackSize(){var e;return((e=this.redoStack)==null?void 0:e.getCurrentStackSize())??0}undo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"undoStarted",source:e});const r=this.undoRedo(n,i,"initialRange","oldValue","undo");t.dispatchEvent({type:"undoEnded",source:e,operationPerformed:r})}redo(e){const{eventSvc:t,undoStack:n,redoStack:i}=this;t.dispatchEvent({type:"redoStarted",source:e});const r=this.undoRedo(i,n,"finalRange","newValue","redo");t.dispatchEvent({type:"redoEnded",source:e,operationPerformed:r})}undoRedo(e,t,n,i,r){if(!e)return!1;const o=e.pop();return!o||!o.cellValueChanges?!1:(this.processAction(o,s=>s[i],r),o instanceof Rv?this.processRange(o.ranges||[o[n]]):this.processCell(o.cellValueChanges),t.push(o),!0)}processAction(e,t,n){e.cellValueChanges.forEach(i=>{const{rowIndex:r,rowPinned:o,columnId:s}=i,a={rowIndex:r,rowPinned:o},l=d0(this.beans,a);l.displayed&&l.setDataValue(s,t(i),n)})}processRange(e){let t;const n=this.beans.rangeSvc;n.removeAllCellRanges(!0),e.forEach((i,r)=>{if(!i)return;const o=i.startRow,s=i.endRow;r===e.length-1&&(t={rowPinned:o.rowPinned,rowIndex:o.rowIndex,columnId:i.startColumn.getColId()},this.setLastFocusedCell(t));const a={rowStartIndex:o.rowIndex,rowStartPinned:o.rowPinned,rowEndIndex:s.rowIndex,rowEndPinned:s.rowPinned,columnStart:i.startColumn,columns:i.columns};n.addCellRange(a)})}processCell(e){const t=e[0],{rowIndex:n,rowPinned:i}=t,r={rowIndex:n,rowPinned:i},o=d0(this.beans,r),s={rowPinned:t.rowPinned,rowIndex:o.rowIndex,columnId:t.columnId};this.setLastFocusedCell(s)}setLastFocusedCell(e){const{rowIndex:t,columnId:n,rowPinned:i}=e,{colModel:r,focusSvc:o,rangeSvc:s}=this.beans,a=r.getCol(n);if(!a)return;const{scrollFeature:l}=this.gridBodyCtrl;l.ensureIndexVisible(t),l.ensureColumnVisible(a);const u={rowIndex:t,column:a,rowPinned:i};o.setFocusedCell({...u,forceBrowserFocus:!0}),s==null||s.setRangeToCell(u)}addListeners(){this.addManagedEventListeners({rowEditingStarted:e=>{this.activeRowEdit={rowIndex:e.rowIndex,rowPinned:e.rowPinned}},rowEditingStopped:()=>{const e=new gc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.activeRowEdit=null},cellEditingStarted:e=>{this.activeCellEdit={column:e.column,rowIndex:e.rowIndex,rowPinned:e.rowPinned}},cellEditingStopped:e=>{if(this.activeCellEdit=null,e.valueChanged&&!this.activeRowEdit&&!this.isPasting&&!this.isRangeInAction){const n=new gc(this.cellValueChanges);this.pushActionsToUndoStack(n)}},pasteStart:()=>{this.isPasting=!0},pasteEnd:()=>{const e=new gc(this.cellValueChanges);this.pushActionsToUndoStack(e),this.isPasting=!1},fillStart:()=>{this.isRangeInAction=!0},fillEnd:e=>{const t=new Rv(this.cellValueChanges,e.initialRange,e.finalRange);this.pushActionsToUndoStack(t),this.isRangeInAction=!1},keyShortcutChangedCellStart:()=>{this.isRangeInAction=!0},keyShortcutChangedCellEnd:()=>{let e;const{rangeSvc:t,gos:n}=this.beans;t&&ps(n)?e=new Rv(this.cellValueChanges,void 0,void 0,[...t.getCellRanges()]):e=new gc(this.cellValueChanges),this.pushActionsToUndoStack(e),this.isRangeInAction=!1}})}pushActionsToUndoStack(e){this.undoStack.push(e),this.cellValueChanges=[],this.redoStack.clear()}},Iae=".ag-cell-inline-editing{border:var(--ag-cell-editing-border)!important;border-radius:var(--ag-border-radius);box-shadow:var(--ag-cell-editing-shadow);padding:0;z-index:1;.ag-cell-edit-wrapper,.ag-cell-editor,.ag-cell-wrapper,:where(.ag-cell-editor) .ag-input-field-input,:where(.ag-cell-editor) .ag-wrapper{height:100%;line-height:normal;width:100%}}:where(.ag-popup-editor) .ag-large-text{background-color:var(--ag-background-color);border-radius:var(--ag-border-radius);box-shadow:var(--ag-dropdown-shadow);padding:0}.ag-large-text-input{height:auto;padding:var(--ag-cell-horizontal-padding)}:where(.ag-rtl .ag-large-text-input) textarea{resize:none}:where(.ag-ltr) .ag-checkbox-edit{padding-left:var(--ag-cell-horizontal-padding)}:where(.ag-rtl) .ag-checkbox-edit{padding-right:var(--ag-cell-horizontal-padding)}",Oae={tag:"div",cls:"ag-cell-wrapper ag-cell-edit-wrapper ag-checkbox-edit",children:[{tag:"ag-checkbox",ref:"eCheckbox",role:"presentation"}]},Lae=class extends Gu{constructor(){super(Oae,[uw]),this.eCheckbox=le}init(e){this.params=e;const t=e.value??void 0,n=this.eCheckbox;n.setValue(t),n.getInputElement().setAttribute("tabindex","-1"),this.setAriaLabel(t),this.addManagedListeners(n,{fieldValueChanged:r=>this.setAriaLabel(r.selected)})}getValue(){return this.eCheckbox.getValue()}focusIn(){this.eCheckbox.getFocusableElement().focus()}afterGuiAttached(){this.params.cellStartedEdit&&this.focusIn()}isPopup(){return!1}setAriaLabel(e){const t=this.getLocaleTextFunc(),n=Vy(t,e),i=t("ariaToggleCellValue","Press SPACE to toggle cell value");this.eCheckbox.setInputAriaLabel(`${i} (${n})`)}},Dg=class extends Gu{constructor(e){super({tag:"div",cls:"ag-cell-edit-wrapper",children:[e.getTemplate()]},e.getAgComponents()),this.cellEditorInput=e,this.eInput=le}init(e){this.params=e;const{cellStartedEdit:t,eventKey:n,suppressPreventDefault:i}=e,r=this.eInput;this.cellEditorInput.init(r,e);let o,s=!0;t?(this.focusAfterAttached=!0,n===j.BACKSPACE||n===j.DELETE?o="":n&&n.length===1?i?s=!1:o=n:(o=this.cellEditorInput.getStartValue(),n!==j.F2&&(this.highlightAllOnFocus=!0))):(this.focusAfterAttached=!1,o=this.cellEditorInput.getStartValue()),s&&o!=null&&r.setStartValue(o),this.addManagedElementListeners(r.getGui(),{keydown:a=>{const{key:l}=a;(l===j.PAGE_UP||l===j.PAGE_DOWN)&&a.preventDefault()}})}afterGuiAttached(){var i,r;const e=this.getLocaleTextFunc(),t=this.eInput;if(t.setInputAriaLabel(e("ariaInputEditor","Input Editor")),!this.focusAfterAttached)return;vl()||t.getFocusableElement().focus();const n=t.getInputElement();this.highlightAllOnFocus?n.select():(r=(i=this.cellEditorInput).setCaret)==null||r.call(i)}focusIn(){const e=this.eInput,t=e.getFocusableElement(),n=e.getInputElement();t.focus(),n.select()}getValue(){return this.cellEditorInput.getValue()}isPopup(){return!1}},Nae={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},Bae=class{getTemplate(){return Nae}getAgComponents(){return[eR]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r)}getValue(){const{eInput:e,params:t}=this,n=e.getDate();return!ue(n)&&!ue(t.value)?t.value:n??null}getStartValue(){const{value:e}=this.params;if(e instanceof Date)return kr(e,!1)}},zae=class extends Dg{constructor(){super(new Bae)}},Hae={tag:"ag-input-date-field",ref:"eInput",cls:"ag-cell-editor"},Vae=class{constructor(e){this.getDataTypeService=e}getTemplate(){return Hae}getAgComponents(){return[eR]}init(e,t){this.eInput=e,this.params=t;const{min:n,max:i,step:r}=t;n!=null&&e.setMin(n),i!=null&&e.setMax(i),r!=null&&e.setStep(r)}getValue(){const{params:e,eInput:t}=this,n=this.formatDate(t.getDate());return!ue(n)&&!ue(e.value)?e.value:e.parseValue(n??"")}getStartValue(){return kr(this.parseDate(this.params.value??void 0)??null,!1)}parseDate(e){const t=this.getDataTypeService();return t?t.getDateParserFunction(this.params.column)(e):Oi(e)??void 0}formatDate(e){const t=this.getDataTypeService();return t?t.getDateFormatterFunction(this.params.column)(e):kr(e??null,!1)??void 0}},_ae=class extends Dg{constructor(){super(new Vae(()=>this.beans.dataTypeSvc))}},Gae={tag:"div",cls:"ag-large-text",children:[{tag:"ag-input-text-area",ref:"eTextArea",cls:"ag-large-text-input"}]},Wae=class extends Gu{constructor(){super(Gae,[Wee]),this.eTextArea=le}init(e){this.params=e,this.focusAfterAttached=e.cellStartedEdit,this.eTextArea.setMaxLength(e.maxLength||200).setCols(e.cols||60).setRows(e.rows||10),e.value!=null&&this.eTextArea.setValue(e.value.toString(),!0),this.addGuiEventListener("keydown",this.onKeyDown.bind(this)),this.activateTabIndex()}onKeyDown(e){const t=e.key;(t===j.LEFT||t===j.UP||t===j.RIGHT||t===j.DOWN||e.shiftKey&&t===j.ENTER)&&e.stopPropagation()}afterGuiAttached(){const e=this.getLocaleTextFunc();this.eTextArea.setInputAriaLabel(e("ariaInputEditor","Input Editor")),this.focusAfterAttached&&this.eTextArea.getFocusableElement().focus()}getValue(){const e=this.eTextArea.getValue(),t=this.params;return!ue(e)&&!ue(t.value)?t.value:t.parseValue(e)}},$ae={tag:"ag-input-number-field",ref:"eInput",cls:"ag-cell-editor"},Uae=class{getTemplate(){return $ae}getAgComponents(){return[$ee]}init(e,t){this.eInput=e,this.params=t;const{max:n,min:i,precision:r,step:o}=t;n!=null&&e.setMax(n),i!=null&&e.setMin(i),r!=null&&e.setPrecision(r),o!=null&&e.setStep(o);const s=e.getInputElement();t.preventStepping?e.addManagedElementListeners(s,{keydown:this.preventStepping}):t.showStepperButtons&&s.classList.add("ag-number-field-input-stepper")}preventStepping(e){(e.key===j.UP||e.key===j.DOWN)&&e.preventDefault()}getValue(){const{eInput:e,params:t}=this,n=e.getValue();if(!ue(n)&&!ue(t.value))return t.value;let i=t.parseValue(n);if(i==null)return i;if(typeof i=="string"){if(i==="")return null;i=Number(i)}return isNaN(i)?null:i}getStartValue(){return this.params.value}setCaret(){vl()&&this.eInput.getInputElement().focus({preventScroll:!0})}},jae=class extends Dg{constructor(){super(new Uae)}},qae={tag:"div",cls:"ag-cell-edit-wrapper",children:[{tag:"ag-select",ref:"eSelect",cls:"ag-cell-editor"}]},Kae=class extends Gu{constructor(){super(qae,[tte]),this.eSelect=le,this.startedByEnter=!1}wireBeans(e){this.valueSvc=e.valueSvc}init(e){this.focusAfterAttached=e.cellStartedEdit;const{eSelect:t,valueSvc:n,gos:i}=this,{values:r,value:o,eventKey:s}=e;if(Bt(r)){ie(58);return}this.startedByEnter=s!=null?s===j.ENTER:!1;let a=!1;r.forEach(d=>{const h={value:d},p=n.formatValue(e.column,null,d),f=p!=null;h.text=f?p:d,t.addOption(h),a=a||o===d}),a?t.setValue(e.value,!0):e.values.length&&t.setValue(e.values[0],!0);const{valueListGap:l,valueListMaxWidth:u,valueListMaxHeight:c}=e;l!=null&&t.setPickerGap(l),c!=null&&t.setPickerMaxHeight(c),u!=null&&t.setPickerMaxWidth(u),i.get("editType")!=="fullRow"&&this.addManagedListeners(this.eSelect,{selectedItem:()=>e.stopEditing()})}afterGuiAttached(){this.focusAfterAttached&&this.eSelect.getFocusableElement().focus(),this.startedByEnter&&setTimeout(()=>{this.isAlive()&&this.eSelect.showPicker()})}focusIn(){this.eSelect.getFocusableElement().focus()}getValue(){return this.eSelect.getValue()}isPopup(){return!1}},Yae={tag:"ag-input-text-field",ref:"eInput",cls:"ag-cell-editor"},Xae=class{getTemplate(){return Yae}getAgComponents(){return[kg]}init(e,t){this.eInput=e,this.params=t;const n=t.maxLength;n!=null&&e.setMaxLength(n)}getValue(){const{eInput:e,params:t}=this,n=e.getValue();return!ue(n)&&!ue(t.value)?t.value:t.parseValue(n)}getStartValue(){const e=this.params;return e.useFormatter||e.column.getColDef().refData?e.formatValue(e.value):e.value}setCaret(){const e=this.eInput,t=e.getValue(),n=ue(t)&&t.length||0;n&&e.getInputElement().setSelectionRange(n,n)}},d3=class extends Dg{constructor(){super(new Xae)}};function Jae(e){return e.ctrlsSvc.getScrollFeature().getVScrollPosition()}function Zae(e){return e.ctrlsSvc.getScrollFeature().getHScrollPosition()}function JR(e,t,n="auto"){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureColumnVisible(t,n),"ensureVisible")}function ZR(e,t,n){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureIndexVisible(t,n),"ensureVisible")}function Qae(e,t,n=null){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getScrollFeature().ensureNodeVisible(t,n),"ensureVisible")}function ele(e){var t;(t=e.undoRedo)==null||t.undo("api")}function tle(e){var t;(t=e.undoRedo)==null||t.redo("api")}function nle(e,t={}){const n=[];return e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>{var o;const r=(o=i.comp)==null?void 0:o.getCellEditor();r&&n.push(Dd(r))}),n}function ile(e){const t=[];return e.rowRenderer.getAllCellCtrls().forEach(n=>{if(n.editing){const{cellPosition:i}=n;t.push(i)}}),t}function rle(e,t=!1){var n;(n=e.editSvc)==null||n.stopAllEditing(t)}function ole(e,t){const n=e.colModel.getCol(t.colKey);if(!n){ie(12,{colKey:t.colKey});return}const i={rowIndex:t.rowIndex,rowPinned:t.rowPinned||null,column:n};t.rowPinned==null&&ZR(e,t.rowIndex),JR(e,t.colKey);const o=$l(e,i);if(!o)return;const{focusSvc:s,gos:a,editSvc:l}=e,u=()=>{const d=Gt(e),h=o.eGui;return d!==h&&!!(h!=null&&h.contains(d))},c=a.get("stopEditingWhenCellsLoseFocus")&&u();(c||!s.isCellFocused(i))&&s.setFocusedCell({...i,forceBrowserFocus:c,preventScrollOnBrowserFocus:!0}),l==null||l.startRowOrCellEdit(o,t.key)}function sle(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentUndoStackSize())??0}function ale(e){var t;return((t=e.undoRedo)==null?void 0:t.getCurrentRedoStackSize())??0}var lle={tag:"div",cls:"ag-popup-editor",attrs:{tabindex:"-1"}},ule=class extends Gu{constructor(e){super(lle),this.params=e}postConstruct(){hl(this.gos,this.getGui(),"popupEditorWrapper",!0),this.addKeyDownListener()}addKeyDownListener(){const e=this.getGui(),t=this.params,n=i=>{oC(this.gos,i,t.node,t.column,!0)||t.onKeyDown(i)};this.addManagedElementListeners(e,{keydown:n})}},cle=class extends K{constructor(){super(...arguments),this.beanName="editSvc"}startEditing(e,t=null,n=!1,i=null){var u;if(!e.isCellEditable()||e.editing)return!1;if(!e.comp)return e.onCompAttachedFuncs.push(()=>{this.startEditing(e,t,n,i)}),!0;const r=this.createCellEditorParams(e,t,n),o=e.column.getColDef(),s=I4(this.beans.userCompFactory,o,r),a=(s==null?void 0:s.popupFromSelector)!=null?s.popupFromSelector:!!o.cellEditorPopup,l=(s==null?void 0:s.popupPositionFromSelector)!=null?s.popupPositionFromSelector:o.cellEditorPopupPosition;return h3(e,!0,s),e.comp.setEditDetails(s,a,l,this.gos.get("reactiveCustomComponents")),this.eventSvc.dispatchEvent(e.createEvent(i,"cellEditingStarted")),!((u=s==null?void 0:s.params)!=null&&u.suppressPreventDefault)}stopEditing(e,t=!1){if(e.onEditorAttachedFuncs=[],!e.editing)return!1;const{comp:n,column:i,rowNode:r}=e,{newValue:o,newValueExists:s}=dle(t,n),a=this.beans.valueSvc.getValueForDisplay(i,r);let l=!1;return s&&(l=hle(e,a,o,r,i)),h3(e,!1,void 0),n.setEditDetails(),e.updateAndFormatValue(!1),e.refreshCell({forceRefresh:!0,suppressFlash:!0}),this.eventSvc.dispatchEvent({...e.createEvent(null,"cellEditingStopped"),oldValue:a,newValue:o,valueChanged:l}),l}handleColDefChanged(e){var n;const t=(n=e.comp)==null?void 0:n.getCellEditor();if(t!=null&&t.refresh){const{eventKey:i,cellStartedEdit:r}=e.editCompDetails.params,o=this.createCellEditorParams(e,i,r),s=e.column.getColDef(),a=I4(this.beans.userCompFactory,s,o);t.refresh(a.params)}}setFocusOutOnEditor(e){if(!e.editing)return;const t=e.comp.getCellEditor();t&&t.focusOut&&t.focusOut()}setFocusInOnEditor(e){if(!e.editing)return;const t=e.comp,n=t.getCellEditor();n!=null&&n.focusIn?n.focusIn():(e.focusCell(!0),e.onEditorAttachedFuncs.push(()=>{var i,r;return(r=(i=t.getCellEditor())==null?void 0:i.focusIn)==null?void 0:r.call(i)}))}createPopupEditorWrapper(e){return new ule(e)}stopAllEditing(e=!1){this.beans.rowRenderer.getAllRowCtrls().forEach(t=>this.stopRowEditing(t,e))}stopRowEditing(e,t=!1){var o;if(e.stoppingRowEdit)return;const n=e.getAllCellCtrls(),i=e.editing;e.stoppingRowEdit=!0;let r=!1;for(const s of n){const a=s.stopEditing(t);i&&!t&&!r&&a&&(r=!0)}r&&this.eventSvc.dispatchEvent(e.createRowEvent("rowValueChanged")),i&&((o=this.beans.rowEditSvc)==null||o.setEditing(e,!1)),e.stoppingRowEdit=!1}addStopEditingWhenGridLosesFocus(e){if(!this.gos.get("stopEditingWhenCellsLoseFocus"))return;const t=n=>{const i=n.relatedTarget;if(K1(i)===null){this.stopAllEditing();return}let r=e.some(o=>o.contains(i))&&P5(this.gos,i);if(!r){const o=this.beans.popupSvc;r=!!o&&(o.getActivePopups().some(s=>s.contains(i))||o.isElementWithinCustomPopup(i))}r||this.stopAllEditing()};e.forEach(n=>this.addManagedElementListeners(n,{focusout:t}))}setInlineEditingCss(e){const t=e.editing||e.getAllCellCtrls().some(n=>n.editing);e.forEachGui(void 0,n=>{n.rowComp.addOrRemoveCssClass("ag-row-inline-editing",t),n.rowComp.addOrRemoveCssClass("ag-row-not-inline-editing",!t)})}isCellEditable(e,t){if(t.group){if(this.gos.get("treeData")){if(!t.data&&!this.gos.get("enableGroupEdit"))return!1}else if(!this.gos.get("enableGroupEdit"))return!1}return e.isColumnFunc(t,e.colDef.editable)}startRowOrCellEdit(e,t,n=null){var i;return e.comp?this.gos.get("editType")==="fullRow"?((i=this.beans.rowEditSvc)==null?void 0:i.startEditing(e.rowCtrl,t,e))??!1:this.startEditing(e,t,!0,n):(e.onCompAttachedFuncs.push(()=>{this.startRowOrCellEdit(e,t,n)}),!0)}stopRowOrCellEdit(e,t=!1,n=!1,i=!1){this.gos.get("editType")==="fullRow"?this.stopRowEditing(e.rowCtrl,t):this.stopEditing(e,t),n||this.navigateAfterEdit(i,e.cellPosition)}createCellEditorParams(e,t,n){const{column:i,rowNode:r,cellPosition:{rowIndex:o}}=e,{valueSvc:s,gos:a}=this.beans;return Le(a,{value:s.getValueForDisplay(i,r),eventKey:t,column:i,colDef:i.getColDef(),rowIndex:o,node:r,data:r.data,cellStartedEdit:n,onKeyDown:e.onKeyDown.bind(e),stopEditing:this.stopRowOrCellEdit.bind(this,e,!1),eGridCell:e.eGui,parseValue:l=>s.parseValue(i,r,l,e.value),formatValue:e.formatValue.bind(e)})}navigateAfterEdit(e,t){var i;if(this.gos.get("enterNavigatesVerticallyAfterEdit")){const r=e?j.UP:j.DOWN;(i=this.beans.navigation)==null||i.navigateToNextCell(null,r,t,!1)}}};function h3(e,t,n){e.editCompDetails=n,e.editing!==t&&(e.editing=t)}function dle(e,t){const n={newValueExists:!1};if(e)return n;const i=t.getCellEditor();return!i||i.isCancelAfterEnd&&i.isCancelAfterEnd()?n:{newValue:i.getValue(),newValueExists:!0}}function hle(e,t,n,i,r){if(n===t)return!1;e.suppressRefreshCell=!0;const o=i.setDataValue(r,n,"edit");return e.suppressRefreshCell=!1,o}var ple=class extends K{constructor(){super(...arguments),this.beanName="rowEditSvc"}startEditing(e,t=null,n=null,i=null){if(e.editing)return!1;let r=!0,o=!1;const{editSvc:s}=this.beans;return e.getAllCellCtrls().forEach(a=>{const l=a===n;l?r=(s==null?void 0:s.startEditing(a,t,l,i))??!1:s==null||s.startEditing(a,null,l,i),o||(o=a.editing)}),o&&this.setEditing(e,!0),r}setEditing(e,t){e.editing=t,e.forEachGui(void 0,i=>i.rowComp.addOrRemoveCssClass("ag-row-editing",t));const n=t?e.createRowEvent("rowEditingStarted"):e.createRowEvent("rowEditingStopped");this.eventSvc.dispatchEvent(n)}},Ca={moduleName:"EditCore",version:pe,beans:[cle,ple],apiFunctions:{getCellEditorInstances:nle,getEditingCells:ile,stopEditing:rle,startEditingCell:ole},dependsOn:[Ag],css:[Iae]},fle={moduleName:"UndoRedoEdit",version:pe,beans:[Pae],apiFunctions:{undoCellEditing:ele,redoCellEditing:tle,getCurrentUndoSize:sle,getCurrentRedoSize:ale},dependsOn:[Ca]},gle={moduleName:"TextEditor",version:pe,userComponents:{agCellEditor:d3,agTextCellEditor:d3},dependsOn:[Ca]},mle={moduleName:"NumberEditor",version:pe,userComponents:{agNumberCellEditor:{classImp:jae,params:{suppressPreventDefault:!0}}},dependsOn:[Ca]},vle={moduleName:"DateEditor",version:pe,userComponents:{agDateCellEditor:zae,agDateStringCellEditor:_ae},dependsOn:[Ca]},Cle={moduleName:"CheckboxEditor",version:pe,userComponents:{agCheckboxCellEditor:Lae},dependsOn:[Ca]},ble={moduleName:"SelectEditor",version:pe,userComponents:{agSelectCellEditor:Kae},dependsOn:[Ca]},yle={moduleName:"LargeTextEditor",version:pe,userComponents:{agLargeTextCellEditor:Wae},dependsOn:[Ca]},wle={moduleName:"CustomEditor",version:pe,dependsOn:[Ca]},Sle=class extends K{constructor(){super(...arguments),this.beanName="selectionColSvc"}postConstruct(){this.addManagedPropertyListener("rowSelection",e=>{this.onSelectionOptionsChanged(e.currentValue,e.previousValue,eu(e.source))}),this.addManagedPropertyListener("selectionColumnDef",this.updateColumns.bind(this))}addColumns(e){const t=this.columns;t!=null&&(e.list=t.list.concat(e.list),e.tree=t.tree.concat(e.tree),EJ(e))}createColumns(e,t){var h,p;const n=()=>{var f;o0(this.beans,(f=this.columns)==null?void 0:f.tree),this.columns=null},i=e.treeDepth,o=(((h=this.columns)==null?void 0:h.treeDepth)??-1)==i,s=this.generateSelectionCols();if(xJ(s,((p=this.columns)==null?void 0:p.list)??[])&&o)return;n();const{colGroupSvc:l}=this.beans,u=(l==null?void 0:l.findDepth(e.tree))??0,c=(l==null?void 0:l.balanceTreeForAutoCols(s,u))??[];this.columns={list:s,tree:c,treeDepth:u,map:{}},t(f=>{if(!f)return null;const g=f.filter(m=>!fs(m));return[...s,...g]})}updateColumns(e){var i;const t=eu(e.source),n=e.currentValue;(i=this.columns)==null||i.list.forEach(r=>{const o=this.createSelectionColDef(n);r.setColDef(o,null,t),tr(this.beans,{state:[{colId:r.getColId(),...o}]},t)})}getColumn(e){var t;return((t=this.columns)==null?void 0:t.list.find(n=>c5(n,e)))??null}getColumns(){var e;return((e=this.columns)==null?void 0:e.list)??null}isSelectionColumnEnabled(){var s,a;const{gos:e,beans:t}=this,n=e.get("rowSelection");if(typeof n!="object"||!Ka(e))return!1;const i=(((a=(s=t.autoColSvc)==null?void 0:s.getColumns())==null?void 0:a.length)??0)>0;if(n.checkboxLocation==="autoGroupColumn"&&i)return!1;const r=!!Ql(n),o=Rp(n);return r||o}createSelectionColDef(e){const{gos:t}=this.beans,n=e??t.get("selectionColumnDef"),i=t.get("enableRtl"),{rowSpan:r,spanRows:o,...s}=n??{};return{width:50,resizable:!1,suppressHeaderMenuButton:!0,sortable:!1,suppressMovable:!0,lockPosition:i?"right":"left",comparator(a,l,u,c){const d=u.isSelected(),h=c.isSelected();return d===h?0:d?1:-1},editable:!1,suppressFillHandle:!0,pinned:null,...s,colId:l5}}generateSelectionCols(){var i;if(!this.isSelectionColumnEnabled())return[];const e=this.createSelectionColDef(),t=e.colId;(i=this.beans.validation)==null||i.validateColDef(e,t,!0);const n=new Yy(e,null,t,!1);return this.createBean(n),[n]}onSelectionOptionsChanged(e,t,n){const i=t&&typeof t!="string"?Ql(t):void 0,r=e&&typeof e!="string"?Ql(e):void 0,o=i!==r,s=t&&typeof t!="string"?Rp(t):void 0,a=e&&typeof e!="string"?Rp(e):void 0,l=s!==a,u=n0(e),c=n0(t);(o||l||u!==c)&&this.beans.colModel.refreshAll(n)}destroy(){var e;o0(this.beans,(e=this.columns)==null?void 0:e.tree),super.destroy()}refreshVisibility(e){if(!this.isSelectionColumnEnabled())return;const t=this.beans,n=t.visibleCols.getAllTrees()??[];if(n.length!==0){if(!n.some(QR)){const i=Rd(t).find(r=>fs(r.colId));i&&tr(t,{state:[{colId:i.colId,hide:!i.hide}]},e)}if(n.length===1){const i=n[0],r=eD(i);if(!r)return;tr(t,{state:[{colId:r.getColId(),hide:!0}]},e)}}}},QR=e=>{var t;return e.isColumn?fs(e):((t=e.getChildren())==null?void 0:t.some(QR))??!1};function eD(e){if(e.isColumn)return fs(e)?e:null;const t=e.getChildren()??[];for(const n of t){const i=eD(n);if(i)return i}return null}function xle(e,t){var s;if(!t.nodes.every(a=>a.rowPinned?(ie(59),!1):a.id===void 0?(ie(60),!1):!0))return;const{nodes:i,source:r,newValue:o}=t;(s=e.selectionSvc)==null||s.setNodesSelected({nodes:i,source:r??"api",newValue:o})}function Ele(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.selectAllRowNodes({source:n,selectAll:t})}function kle(e,t,n="apiSelectAll"){var i;(i=e.selectionSvc)==null||i.deselectAllRowNodes({source:n,selectAll:t})}function Fle(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"filtered"})}function Tle(e,t="apiSelectAllFiltered"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"filtered"})}function Ale(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.selectAllRowNodes({source:t,selectAll:"currentPage"})}function Rle(e,t="apiSelectAllCurrentPage"){var n;(n=e.selectionSvc)==null||n.deselectAllRowNodes({source:t,selectAll:"currentPage"})}function Dle(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedNodes())??[]}function Mle(e){var t;return((t=e.selectionSvc)==null?void 0:t.getSelectedRows())??[]}var Ple=class extends Vee{constructor(){super(...arguments),this.beanName="selectionSvc",this.selectedNodes=new Map,this.detailSelection=new Map,this.masterSelectsDetail=!1}postConstruct(){super.postConstruct();const{gos:e}=this;this.mode=i0(e),this.groupSelectsDescendants=Ad(e),this.groupSelectsFiltered=r0(e)==="filteredDescendants",this.masterSelectsDetail=T4(e)==="detail",this.addManagedPropertyListeners(["groupSelectsChildren","groupSelectsFiltered","rowSelection"],()=>{const t=Ad(e),n=i0(e),i=r0(e)==="filteredDescendants";this.masterSelectsDetail=T4(e)==="detail",(t!==this.groupSelectsDescendants||i!==this.groupSelectsFiltered||n!==this.mode)&&(this.deselectAllRowNodes({source:"api"}),this.groupSelectsDescendants=t,this.groupSelectsFiltered=i,this.mode=n)}),this.addManagedEventListeners({rowSelected:this.onRowSelected.bind(this)})}destroy(){super.destroy(),this.resetNodes()}handleSelectionEvent(e,t,n){if(this.isRowSelectionBlocked(t))return 0;const i=this.inferNodeSelections(t,e.shiftKey,e.metaKey||e.ctrlKey,n);return i==null?0:(this.selectionCtx.selectAll=!1,"select"in i?(i.reset?this.resetNodes():this.selectRange(i.deselect,!1,n),this.selectRange(i.select,!0,n)):this.setNodesSelected({nodes:[i.node],newValue:i.newValue,clearSelection:i.clearSelection,event:e,source:n}))}setNodesSelected({newValue:e,clearSelection:t,suppressFinishActions:n,nodes:i,event:r,source:o}){var a;if(!Ka(this.gos)&&e)return ie(132),0;if(i.length===0)return 0;if(i.length>1&&!this.isMultiSelect())return ie(130),0;let s=0;for(let l=0;l<i.length;l++){const u=i[l],c=rp(u),d=this.groupSelectsFiltered&&c.group;if(c.rowPinned){ie(59);continue}if(c.id===void 0){ie(60);continue}d||this.selectRowNode(c,e,r,o)&&(this.detailSelection.delete(c.id),s++),this.groupSelectsDescendants&&((a=c.childrenAfterGroup)!=null&&a.length)&&(s+=this.selectChildren(c,e,o))}return n||(e&&(t||!this.isMultiSelect())&&(s+=this.clearOtherNodes(rp(i[0]),o)),s>0&&(this.updateGroupsFromChildrenSelections(o),this.dispatchSelectionChanged(o))),s}selectRange(e,t,n){let i=0;return e.forEach(r=>{if(r.group&&this.groupSelectsDescendants)return;this.selectRowNode(r,t,void 0,n)&&i++}),i>0&&(this.updateGroupsFromChildrenSelections(n),this.dispatchSelectionChanged(n)),i}selectChildren(e,t,n){const i=this.groupSelectsFiltered?e.childrenAfterAggFilter:e.childrenAfterGroup;return i?this.setNodesSelected({newValue:t,clearSelection:!1,suppressFinishActions:!0,source:n,nodes:i}):0}getSelectedNodes(){return Array.from(this.selectedNodes.values())}getSelectedRows(){const e=[];return this.selectedNodes.forEach(t=>e.push(t.data)),e}getSelectionCount(){return this.selectedNodes.size}filterFromSelection(e){const t=new Map;this.selectedNodes.forEach((n,i)=>{e(n)&&t.set(i,n)}),this.selectedNodes=t}updateGroupsFromChildrenSelections(e,t){if(!this.groupSelectsDescendants)return!1;const{gos:n,rowModel:i}=this.beans;if(!Ci(n))return!1;const r=i.rootNode;if(!r)return!1;t||(t=new v0(!0,r),t.active=!1);let o=!1;return t.forEachChangedNodeDepthFirst(s=>{if(s!==r){const a=this.calculateSelectedFromChildren(s);o=this.selectRowNode(s,a===null?!1:a,void 0,e)||o}}),o}clearOtherNodes(e,t){const n=new Map;let i=0;return this.selectedNodes.forEach(r=>{if(r&&r.id!==e.id){const o=this.selectedNodes.get(r.id);i+=this.setNodesSelected({nodes:[o],newValue:!1,clearSelection:!1,suppressFinishActions:!0,source:t}),this.groupSelectsDescendants&&r.parent&&n.set(r.parent.id,r.parent)}}),n.forEach(r=>{const o=this.calculateSelectedFromChildren(r);this.selectRowNode(r,o===null?!1:o,void 0,t)}),i}onRowSelected(e){const t=e.node;this.groupSelectsDescendants&&t.group||(t.isSelected()?this.selectedNodes.set(t.id,t):this.selectedNodes.delete(t.id))}syncInRowNode(e,t){this.syncInOldRowNode(e,t),this.syncInNewRowNode(e)}createDaemonNode(e){if(!e.id)return;const t=new Mu(this.beans);return t.id=e.id,t.data=e.data,t.__daemon=!0,t.__selected=e.__selected,t.level=e.level,t}syncInOldRowNode(e,t){t&&e.id!==t.id&&this.selectedNodes.get(t.id)==e&&this.selectedNodes.set(t.id,t)}syncInNewRowNode(e){this.selectedNodes.has(e.id)?(e.__selected=!0,this.selectedNodes.set(e.id,e)):e.__selected=!1}reset(e){const t=this.getSelectionCount();this.resetNodes(),t&&this.dispatchSelectionChanged(e)}resetNodes(){this.selectedNodes.forEach(e=>{this.selectRowNode(e,!1)}),this.selectedNodes.clear()}getBestCostNodeSelection(){const{gos:e,rowModel:t}=this.beans;if(!Ci(e))return;const n=t.getTopLevelNodes();if(n===null)return;const i=[];function r(o){for(let s=0,a=o.length;s<a;s++){const l=o[s];l.isSelected()?i.push(l):l.group&&l.childrenAfterGroup&&r(l.childrenAfterGroup)}}return r(n),i}isEmpty(){return this.getSelectionCount()===0}deselectAllRowNodes({source:e,selectAll:t}){const n=Ci(this.gos);let i=!1;const r=o=>{const s=this.selectRowNode(rp(o),!1,void 0,e);i||(i=s)};if(t==="currentPage"||t==="filtered"){if(!n){dt(102);return}this.getNodesToSelect(t).forEach(r)}else this.selectedNodes.forEach(r),this.reset(e);if(this.selectionCtx.selectAll=!1,n&&this.groupSelectsDescendants){const o=this.updateGroupsFromChildrenSelections(e);i||(i=o)}i&&this.dispatchSelectionChanged(e)}getSelectedCounts(e){let t=0,n=0;return this.getNodesToSelect(e).forEach(i=>{this.groupSelectsDescendants&&i.group||(i.isSelected()?t++:i.selectable&&n++)}),{selectedCount:t,notSelectedCount:n}}getSelectAllState(e){const{selectedCount:t,notSelectedCount:n}=this.getSelectedCounts(e);return tD(t,n)??null}hasNodesToSelect(e){return this.getNodesToSelect(e).filter(t=>t.selectable).length>0}getNodesToSelect(e){if(!this.canSelectAll())return[];const t=[];if(e==="currentPage")return this.forEachNodeOnPage(i=>{if(!i.group){t.push(i);return}if(!i.expanded&&!i.footer){const r=o=>{var s;t.push(o),(s=o.childrenAfterFilter)!=null&&s.length&&o.childrenAfterFilter.forEach(r)};r(i);return}this.groupSelectsDescendants||t.push(i)}),t;const n=this.beans.rowModel;return e==="filtered"?(n.forEachNodeAfterFilter(i=>{t.push(i)}),t):(n.forEachNode(i=>{t.push(i)}),t)}forEachNodeOnPage(e){const{pageBounds:t,rowModel:n}=this.beans,i=t.getFirstRow(),r=t.getLastRow();for(let o=i;o<=r;o++){const s=n.getRow(o);s&&e(s)}}selectAllRowNodes(e){const{gos:t,selectionCtx:n}=this;if(!Ka(t)){ie(132);return}if(eJ(t)&&!Td(t)){ie(130);return}if(!this.canSelectAll())return;const{source:i,selectAll:r}=e;let o=!1;if(this.getNodesToSelect(r).forEach(s=>{const a=this.selectRowNode(rp(s),!0,void 0,i);o||(o=a)}),n.selectAll=!0,Ci(t)&&this.groupSelectsDescendants){const s=this.updateGroupsFromChildrenSelections(i);o||(o=s)}o&&this.dispatchSelectionChanged(i)}getSelectionState(){return this.isEmpty()?null:Array.from(this.selectedNodes.keys())}setSelectionState(e,t){if(!Array.isArray(e)){dt(103);return}const n=new Set(e),i=[];this.beans.rowModel.forEachNode(r=>{n.has(r.id)&&i.push(r)}),this.setNodesSelected({newValue:!0,nodes:i,source:t})}canSelectAll(){const{gos:e,rowModel:t}=this.beans;return Ci(e)?!0:(dt(100,{rowModelType:t.getType()}),!1)}updateSelectable(e){var l;const{gos:t,rowModel:n}=this.beans;if(!Ka(t))return;const i="selectableChanged",r=e!==void 0,o=Ci(t)&&this.groupSelectsDescendants,s=[],a=u=>{var d;if(r&&!u.group)return;if(o&&u.group){const h=((d=u.childrenAfterGroup)==null?void 0:d.some(p=>p.selectable))??!1;this.setRowSelectable(u,h,!0);return}!this.updateRowSelectable(u,!0)&&u.isSelected()&&s.push(u)};if(o){if(e===void 0){const u=n.rootNode;e=u?new v0(!1,u):void 0}e==null||e.forEachChangedNodeDepthFirst(a,!r,!r)}else n.forEachNode(a);s.length&&this.setNodesSelected({nodes:s,newValue:!1,source:i}),!r&&o&&((l=this.updateGroupsFromChildrenSelections)==null||l.call(this,i))}updateSelectableAfterGrouping(e){var t;this.updateSelectable(e),this.groupSelectsDescendants&&((t=this.updateGroupsFromChildrenSelections)!=null&&t.call(this,"rowGroupChanged",e))&&this.dispatchSelectionChanged("rowGroupChanged")}refreshMasterNodeState(e,t){var o,s;if(!this.masterSelectsDetail)return;const n=(s=(o=e.detailNode)==null?void 0:o.detailGridInfo)==null?void 0:s.api;if(!n)return;const i=Ile(n);if(e.isSelected()!==i&&this.selectRowNode(e,i,t,"masterDetail")&&this.dispatchSelectionChanged("masterDetail"),!i){const a=this.detailSelection.get(e.id)??new Set;for(const l of n.getSelectedNodes())a.add(l.id);this.detailSelection.set(e.id,a)}}setDetailSelectionState(e,t,n){if(this.masterSelectsDetail){if(!Td(t)){ie(269);return}switch(e.isSelected()){case!0:{n.selectAll();break}case!1:{n.deselectAll();break}case void 0:{const i=this.detailSelection.get(e.id);if(i){const r=[];for(const o of i){const s=n.getRowNode(o);s&&r.push(s)}n.setNodesSelected({nodes:r,newValue:!0,source:"masterDetail"})}break}}}}dispatchSelectionChanged(e){this.eventSvc.dispatchEvent({type:"selectionChanged",source:e,selectedNodes:this.getSelectedNodes(),serverSideState:null})}};function rp(e){return e.footer?e.sibling:e}function Ile(e){let t=0,n=0;return e.forEachNode(i=>{i.isSelected()?t++:i.selectable&&n++}),tD(t,n)}function tD(e,t){if(e===0&&t===0)return!1;if(!(e>0&&t>0))return e>0}var Ole={moduleName:"SharedRowSelection",version:pe,beans:[Sle],apiFunctions:{setNodesSelected:xle,selectAll:Ele,deselectAll:kle,selectAllFiltered:Fle,deselectAllFiltered:Tle,selectAllOnCurrentPage:Ale,deselectAllOnCurrentPage:Rle,getSelectedNodes:Dle,getSelectedRows:Mle}},Lle={moduleName:"RowSelection",version:pe,rowModels:["clientSide","infinite","viewport"],beans:[Ple],dependsOn:[Ole]};function Nle(e){var t;(t=e.expansionSvc)==null||t.expandAll(!0)}function Ble(e){var t;(t=e.expansionSvc)==null||t.expandAll(!1)}function zle(e){const t=Ao(e),n=AR(e);t?t.onRowHeightChanged():n&&n.onRowHeightChanged()}function Hle(e,t,n){var o;const i=AR(e);if(i){if(((o=e.rowGroupColsSvc)==null?void 0:o.columns.length)===0){if(t<0){dt(238);return}i.setRowCount(t,n);return}dt(28);return}const r=Tg(e);if(r){r.setRowCount(t,n);return}}function Vle(e){var t;return Vu(e.gos)?e.rowModel.getBlockStates():((t=e.rowNodeBlockLoader)==null?void 0:t.getBlockState())??{}}function _le(e){return e.rowModel.isLastRowIndexKnown()}var Gle={moduleName:"CsrmSsrmSharedApi",version:pe,apiFunctions:{expandAll:Nle,collapseAll:Ble,onRowHeightChanged:zle}},Wle={moduleName:"SsrmInfiniteSharedApi",version:pe,apiFunctions:{setRowCount:Hle,getCacheBlockState:Vle,isLastRowIndexKnown:_le}},$le=class extends K{constructor(){super(...arguments),this.beanName="alignedGridsSvc",this.consuming=!1}getAlignedGridApis(){let e=this.gos.get("alignedGrids")??[];const t=typeof e=="function";return typeof e=="function"&&(e=e()),e.map(i=>{var o;if(!i){dt(18),t||dt(20);return}if(this.isGridApi(i))return i;const r=i;return"current"in r?(o=r.current)==null?void 0:o.api:(r.api||dt(19),r.api)}).filter(i=>!!i&&!i.isDestroyed())}isGridApi(e){return!!e&&!!e.dispatchEvent}postConstruct(){const e=this.fireColumnEvent.bind(this);this.addManagedEventListeners({columnMoved:e,columnVisible:e,columnPinned:e,columnGroupOpened:e,columnResized:e,bodyScroll:this.fireScrollEvent.bind(this),alignedGridColumn:({event:t})=>this.onColumnEvent(t),alignedGridScroll:({event:t})=>this.onScrollEvent(t)})}fireEvent(e){this.consuming||this.getAlignedGridApis().forEach(t=>{t.isDestroyed()||t.dispatchEvent(e)})}onEvent(e){this.consuming=!0,e(),this.consuming=!1}fireColumnEvent(e){this.fireEvent({type:"alignedGridColumn",event:e})}fireScrollEvent(e){e.direction==="horizontal"&&this.fireEvent({type:"alignedGridScroll",event:e})}onScrollEvent(e){this.onEvent(()=>{this.beans.ctrlsSvc.getScrollFeature().setHorizontalScrollPosition(e.left,!0)})}extractDataFromEvent(e,t){const n=[];return e.columns?e.columns.forEach(i=>{n.push(t(i))}):e.column&&n.push(t(e.column)),n}getMasterColumns(e){return this.extractDataFromEvent(e,t=>t)}getColumnIds(e){return this.extractDataFromEvent(e,t=>t.getColId())}onColumnEvent(e){this.onEvent(()=>{switch(e.type){case"columnMoved":case"columnVisible":case"columnPinned":case"columnResized":{this.processColumnEvent(e);break}case"columnGroupOpened":{this.processGroupOpenedEvent(e);break}case"columnPivotChanged":ie(21);break}})}processGroupOpenedEvent(e){const{colGroupSvc:t}=this.beans;t&&e.columnGroups.forEach(n=>{let i=null;n&&(i=t.getProvidedColGroup(n.getGroupId())),!(n&&!i)&&t.setColumnGroupOpened(i,n.isExpanded(),"alignedGridChanged")})}processColumnEvent(e){var c;const t=e.column;let n=null;const i=this.beans,{colResize:r,ctrlsSvc:o,colModel:s}=i;if(t&&(n=s.getColDefCol(t.getColId())),t&&!n)return;const a=this.getMasterColumns(e);switch(e.type){case"columnMoved":{const h=e.api.getColumnState().map(p=>({colId:p.colId}));tr(i,{state:h,applyOrder:!0},"alignedGridChanged")}break;case"columnVisible":{const h=e.api.getColumnState().map(p=>({colId:p.colId,hide:p.hide}));tr(i,{state:h},"alignedGridChanged")}break;case"columnPinned":{const h=e.api.getColumnState().map(p=>({colId:p.colId,pinned:p.pinned}));tr(i,{state:h},"alignedGridChanged")}break;case"columnResized":{const d=e,h={};a.forEach(p=>{h[p.getId()]={key:p.getColId(),newWidth:p.getActualWidth()}}),(c=d.flexColumns)==null||c.forEach(p=>{h[p.getId()]&&delete h[p.getId()]}),r==null||r.setColumnWidths(Object.values(h),!1,d.finished,"alignedGridChanged");break}}const u=o.getGridBodyCtrl().isVerticalScrollShowing();this.getAlignedGridApis().forEach(d=>{d.setGridOption("alwaysShowVerticalScroll",u)})}},Ule={moduleName:"AlignedGrids",version:pe,beans:[$le]},jle=class extends Lee{constructor(){super(...arguments),this.beanName="csrmNodeSvc"}},Dv=class{constructor(){this.removals=new Set,this.updates=new Set,this.adds=new Set}remove(e){this.adds.delete(e)||(this.updates.delete(e),this.removals.add(e))}update(e){this.adds.has(e)||this.updates.add(e)}add(e){this.adds.add(e)}};function qle(e){if(Bt(e.childrenAfterSort))return;const t=e.childrenAfterSort;for(let n=0;n<t.length;n++){const i=t[n],r=n===0,o=n===e.childrenAfterSort.length-1;i.setFirstChild(r),i.lastChild!==o&&(i.lastChild=o,i.dispatchRowEvent("lastChildChanged")),i.childIndex!==n&&(i.childIndex=n,i.dispatchRowEvent("childIndexChanged"))}}function nD(e){e.sibling&&(e.sibling.childrenAfterSort=e.childrenAfterSort),qle(e)}var Kle=class extends K{constructor(){super(...arguments),this.beanName="sortStage",this.refreshProps=new Set(["postSortRows","groupDisplayType","accentedSort"]),this.step="sort"}execute(e){const t=this.beans,n=t.sortSvc.getSortOptions(),i=ue(n)&&n.length>0,r=i&&!!e.changedRowNodes&&this.gos.get("deltaSort"),o=n.some(({column:s})=>to(t.gos)?s.isPrimary()&&s.isRowGroupActive():!!s.getColDef().showRowGroup);this.sort(t,n,i,r,e.changedRowNodes,e.changedPath,o)}sort(e,t,n,i,r,o,s){const{gos:a,colModel:l,rowGroupColsSvc:u,rowNodeSorter:c,rowRenderer:d,showRowGroupCols:h}=e,p=a.get("groupMaintainOrder"),f=l.getCols().some(S=>S.isRowGroupActive()),g=l.isPivotMode(),m=a.getCallback("postSortRows");let v=!1;const b=S=>{var R,T;const y=g&&S.leafGroup,x=p&&f&&!S.leafGroup&&!s;let E;if(x){const F=(R=u==null?void 0:u.columns)==null?void 0:R[S.level+1],D=(F==null?void 0:F.getSort())===null,O=S.childrenAfterAggFilter.slice(0);if(S.childrenAfterSort&&!D){const L={};S.childrenAfterSort.forEach((I,B)=>{L[I.id]=B}),O.sort((I,B)=>(L[I.id]??0)-(L[B.id]??0))}E=O}else!n||y?E=S.childrenAfterAggFilter.slice(0):i&&r?E=Yle(c,S,r,o,t):E=c.doFullSort(S.childrenAfterAggFilter,t);if(v||(v=((T=S.childrenAfterSort)==null?void 0:T[0])!==E[0]),S.childrenAfterSort=E,nD(S),m){const F={nodes:S.childrenAfterSort};m(F)}};if(o==null||o.forEachChangedNodeDepthFirst(b),v&&this.gos.get("groupHideOpenParents")){const S=h==null?void 0:h.getShowRowGroupCols();S!=null&&S.length&&d.refreshCells({columns:S,force:!0})}}};function Yle(e,t,n,i,r){const o=t.childrenAfterAggFilter,s=t.childrenAfterSort;if(!s)return e.doFullSort(o,r);const a=new Set,l=[],{updates:u,adds:c}=n;for(let h=0,p=o.length;h<p;++h){const f=o[h];u.has(f)||c.has(f)||i&&!i.canSkip(f)?l.push({currentPos:l.length,rowNode:f}):a.add(f.id)}const d=s.filter(h=>a.has(h.id)).map((h,p)=>({currentPos:p,rowNode:h}));return l.sort((h,p)=>e.compareRowNodes(r,h,p)),Xle(e,r,l,d)}function Xle(e,t,n,i){const r=[];let o=0,s=0;const a=n.length,l=i.length;for(;o<a&&s<l;){const u=n[o],c=i[s],d=e.compareRowNodes(t,u,c);let h;d<0?(h=u,++o):(h=c,++s),r.push(h.rowNode)}for(;o<a;)r.push(n[o++].rowNode);for(;s<l;)r.push(i[s++].rowNode);return r}var Jle=class extends K{constructor(){super(...arguments),this.beanName="rowModel",this.rootNode=null,this.rowsToDisplay=[],this.started=!1,this.isRefreshingModel=!1,this.rowNodesCountReady=!1,this.rowCountReady=!1,this.onRowHeightChanged_debounced=Kn(this,this.onRowHeightChanged.bind(this),100)}wireBeans(e){this.colModel=e.colModel,this.valueCache=e.valueCache,this.filterStage=e.filterStage,this.sortStage=e.sortStage,this.flattenStage=e.flattenStage,this.groupStage=e.groupStage,this.aggStage=e.aggStage,this.pivotStage=e.pivotStage,this.filterAggStage=e.filterAggStage}postConstruct(){this.orderedStages=[this.groupStage,this.filterStage,this.pivotStage,this.aggStage,this.sortStage,this.filterAggStage,this.flattenStage].filter(i=>!!i);const e=this.refreshModel.bind(this,{step:"group"}),t=this.refreshModel.bind(this,{step:"group",afterColumnsChanged:!0,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame")});this.addManagedEventListeners({newColumnsLoaded:t,columnRowGroupChanged:e,columnValueChanged:this.onValueChanged.bind(this),columnPivotChanged:this.refreshModel.bind(this,{step:"pivot"}),filterChanged:this.onFilterChanged.bind(this),sortChanged:this.onSortChanged.bind(this),columnPivotModeChanged:e,gridStylesChanged:this.onGridStylesChanges.bind(this),gridReady:this.onGridReady.bind(this)}),this.addPropertyListeners(),this.rootNode=new Mu(this.beans);const n=this.getNewNodeManager();this.nodeManager=n,n.activate(this.rootNode)}getNewNodeManager(){const{gos:e,beans:t}=this;switch(aJ(e)){case"treeNested":return t.csrmChildrenTreeNodeSvc??t.csrmNodeSvc;case"treePath":return t.csrmPathTreeNodeSvc??t.csrmNodeSvc;default:return t.csrmNodeSvc}}addPropertyListeners(){const e=["treeData","treeDataChildrenField",...this.orderedStages.flatMap(({refreshProps:t})=>[...t])];this.addManagedPropertyListeners(e,t=>{var i;const n=(i=t.changeSet)==null?void 0:i.properties;n&&this.onPropChange(n)}),this.addManagedPropertyListener("rowData",()=>this.onPropChange(["rowData"])),this.addManagedPropertyListener("rowHeight",()=>this.resetRowHeights())}start(){this.started=!0,this.rowNodesCountReady?this.refreshModel({step:"group",rowDataUpdated:!0,newData:!0}):this.setInitialData()}setInitialData(){this.gos.get("rowData")&&this.onPropChange(["rowData"])}ensureRowHeightsValid(e,t,n,i){let r,o=!1;do{r=!1;const s=this.getRowIndexAtPixel(e),a=this.getRowIndexAtPixel(t),l=Math.max(s,n),u=Math.min(a,i);for(let c=l;c<=u;c++){const d=this.getRow(c);if(d.rowHeightEstimated){const h=ku(this.beans,d);d.setRowHeight(h.height),r=!0,o=!0}}r&&this.setRowTopAndRowIndex()}while(r);return o}onPropChange(e){var u;if(!this.rootNode)return;const t=this.gos,n=new Set(e),i={step:"nothing",changedProps:n},r=n.has("rowData"),o=this.nodeManager,s=this.getNewNodeManager(),a=o!==s||r&&n.has("treeData")&&t.get("treeData")||n.has("treeDataChildrenField")&&t.get("treeData");let l;if((a||r)&&(l=t.get("rowData"),l!=null&&!Array.isArray(l)&&(l=null,ie(1))),a&&(r||(l=(o==null?void 0:o.extractRowData())??l),o!==s&&(o==null||o.deactivate(),this.nodeManager=s),s.activate(this.rootNode)),l&&(!a&&!this.isEmpty()&&l.length>0&&t.exists("getRowId")&&!t.get("resetRowDataOnUpdate")?(i.keepRenderedRows=!0,i.animate=!this.gos.get("suppressAnimationFrame"),i.changedRowNodes=new Dv,s.setImmutableRowData(i,l)):(i.rowDataUpdated=!0,i.newData=!0,(u=this.beans.selectionSvc)==null||u.reset("rowDataChanged"),this.rowNodesCountReady=!0,s.setNewRowData(l))),i.rowDataUpdated)i.step="group";else if(i.step==="nothing"){for(const{refreshProps:c,step:d}of this.orderedStages)if(e.some(h=>c.has(h))){i.step=d;break}}i.step!=="nothing"&&this.refreshModel(i)}setRowTopAndRowIndex(){const{beans:e}=this,t=e.environment.getDefaultRowHeight();let n=0;const i=new Set,r=Xn(this.gos,"normal"),o=this.rowsToDisplay;for(let s=0,a=o.length;s<a;++s){const l=o[s];if(l.id!=null&&i.add(l.id),l.rowHeight==null){const u=ku(e,l,r,t);l.setRowHeight(u.height,u.estimated)}l.setRowTop(n),l.setRowIndex(s),n+=l.rowHeight}return i}clearRowTopAndRowIndex(e,t){const n=e.active,i=o=>{o&&o.id!=null&&!t.has(o.id)&&o.clearRowTopAndRowIndex()},r=o=>{if(o!==null&&(i(o),i(o.detailNode),i(o.sibling),o.hasChildren()&&o.childrenAfterGroup)){const s=o.level==-1;n&&!s&&!o.expanded||o.childrenAfterGroup.forEach(r)}};r(this.rootNode)}ensureRowsAtPixel(e,t,n=0){var a;const i=this.getRowIndexAtPixel(t),r=this.getRow(i),o=!this.gos.get("suppressAnimationFrame");if(r===e[0])return!1;const s=(a=this.rootNode)==null?void 0:a.allLeafChildren;return s?(e.forEach(l=>{Ur(s,l)}),e.forEach((l,u)=>{s.splice(Math.max(i+n,0)+u,0,l)}),e.forEach((l,u)=>{l.sourceRowIndex=u}),this.refreshModel({step:"group",keepRenderedRows:!0,animate:o,rowNodesOrderChanged:!0}),!0):!1}highlightRowAtPixel(e,t){const n=t!=null?this.getRowIndexAtPixel(t):null,i=n!=null?this.getRow(n):null;if(!i||!e||t==null){this.clearHighlightedRow();return}const r=this.getHighlightPosition(t,i),o=this.isHighlightingCurrentPosition(e,i,r),s=this.lastHighlightedRow!=null&&this.lastHighlightedRow!==i;(o||s)&&(this.clearHighlightedRow(),o)||(this.setRowNodeHighlighted(i,r),this.lastHighlightedRow=i)}setRowNodeHighlighted(e,t){e.highlighted!==t&&(e.highlighted=t,e.dispatchRowEvent("rowHighlightChanged"))}getHighlightPosition(e,t){if(!t){const r=this.getRowIndexAtPixel(e);if(t=this.getRow(r||0),!t)return"Below"}const{rowTop:n,rowHeight:i}=t;return e-n<i/2?"Above":"Below"}getLastHighlightedRowNode(){return this.lastHighlightedRow}isHighlightingCurrentPosition(e,t,n){if(e===t)return!0;const i=n==="Above"?-1:1;return this.getRow(t.rowIndex+i)===e}clearHighlightedRow(){this.lastHighlightedRow&&(this.setRowNodeHighlighted(this.lastHighlightedRow,null),this.lastHighlightedRow=null)}isLastRowIndexKnown(){return!0}getRowCount(){return this.rowsToDisplay?this.rowsToDisplay.length:0}getTopLevelRowCount(){const e=this.rootNode;if(!e||this.rowsToDisplay.length===0)return 0;if(this.rowsToDisplay&&this.rowsToDisplay[0]===e)return 1;const n=e.childrenAfterAggFilter,i=e.sibling?1:0;return(n?n.length:0)+i}getTopLevelRowDisplayedIndex(e){const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;const{childrenAfterSort:r}=t,o=a=>{let l=r[a];if(this.gos.get("groupHideOpenParents"))for(;l.expanded&&l.childrenAfterSort&&l.childrenAfterSort.length>0;)l=l.childrenAfterSort[0];return l.rowIndex},{footerSvc:s}=this.beans;return s?s.getTopDisplayIndex(n,e,r,o):o(e)}getTopLevelIndexFromDisplayedIndex(e){var s;const{rootNode:t,rowsToDisplay:n}=this;if(!t||!n.length||n[0]===t)return e;let r=this.getRow(e);for(r.footer&&(r=r.sibling);r.parent&&r.parent!==t;)r=r.parent;const o=(s=t.childrenAfterSort)==null?void 0:s.findIndex(a=>a===r);return o===-1?e:o??e}getRowBounds(e){const t=this.rowsToDisplay[e];return t?{rowTop:t.rowTop,rowHeight:t.rowHeight}:null}onRowGroupOpened(){const e=Zl(this.gos);this.refreshModel({step:"map",keepRenderedRows:!0,animate:e})}onFilterChanged(e){if(e.afterDataChange)return;const t=Zl(this.gos),i=e.columns.length===0||e.columns.some(r=>r.isPrimary())?"filter":"filter_aggregates";this.refreshModel({step:i,keepRenderedRows:!0,animate:t})}onSortChanged(){const e=Zl(this.gos);this.refreshModel({step:"sort",keepRenderedRows:!0,animate:e})}getType(){return"clientSide"}onValueChanged(){this.refreshModel({step:this.colModel.isPivotActive()?"pivot":"aggregate"})}createChangePath(e){const t=new v0(!1,this.rootNode);return e||(t.active=!1),t}isSuppressModelUpdateAfterUpdateTransaction(e){if(!this.gos.get("suppressModelUpdateAfterUpdateTransaction"))return!1;const{changedRowNodes:t,newData:n,rowDataUpdated:i}=e;return!(!t||n||!i||t.removals.size||t.adds.size)}refreshModel(e){var i,r;if(!this.rootNode)return;const t=e.changedPath??(e.changedPath=this.createChangePath(!e.newData&&!!e.rowDataUpdated));if((r=(i=this.nodeManager).refreshModel)==null||r.call(i,e,this.started),this.eventSvc.dispatchEvent({type:"beforeRefreshModel",params:e}),!this.started||(e.rowDataUpdated&&this.eventSvc.dispatchEvent({type:"rowDataUpdated"}),this.isRefreshingModel||this.colModel.changeEventsDispatching||this.isSuppressModelUpdateAfterUpdateTransaction(e)))return;switch(this.isRefreshingModel=!0,e.step){case"group":this.doRowGrouping(e.changedRowNodes,t,!!e.rowNodesOrderChanged,!!e.afterColumnsChanged);case"filter":this.doFilter(t);case"pivot":this.doPivot(t);case"aggregate":this.doAggregate(t);case"filter_aggregates":this.doFilterAggregates(t);case"sort":this.doSort(e.changedRowNodes,t);case"map":this.doRowsToDisplay()}const n=this.setRowTopAndRowIndex();this.clearRowTopAndRowIndex(t,n),this.isRefreshingModel=!1,this.eventSvc.dispatchEvent({type:"modelUpdated",animate:e.animate,keepRenderedRows:e.keepRenderedRows,newData:e.newData,newPage:!1,keepUndoRedoStack:e.keepUndoRedoStack})}isEmpty(){var e,t,n;return!((t=(e=this.rootNode)==null?void 0:e.allLeafChildren)!=null&&t.length)||!((n=this.colModel)!=null&&n.ready)}isRowsToRender(){return this.rowsToDisplay.length>0}getNodesInRangeForSelection(e,t){let n=!1,i=!1;const r=[],o=Ad(this.gos);return this.forEachNodeAfterFilterAndSort(s=>{if(i)return;if(n&&(s===t||s===e)&&(i=!0,s.group&&o)){r.push(...s.allLeafChildren);return}if(!n){if(s!==t&&s!==e)return;n=!0}if(!s.group||!o){r.push(s);return}}),r}getTopLevelNodes(){var e;return((e=this.rootNode)==null?void 0:e.childrenAfterGroup)??null}getRow(e){return this.rowsToDisplay[e]}isRowPresent(e){return this.rowsToDisplay.indexOf(e)>=0}getRowIndexAtPixel(e){const t=this.rowsToDisplay;if(this.isEmpty()||t.length===0)return-1;let n=0,i=t.length-1;if(e<=0)return 0;if(wt(t).rowTop<=e)return t.length-1;let o=-1,s=-1;for(;;){const a=Math.floor((n+i)/2),l=t[a];if(this.isRowInPixel(l,e)||(l.rowTop<e?n=a+1:l.rowTop>e&&(i=a-1),o===n&&s===i))return a;o=n,s=i}}isRowInPixel(e,t){const n=e.rowTop,i=e.rowTop+e.rowHeight;return n<=t&&i>t}forEachLeafNode(e){var t,n;(n=(t=this.rootNode)==null?void 0:t.allLeafChildren)==null||n.forEach((i,r)=>e(i,r))}forEachNode(e,t=!1){this.depthFirstSearchRowNodes(e,t)}forEachDisplayedNode(e){this.rowsToDisplay.forEach(e)}forEachNodeAfterFilter(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterAggFilter)}forEachNodeAfterFilterAndSort(e,t=!1){this.depthFirstSearchRowNodes(e,t,n=>n.childrenAfterSort)}forEachPivotNode(e,t=!1,n=!1){const i=n?"childrenAfterSort":"childrenAfterGroup";this.depthFirstSearchRowNodes(e,t,r=>r.leafGroup?null:r[i])}depthFirstSearchRowNodes(e,t=!1,n=o=>o.childrenAfterGroup,i=this.rootNode,r=0){let o=r;if(!i)return o;const s=i===this.rootNode;s||e(i,o++);const{footerSvc:a}=this.beans;if(i.hasChildren()&&!i.footer){const l=n(i);if(l){o=(a==null?void 0:a.addTotalRows(o,i,e,t,s,"top"))??o;for(const u of l)o=this.depthFirstSearchRowNodes(e,t,n,u,o);return(a==null?void 0:a.addTotalRows(o,i,e,t,s,"bottom"))??o}}return o}doAggregate(e){var n;const t=this.rootNode;t&&((n=this.aggStage)==null||n.execute({rowNode:t,changedPath:e}))}doFilterAggregates(e){const t=this.rootNode;this.filterAggStage?this.filterAggStage.execute({rowNode:t,changedPath:e}):t.childrenAfterAggFilter=t.childrenAfterFilter}doSort(e,t){this.sortStage?this.sortStage.execute({rowNode:this.rootNode,changedRowNodes:e,changedPath:t}):t.forEachChangedNodeDepthFirst(n=>{n.childrenAfterSort=n.childrenAfterAggFilter.slice(0),nD(n)})}doRowGrouping(e,t,n,i){var s;const r=this.rootNode;if(!((s=this.groupStage)==null?void 0:s.execute({rowNode:r,changedPath:t,changedRowNodes:e,rowNodesOrderChanged:n,afterColumnsChanged:i}))&&!this.nodeManager.treeData){const a=r.sibling;r.childrenAfterGroup=r.allLeafChildren,a&&(a.childrenAfterGroup=r.childrenAfterGroup),r.updateHasChildren()}this.rowNodesCountReady&&(this.rowCountReady=!0,this.eventSvc.dispatchEventOnce({type:"rowCountReady"}))}doFilter(e){this.filterStage?this.filterStage.execute({rowNode:this.rootNode,changedPath:e}):e.forEachChangedNodeDepthFirst(t=>{t.childrenAfterFilter=t.childrenAfterGroup,LR(t)},!0)}doPivot(e){var t;(t=this.pivotStage)==null||t.execute({rowNode:this.rootNode,changedPath:e})}getRowNode(e){if(typeof e=="string"&&e.indexOf(rC)==0){let n;return this.forEachNode(i=>{i.id===e&&(n=i)}),n}return this.nodeManager.getRowNode(e)}batchUpdateRowData(e,t){if(this.applyAsyncTransactionsTimeout==null){this.rowDataTransactionBatch=[];const n=this.gos.get("asyncTransactionWaitMillis");this.applyAsyncTransactionsTimeout=window.setTimeout(()=>{this.isAlive()&&this.executeBatchUpdateRowData()},n)}this.rowDataTransactionBatch.push({rowDataTransaction:e,callback:t})}flushAsyncTransactions(){this.applyAsyncTransactionsTimeout!=null&&(clearTimeout(this.applyAsyncTransactionsTimeout),this.executeBatchUpdateRowData())}executeBatchUpdateRowData(){var r,o;(r=this.valueCache)==null||r.onDataChanged();const e=[],t=[],n=new Dv;let i=!1;(o=this.rowDataTransactionBatch)==null||o.forEach(s=>{this.rowNodesCountReady=!0;const{rowNodeTransaction:a,rowsInserted:l}=this.nodeManager.updateRowData(s.rowDataTransaction,n);l&&(i=!0),t.push(a),s.callback&&e.push(s.callback.bind(null,a))}),this.commitTransactions(i,n),e.length>0&&window.setTimeout(()=>{e.forEach(s=>s())},0),t.length>0&&this.eventSvc.dispatchEvent({type:"asyncTransactionsFlushed",results:t}),this.rowDataTransactionBatch=null,this.applyAsyncTransactionsTimeout=void 0}updateRowData(e){var r;(r=this.valueCache)==null||r.onDataChanged(),this.rowNodesCountReady=!0;const t=new Dv,{rowNodeTransaction:n,rowsInserted:i}=this.nodeManager.updateRowData(e,t);return this.commitTransactions(i,t),n}commitTransactions(e,t){this.refreshModel({step:"group",rowDataUpdated:!0,rowNodesOrderChanged:e,keepRenderedRows:!0,animate:!this.gos.get("suppressAnimationFrame"),changedRowNodes:t,changedPath:this.createChangePath(!0)})}doRowsToDisplay(){const{flattenStage:e,rootNode:t}=this;let n;if(e)n=e.execute({rowNode:t});else{n=(t==null?void 0:t.childrenAfterSort)??[];for(const i of n)i.setUiLevel(0)}this.rowsToDisplay=n}onRowHeightChanged(){this.refreshModel({step:"map",keepRenderedRows:!0,keepUndoRedoStack:!0})}resetRowHeights(){const e=this.rootNode;if(!e)return;const t=this.resetRowHeightsForAllRowNodes();e.setRowHeight(e.rowHeight,!0),e.sibling&&e.sibling.setRowHeight(e.sibling.rowHeight,!0),t&&this.onRowHeightChanged()}resetRowHeightsForAllRowNodes(){let e=!1;return this.forEachNode(t=>{t.setRowHeight(t.rowHeight,!0);const n=t.detailNode;n&&n.setRowHeight(n.rowHeight,!0),t.sibling&&t.sibling.setRowHeight(t.sibling.rowHeight,!0),e=!0}),e}onGridStylesChanges(e){var t;if(e.rowHeightChanged){if((t=this.beans.rowAutoHeight)!=null&&t.active)return;this.resetRowHeights()}}onGridReady(){this.started||this.setInitialData()}isRowDataLoaded(){return this.rowCountReady}destroy(){super.destroy(),this.clearHighlightedRow(),this.started=!1,this.rootNode=null,this.nodeManager=null,this.rowDataTransactionBatch=null,this.lastHighlightedRow=null,this.orderedStages=R4,this.rowsToDisplay=R4}onRowHeightChangedDebounced(){this.onRowHeightChanged_debounced()}};function Zle(e){var t;(t=e.expansionSvc)==null||t.onGroupExpandedOrCollapsed()}function Qle(e,t){const n=Ao(e);n&&((!t||t==="everything")&&(t="group"),n.refreshModel({step:t,keepRenderedRows:!0,animate:!e.gos.get("suppressAnimationFrame")}))}function eue(e){var t;return((t=Ao(e))==null?void 0:t.isEmpty())??!0}function tue(e,t){var n;(n=Ao(e))==null||n.forEachLeafNode(t)}function nue(e,t){var n;(n=Ao(e))==null||n.forEachNodeAfterFilter(t)}function iue(e,t){var n;(n=Ao(e))==null||n.forEachNodeAfterFilterAndSort(t)}function rue(e){var t,n;if((t=e.rowAutoHeight)!=null&&t.active){ie(3);return}(n=Ao(e))==null||n.resetRowHeights()}function oue(e,t){return e.frameworkOverrides.wrapIncoming(()=>{var n;return(n=Ao(e))==null?void 0:n.updateRowData(t)})}function sue(e,t,n){e.frameworkOverrides.wrapIncoming(()=>{var i;return(i=Ao(e))==null?void 0:i.batchUpdateRowData(t,n)})}function aue(e){e.frameworkOverrides.wrapIncoming(()=>{var t;return(t=Ao(e))==null?void 0:t.flushAsyncTransactions()})}function lue(e){var t;return(t=e.selectionSvc)==null?void 0:t.getBestCostNodeSelection()}var uue={moduleName:"ClientSideRowModel",version:pe,rowModels:["clientSide"],beans:[jle,Jle,Kle],dependsOn:[TR]},cue={moduleName:"ClientSideRowModelApi",version:pe,apiFunctions:{onGroupExpandedOrCollapsed:Zle,refreshClientSideRowModel:Qle,isRowDataEmpty:eue,forEachLeafNode:tue,forEachNodeAfterFilter:nue,forEachNodeAfterFilterAndSort:iue,resetRowHeights:rue,applyTransaction:oue,applyTransactionAsync:sue,flushAsyncTransactions:aue,getBestCostNodeSelection:lue},dependsOn:[Gle]},due=class extends K{constructor(){super(...arguments),this.beanName="gridSerializer"}wireBeans(e){this.visibleCols=e.visibleCols,this.colModel=e.colModel,this.rowModel=e.rowModel,this.pinnedRowModel=e.pinnedRowModel}serialize(e,t={}){const{allColumns:n,columnKeys:i,skipRowGroups:r,exportRowNumbers:o}=t,s=this.getColumnsToExport({allColumns:n,skipRowGroups:r,columnKeys:i,exportRowNumbers:o});return[this.prepareSession(s),this.prependContent(t),this.exportColumnGroups(t,s),this.exportHeaders(t,s),this.processPinnedTopRows(t,s),this.processRows(t,s),this.processPinnedBottomRows(t,s),this.appendContent(t)].reduce((a,l)=>l(a),e).parse()}processRow(e,t,n,i){var f;const r=t.shouldRowBeSkipped||(()=>!1),s=t.rowPositions!=null||!!t.onlySelected,a=this.gos.get("groupHideOpenParents")&&!s,l=this.colModel.isPivotMode()?i.leafGroup:!i.group,u=!!i.footer,c=i.allChildrenCount===1&&((f=i.childrenAfterGroup)==null?void 0:f.length)===1&&ZX(this.gos,i);if(!l&&!u&&(t.skipRowGroups||c||a)||t.onlySelected&&!i.isSelected()||t.skipPinnedTop&&i.rowPinned==="top"||t.skipPinnedBottom&&i.rowPinned==="bottom"||i.level===-1&&!l&&!u||r(Le(this.gos,{node:i})))return;const p=e.onNewBodyRow(i);if(n.forEach((g,m)=>{p.onColumn(g,m,i)}),t.getCustomContentBelowRow){const g=t.getCustomContentBelowRow(Le(this.gos,{node:i}));g&&e.addCustomContent(g)}}appendContent(e){return t=>{const n=e.appendContent;return n&&t.addCustomContent(n),t}}prependContent(e){return t=>{const n=e.prependContent;return n&&t.addCustomContent(n),t}}prepareSession(e){return t=>(t.prepare(e),t)}exportColumnGroups(e,t){return n=>{if(!e.skipColumnGroupHeaders){const i=new b5,{colGroupSvc:r}=this.beans,o=r?r.createColumnGroups({columns:t,idCreator:i,pinned:null,isStandaloneStructure:!0}):t;this.recursivelyAddHeaderGroups(o,n,e.processGroupHeaderCallback)}return n}}exportHeaders(e,t){return n=>{if(!e.skipColumnHeaders){const i=n.onNewHeaderRow();t.forEach((r,o)=>{i.onColumn(r,o,void 0)})}return n}}processPinnedTopRows(e,t){return n=>{var r;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="top").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>{var s;return(s=this.pinnedRowModel)==null?void 0:s.getPinnedTopRow(o.rowIndex)}).forEach(i):(r=this.pinnedRowModel)==null||r.forEachPinnedRow("top",i),n}}processRows(e,t){return n=>{var u;const i=this.rowModel,r=Ci(this.gos),o=Vu(this.gos),s=!r&&e.onlySelected,a=this.processRow.bind(this,n,e,t),{exportedRows:l="filteredAndSorted"}=e;if(e.rowPositions)return e.rowPositions.filter(c=>c.rowPinned==null).sort((c,d)=>c.rowIndex-d.rowIndex).map(c=>i.getRow(c.rowIndex)).forEach(a),n;if(this.colModel.isPivotMode())return r?i.forEachPivotNode(a,!0,l==="filteredAndSorted"):o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a),n;if(e.onlySelectedAllPages||s){const c=((u=this.beans.selectionSvc)==null?void 0:u.getSelectedNodes())??[];this.replicateSortedOrder(c),c.forEach(a)}else l==="all"?i.forEachNode(a):r||o?i.forEachNodeAfterFilterAndSort(a,!0):i.forEachNode(a);return n}}replicateSortedOrder(e){const{sortSvc:t,rowNodeSorter:n}=this.beans;if(!t||!n)return;const i=t.getSortOptions(),r=(o,s)=>{var a,l;return o.rowIndex!=null&&s.rowIndex!=null?o.rowIndex-s.rowIndex:o.level===s.level?((a=o.parent)==null?void 0:a.id)===((l=s.parent)==null?void 0:l.id)?n.compareRowNodes(i,{rowNode:o,currentPos:o.rowIndex??-1},{rowNode:s,currentPos:s.rowIndex??-1}):r(o.parent,s.parent):o.level>s.level?r(o.parent,s):r(o,s.parent)};e.sort(r)}processPinnedBottomRows(e,t){return n=>{var r;const i=this.processRow.bind(this,n,e,t);return e.rowPositions?e.rowPositions.filter(o=>o.rowPinned==="bottom").sort((o,s)=>o.rowIndex-s.rowIndex).map(o=>{var s;return(s=this.pinnedRowModel)==null?void 0:s.getPinnedBottomRow(o.rowIndex)}).forEach(i):(r=this.pinnedRowModel)==null||r.forEachPinnedRow("bottom",i),n}}getColumnsToExport(e){const{allColumns:t=!1,skipRowGroups:n=!1,exportRowNumbers:i=!1,columnKeys:r}=e,{colModel:o,gos:s,visibleCols:a}=this,l=o.isPivotMode(),u=h=>fs(h)?!1:!Au(h)||i;if(r&&r.length)return o.getColsForKeys(r).filter(u);const c=s.get("treeData");let d=[];return t&&!l?d=o.getCols():d=a.allCols,d=d.filter(h=>u(h)&&(n&&!c?!Xy(h):!0)),d}recursivelyAddHeaderGroups(e,t,n){const i=[];e.forEach(r=>{const o=r;o.getChildren&&o.getChildren().forEach(s=>i.push(s))}),e.length>0&&en(e[0])&&this.doAddHeaderHeader(t,e,n),i&&i.length>0&&this.recursivelyAddHeaderGroups(i,t,n)}doAddHeaderHeader(e,t,n){const i=e.onNewHeaderGroupingRow();let r=0;t.forEach(o=>{const s=o;let a;n?a=n(Le(this.gos,{columnGroup:s})):a=this.beans.colNames.getDisplayNameForColumnGroup(s,"header");const l=s.getLeafColumns().reduce((u,c,d,h)=>{let p=wt(u);return c.getColumnGroupShow()==="open"?(!p||p[1]!=null)&&(p=[d],u.push(p)):p&&p[1]==null&&(p[1]=d-1),d===h.length-1&&p&&p[1]==null&&(p[1]=d),u},[]);i.onColumn(s,a||"",r++,s.getLeafColumns().length-1,l)})}},hue={moduleName:"SharedExport",version:pe,beans:[due]},p3=`\r
`,pue=class extends nse{constructor(e){super(e),this.isFirstLine=!0,this.result="";const{suppressQuotes:t,columnSeparator:n}=e;this.suppressQuotes=t,this.columnSeparator=n}addCustomContent(e){e&&(typeof e=="string"?(/^\s*\n/.test(e)||this.beginNewLine(),e=e.replace(/\r?\n/g,p3),this.result+=e):e.forEach(t=>{this.beginNewLine(),t.forEach((n,i)=>{i!==0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(n.data.value||""),n.mergeAcross&&this.appendEmptyCells(n.mergeAcross)})}))}onNewHeaderGroupingRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderGroupingRowColumn.bind(this)}}onNewHeaderGroupingRowColumn(e,t,n,i){n!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(t),this.appendEmptyCells(i)}appendEmptyCells(e){for(let t=1;t<=e;t++)this.result+=this.columnSeparator+this.putInQuotes("")}onNewHeaderRow(){return this.beginNewLine(),{onColumn:this.onNewHeaderRowColumn.bind(this)}}onNewHeaderRowColumn(e,t){t!=0&&(this.result+=this.columnSeparator),this.result+=this.putInQuotes(this.extractHeaderValue(e))}onNewBodyRow(){return this.beginNewLine(),{onColumn:this.onNewBodyRowColumn.bind(this)}}onNewBodyRowColumn(e,t,n){t!=0&&(this.result+=this.columnSeparator);const i=this.extractRowCellValue(e,t,t,"csv",n);this.result+=this.putInQuotes(i.valueFormatted??i.value)}putInQuotes(e){if(this.suppressQuotes)return e;if(e==null)return'""';let t;return typeof e=="string"?t=e:typeof e.toString=="function"?t=e.toString():(ie(53),t=""),'"'+t.replace(/"/g,'""')+'"'}parse(){return this.result}beginNewLine(){this.isFirstLine||(this.result+=p3),this.isFirstLine=!1}},fue=class extends tse{constructor(){super(...arguments),this.beanName="csvCreator"}wireBeans(e){this.colModel=e.colModel,this.colNames=e.colNames,this.rowGroupColsSvc=e.rowGroupColsSvc,this.valueSvc=e.valueSvc}getMergedParams(e){const t=this.gos.get("defaultCsvExportParams");return Object.assign({},t,e)}export(e){if(this.isExportSuppressed()){ie(51);return}const t=this.getMergedParams(e),n=this.getData(t),i=new Blob(["\uFEFF",n],{type:"text/plain"}),r=typeof t.fileName=="function"?t.fileName(Le(this.gos,{})):t.fileName;ise(this.getFileName(r),i)}exportDataAsCsv(e){this.export(e)}getDataAsCsv(e,t=!1){const n=t?Object.assign({},e):this.getMergedParams(e);return this.getData(n)}getDefaultFileExtension(){return"csv"}createSerializingSession(e){const{colModel:t,colNames:n,rowGroupColsSvc:i,valueSvc:r,gos:o}=this,{processCellCallback:s,processHeaderCallback:a,processGroupHeaderCallback:l,processRowGroupCallback:u,suppressQuotes:c,columnSeparator:d}=e;return new pue({colModel:t,colNames:n,valueSvc:r,gos:o,processCellCallback:s||void 0,processHeaderCallback:a||void 0,processGroupHeaderCallback:l||void 0,processRowGroupCallback:u||void 0,suppressQuotes:c||!1,columnSeparator:d||",",rowGroupColsSvc:i})}isExportSuppressed(){return this.gos.get("suppressCsvExport")}};function gue(e,t){var n;return(n=e.csvCreator)==null?void 0:n.getDataAsCsv(t)}function mue(e,t){var n;(n=e.csvCreator)==null||n.exportDataAsCsv(t)}var vue={moduleName:"CsvExport",version:pe,beans:[fue],apiFunctions:{getDataAsCsv:gue,exportDataAsCsv:mue},dependsOn:[hue]},Cue=class extends K{constructor(e,t,n){super(),this.id=e,this.parentCache=t,this.params=n,this.state="needsLoading",this.version=0,this.startRow=e*n.blockSize,this.endRow=this.startRow+n.blockSize}load(){this.state="loading",this.loadFromDatasource()}setStateWaitingToLoad(){this.version++,this.state="needsLoading"}pageLoadFailed(e){this.isRequestMostRecentAndLive(e)&&(this.state="failed"),this.dispatchLocalEvent({type:"loadComplete"})}pageLoaded(e,t,n){this.successCommon(e,{rowData:t,rowCount:n})}isRequestMostRecentAndLive(e){const t=e===this.version,n=this.isAlive();return t&&n}successCommon(e,t){this.dispatchLocalEvent({type:"loadComplete"}),this.isRequestMostRecentAndLive(e)&&(this.state="loaded",this.processServerResult(t))}postConstruct(){this.rowNodes=[];const{params:{blockSize:e,rowHeight:t},startRow:n,beans:i,rowNodes:r}=this;for(let o=0;o<e;o++){const s=n+o,a=new Mu(i);a.setRowHeight(t),a.uiLevel=0,a.setRowIndex(s),a.setRowTop(t*s),r.push(a)}}getBlockStateJson(){const{id:e,startRow:t,endRow:n,state:i}=this;return{id:""+e,state:{blockNumber:e,startRow:t,endRow:n,pageStatus:i}}}setDataAndId(e,t,n){ue(t)?e.setDataAndId(t,n.toString()):e.setDataAndId(void 0,void 0)}loadFromDatasource(){const e=this.createLoadParams();if(Bt(this.params.datasource.getRows)){ie(90);return}window.setTimeout(()=>{this.params.datasource.getRows(e)},0)}createLoadParams(){const{startRow:e,endRow:t,version:n,params:{sortModel:i,filterModel:r},gos:o}=this;return{startRow:e,endRow:t,successCallback:this.pageLoaded.bind(this,n),failCallback:this.pageLoadFailed.bind(this,n),sortModel:i,filterModel:r,context:Le(o,{}).context}}forEachNode(e,t,n){this.rowNodes.forEach((i,r)=>{this.startRow+r<n&&e(i,t.value++)})}getRow(e,t=!1){t||(this.lastAccessed=this.params.lastAccessedSequence.value++);const n=e-this.startRow;return this.rowNodes[n]}processServerResult(e){const{rowNodes:t,beans:n}=this;t.forEach((r,o)=>{const s=e.rowData?e.rowData[o]:void 0;!r.id&&r.alreadyRendered&&s&&(t[o]=new Mu(n),t[o].setRowIndex(r.rowIndex),t[o].setRowTop(r.rowTop),t[o].setRowHeight(r.rowHeight),r.clearRowTopAndRowIndex()),this.setDataAndId(t[o],s,this.startRow+o)});const i=e.rowCount!=null&&e.rowCount>=0?e.rowCount:void 0;this.parentCache.pageLoaded(this,i)}destroy(){this.rowNodes.forEach(e=>{e.clearRowTopAndRowIndex()}),super.destroy()}},bue=2,yue=class extends K{constructor(e){super(),this.params=e,this.lastRowIndexKnown=!1,this.blocks={},this.blockCount=0,this.rowCount=e.initialRowCount}getRow(e,t=!1){const n=Math.floor(e/this.params.blockSize);let i=this.blocks[n];if(!i){if(t)return;i=this.createBlock(n)}return i.getRow(e)}createBlock(e){const t=this.params,n=this.createBean(new Cue(e,this,t));return this.blocks[n.id]=n,this.blockCount++,this.purgeBlocksIfNeeded(n),t.rowNodeBlockLoader.addBlock(n),n}refreshCache(){if(this.blockCount==0){this.purgeCache();return}this.getBlocksInOrder().forEach(t=>t.setStateWaitingToLoad()),this.params.rowNodeBlockLoader.checkBlockToLoad()}destroy(){this.getBlocksInOrder().forEach(e=>this.destroyBlock(e)),super.destroy()}getRowCount(){return this.rowCount}isLastRowIndexKnown(){return this.lastRowIndexKnown}pageLoaded(e,t){this.isAlive()&&(ca(this.gos,`InfiniteCache - onPageLoaded: page = ${e.id}, lastRow = ${t}`),this.checkRowCount(e,t),this.onCacheUpdated())}purgeBlocksIfNeeded(e){const t=this.getBlocksInOrder().filter(s=>s!=e),n=(s,a)=>a.lastAccessed-s.lastAccessed;t.sort(n);const i=this.params.maxBlocksInCache>0,r=i?this.params.maxBlocksInCache-1:null,o=bue-1;t.forEach((s,a)=>{const l=s.state==="needsLoading"&&a>=o,u=i?a>=r:!1;if(l||u){if(this.isBlockCurrentlyDisplayed(s)||this.isBlockFocused(s))return;this.removeBlockFromCache(s)}})}isBlockFocused(e){const t=this.beans.focusSvc.getFocusCellToUseAfterRefresh();if(!t||t.rowPinned!=null)return!1;const{startRow:n,endRow:i}=e;return t.rowIndex>=n&&t.rowIndex<i}isBlockCurrentlyDisplayed(e){const{startRow:t,endRow:n}=e;return this.beans.rowRenderer.isRangeInRenderedViewport(t,n-1)}removeBlockFromCache(e){e&&this.destroyBlock(e)}checkRowCount(e,t){if(typeof t=="number"&&t>=0)this.rowCount=t,this.lastRowIndexKnown=!0;else if(!this.lastRowIndexKnown){const{blockSize:n,overflowSize:i}=this.params,o=(e.id+1)*n+i;this.rowCount<o&&(this.rowCount=o)}}setRowCount(e,t){this.rowCount=e,ue(t)&&(this.lastRowIndexKnown=t),this.lastRowIndexKnown||this.rowCount%this.params.blockSize===0&&this.rowCount++,this.onCacheUpdated()}forEachNodeDeep(e){const t={value:0};this.getBlocksInOrder().forEach(n=>n.forEachNode(e,t,this.rowCount))}getBlocksInOrder(){const e=(n,i)=>n.id-i.id;return Object.values(this.blocks).sort(e)}destroyBlock(e){delete this.blocks[e.id],this.destroyBean(e),this.blockCount--,this.params.rowNodeBlockLoader.removeBlock(e)}onCacheUpdated(){this.isAlive()&&(this.destroyAllBlocksPastVirtualRowCount(),this.eventSvc.dispatchEvent({type:"storeUpdated"}))}destroyAllBlocksPastVirtualRowCount(){const e=[];this.getBlocksInOrder().forEach(t=>{t.id*this.params.blockSize>=this.rowCount&&e.push(t)}),e.length>0&&e.forEach(t=>this.destroyBlock(t))}purgeCache(){this.getBlocksInOrder().forEach(e=>this.removeBlockFromCache(e)),this.lastRowIndexKnown=!1,this.rowCount===0&&(this.rowCount=this.params.initialRowCount),this.onCacheUpdated()}getRowNodesInRange(e,t){const n=[];let i=-1,r=!1;const o={value:0};let s=!1;return this.getBlocksInOrder().forEach(l=>{if(!s){if(r&&i+1!==l.id){s=!0;return}i=l.id,l.forEachNode(u=>{const c=u===e||u===t;(r||c)&&n.push(u),c&&(r=!r)},o,this.rowCount)}}),s||r?[]:n}},wue=class extends K{constructor(){super(...arguments),this.beanName="rowModel"}getRowBounds(e){return{rowHeight:this.rowHeight,rowTop:this.rowHeight*e}}ensureRowHeightsValid(){return!1}postConstruct(){this.gos.get("rowModelType")==="infinite"&&(this.rowHeight=Ya(this.beans),this.addEventListeners(),this.addDestroyFunc(()=>this.destroyCache()))}start(){this.setDatasource(this.gos.get("datasource"))}destroy(){this.destroyDatasource(),super.destroy()}destroyDatasource(){this.datasource&&(this.destroyBean(this.datasource),this.beans.rowRenderer.datasourceChanged(),this.datasource=null)}addEventListeners(){this.addManagedEventListeners({filterChanged:this.reset.bind(this),sortChanged:this.reset.bind(this),newColumnsLoaded:this.onColumnEverything.bind(this),storeUpdated:this.dispatchModelUpdatedEvent.bind(this)}),this.addManagedPropertyListener("datasource",()=>this.setDatasource(this.gos.get("datasource"))),this.addManagedPropertyListener("cacheBlockSize",()=>this.resetCache()),this.addManagedPropertyListener("rowHeight",()=>{this.rowHeight=Ya(this.beans),this.cacheParams.rowHeight=this.rowHeight,this.updateRowHeights()})}onColumnEverything(){var t;let e;this.cacheParams?e=!kd(this.cacheParams.sortModel,((t=this.beans.sortSvc)==null?void 0:t.getSortModel())??[]):e=!0,e&&this.reset()}getType(){return"infinite"}setDatasource(e){this.destroyDatasource(),this.datasource=e,e&&this.reset()}isEmpty(){return!this.infiniteCache}isRowsToRender(){return!!this.infiniteCache}getNodesInRangeForSelection(e,t){var n;return((n=this.infiniteCache)==null?void 0:n.getRowNodesInRange(e,t))??[]}reset(){var n;if(!this.datasource)return;Fu(this.gos)!=null||(n=this.beans.selectionSvc)==null||n.reset("rowDataChanged"),this.resetCache()}dispatchModelUpdatedEvent(){this.eventSvc.dispatchEvent({type:"modelUpdated",newPage:!1,newPageSize:!1,newData:!1,keepRenderedRows:!0,animate:!1})}resetCache(){this.destroyCache();const e=this.beans,{filterManager:t,sortSvc:n,rowNodeBlockLoader:i,eventSvc:r,gos:o}=e;this.cacheParams={datasource:this.datasource,filterModel:(t==null?void 0:t.getFilterModel())??{},sortModel:(n==null?void 0:n.getSortModel())??[],rowNodeBlockLoader:i,initialRowCount:o.get("infiniteInitialRowCount"),maxBlocksInCache:o.get("maxBlocksInCache"),rowHeight:Ya(e),overflowSize:o.get("cacheOverflowSize"),blockSize:o.get("cacheBlockSize"),lastAccessedSequence:{value:0}},this.infiniteCache=this.createBean(new yue(this.cacheParams)),r.dispatchEventOnce({type:"rowCountReady"}),this.dispatchModelUpdatedEvent()}updateRowHeights(){this.forEachNode(e=>{e.setRowHeight(this.rowHeight),e.setRowTop(this.rowHeight*e.rowIndex)}),this.dispatchModelUpdatedEvent()}destroyCache(){this.infiniteCache=this.destroyBean(this.infiniteCache)}getRow(e){const t=this.infiniteCache;if(t&&!(e>=t.getRowCount()))return t.getRow(e)}getRowNode(e){let t;return this.forEachNode(n=>{n.id===e&&(t=n)}),t}forEachNode(e){var t;(t=this.infiniteCache)==null||t.forEachNodeDeep(e)}getTopLevelRowCount(){return this.getRowCount()}getTopLevelRowDisplayedIndex(e){return e}getRowIndexAtPixel(e){if(this.rowHeight!==0){const t=Math.floor(e/this.rowHeight),n=this.getRowCount()-1;return t>n?n:t}return 0}getRowCount(){return this.infiniteCache?this.infiniteCache.getRowCount():0}isRowPresent(e){return!!this.getRowNode(e.id)}refreshCache(){var e;(e=this.infiniteCache)==null||e.refreshCache()}purgeCache(){var e;(e=this.infiniteCache)==null||e.purgeCache()}isLastRowIndexKnown(){var e;return((e=this.infiniteCache)==null?void 0:e.isLastRowIndexKnown())??!1}setRowCount(e,t){var n;(n=this.infiniteCache)==null||n.setRowCount(e,t)}};function Sue(e){var t;(t=Tg(e))==null||t.refreshCache()}function xue(e){var t;(t=Tg(e))==null||t.purgeCache()}function Eue(e){var t;return(t=Tg(e))==null?void 0:t.getRowCount()}var kue=class extends K{constructor(){super(...arguments),this.beanName="rowNodeBlockLoader",this.activeBlockLoadsCount=0,this.blocks=[],this.active=!0}postConstruct(){this.maxConcurrentRequests=QX(this.gos);const e=this.gos.get("blockLoadDebounceMillis");e&&e>0&&(this.checkBlockToLoadDebounce=Kn(this,this.performCheckBlocksToLoad.bind(this),e))}addBlock(e){this.blocks.push(e),e.addEventListener("loadComplete",this.loadComplete.bind(this)),this.checkBlockToLoad()}removeBlock(e){Ur(this.blocks,e)}destroy(){super.destroy(),this.active=!1}loadComplete(){this.activeBlockLoadsCount--,this.checkBlockToLoad()}checkBlockToLoad(){this.checkBlockToLoadDebounce?this.checkBlockToLoadDebounce():this.performCheckBlocksToLoad()}performCheckBlocksToLoad(){if(!this.active)return;if(this.printCacheStatus(),this.maxConcurrentRequests!=null&&this.activeBlockLoadsCount>=this.maxConcurrentRequests){ca(this.gos,"RowNodeBlockLoader - checkBlockToLoad: max loads exceeded");return}const e=this.maxConcurrentRequests!=null?this.maxConcurrentRequests-this.activeBlockLoadsCount:1,t=this.blocks.filter(n=>n.state==="needsLoading").slice(0,e);this.activeBlockLoadsCount+=t.length,t.forEach(n=>n.load()),this.printCacheStatus()}getBlockState(){const e={};return this.blocks.forEach(t=>{const{id:n,state:i}=t.getBlockStateJson();e[n]=i}),e}printCacheStatus(){ca(this.gos,`RowNodeBlockLoader - printCacheStatus: activePageLoadsCount = ${this.activeBlockLoadsCount}, blocks = ${JSON.stringify(this.getBlockState())}`)}},Fue={moduleName:"InfiniteRowModelCore",version:pe,rowModels:["infinite"],beans:[wue,kue]},Tue={moduleName:"InfiniteRowModel",version:pe,apiFunctions:{refreshInfiniteCache:Sue,purgeInfiniteCache:xue,getInfiniteRowCount:Eue},dependsOn:[Fue,Wle]},Aue="↑",Rue="↓",Due={tag:"span",children:[{tag:"span",ref:"eDelta",cls:"ag-value-change-delta"},{tag:"span",ref:"eValue",cls:"ag-value-change-value"}]},Mue=class extends pt{constructor(){super(Due),this.eValue=le,this.eDelta=le,this.refreshCount=0}init(e){this.refresh(e,!0)}showDelta(e,t){const n=Math.abs(t),i=e.formatValue(n),r=ue(i)?i:n,o=t>=0,s=this.eDelta;o?s.textContent=Aue+r:s.textContent=Rue+r,s.classList.toggle("ag-value-change-delta-up",o),s.classList.toggle("ag-value-change-delta-down",!o)}setTimerToRemoveDelta(){this.refreshCount++;const e=this.refreshCount;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.hideDeltaValue()},2e3)})}hideDeltaValue(){this.eValue.classList.remove("ag-value-change-value-highlight"),si(this.eDelta)}refresh(e,t=!1){var a;const{value:n,valueFormatted:i}=e,{eValue:r,lastValue:o,beans:s}=this;if(n===o||(ue(i)?r.textContent=i:ue(n)?r.textContent=n:si(r),(a=s.filterManager)!=null&&a.isSuppressFlashingCellsBecauseFiltering()))return!1;if(typeof n=="number"&&typeof o=="number"){const l=n-o;this.showDelta(e,l)}return o&&r.classList.add("ag-value-change-value-highlight"),t||this.setTimerToRemoveDelta(),this.lastValue=n,!0}},Pue=".ag-value-slide-out{opacity:1}:where(.ag-ltr) .ag-value-slide-out{margin-right:5px;transition:opacity 3s,margin-right 3s}:where(.ag-rtl) .ag-value-slide-out{margin-left:5px;transition:opacity 3s,margin-left 3s}:where(.ag-ltr,.ag-rtl) .ag-value-slide-out{transition-timing-function:linear}.ag-value-slide-out-end{opacity:0}:where(.ag-ltr) .ag-value-slide-out-end{margin-right:10px}:where(.ag-rtl) .ag-value-slide-out-end{margin-left:10px}",Iue={tag:"span",children:[{tag:"span",ref:"eCurrent",cls:"ag-value-slide-current"}]},Oue=class extends pt{constructor(){super(Iue),this.eCurrent=le,this.refreshCount=0,this.registerCSS(Pue)}init(e){this.refresh(e,!0)}addSlideAnimation(){this.refreshCount++;const e=this.refreshCount;this.ePrevious&&this.getGui().removeChild(this.ePrevious);const{beans:t,eCurrent:n}=this,i=gn({tag:"span",cls:"ag-value-slide-previous ag-value-slide-out"});this.ePrevious=i,i.textContent=n.textContent,this.getGui().insertBefore(i,n),t.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e===this.refreshCount&&this.ePrevious.classList.add("ag-value-slide-out-end")},50),window.setTimeout(()=>{e===this.refreshCount&&(this.getGui().removeChild(this.ePrevious),this.ePrevious=null)},3e3)})}refresh(e,t=!1){var r;let n=e.value;if(Bt(n)&&(n=""),n===this.lastValue||(r=this.beans.filterManager)!=null&&r.isSuppressFlashingCellsBecauseFiltering())return!1;t||this.addSlideAnimation(),this.lastValue=n;const i=this.eCurrent;return ue(e.valueFormatted)?i.textContent=e.valueFormatted:ue(e.value)?i.textContent=n:si(i),!0}},Lue=class extends K{constructor(){super(...arguments),this.beanName="cellFlashSvc"}onFlashCells(e,t){if(!e.comp)return;const n=sQ(e.cellPosition);t.cells[n]&&this.animateCell(e,"highlight")}flashCell(e,t){this.animateCell(e,"data-changed",t==null?void 0:t.flashDuration,t==null?void 0:t.fadeDuration)}animateCell(e,t,n,i){const r=e.comp;if(!r)return;const{gos:o}=this;if(n||(n=o.get("cellFlashDuration")),n===0)return;ue(i)||(i=o.get("cellFadeDuration"));const s=`ag-cell-${t}`,a=`ag-cell-${t}-animation`;r.addOrRemoveCssClass(s,!0),r.addOrRemoveCssClass(a,!1);const l=e.eGui;this.beans.frameworkOverrides.wrapIncoming(()=>{window.setTimeout(()=>{e.isAlive()&&(r.addOrRemoveCssClass(s,!1),r.addOrRemoveCssClass(a,!0),l.style.transition=`background-color ${i}ms`,window.setTimeout(()=>{e.isAlive()&&(r.addOrRemoveCssClass(a,!1),l.style.transition="")},i))},n)})}};function Nue(e,t={}){const{cellFlashSvc:n}=e;n&&e.frameworkOverrides.wrapIncoming(()=>{e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(i=>n.flashCell(i,t))})}var Bue={moduleName:"HighlightChanges",version:pe,beans:[Lue],userComponents:{agAnimateShowChangeCellRenderer:Mue,agAnimateSlideCellRenderer:Oue},apiFunctions:{flashCells:Nue}};function zue(e){var t;return((t=e.stateSvc)==null?void 0:t.getState())??{}}function Hue(e){switch(e={...e},e.version||(e.version="32.1.0"),e.version){case"32.1.0":e=Vue(e)}return e}function Vue(e){return e.cellSelection=_ue(e,"rangeSelection"),e}function _ue(e,t){if(e&&typeof e=="object")return e[t]}var Gue=class extends K{constructor(){super(...arguments),this.beanName="stateSvc",this.updateRowGroupExpansionStateTimer=0,this.suppressEvents=!0,this.queuedUpdateSources=new Set,this.dispatchStateUpdateEventDebounced=Kn(this,()=>this.dispatchQueuedStateUpdateEvents(),0),this.onRowGroupOpenedDebounced=Kn(this,()=>{this.updateCachedState("rowGroupExpansion",this.getRowGroupExpansionState())},0),this.onRowSelectedDebounced=Kn(this,()=>{this.staleStateKeys.delete("rowSelection"),this.updateCachedState("rowSelection",this.getRowSelectionState())},0),this.staleStateKeys=new Set}postConstruct(){this.isClientSideRowModel=Ci(this.gos),this.cachedState=this.getInitialState(),this.setCachedStateValue("version",pe);const e=this.suppressEventsAndDispatchInitEvent.bind(this);this.beans.ctrlsSvc.whenReady(this,()=>e(()=>this.setupStateOnGridReady()));const[t,n,i]=this.addManagedEventListeners({newColumnsLoaded:({source:r})=>{r==="gridInitializing"&&(t(),e(()=>this.setupStateOnColumnsInitialised()))},rowCountReady:()=>{n==null||n(),e(()=>this.setupStateOnRowCountReady())},firstDataRendered:()=>{i==null||i(),e(()=>this.setupStateOnFirstDataRendered())}})}destroy(){super.destroy(),clearTimeout(this.updateRowGroupExpansionStateTimer),this.queuedUpdateSources.clear()}getInitialState(){return Hue(this.gos.get("initialState")??{})}getState(){return this.staleStateKeys.size&&this.refreshStaleState(),this.cachedState}setupStateOnGridReady(){const e=()=>this.updateCachedState("sideBar",this.getSideBarState());e(),this.addManagedEventListeners({toolPanelVisibleChanged:e,sideBarUpdated:e})}setupStateOnColumnsInitialised(){const e=this.getInitialState();this.setColumnState(e),this.setColumnGroupState(e),this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","pivot","rowGroup","sort"]),this.updateCachedState("columnGroup",this.getColumnGroupState());const t=n=>()=>this.updateColumnState([n]);this.addManagedEventListeners({columnValueChanged:t("aggregation"),columnMoved:t("columnOrder"),columnPinned:t("columnPinning"),columnResized:t("columnSizing"),columnVisible:t("columnVisibility"),columnPivotChanged:t("pivot"),columnPivotModeChanged:t("pivot"),columnRowGroupChanged:t("rowGroup"),sortChanged:t("sort"),newColumnsLoaded:()=>this.updateColumnState(["aggregation","columnOrder","columnPinning","columnSizing","columnVisibility","pivot","rowGroup","sort"]),columnGroupOpened:()=>this.updateCachedState("columnGroup",this.getColumnGroupState())})}setupStateOnRowCountReady(){const{filter:e,rowGroupExpansion:t,rowSelection:n,pagination:i}=this.getInitialState();e&&this.setFilterState(e),t&&this.setRowGroupExpansionState(t),n&&this.setRowSelectionState(n),i&&this.setPaginationState(i);const r=this.updateCachedState.bind(this);r("filter",this.getFilterState()),r("rowGroupExpansion",this.getRowGroupExpansionState()),r("rowSelection",this.getRowSelectionState()),r("pagination",this.getPaginationState());const o=()=>{this.updateRowGroupExpansionStateTimer=0,r("rowGroupExpansion",this.getRowGroupExpansionState())};this.addManagedEventListeners({filterChanged:()=>r("filter",this.getFilterState()),rowGroupOpened:()=>this.onRowGroupOpenedDebounced(),expandOrCollapseAll:o,columnRowGroupChanged:o,rowDataUpdated:()=>{this.gos.get("groupDefaultExpanded")!==0&&(this.updateRowGroupExpansionStateTimer||(this.updateRowGroupExpansionStateTimer=setTimeout(o)))},selectionChanged:()=>{this.staleStateKeys.add("rowSelection"),this.onRowSelectedDebounced()},paginationChanged:s=>{(s.newPage||s.newPageSize)&&r("pagination",this.getPaginationState())}})}setupStateOnFirstDataRendered(){const{scroll:e,cellSelection:t,focusedCell:n,columnOrder:i}=this.getInitialState();n&&this.setFocusedCellState(n),t&&this.setCellSelectionState(t),e&&this.setScrollState(e),this.setColumnPivotState(!!(i!=null&&i.orderedColIds));const r=this.updateCachedState.bind(this);r("sideBar",this.getSideBarState()),r("focusedCell",this.getFocusedCellState());const o=this.getRangeSelectionState();r("rangeSelection",o),r("cellSelection",o),r("scroll",this.getScrollState()),this.addManagedEventListeners({cellFocused:()=>r("focusedCell",this.getFocusedCellState()),cellSelectionChanged:s=>{if(s.finished){const a=this.getRangeSelectionState();r("rangeSelection",a),r("cellSelection",a)}},bodyScrollEnd:()=>r("scroll",this.getScrollState())})}getColumnState(){const e=this.beans,t=e.colModel.isPivotMode(),n=[],i=[],r=[],o=[],s=[],a=[],l=[],u=[],c=[];let d=0;const h=Rd(e);for(let p=0;p<h.length;p++){const{colId:f,sort:g,sortIndex:m,rowGroup:v,rowGroupIndex:b,aggFunc:S,pivot:y,pivotIndex:x,pinned:E,hide:R,width:T,flex:F}=h[p];c.push(f),g&&(n[m??d++]={colId:f,sort:g}),v&&(i[b??0]=f),typeof S=="string"&&r.push({colId:f,aggFunc:S}),y&&(o[x??0]=f),E&&(E==="right"?a:s).push(f),R&&l.push(f),(F!=null||T)&&u.push({colId:f,flex:F??void 0,width:T})}return{sort:n.length?{sortModel:n}:void 0,rowGroup:i.length?{groupColIds:i}:void 0,aggregation:r.length?{aggregationModel:r}:void 0,pivot:o.length||t?{pivotMode:t,pivotColIds:o}:void 0,columnPinning:s.length||a.length?{leftColIds:s,rightColIds:a}:void 0,columnVisibility:l.length?{hiddenColIds:l}:void 0,columnSizing:u.length?{columnSizingModel:u}:void 0,columnOrder:c.length?{orderedColIds:c}:void 0}}setColumnState(e){const{sort:t,rowGroup:n,aggregation:i,pivot:r,columnPinning:o,columnVisibility:s,columnSizing:a,columnOrder:l,partialColumnState:u}=e,c={},d=m=>{let v=c[m];return v||(v={colId:m},c[m]=v,v)},h=u?{}:{sort:null,sortIndex:null,rowGroup:null,rowGroupIndex:null,aggFunc:null,pivot:null,pivotIndex:null,pinned:null,hide:null,flex:null};t&&(t.sortModel.forEach(({colId:m,sort:v},b)=>{const S=d(m);S.sort=v,S.sortIndex=b}),h.sort=null,h.sortIndex=null),n&&(n.groupColIds.forEach((m,v)=>{const b=d(m);b.rowGroup=!0,b.rowGroupIndex=v}),h.rowGroup=null,h.rowGroupIndex=null),i&&(i.aggregationModel.forEach(({colId:m,aggFunc:v})=>{d(m).aggFunc=v}),h.aggFunc=null),r&&(r.pivotColIds.forEach((m,v)=>{const b=d(m);b.pivot=!0,b.pivotIndex=v}),this.gos.updateGridOptions({options:{pivotMode:r.pivotMode},source:"gridInitializing"}),h.pivot=null,h.pivotIndex=null),o&&(o.leftColIds.forEach(m=>{d(m).pinned="left"}),o.rightColIds.forEach(m=>{d(m).pinned="right"}),h.pinned=null),s&&(s.hiddenColIds.forEach(m=>{d(m).hide=!0}),h.hide=null),a&&(a.columnSizingModel.forEach(({colId:m,flex:v,width:b})=>{const S=d(m);S.flex=v??null,S.width=b}),h.flex=null);const p=l==null?void 0:l.orderedColIds,f=!!(p!=null&&p.length),g=f?p.map(m=>d(m)):Object.values(c);g.length&&(this.columnStates=g,tr(this.beans,{state:g,applyOrder:f,defaultState:h},"gridInitializing"))}setColumnPivotState(e){const t=this.columnStates;this.columnStates=void 0;const n=this.columnGroupStates;this.columnGroupStates=void 0;const i=this.beans,{pivotResultCols:r,colGroupSvc:o}=i;if(r!=null&&r.isPivotResultColsPresent()){if(t){const s=[];for(const a of t)r.getPivotResultCol(a.colId)&&s.push(a);tr(i,{state:s,applyOrder:e},"gridInitializing")}n&&(o==null||o.setColumnGroupState(n,"gridInitializing"))}}getColumnGroupState(){const e=this.beans.colGroupSvc;if(!e)return;const t=e.getColumnGroupState(),n=[];return t.forEach(({groupId:i,open:r})=>{r&&n.push(i)}),n.length?{openColumnGroupIds:n}:void 0}setColumnGroupState(e){var o;const t=this.beans.colGroupSvc;if(!Object.prototype.hasOwnProperty.call(e,"columnGroup")||!t)return;const n=new Set((o=e.columnGroup)==null?void 0:o.openColumnGroupIds),r=t.getColumnGroupState().map(({groupId:s})=>{const a=n.has(s);return a&&n.delete(s),{groupId:s,open:a}});n.forEach(s=>{r.push({groupId:s,open:!0})}),r.length&&(this.columnGroupStates=r),t.setColumnGroupState(r,"gridInitializing")}getFilterState(){const e=this.beans.filterManager;let t=e==null?void 0:e.getFilterModel();t&&Object.keys(t).length===0&&(t=void 0);const n=(e==null?void 0:e.getAdvFilterModel())??void 0;return t||n?{filterModel:t,advancedFilterModel:n}:void 0}setFilterState(e){const t=this.beans.filterManager,{filterModel:n,advancedFilterModel:i}=e??{};n&&(t==null||t.setFilterModel(n,"columnFilter")),i&&(t==null||t.setAdvFilterModel(i,"advancedFilter"))}getRangeSelectionState(){var t;const e=(t=this.beans.rangeSvc)==null?void 0:t.getCellRanges().map(n=>{const{id:i,type:r,startRow:o,endRow:s,columns:a,startColumn:l}=n;return{id:i,type:r,startRow:o,endRow:s,colIds:a.map(u=>u.getColId()),startColId:l.getColId()}});return e!=null&&e.length?{cellRanges:e}:void 0}setCellSelectionState(e){const{gos:t,rangeSvc:n,colModel:i,visibleCols:r}=this.beans;if(!ps(t)||!n)return;const o=[];e.cellRanges.forEach(s=>{const a=[];if(s.colIds.forEach(u=>{const c=i.getCol(u);c&&a.push(c)}),!a.length)return;let l=i.getCol(s.startColId);if(!l){const u=r.allCols,c=new Set(a);l=u.find(d=>c.has(d))}o.push({...s,columns:a,startColumn:l})}),n.setCellRanges(o)}getScrollState(){if(!this.isClientSideRowModel)return;const e=this.beans.ctrlsSvc.getScrollFeature(),{left:t}=(e==null?void 0:e.getHScrollPosition())??{left:0},{top:n}=(e==null?void 0:e.getVScrollPosition())??{top:0};return n||t?{top:n,left:t}:void 0}setScrollState(e){if(!this.isClientSideRowModel)return;const{top:t,left:n}=e,{frameworkOverrides:i,rowRenderer:r,animationFrameSvc:o,ctrlsSvc:s}=this.beans;i.wrapIncoming(()=>{var a;s.get("center").setCenterViewportScrollLeft(n),(a=s.getScrollFeature())==null||a.setVerticalScrollPosition(t),r.redraw({afterScroll:!0}),o==null||o.flushAllFrames()})}getSideBarState(){var e,t;return(t=(e=this.beans.sideBar)==null?void 0:e.comp)==null?void 0:t.getState()}getFocusedCellState(){if(!this.isClientSideRowModel)return;const e=this.beans.focusSvc.getFocusedCell();if(e){const{column:t,rowIndex:n,rowPinned:i}=e;return{colId:t.getColId(),rowIndex:n,rowPinned:i}}}setFocusedCellState(e){if(!this.isClientSideRowModel)return;const{colId:t,rowIndex:n,rowPinned:i}=e,{focusSvc:r,colModel:o}=this.beans;r.setFocusedCell({column:o.getCol(t),rowIndex:n,rowPinned:i,forceBrowserFocus:!0,preventScrollOnBrowserFocus:!0})}getPaginationState(){const{pagination:e,gos:t}=this.beans;if(!e)return;const n=e.getCurrentPage(),i=t.get("paginationAutoPageSize")?void 0:e.getPageSize();if(!(!n&&!i))return{page:n,pageSize:i}}setPaginationState(e){const{pagination:t,gos:n}=this.beans;t&&(e.pageSize&&!n.get("paginationAutoPageSize")&&t.setPageSize(e.pageSize,"initialState"),typeof e.page=="number"&&t.setPage(e.page))}getRowSelectionState(){var i;const e=this.beans.selectionSvc;if(!e)return;const t=e.getSelectionState();return!t||!Array.isArray(t)&&(t.selectAll===!1||t.selectAllChildren===!1)&&!((i=t==null?void 0:t.toggledNodes)!=null&&i.length)?void 0:t}setRowSelectionState(e){var t;(t=this.beans.selectionSvc)==null||t.setSelectionState(e,"gridInitializing")}getRowGroupExpansionState(){const{expansionSvc:e,rowModel:t}=this.beans;if(!e)return;const n=[];return t.forEachNode(({expanded:i,id:r})=>{i&&r&&n.push(r)}),n.length?{expandedRowGroupIds:n}:void 0}setRowGroupExpansionState(e){var t;(t=this.beans.expansionSvc)==null||t.expandRows(e.expandedRowGroupIds)}updateColumnState(e){const t=this.getColumnState();let n=!1;const i=this.cachedState;for(const r of Object.keys(t)){const o=t[r];kd(o,i[r])||(n=!0)}this.cachedState={...i,...t},n&&this.dispatchStateUpdateEvent(e)}updateCachedState(e,t){const n=this.cachedState[e];this.setCachedStateValue(e,t),kd(t,n)||this.dispatchStateUpdateEvent([e])}setCachedStateValue(e,t){this.cachedState={...this.cachedState,[e]:t}}refreshStaleState(){const e=this.staleStateKeys;e.forEach(t=>{switch(t){case"rowSelection":this.setCachedStateValue(t,this.getRowSelectionState());break}}),e.clear()}dispatchStateUpdateEvent(e){this.suppressEvents||(e.forEach(t=>this.queuedUpdateSources.add(t)),this.dispatchStateUpdateEventDebounced())}dispatchQueuedStateUpdateEvents(){const e=this.queuedUpdateSources,t=Array.from(e);e.clear(),this.eventSvc.dispatchEvent({type:"stateUpdated",sources:t,state:this.cachedState})}suppressEventsAndDispatchInitEvent(e){this.suppressEvents=!0;const t=this.beans.colAnimation;t==null||t.setSuppressAnimation(!0),e(),setTimeout(()=>{this.suppressEvents=!1,this.queuedUpdateSources.clear(),this.isAlive()&&(t==null||t.setSuppressAnimation(!1),this.dispatchStateUpdateEvent(["gridInitializing"]))})}},Wue={moduleName:"GridState",version:pe,beans:[Gue],apiFunctions:{getState:zue}};function $ue(e){return e.rowModel.isLastRowIndexKnown()}function Uue(e){var t;return((t=e.pagination)==null?void 0:t.getPageSize())??100}function jue(e){var t;return((t=e.pagination)==null?void 0:t.getCurrentPage())??0}function que(e){var t;return((t=e.pagination)==null?void 0:t.getTotalPages())??1}function Kue(e){return e.pagination?e.pagination.getMasterRowCount():e.rowModel.getRowCount()}function Yue(e){var t;(t=e.pagination)==null||t.goToNextPage()}function Xue(e){var t;(t=e.pagination)==null||t.goToPreviousPage()}function Jue(e){var t;(t=e.pagination)==null||t.goToFirstPage()}function Zue(e){var t;(t=e.pagination)==null||t.goToLastPage()}function Que(e,t){var n;(n=e.pagination)==null||n.goToPage(t)}var ece=class extends K{constructor(){super(...arguments),this.beanName="paginationAutoPageSizeSvc"}postConstruct(){this.beans.ctrlsSvc.whenReady(this,e=>{this.centerRowsCtrl=e.center;const t=this.checkPageSize.bind(this);this.addManagedEventListeners({bodyHeightChanged:t,scrollVisibilityChanged:t}),this.addManagedPropertyListener("paginationAutoPageSize",this.onPaginationAutoSizeChanged.bind(this)),this.checkPageSize()})}notActive(){return!this.gos.get("paginationAutoPageSize")||this.centerRowsCtrl==null}onPaginationAutoSizeChanged(){this.notActive()?this.beans.pagination.unsetAutoCalculatedPageSize():this.checkPageSize()}checkPageSize(){if(this.notActive())return;const e=this.centerRowsCtrl.viewportSizeFeature.getBodyHeight();if(e>0){const t=this.beans,n=()=>{const i=Math.max(Ya(t),1),r=Math.floor(e/i);t.pagination.setPageSize(r,"autoCalculated")};this.isBodyRendered?Kn(this,n,50)():(n(),this.isBodyRendered=!0)}else this.isBodyRendered=!1}},tc="paginationPageSizeSelector",tce={tag:"span",cls:"ag-paging-page-size"},nce=class extends pt{constructor(){super(tce),this.hasEmptyOption=!1,this.handlePageSizeItemSelected=()=>{if(!this.selectPageSizeComp)return;const e=this.selectPageSizeComp.getValue();if(!e)return;const t=Number(e);isNaN(t)||t<1||t===this.pagination.getPageSize()||(this.pagination.setPageSize(t,"pageSizeSelector"),this.hasEmptyOption&&this.toggleSelectDisplay(!0),this.selectPageSizeComp.getFocusableElement().focus())}}wireBeans(e){this.pagination=e.pagination}postConstruct(){this.addManagedPropertyListener(tc,()=>{this.onPageSizeSelectorValuesChange()}),this.addManagedEventListeners({paginationChanged:e=>this.handlePaginationChanged(e)})}handlePaginationChanged(e){if(!this.selectPageSizeComp||!(e!=null&&e.newPageSize))return;const t=this.pagination.getPageSize();this.getPageSizeSelectorValues().includes(t)?this.selectPageSizeComp.setValue(t.toString()):this.hasEmptyOption?this.selectPageSizeComp.setValue(""):this.toggleSelectDisplay(!0)}toggleSelectDisplay(e){this.selectPageSizeComp&&!e&&this.reset(),e&&(this.reloadPageSizesSelector(),this.selectPageSizeComp)}reset(){si(this.getGui()),this.selectPageSizeComp&&(this.selectPageSizeComp=this.destroyBean(this.selectPageSizeComp))}onPageSizeSelectorValuesChange(){this.selectPageSizeComp&&this.shouldShowPageSizeSelector()&&this.reloadPageSizesSelector()}shouldShowPageSizeSelector(){return this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel")&&!this.gos.get("paginationAutoPageSize")&&this.gos.get(tc)!==!1}reloadPageSizesSelector(){const e=this.getPageSizeSelectorValues(),t=this.pagination.getPageSize(),n=!t||!e.includes(t);if(n){const r=this.gos.exists("paginationPageSize"),o=this.gos.get(tc)!==!0;ie(94,{pageSizeSet:r,pageSizesSet:o,pageSizeOptions:e,paginationPageSizeOption:t}),o||ie(95,{paginationPageSizeOption:t,paginationPageSizeSelector:tc}),e.unshift("")}const i=String(n?"":t);this.selectPageSizeComp?(bl(this.pageSizeOptions,e)||(this.selectPageSizeComp.clearOptions().addOptions(this.createPageSizeSelectOptions(e)),this.pageSizeOptions=e),this.selectPageSizeComp.setValue(i,!0)):this.createPageSizeSelectorComp(e,i),this.hasEmptyOption=n}createPageSizeSelectOptions(e){return e.map(t=>({value:String(t)}))}createPageSizeSelectorComp(e,t){const n=this.getLocaleTextFunc(),i=n("pageSizeSelectorLabel","Page Size:"),r=n("ariaPageSizeSelectorLabel","Page Size");this.selectPageSizeComp=this.createManagedBean(new dw).addOptions(this.createPageSizeSelectOptions(e)).setValue(t).setAriaLabel(r).setLabel(i).onValueChange(()=>this.handlePageSizeItemSelected()),this.appendChild(this.selectPageSizeComp)}getPageSizeSelectorValues(){const e=[20,50,100],t=this.gos.get(tc);return!Array.isArray(t)||!(t!=null&&t.length)?e:[...t].sort((n,i)=>n-i)}destroy(){this.toggleSelectDisplay(!1),super.destroy()}},ice={selector:"AG-PAGE-SIZE-SELECTOR",component:nce},rce=".ag-paging-panel{align-items:center;border-top:var(--ag-footer-row-border);display:flex;gap:calc(var(--ag-spacing)*4);height:max(var(--ag-row-height),22px);justify-content:flex-end;padding:0 var(--ag-cell-horizontal-padding)}:where(.ag-paging-page-size) .ag-wrapper{min-width:50px}.ag-paging-page-summary-panel{align-items:center;display:flex;gap:var(--ag-cell-widget-spacing);.ag-disabled &{pointer-events:none}}.ag-paging-button{cursor:pointer;position:relative;&.ag-disabled{cursor:default;opacity:.5}}.ag-paging-number,.ag-paging-row-summary-panel-number{font-weight:500}",oce=class extends tR{constructor(){super(),this.btFirst=le,this.btPrevious=le,this.btNext=le,this.btLast=le,this.lbRecordCount=le,this.lbFirstRowOnPage=le,this.lbLastRowOnPage=le,this.lbCurrent=le,this.lbTotal=le,this.pageSizeComp=le,this.previousAndFirstButtonsDisabled=!1,this.nextButtonDisabled=!1,this.lastButtonDisabled=!1,this.areListenersSetup=!1,this.allowFocusInnerElement=!1,this.registerCSS(rce)}wireBeans(e){this.rowModel=e.rowModel,this.pagination=e.pagination,this.ariaAnnounce=e.ariaAnnounce}postConstruct(){const e=this.gos.get("enableRtl");this.setTemplate(this.getTemplate(),[ice]);const{btFirst:t,btPrevious:n,btNext:i,btLast:r}=this;this.activateTabIndex([t,n,i,r]),t.insertAdjacentElement("afterbegin",br(e?"last":"first",this.beans)),n.insertAdjacentElement("afterbegin",br(e?"next":"previous",this.beans)),i.insertAdjacentElement("afterbegin",br(e?"previous":"next",this.beans)),r.insertAdjacentElement("afterbegin",br(e?"first":"last",this.beans)),this.addManagedPropertyListener("pagination",this.onPaginationChanged.bind(this)),this.addManagedPropertyListener("suppressPaginationPanel",this.onPaginationChanged.bind(this)),this.addManagedPropertyListeners(["paginationPageSizeSelector","paginationAutoPageSize","suppressPaginationPanel"],()=>this.onPageSizeRelatedOptionsChange()),this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector()),this.initialiseTabGuard({onTabKeyDown:()=>{},focusInnerElement:o=>this.allowFocusInnerElement?this.tabGuardFeature.getTabGuardCtrl().focusInnerElement(o):WZ(this.beans,o),forceFocusOutWhenTabGuardsAreEmpty:!0}),this.onPaginationChanged()}setAllowFocus(e){this.allowFocusInnerElement=e}onPaginationChanged(){const t=this.gos.get("pagination")&&!this.gos.get("suppressPaginationPanel");this.setDisplayed(t),t&&(this.setupListeners(),this.enableOrDisableButtons(),this.updateLabels(),this.onPageSizeRelatedOptionsChange())}onPageSizeRelatedOptionsChange(){this.pageSizeComp.toggleSelectDisplay(this.pageSizeComp.shouldShowPageSizeSelector())}setupListeners(){this.areListenersSetup||(this.addManagedEventListeners({paginationChanged:this.onPaginationChanged.bind(this)}),[{el:this.btFirst,fn:this.onBtFirst.bind(this)},{el:this.btPrevious,fn:this.onBtPrevious.bind(this)},{el:this.btNext,fn:this.onBtNext.bind(this)},{el:this.btLast,fn:this.onBtLast.bind(this)}].forEach(e=>{const{el:t,fn:n}=e;this.addManagedListeners(t,{click:n,keydown:i=>{(i.key===j.ENTER||i.key===j.SPACE)&&(i.preventDefault(),n())}})}),GZ(this.beans,this,this.getGui()),this.areListenersSetup=!0)}onBtFirst(){this.previousAndFirstButtonsDisabled||this.pagination.goToFirstPage()}formatNumber(e){const t=this.gos.getCallback("paginationNumberFormatter");return t?t({value:e}):ese(e,this.getLocaleTextFunc.bind(this))}getTemplate(){const e=this.getLocaleTextFunc(),t=`ag-${this.getCompId()}`;return{tag:"div",cls:"ag-paging-panel ag-unselectable",attrs:{id:`${t}`},children:[{tag:"ag-page-size-selector",ref:"pageSizeComp"},{tag:"span",cls:"ag-paging-row-summary-panel",children:[{tag:"span",ref:"lbFirstRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-first-row`}},{tag:"span",attrs:{id:`${t}-to`},children:e("to","to")},{tag:"span",ref:"lbLastRowOnPage",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-last-row`}},{tag:"span",attrs:{id:`${t}-of`},children:e("of","of")},{tag:"span",ref:"lbRecordCount",cls:"ag-paging-row-summary-panel-number",attrs:{id:`${t}-row-count`}}]},{tag:"span",cls:"ag-paging-page-summary-panel",role:"presentation",children:[{tag:"div",ref:"btFirst",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("firstPage","First Page")}},{tag:"div",ref:"btPrevious",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("previousPage","Previous Page")}},{tag:"span",cls:"ag-paging-description",children:[{tag:"span",attrs:{id:`${t}-start-page`},children:e("page","Page")},{tag:"span",ref:"lbCurrent",cls:"ag-paging-number",attrs:{id:`${t}-start-page-number`}},{tag:"span",attrs:{id:`${t}-of-page`},children:e("of","of")},{tag:"span",ref:"lbTotal",cls:"ag-paging-number",attrs:{id:`${t}-of-page-number`}}]},{tag:"div",ref:"btNext",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("nextPage","Next Page")}},{tag:"div",ref:"btLast",cls:"ag-button ag-paging-button",role:"button",attrs:{"aria-label":e("lastPage","Last Page")}}]}]}}onBtNext(){this.nextButtonDisabled||this.pagination.goToNextPage()}onBtPrevious(){this.previousAndFirstButtonsDisabled||this.pagination.goToPreviousPage()}onBtLast(){this.lastButtonDisabled||this.pagination.goToLastPage()}enableOrDisableButtons(){const e=this.pagination.getCurrentPage(),t=this.rowModel.isLastRowIndexKnown(),n=this.pagination.getTotalPages();this.previousAndFirstButtonsDisabled=e===0,this.toggleButtonDisabled(this.btFirst,this.previousAndFirstButtonsDisabled),this.toggleButtonDisabled(this.btPrevious,this.previousAndFirstButtonsDisabled);const i=this.isZeroPagesToDisplay(),r=e===n-1;this.nextButtonDisabled=r||i,this.lastButtonDisabled=!t||i||e===n-1,this.toggleButtonDisabled(this.btNext,this.nextButtonDisabled),this.toggleButtonDisabled(this.btLast,this.lastButtonDisabled)}toggleButtonDisabled(e,t){vX(e,t),e.classList.toggle("ag-disabled",t)}isZeroPagesToDisplay(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages();return e&&t===0}updateLabels(){const e=this.rowModel.isLastRowIndexKnown(),t=this.pagination.getTotalPages(),n=this.pagination.getMasterRowCount(),i=e?n:null,r=this.pagination.getCurrentPage(),o=this.pagination.getPageSize();let s,a;this.isZeroPagesToDisplay()?s=a=0:(s=o*r+1,a=s+o-1,e&&a>i&&(a=i));const l=s+o-1,u=!e&&n<l,c=this.formatNumber(s);this.lbFirstRowOnPage.textContent=c;let d;const h=this.getLocaleTextFunc();u?d=h("pageLastRowUnknown","?"):d=this.formatNumber(a),this.lbLastRowOnPage.textContent=d;const f=t>0?r+1:0,g=this.formatNumber(f);this.lbCurrent.textContent=g;let m,v;if(e)m=this.formatNumber(t),v=this.formatNumber(i);else{const b=h("more","more");m=b,v=b}this.lbTotal.textContent=m,this.lbRecordCount.textContent=v,this.announceAriaStatus(c,d,v,g,m)}announceAriaStatus(e,t,n,i,r){var d,h;const o=this.getLocaleTextFunc(),s=o("page","Page"),a=o("to","to"),l=o("of","of"),u=`${e} ${a} ${t} ${l} ${n}`,c=`${s} ${i} ${l} ${r}`;u!==this.ariaRowStatus&&(this.ariaRowStatus=u,(d=this.ariaAnnounce)==null||d.announceValue(u,"paginationRow")),c!==this.ariaPageStatus&&(this.ariaPageStatus=c,(h=this.ariaAnnounce)==null||h.announceValue(c,"paginationPage"))}setTotalLabelsToZero(){const e=this.formatNumber(0);this.lbFirstRowOnPage.textContent=e,this.lbCurrent.textContent=e,this.lbLastRowOnPage.textContent=e,this.lbTotal.textContent=e,this.lbRecordCount.textContent=e,this.announceAriaStatus(e,e,e,e,e)}},sce={selector:"AG-PAGINATION",component:oce},ace=class extends K{constructor(){super(...arguments),this.beanName="pagination",this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=0,this.masterRowCount=0}postConstruct(){const e=this.gos;this.active=e.get("pagination"),this.pageSizeFromGridOptions=e.get("paginationPageSize"),this.paginateChildRows=this.isPaginateChildRows(),this.addManagedPropertyListener("pagination",this.onPaginationGridOptionChanged.bind(this)),this.addManagedPropertyListener("paginationPageSize",this.onPageSizeGridOptionChanged.bind(this))}getPaginationSelector(){return sce}isPaginateChildRows(){const e=this.gos;return e.get("groupHideParentOfSingleChild")||e.get("groupRemoveSingleChildren")||e.get("groupRemoveLowestSingleChildren")?!0:e.get("paginateChildRows")}onPaginationGridOptionChanged(){this.active=this.gos.get("pagination"),this.calculatePages(),this.dispatchPaginationChangedEvent({keepRenderedRows:!0})}onPageSizeGridOptionChanged(){this.setPageSize(this.gos.get("paginationPageSize"),"gridOptions")}goToPage(e){const t=this.currentPage;!this.active||t===e||typeof t!="number"||(this.currentPage=e,this.calculatePages(),this.dispatchPaginationChangedEvent({newPage:!0}))}goToPageWithIndex(e){var n,i;if(!this.active)return;let t=e;this.paginateChildRows||(t=((i=(n=this.beans.rowModel).getTopLevelIndexFromDisplayedIndex)==null?void 0:i.call(n,e))??e),this.goToPage(Math.floor(t/this.pageSize))}isRowInPage(e){return this.active?e>=this.topDisplayedRowIndex&&e<=this.bottomDisplayedRowIndex:!0}getCurrentPage(){return this.currentPage}goToNextPage(){this.goToPage(this.currentPage+1)}goToPreviousPage(){this.goToPage(this.currentPage-1)}goToFirstPage(){this.goToPage(0)}goToLastPage(){const e=this.beans.rowModel.getRowCount(),t=Math.floor(e/this.pageSize);this.goToPage(t)}getPageSize(){return this.pageSize}getTotalPages(){return this.totalPages}setPage(e){this.currentPage=e}get pageSize(){return ue(this.pageSizeAutoCalculated)&&this.gos.get("paginationAutoPageSize")?this.pageSizeAutoCalculated:ue(this.pageSizeFromPageSizeSelector)?this.pageSizeFromPageSizeSelector:ue(this.pageSizeFromInitialState)?this.pageSizeFromInitialState:ue(this.pageSizeFromGridOptions)?this.pageSizeFromGridOptions:this.defaultPageSize}calculatePages(){this.active?this.paginateChildRows?this.calculatePagesAllRows():this.calculatePagesMasterRowsOnly():this.calculatedPagesNotActive(),this.beans.pageBounds.calculateBounds(this.topDisplayedRowIndex,this.bottomDisplayedRowIndex)}unsetAutoCalculatedPageSize(){if(this.pageSizeAutoCalculated===void 0)return;const e=this.pageSizeAutoCalculated;this.pageSizeAutoCalculated=void 0,this.pageSize!==e&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0}))}setPageSize(e,t){const n=this.pageSize;switch(t){case"autoCalculated":this.pageSizeAutoCalculated=e;break;case"pageSizeSelector":this.pageSizeFromPageSizeSelector=e,this.currentPage!==0&&this.goToFirstPage();break;case"initialState":this.pageSizeFromInitialState=e;break;case"gridOptions":this.pageSizeFromGridOptions=e,this.pageSizeFromInitialState=void 0,this.pageSizeFromPageSizeSelector=void 0,this.currentPage!==0&&this.goToFirstPage();break}n!==this.pageSize&&(this.calculatePages(),this.dispatchPaginationChangedEvent({newPageSize:!0,keepRenderedRows:!0}))}setZeroRows(){this.masterRowCount=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=-1,this.currentPage=0,this.totalPages=0}adjustCurrentPageIfInvalid(){const e=this.totalPages;this.currentPage>=e&&(this.currentPage=e-1);const t=this.currentPage;(!isFinite(t)||isNaN(t)||t<0)&&(this.currentPage=0)}calculatePagesMasterRowsOnly(){const e=this.beans.rowModel,t=e.getTopLevelRowCount();if(this.masterRowCount=t,t<=0){this.setZeroRows();return}const n=this.pageSize,i=t-1;this.totalPages=Math.floor(i/n)+1,this.adjustCurrentPageIfInvalid();const r=this.currentPage,o=n*r;let s=n*(r+1)-1;if(s>i&&(s=i),this.topDisplayedRowIndex=e.getTopLevelRowDisplayedIndex(o),s===i)this.bottomDisplayedRowIndex=e.getRowCount()-1;else{const a=e.getTopLevelRowDisplayedIndex(s+1);this.bottomDisplayedRowIndex=a-1}}getMasterRowCount(){return this.masterRowCount}calculatePagesAllRows(){const e=this.beans.rowModel.getRowCount();if(this.masterRowCount=e,e===0){this.setZeroRows();return}const{pageSize:t,currentPage:n}=this,i=e-1;this.totalPages=Math.floor(i/t)+1,this.adjustCurrentPageIfInvalid(),this.topDisplayedRowIndex=t*n,this.bottomDisplayedRowIndex=t*(n+1)-1,this.bottomDisplayedRowIndex>i&&(this.bottomDisplayedRowIndex=i)}calculatedPagesNotActive(){this.setPageSize(void 0,"autoCalculated"),this.totalPages=1,this.currentPage=0,this.topDisplayedRowIndex=0,this.bottomDisplayedRowIndex=this.beans.rowModel.getRowCount()-1}dispatchPaginationChangedEvent(e){const{keepRenderedRows:t=!1,newPage:n=!1,newPageSize:i=!1}=e;this.eventSvc.dispatchEvent({type:"paginationChanged",animate:!1,newData:!1,newPage:n,newPageSize:i,keepRenderedRows:t})}},lce={moduleName:"Pagination",version:pe,beans:[ace,ece],icons:{first:"first",previous:"previous",next:"next",last:"last"},apiFunctions:{paginationIsLastPageFound:$ue,paginationGetPageSize:Uue,paginationGetCurrentPage:jue,paginationGetTotalPages:que,paginationGetRowCount:Kue,paginationGoToNextPage:Yue,paginationGoToPreviousPage:Xue,paginationGoToFirstPage:Jue,paginationGoToLastPage:Zue,paginationGoToPage:Que},dependsOn:[Ag]};function uce(e,t={}){const n=t?t.rowNodes:void 0;e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.redrawRows(n))}function iD(e,t,n,i,r){t&&(i&&t.parent&&t.parent.level!==-1&&iD(e,t.parent,n,i,r),t.setExpanded(n,void 0,r))}function cce(e,t){return e.rowModel.getRowNode(t)}function dce(e,t,n,i){e.rowRenderer.addRenderedRowListener(t,n,i)}function hce(e){return e.rowRenderer.getRenderedNodes()}function pce(e,t,n){e.rowModel.forEachNode(t,n)}function fce(e){return e.rowRenderer.firstRenderedRow}function gce(e){return e.rowRenderer.lastRenderedRow}function mce(e,t){return e.rowModel.getRow(t)}function vce(e){return e.rowModel.getRowCount()}var rD={moduleName:"RowApi",version:pe,apiFunctions:{redrawRows:uce,setRowNodeExpanded:iD,getRowNode:cce,addRenderedRowListener:dce,getRenderedNodes:hce,forEachNode:pce,getFirstDisplayedRowIndex:fce,getLastDisplayedRowIndex:gce,getDisplayedRowAtIndex:mce,getDisplayedRowCount:vce}},Cce={moduleName:"ScrollApi",version:pe,apiFunctions:{getVerticalPixelRange:Jae,getHorizontalPixelRange:Zae,ensureColumnVisible:JR,ensureIndexVisible:ZR,ensureNodeVisible:Qae}};function bce(e,t,n){if(!t)return;const i=e.ctrlsSvc.getGridBodyCtrl().eGridBody,r=`aria-${t}`;n===null?i.removeAttribute(r):i.setAttribute(r,n)}function yce(e,t={}){e.frameworkOverrides.wrapIncoming(()=>e.rowRenderer.refreshCells(t))}function wce(e){e.frameworkOverrides.wrapIncoming(()=>e.ctrlsSvc.getHeaderRowContainerCtrls().forEach(t=>t.refresh()))}function Sce(e){var t;return((t=e.animationFrameSvc)==null?void 0:t.isQueueEmpty())??!0}function xce(e){var t;(t=e.animationFrameSvc)==null||t.flushAllFrames()}function Ece(e){return{rowHeight:Ya(e),headerHeight:ah(e)}}function kce(e,t={}){var o;const n=[];if(e.rowRenderer.getCellCtrls(t.rowNodes,t.columns).forEach(s=>{const a=s.getCellRenderer();a!=null&&n.push(Dd(a))}),(o=t.columns)!=null&&o.length)return n;const i=[],r=hC(t.rowNodes);return e.rowRenderer.getAllRowCtrls().forEach(s=>{if(r&&!pC(s.rowNode,r)||!s.isFullWidth())return;const a=s.getFullWidthCellRenderers();for(let l=0;l<a.length;l++){const u=a[l];u!=null&&i.push(Dd(u))}}),[...i,...n]}var Fce={moduleName:"RenderApi",version:pe,apiFunctions:{setGridAriaProperty:bce,refreshCells:yce,refreshHeader:wce,isAnimationFrameQueueEmpty:Sce,flushAllAnimationFrames:xce,getSizesForCurrentTheme:Ece,getCellRendererInstances:kce}};function Tce(e,t){var n,i;typeof t=="number"?(n=e.colAutosize)==null||n.sizeColumnsToFit(t,"api"):(i=e.colAutosize)==null||i.sizeColumnsToFitGridBody(t)}function Ace(e,t,n){var i;(i=e.colAutosize)==null||i.autoSizeCols({colKeys:t,skipHeader:n,source:"api"})}function Rce(e,t){var n;(n=e.colAutosize)==null||n.autoSizeAllColumns("api",t)}var Dce=class extends K{constructor(){super(...arguments),this.beanName="colAutosize",this.timesDelayed=0,this.shouldQueueResizeOperations=!1,this.resizeOperationQueue=[]}postConstruct(){this.addManagedEventListeners({firstDataRendered:()=>this.onFirstDataRendered()})}autoSizeCols(e){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeCols(e));return}const{colKeys:t,skipHeader:n,skipHeaderGroups:i,stopAtGroup:r,source:o="api"}=e,{animationFrameSvc:s,renderStatus:a,colModel:l,autoWidthCalc:u,visibleCols:c}=this.beans;if(s==null||s.flushAllFrames(),this.timesDelayed<5&&a&&!a.areHeaderCellsRendered()){this.timesDelayed++,setTimeout(()=>{this.isAlive()&&this.autoSizeCols(e)});return}this.timesDelayed=0;const d=[];let h=-1;const p=n??this.gos.get("skipHeaderOnAutoSize"),f=i??p;for(;h!==0;){h=0;const g=[];t.forEach(m=>{if(!m)return;const v=l.getCol(m);if(!v||Au(v)||d.indexOf(v)>=0)return;const b=u.getPreferredWidthForColumn(v,p);if(b>0){const S=Mce(v,b);v.setActualWidth(S,o),d.push(v),h++}g.push(v)}),g.length&&c.refresh(o)}f||this.autoSizeColumnGroupsByColumns(t,o,r),Ru(this.eventSvc,d,!0,"autosizeColumns")}autoSizeColumn(e,t,n){e&&this.autoSizeCols({colKeys:[e],skipHeader:n,skipHeaderGroups:!0,source:t})}autoSizeColumnGroupsByColumns(e,t,n){const{colModel:i,ctrlsSvc:r}=this.beans,o=new Set;i.getColsForKeys(e).forEach(u=>{let c=u.getParent();for(;c&&c!=n;)c.isPadding()||o.add(c),c=c.getParent()});let a;const l=[];for(const u of o){for(const c of r.getHeaderRowContainerCtrls())if(a=c.getHeaderCtrlForColumn(u),a)break;a&&a.resizeLeafColumnsToFit(t)}return l}autoSizeAllColumns(e,t){if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.autoSizeAllColumns(e,t));return}const n=this.beans.visibleCols.allCols;this.autoSizeCols({colKeys:n,skipHeader:t,source:e})}addColumnAutosize(e,t){const n=this.gos.get("skipHeaderOnAutoSize"),i=()=>{this.autoSizeColumn(t,"uiColumnResized",n)};e.addEventListener("dblclick",i);const r=new Vl(e);return r.addEventListener("doubleTap",i),()=>{e.removeEventListener("dblclick",i),r.removeEventListener("doubleTap",i),r.destroy()}}addColumnGroupResize(e,t,n){const i=this.gos.get("skipHeaderOnAutoSize"),r=()=>{const o=[];t.getDisplayedLeafColumns().forEach(a=>{a.getColDef().suppressAutoSize||o.push(a.getColId())}),o.length>0&&this.autoSizeCols({colKeys:o,skipHeader:i,stopAtGroup:t,source:"uiColumnResized"}),n()};return e.addEventListener("dblclick",r),()=>e.removeEventListener("dblclick",r)}sizeColumnsToFitGridBody(e,t){if(!this.isAlive())return;const{ctrlsSvc:n,scrollVisibleSvc:i}=this.beans,r=n.getGridBodyCtrl(),s=r.isVerticalScrollShowing()?i.getScrollbarWidth():0,l=Ed(r.eGridBody)-s;if(l>0){this.sizeColumnsToFit(l,"sizeColumnsToFit",!1,e);return}t===void 0?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,100)},0):t===100?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,500)},100):t===500?window.setTimeout(()=>{this.sizeColumnsToFitGridBody(e,-1)},500):ie(29)}sizeColumnsToFit(e,t="sizeColumnsToFit",n,i){var p;if(this.shouldQueueResizeOperations){this.pushResizeOperation(()=>this.sizeColumnsToFit(e,t,n,i));return}const r={};i&&((p=i==null?void 0:i.columnLimits)==null||p.forEach(({key:f,...g})=>{r[typeof f=="string"?f:f.getColId()]=g}));const o=this.beans.visibleCols.allCols;if(e<=0||!o.length||e===Vo(o)&&o.every(g=>{if(g.colDef.suppressSizeToFit)return!0;const m=r==null?void 0:r[g.getId()],v=(m==null?void 0:m.minWidth)??(i==null?void 0:i.defaultMinWidth),b=(m==null?void 0:m.maxWidth)??(i==null?void 0:i.defaultMaxWidth),S=g.getActualWidth();return(v==null||S>=v)&&(b==null||S<=b)}))return;const a=[],l=[];o.forEach(f=>{f.getColDef().suppressSizeToFit===!0?l.push(f):a.push(f)});const u=a.slice(0);let c=!1;const d=f=>{Ur(a,f),l.push(f)};for(a.forEach(f=>{f.resetActualWidth(t);const g=r==null?void 0:r[f.getId()],m=(g==null?void 0:g.minWidth)??(i==null?void 0:i.defaultMinWidth),v=(g==null?void 0:g.maxWidth)??(i==null?void 0:i.defaultMaxWidth),b=f.getActualWidth();typeof m=="number"&&b<m?f.setActualWidth(m,t,!0):typeof v=="number"&&b>v&&f.setActualWidth(v,t,!0)});!c;){c=!0;const f=e-Vo(l);if(f<=0)a.forEach(g=>{var v;const m=((v=r==null?void 0:r[g.getId()])==null?void 0:v.minWidth)??(i==null?void 0:i.defaultMinWidth);if(typeof m=="number"){g.setActualWidth(m,t,!0);return}g.setActualWidth(g.minWidth,t)});else{const g=f/Vo(a);let m=f;for(let v=a.length-1;v>=0;v--){const b=a[v],S=r==null?void 0:r[b.getId()],y=(S==null?void 0:S.minWidth)??(i==null?void 0:i.defaultMinWidth),x=(S==null?void 0:S.maxWidth)??(i==null?void 0:i.defaultMaxWidth),E=b.getMinWidth(),R=b.getMaxWidth(),T=typeof y=="number"&&y>E?y:E,F=typeof x=="number"&&x<R?x:R;let D=Math.round(b.getActualWidth()*g);D<T?(D=T,d(b),c=!1):D>F?(D=F,d(b),c=!1):v===0&&(D=m),b.setActualWidth(D,t,!0),m-=D}}}u.forEach(f=>{f.fireColumnWidthChangedEvent(t)});const h=this.beans.visibleCols;h.setLeftValues(t),h.updateBodyWidths(),!n&&Ru(this.eventSvc,u,!0,t)}applyAutosizeStrategy(){const e=this.gos.get("autoSizeStrategy");if(!e)return;const{type:t}=e;setTimeout(()=>{if(t==="fitGridWidth"){const{columnLimits:n,defaultMinWidth:i,defaultMaxWidth:r}=e,o=n==null?void 0:n.map(({colId:s,minWidth:a,maxWidth:l})=>({key:s,minWidth:a,maxWidth:l}));this.sizeColumnsToFitGridBody({defaultMinWidth:i,defaultMaxWidth:r,columnLimits:o})}else t==="fitProvidedWidth"&&this.sizeColumnsToFit(e.width,"sizeColumnsToFit")})}onFirstDataRendered(){const e=this.gos.get("autoSizeStrategy");if((e==null?void 0:e.type)!=="fitCellContents")return;const{colIds:t,skipHeader:n}=e;setTimeout(()=>{t?this.autoSizeCols({colKeys:t,skipHeader:n,source:"autosizeColumns"}):this.autoSizeAllColumns("autosizeColumns",n)})}processResizeOperations(){this.shouldQueueResizeOperations=!1,this.resizeOperationQueue.forEach(e=>e()),this.resizeOperationQueue=[]}pushResizeOperation(e){this.resizeOperationQueue.push(e)}destroy(){this.resizeOperationQueue.length=0,super.destroy()}};function Mce(e,t){const n=e.getMinWidth();t<n&&(t=n);const i=e.getMaxWidth();return e.isGreaterThanMax(t)&&(t=i),t}var Pce={moduleName:"ColumnAutoSize",version:pe,beans:[Dce],apiFunctions:{sizeColumnsToFit:Tce,autoSizeColumns:Ace,autoSizeAllColumns:Rce},dependsOn:[cR]};function Ice(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedTopRowCount())??0}function Oce(e){var t;return((t=e.pinnedRowModel)==null?void 0:t.getPinnedBottomRowCount())??0}function Lce(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedTopRow(t)}function Nce(e,t){var n;return(n=e.pinnedRowModel)==null?void 0:n.getPinnedBottomRow(t)}var Bce=class extends K{constructor(){super(...arguments),this.beanName="pinnedRowModel",this.nextId=0,this.pinnedTopRows={cache:{},order:[]},this.pinnedBottomRows={cache:{},order:[]}}postConstruct(){const e=this.gos;this.setPinnedRowData(e.get("pinnedTopRowData"),"top"),this.setPinnedRowData(e.get("pinnedBottomRowData"),"bottom"),this.addManagedPropertyListener("pinnedTopRowData",t=>this.setPinnedRowData(t.currentValue,"top")),this.addManagedPropertyListener("pinnedBottomRowData",t=>this.setPinnedRowData(t.currentValue,"bottom")),this.addManagedEventListeners({gridStylesChanged:this.onGridStylesChanges.bind(this)})}isEmpty(e){return this.getCache(e).order.length===0}isRowsToRender(e){return!this.isEmpty(e)}onGridStylesChanges(e){if(e.rowHeightChanged){const t=n=>{n.setRowHeight(n.rowHeight,!0)};nc(this.pinnedBottomRows,t),nc(this.pinnedTopRows,t)}}ensureRowHeightsValid(){let e=!1,t=0;const n=i=>{if(i.rowHeightEstimated){const r=ku(this.beans,i);i.setRowTop(t),i.setRowHeight(r.height),t+=r.height,e=!0}};return nc(this.pinnedBottomRows,n),t=0,nc(this.pinnedTopRows,n),this.eventSvc.dispatchEvent({type:"pinnedHeightChanged"}),e}setPinnedRowData(e,t){this.updateNodesFromRowData(e,t),this.eventSvc.dispatchEvent({type:"pinnedRowDataChanged"})}updateNodesFromRowData(e,t){const n=this.getCache(t);if(e===void 0){n.order.length=0,n.cache={};return}const i=Fu(this.gos),r=t==="top"?z5:H5,o=new Set(n.order),s=[],a=new Set;let l=0,u=-1;for(const c of e){const d=(i==null?void 0:i({data:c,level:0,rowPinned:t}))??r+this.nextId++;if(a.has(d)){ie(96,{id:d,data:c});continue}u++,a.add(d),s.push(d);const h=Xc(n,d);if(h!==void 0)h.data!==c&&h.setData(c),l+=this.setRowTopAndRowIndex(h,l,u),o.delete(d);else{const p=new Mu(this.beans);p.id=d,p.data=c,p.rowPinned=t,l+=this.setRowTopAndRowIndex(p,l,u),n.cache[d]=p,n.order.push(d)}}o.forEach(c=>{var d;(d=Xc(n,c))==null||d.clearRowTopAndRowIndex(),delete n.cache[c]}),n.order=s}setRowTopAndRowIndex(e,t,n){return e.setRowTop(t),e.setRowHeight(ku(this.beans,e).height),e.setRowIndex(n),e.rowHeight}getPinnedTopTotalHeight(){return f3(this.pinnedTopRows)}getPinnedBottomTotalHeight(){return f3(this.pinnedBottomRows)}getPinnedTopRowCount(){return vC(this.pinnedTopRows)}getPinnedBottomRowCount(){return vC(this.pinnedBottomRows)}getPinnedTopRow(e){return mC(this.pinnedTopRows,e)}getPinnedBottomRow(e){return mC(this.pinnedBottomRows,e)}getPinnedRowById(e,t){return Xc(this.getCache(t),e)}forEachPinnedRow(e,t){return nc(this.getCache(e),t)}getCache(e){return e==="top"?this.pinnedTopRows:this.pinnedBottomRows}};function f3(e){const t=vC(e);if(t===0)return 0;const n=mC(e,t-1);return n===void 0?0:n.rowTop+n.rowHeight}function Xc(e,t){return e.cache[t]}function mC(e,t){return Xc(e,e.order[t])}function nc(e,t){e.order.forEach((n,i)=>{const r=Xc(e,n);r&&t(r,i)})}function vC(e){return e.order.length}var zce={moduleName:"PinnedRow",version:pe,beans:[Bce],apiFunctions:{getPinnedTopRowCount:Ice,getPinnedBottomRowCount:Oce,getPinnedTopRow:Lce,getPinnedBottomRow:Nce}},Hce=class extends $c{constructor(e,t,n){super(e.col,e.firstNode,n,t),this.cellSpan=e,this.SPANNED_CELL_CSS_CLASS="ag-spanned-cell"}setComp(e,t,n,i,r,o,s){this.eWrapper=n,super.setComp(e,t,n,i,r,o,s),this.setAriaRowSpan(),this.refreshAriaRowIndex()}isCellSpanning(){return!0}getCellSpan(){return this.cellSpan}refreshAriaRowIndex(){this.rowNode.rowIndex!=null&&Hy(this.eGui,this.rowNode.rowIndex)}setAriaRowSpan(){SX(this.eGui,this.cellSpan.spannedNodes.size)}setFocusedCellPosition(e){this.focusedCellPosition=e}getFocusedCellPosition(){return this.focusedCellPosition??this.cellPosition}checkCellFocused(){const e=this.beans.focusSvc.getFocusedCell();return!!e&&this.cellSpan.doesSpanContain(e)}applyStaticCssClasses(){super.applyStaticCssClasses(),this.comp.addOrRemoveCssClass(this.SPANNED_CELL_CSS_CLASS,!0)}onCellFocused(e){const{beans:t}=this;if(Eg(t)){this.focusedCellPosition=void 0;return}const n=this.isCellFocused();n||(this.focusedCellPosition=void 0),e&&n&&(this.focusedCellPosition={rowIndex:e.rowIndex,rowPinned:e.rowPinned,column:e.column}),super.onCellFocused(e)}getRootElement(){return this.eWrapper}},Vce=class extends g0{onRowIndexChanged(){super.onRowIndexChanged(),this.getAllCellCtrls().forEach(e=>e.refreshAriaRowIndex())}getInitialRowClasses(e){return["ag-spanned-row"]}getNewCellCtrl(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e,this.rowNode);if(!(!t||t.firstNode!==this.rowNode))return new Hce(t,this,this.beans)}isCorrectCtrlForSpan(e){var i;const t=(i=this.beans.rowSpanSvc)==null?void 0:i.getCellSpan(e.column,this.rowNode);return!t||t.firstNode!==this.rowNode?!1:e.getCellSpan()===t}onRowHeightChanged(){}refreshFirstAndLastRowStyles(){}addHoverFunctionality(){}resetHoveredStatus(){}},_ce=class extends K{constructor(){super(...arguments),this.beanName="spannedRowRenderer",this.topCtrls=new Map,this.bottomCtrls=new Map,this.centerCtrls=new Map}postConstruct(){this.addManagedEventListeners({displayedRowsChanged:this.createAllCtrls.bind(this)})}createAllCtrls(){this.createCtrls("top"),this.createCtrls("bottom"),this.createCtrls("center")}createCtrls(e){const{rowSpanSvc:t}=this.beans,n=`${e}Ctrls`,i=this[n],r=i.size,o=this.getAllRelevantRowControls(e),s=new Map;let a=!1;for(const u of o)u.isAlive()&&(t==null||t.forEachSpannedColumn(u.rowNode,(c,d)=>{if(s.has(d.firstNode))return;const h=i.get(d.firstNode);if(h){s.set(d.firstNode,h),i.delete(d.firstNode);return}a=!0;const p=new Vce(d.firstNode,this.beans,!1,!1,!1);s.set(d.firstNode,p)}));this[n]=s;const l=s.size===r;if(!(!a&&l)){for(const u of i.values())u.destroyFirstPass(!0),u.destroySecondPass();this.dispatchLocalEvent({type:"spannedRowsUpdated",ctrlsKey:e})}}getAllRelevantRowControls(e){const{rowRenderer:t}=this.beans;switch(e){case"top":return t.topRowCtrls;case"bottom":return t.bottomRowCtrls;case"center":return t.allRowCtrls}}getCellByPosition(e){const{rowSpanSvc:t}=this.beans,n=t==null?void 0:t.getCellSpanByPosition(e);if(!n)return;const i=`${oD(e.rowPinned)}Ctrls`,r=this[i].get(n.firstNode);if(r)return r.getAllCellCtrls().find(o=>o.column===e.column)}getCtrls(e){const t=`${e}Ctrls`;return[...this[t].values()]}destroyRowCtrls(e){const t=`${e}Ctrls`;for(const n of this[t].values())n.destroyFirstPass(!0),n.destroySecondPass();this[t]=new Map}destroy(){super.destroy(),this.destroyRowCtrls("top"),this.destroyRowCtrls("bottom"),this.destroyRowCtrls("center")}},oD=e=>e??"center",Gce=class{constructor(e,t){this.col=e,this.firstNode=t,this.cellSpan=!0,this.spannedNodes=new Set,this.addSpannedNode(t)}reset(){this.spannedNodes.clear(),this.addSpannedNode(this.firstNode)}addSpannedNode(e){this.spannedNodes.add(e),this.lastNode=e}getLastNode(){return this.lastNode}getCellHeight(){return this.lastNode.rowTop+this.lastNode.rowHeight-this.firstNode.rowTop-1}doesSpanContain(e){return e.column!==this.col||e.rowPinned!=this.firstNode.rowPinned?!1:this.firstNode.rowIndex<=e.rowIndex&&e.rowIndex<=this.lastNode.rowIndex}getLastNodeAutoHeight(){var n;const e=(n=this.firstNode.__autoHeights)==null?void 0:n[this.col.getColId()];if(e==null)return;let t=0;return this.spannedNodes.forEach(i=>{i!==this.lastNode&&(t+=i.rowHeight)}),e-t}},Wce=class extends K{constructor(e){super(),this.column=e}buildCache(e){var S;const{column:t,beans:{gos:n,pinnedRowModel:i,rowModel:r,valueSvc:o,pagination:s}}=this,{colDef:a}=t,l=this[`${e}ValueNodeMap`],u=new Map,c=n.getCallback("isFullWidthRow"),d=a.equals,h=a.spanRows,p=typeof h=="function";let f=null,g=null,m;const v=(y,x)=>{f=y,g=null,m=x},b=y=>{const x=!y.isExpandable()&&!y.group&&!y.detail&&(c?!c({rowNode:y}):!0);if(y.rowIndex==null||!x){v(null,null);return}if(f==null||y.level!==f.level||y.footer||g&&y.rowIndex-1!==(g==null?void 0:g.getLastNode().rowIndex)){v(y,o.getValue(t,y));return}const E=o.getValue(t,y);if(p){const R=Le(n,{valueA:m,nodeA:f,valueB:E,nodeB:y,column:t,colDef:a});if(!h(R)){v(y,E);return}}else if(d?!d(m,E):m!==E){v(y,E);return}if(!g){const R=l==null?void 0:l.get(f);(R==null?void 0:R.firstNode)===f?(R.reset(),g=R):g=new Gce(t,f),u.set(f,g)}g.addSpannedNode(y),u.set(y,g)};switch(e){case"center":(S=r.forEachDisplayedNode)==null||S.call(r,y=>{(!s||s.isRowInPage(y.rowIndex))&&b(y)});break;case"top":i==null||i.forEachPinnedRow("top",b);break;case"bottom":i==null||i.forEachPinnedRow("bottom",b);break}this[`${e}ValueNodeMap`]=u}isCellSpanning(e){return!!this.getCellSpan(e)}getCellSpan(e){return this[`${oD(e.rowPinned)}ValueNodeMap`].get(e)}},$ce=class extends K{constructor(){super(...arguments),this.beanName="rowSpanSvc",this.spanningColumns=new Map,this.debouncePinnedEvent=Kn(this,this.dispatchCellsUpdatedEvent.bind(this,!0),0),this.debounceModelEvent=Kn(this,this.dispatchCellsUpdatedEvent.bind(this,!1),0),this.pinnedTimeout=null,this.modelTimeout=null}postConstruct(){const e=this.onRowDataUpdated.bind(this);this.addManagedEventListeners({paginationChanged:this.buildModelCaches.bind(this),pinnedRowDataChanged:this.buildPinnedCaches.bind(this),rowNodeDataChanged:e,cellValueChanged:e})}register(e){const{gos:t}=this.beans;if(!t.get("enableCellSpan")||this.spanningColumns.has(e))return;const n=this.createManagedBean(new Wce(e));this.spanningColumns.set(e,n),n.buildCache("top"),n.buildCache("bottom"),n.buildCache("center"),this.debouncePinnedEvent(),this.debounceModelEvent()}dispatchCellsUpdatedEvent(e){this.dispatchLocalEvent({type:"spannedCellsUpdated",pinned:e})}deregister(e){this.spanningColumns.delete(e)}onRowDataUpdated({node:e}){const{spannedRowRenderer:t}=this.beans;if(e.rowPinned){if(this.pinnedTimeout!=null)return;this.pinnedTimeout=window.setTimeout(()=>{this.pinnedTimeout=null,this.buildPinnedCaches(),t==null||t.createCtrls("top"),t==null||t.createCtrls("bottom")},0);return}this.modelTimeout==null&&(this.modelTimeout=window.setTimeout(()=>{this.modelTimeout=null,this.buildModelCaches(),t==null||t.createCtrls("center")},0))}buildModelCaches(){this.modelTimeout!=null&&clearTimeout(this.modelTimeout),this.spanningColumns.forEach(e=>e.buildCache("center")),this.debounceModelEvent()}buildPinnedCaches(){this.pinnedTimeout!=null&&clearTimeout(this.pinnedTimeout),this.spanningColumns.forEach(e=>{e.buildCache("top"),e.buildCache("bottom")}),this.debouncePinnedEvent()}isCellSpanning(e,t){const n=this.spanningColumns.get(e);return n?n.isCellSpanning(t):!1}getCellSpanByPosition(e){const{pinnedRowModel:t,rowModel:n}=this.beans,i=e.column,r=e.rowIndex,o=this.spanningColumns.get(i);if(!o)return;let s;switch(e.rowPinned){case"top":s=t==null?void 0:t.getPinnedTopRow(r);break;case"bottom":s=t==null?void 0:t.getPinnedBottomRow(r);break;default:s=n.getRow(r)}if(s)return o.getCellSpan(s)}getCellStart(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.firstNode.rowIndex}:e}getCellEnd(e){const t=this.getCellSpanByPosition(e);return t?{...e,rowIndex:t.getLastNode().rowIndex}:e}getCellSpan(e,t){const n=this.spanningColumns.get(e);if(n)return n.getCellSpan(t)}forEachSpannedColumn(e,t){for(const[n,i]of this.spanningColumns)if(i.isCellSpanning(e)){const r=i.getCellSpan(e);t(n,r)}}destroy(){super.destroy(),this.spanningColumns.clear()}},Uce={moduleName:"CellSpan",version:pe,beans:[$ce,_ce]},jce=class extends K{constructor(e,t){super(),this.cellCtrl=e,this.staticClasses=[],this.beans=t,this.column=e.column}setComp(e){this.cellComp=e,this.applyUserStyles(),this.applyCellClassRules(),this.applyClassesFromColDef()}applyCellClassRules(){const{column:e,cellComp:t}=this,n=e.colDef,i=n.cellClassRules,r=this.getCellClassParams(e,n);nw(this.beans.expressionSvc,i===this.cellClassRules?void 0:this.cellClassRules,i,r,o=>t.addOrRemoveCssClass(o,!0),o=>t.addOrRemoveCssClass(o,!1)),this.cellClassRules=i}applyUserStyles(){const e=this.column,t=e.colDef,n=t.cellStyle;if(!n)return;let i;if(typeof n=="function"){const r=this.getCellClassParams(e,t);i=n(r)}else i=n;i&&this.cellComp.setUserStyles(i)}applyClassesFromColDef(){const{column:e,cellComp:t}=this,n=e.colDef,i=this.getCellClassParams(e,n);this.staticClasses.forEach(o=>t.addOrRemoveCssClass(o,!1));const r=this.beans.cellStyles.getStaticCellClasses(n,i);this.staticClasses=r,r.forEach(o=>t.addOrRemoveCssClass(o,!0))}getCellClassParams(e,t){const{value:n,rowNode:i}=this.cellCtrl;return Le(this.beans.gos,{value:n,data:i.data,node:i,colDef:t,column:e,rowIndex:i.rowIndex})}},qce=class extends K{constructor(){super(...arguments),this.beanName="cellStyles"}processAllCellClasses(e,t,n,i){nw(this.beans.expressionSvc,void 0,e.cellClassRules,t,n,i),this.processStaticCellClasses(e,t,n)}getStaticCellClasses(e,t){const{cellClass:n}=e;if(!n)return[];let i;return typeof n=="function"?i=n(t):i=n,typeof i=="string"&&(i=[i]),i||[]}createCellCustomStyleFeature(e,t){return new jce(e,t)}processStaticCellClasses(e,t,n){this.getStaticCellClasses(e,t).forEach(r=>{n(r)})}},Kce={moduleName:"CellStyle",version:pe,beans:[qce]},Yce={moduleName:"RowStyle",version:pe,beans:[kQ]};function Xce(e,t){var n;return!!((n=e.colHover)!=null&&n.isHovered(t))}var Jce=class extends K{constructor(e,t){super(),this.columns=e,this.element=t,this.destroyManagedListeners=[],this.enableFeature=n=>{const{beans:i,gos:r,element:o,columns:s}=this,a=i.colHover;n??!!r.get("columnHoverHighlight")?this.destroyManagedListeners=this.addManagedElementListeners(o,{mouseover:a.setMouseOver.bind(a,s),mouseout:a.clearMouseOver.bind(a)}):(this.destroyManagedListeners.forEach(u=>u()),this.destroyManagedListeners=[])}}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{this.enableFeature(e)}),this.enableFeature()}destroy(){super.destroy(),this.destroyManagedListeners=null}},Zce="ag-column-hover",Qce=class extends K{constructor(){super(...arguments),this.beanName="colHover"}postConstruct(){this.addManagedPropertyListener("columnHoverHighlight",({currentValue:e})=>{e||this.clearMouseOver()})}setMouseOver(e){this.updateState(e)}clearMouseOver(){this.updateState(null)}isHovered(e){if(!this.gos.get("columnHoverHighlight"))return!1;const t=this.selectedColumns;return!!t&&t.indexOf(e)>=0}addHeaderColumnHoverListener(e,t,n){const i=()=>{const r=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",r)};e.addManagedEventListeners({columnHoverChanged:i}),i()}onCellColumnHover(e,t){if(!t)return;const n=this.isHovered(e);t.addOrRemoveCssClass(Zce,n)}addHeaderFilterColumnHoverListener(e,t,n,i){this.createHoverFeature(e,[n],i);const r=()=>{const o=this.isHovered(n);t.addOrRemoveCssClass("ag-column-hover",o)};e.addManagedEventListeners({columnHoverChanged:r}),r()}createHoverFeature(e,t,n){e.createManagedBean(new Jce(t,n))}updateState(e){this.selectedColumns=e,this.eventSvc.dispatchEvent({type:"columnHoverChanged"})}},ede={moduleName:"ColumnHover",version:pe,beans:[Qce],apiFunctions:{isColumnHovered:Xce}},tde=class extends K{constructor(){super(...arguments),this.beanName="apiEventSvc",this.syncListeners=new Map,this.asyncListeners=new Map,this.syncGlobalListeners=new Set,this.globalListenerPairs=new Map}postConstruct(){var e,t;this.wrapSvc=(t=(e=this.beans.frameworkOverrides).createGlobalEventListenerWrapper)==null?void 0:t.call(e)}addEventListener(e,t){var o;const n=((o=this.wrapSvc)==null?void 0:o.wrap(t))??t,i=!qc.has(e),r=i?this.asyncListeners:this.syncListeners;r.has(e)||r.set(e,new Set),r.get(e).add(n),this.eventSvc.addEventListener(e,n,i)}removeEventListener(e,t){var o,s;const n=((o=this.wrapSvc)==null?void 0:o.unwrap(t))??t,i=this.asyncListeners.get(e),r=!!(i!=null&&i.delete(n));r||(s=this.syncListeners.get(e))==null||s.delete(n),this.eventSvc.removeEventListener(e,n,r)}addGlobalListener(e){var o;const t=((o=this.wrapSvc)==null?void 0:o.wrapGlobal(e))??e,n=(s,a)=>{qc.has(s)&&t(s,a)},i=(s,a)=>{qc.has(s)||t(s,a)};this.globalListenerPairs.set(e,{syncListener:n,asyncListener:i});const r=this.eventSvc;r.addGlobalListener(n,!1),r.addGlobalListener(i,!0)}removeGlobalListener(e){const{eventSvc:t,wrapSvc:n,globalListenerPairs:i}=this,r=(n==null?void 0:n.unwrapGlobal(e))??e;if(i.has(r)){const{syncListener:s,asyncListener:a}=i.get(r);t.removeGlobalListener(s,!1),t.removeGlobalListener(a,!0),i.delete(e)}else this.syncGlobalListeners.delete(r),t.removeGlobalListener(r,!1)}destroyEventListeners(e,t){e.forEach((n,i)=>{n.forEach(r=>this.eventSvc.removeEventListener(i,r,t)),n.clear()}),e.clear()}destroyGlobalListeners(e,t){e.forEach(n=>this.eventSvc.removeGlobalListener(n,t)),e.clear()}destroy(){super.destroy(),this.destroyEventListeners(this.syncListeners,!1),this.destroyEventListeners(this.asyncListeners,!0),this.destroyGlobalListeners(this.syncGlobalListeners,!1);const{globalListenerPairs:e,eventSvc:t}=this;e.forEach(({syncListener:n,asyncListener:i})=>{t.removeGlobalListener(n,!1),t.removeGlobalListener(i,!0)}),e.clear()}};function nde(e,t,n){var i;(i=e.apiEventSvc)==null||i.addEventListener(t,n)}function ide(e,t,n){var i;(i=e.apiEventSvc)==null||i.removeEventListener(t,n)}function rde(e,t){var n;(n=e.apiEventSvc)==null||n.addGlobalListener(t)}function ode(e,t){var n;(n=e.apiEventSvc)==null||n.removeGlobalListener(t)}var sde={moduleName:"EventApi",version:pe,apiFunctions:{addEventListener:nde,addGlobalListener:rde,removeEventListener:ide,removeGlobalListener:ode},beans:[tde]},ade=".ag-tooltip{background-color:var(--ag-tooltip-background-color);border:var(--ag-tooltip-border);border-radius:var(--ag-border-radius);color:var(--ag-tooltip-text-color);padding:var(--ag-widget-container-vertical-padding) var(--ag-widget-container-horizontal-padding);white-space:normal}.ag-tooltip,.ag-tooltip-custom{position:absolute;z-index:99999}.ag-tooltip-custom:where(:not(.ag-tooltip-interactive)),.ag-tooltip:where(:not(.ag-tooltip-interactive)){pointer-events:none}.ag-tooltip-animate{transition:opacity 1s;&:where(.ag-tooltip-hiding){opacity:0}}",lde=class extends K{constructor(){super(...arguments),this.beanName="tooltipSvc"}setupHeaderTooltip(e,t,n,i){e&&t.destroyBean(e);const r=Cv(this.gos),{column:o,eGui:s}=t,a=o.getColDef();!i&&r&&!a.headerComponent&&(i=Ip(()=>s.querySelector(".ag-header-cell-text")));const l={getColumn:()=>o,getColDef:()=>o.getColDef(),getGui:()=>s,getLocation:()=>"header",getTooltipValue:()=>n??o.getColDef().headerTooltip,shouldDisplayTooltip:i};let u=this.createTooltipFeature(l);return u&&(u=t.createBean(u),t.setRefreshFunction("tooltip",()=>u.refreshTooltip())),u}setupHeaderGroupTooltip(e,t,n,i){e&&t.destroyBean(e);const r=Cv(this.gos),{column:o,eGui:s}=t,a=o.getColGroupDef();!i&&r&&!(a!=null&&a.headerGroupComponent)&&(i=Ip(()=>s.querySelector(".ag-header-group-text")));const l={getColumn:()=>o,getGui:()=>s,getLocation:()=>"headerGroup",getTooltipValue:()=>n??(a&&a.headerTooltip),shouldDisplayTooltip:i};a&&(l.getColDef=()=>a);const u=this.createTooltipFeature(l);return u&&t.createBean(u)}enableCellTooltipFeature(e,t,n){const{column:i,rowNode:r}=e,o=()=>{const l=i.getColDef(),u=r.data;if(l.tooltipField&&ue(u))return Wc(u,l.tooltipField,i.isTooltipFieldContainsDots());const c=l.tooltipValueGetter;return c?c(Le(this.gos,{location:"cell",colDef:i.getColDef(),column:i,rowIndex:e.cellPosition.rowIndex,node:r,data:r.data,value:e.value,valueFormatted:e.valueFormatted})):null},s=Cv(this.gos);!n&&s&&!e.isCellRenderer()&&(n=Ip(()=>{const l=e.eGui;return l.children.length===0?l:l.querySelector(".ag-cell-value")}));const a={getColumn:()=>i,getColDef:()=>i.getColDef(),getRowIndex:()=>e.cellPosition.rowIndex,getRowNode:()=>r,getGui:()=>e.eGui,getLocation:()=>"cell",getTooltipValue:t!=null?()=>t:o,getValueFormatted:()=>e.valueFormatted,shouldDisplayTooltip:n};return this.createTooltipFeature(a,this.beans)}refreshRowTooltip(e,t,n,i){const r={getGui:()=>t.getFullWidthElement(),getTooltipValue:()=>n,getLocation:()=>"fullWidthRow",shouldDisplayTooltip:i},o=this.beans,s=o.context;e&&t.destroyBean(e,s);const a=this.createTooltipFeature(r,o);return t.createBean(a,s)}initCol(e){const{colDef:t}=e;e.tooltipEnabled=ue(t.tooltipField)||ue(t.tooltipValueGetter)||ue(t.tooltipComponent)}createTooltipFeature(e,t){return this.beans.registry.createDynamicBean("tooltipFeature",!1,e,t)}},ude={moduleName:"Tooltip",version:pe,beans:[lde],dynamicBeans:{tooltipFeature:Yee},userComponents:{agTooltipComponent:Zoe},dependsOn:[Ag],css:[ade]},cde={moduleName:"Locale",version:pe,beans:[Woe]},dde=class extends K{constructor(){super(...arguments),this.beanName="rowAutoHeight",this.wasEverActive=!1,this._debouncedCalculateRowHeights=Kn(this,this.calculateRowHeights.bind(this),1)}requestCheckAutoHeight(){this.wasEverActive&&this._debouncedCalculateRowHeights()}calculateRowHeights(){var a,l,u,c;const{visibleCols:e,rowModel:t,rowSpanSvc:n,pinnedRowModel:i}=this.beans,r=e.autoHeightCols;let o=!1;const s=d=>{var f;const h=d.__autoHeights;let p=ku(this.beans,d).height;for(const g of r){let m=h==null?void 0:h[g.getColId()];const v=n==null?void 0:n.getCellSpan(g,d);if(v){if(v.getLastNode()!==d)continue;if(m=(f=n==null?void 0:n.getCellSpan(g,d))==null?void 0:f.getLastNodeAutoHeight(),!m)return}if(m==null){if(this.colSpanSkipCell(g,d))continue;return}p=Math.max(m,p)}p!==d.rowHeight&&(d.setRowHeight(p),o=!0)};(a=i==null?void 0:i.forEachPinnedRow)==null||a.call(i,"top",s),(l=i==null?void 0:i.forEachPinnedRow)==null||l.call(i,"bottom",s),(u=t.forEachDisplayedNode)==null||u.call(t,s),o&&((c=t.onRowHeightChanged)==null||c.call(t))}setRowAutoHeight(e,t,n){if(e.__autoHeights??(e.__autoHeights={}),t==null){delete e.__autoHeights[n.getId()];return}const i=e.__autoHeights[n.getId()];e.__autoHeights[n.getId()]=t,i!==t&&this.requestCheckAutoHeight()}colSpanSkipCell(e,t){const{colModel:n,colViewport:i,visibleCols:r}=this.beans;if(!n.colSpanActive)return!1;let o=[];switch(e.getPinned()){case"left":o=r.getLeftColsForRow(t);break;case"right":o=r.getRightColsForRow(t);break;case null:o=i.getColsWithinViewport(t);break}return!o.includes(e)}setupCellAutoHeight(e,t,n){if(!e.column.isAutoHeight()||!t)return!1;this.wasEverActive=!0;const i=t.parentElement,{rowNode:r,column:o}=e,s=this.beans,a=c=>{if(e.editing||!e.isAlive()||!n.isAlive())return;const{paddingTop:d,paddingBottom:h,borderBottomWidth:p,borderTopWidth:f}=Cl(i),g=d+h+p+f,v=t.offsetHeight+g;if(c<5){const b=wn(s),S=!b||!b.contains(t),y=v==0;if(S||y){window.setTimeout(()=>a(c+1),0);return}}this.setRowAutoHeight(r,v,o)},l=()=>a(0);l();const u=va(s,t,l);return n.addDestroyFunc(()=>{u(),this.setRowAutoHeight(r,void 0,o)}),!0}setAutoHeightActive(e){this.active=e.list.some(t=>t.isVisible()&&t.isAutoHeight())}},hde={moduleName:"RowAutoHeight",version:pe,beans:[dde]},pde={moduleName:"AllCommunity",version:pe,dependsOn:[uue,vue,Tue,Mse,gle,mle,vle,Cle,ble,yle,wle,fle,kae,Fae,Tae,Eae,Rae,Dae,Wue,Ule,lce,cie,rD,Cce,Fce,Pce,Wte,zce,Lle,Moe,Kce,ede,Yce,sde,Ooe,Bue,ude,cde,hde,Gte,cue,Uce]},fde=Object.defineProperty,gde=(e,t,n)=>t in e?fde(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ru=(e,t,n)=>gde(e,typeof t!="symbol"?t+"":t,n);class Od{static getComponentDefinition(t,n){let i;return typeof t=="string"?i=this.searchForComponentInstance(n,t):i={extends:yC({...t})},i||dt(114,{component:t}),i.extends?(i.extends.setup&&(i.setup=i.extends.setup),i.extends.props=this.addParamsToProps(i.extends.props)):i.props=this.addParamsToProps(i.props),i}static addParamsToProps(t){return!t||Array.isArray(t)&&t.indexOf("params")===-1?t=["params",...t||[]]:typeof t=="object"&&!t.params&&(t.params={type:Object}),t}static createAndMountComponent(t,n,i,r){const o=Od.getComponentDefinition(t,i);if(!o)return;const{vNode:s,destroy:a,el:l}=this.mount(o,{params:Object.freeze(n)},i,r||{});return{componentInstance:s.component.proxy,element:l,destroy:a}}static mount(t,n,i,r){let o=lt(t,n);o.appContext={...i.appContext,provides:r};let s=document.createElement("div");return Np(o,s),{vNode:o,destroy:()=>{s&&Np(null,s),s=null,o=null},el:s}}static searchForComponentInstance(t,n,i=10,r=!1){let o=null,s=0,a=t.parent;for(;!o&&a&&a.components&&++s<i;)a.components&&a.components[n]&&(o=a.components[n]),a=a.parent;for(s=0,a=t.parent;!o&&a&&a.$options&&++s<i;){const l=a;l.$options&&l.$options.components&&l.$options.components[n]?o=l.$options.components[n]:l[n]&&(o=l[n]),a=a.parent}for(s=0,a=t.parent;!o&&a&&++s<i;){if(a.exposed){const l=a;l.exposed&&l.exposed[n]?o=l.exposed[n]:l[n]&&(o=l[n])}a=a.parent}if(!o){const l=t.appContext.components;l&&l[n]&&(o=l[n])}return!o&&!r?(dt(114,{component:n}),null):o}}class mde extends Xoe{constructor(t,n){super(),ru(this,"parent"),ru(this,"provides"),this.parent=t,this.provides=n}createWrapper(t){const n=this;class i extends vde{init(s){super.init(s)}hasMethod(s){var a,l;const u=r.getFrameworkComponentInstance();return u[s]?!0:((a=u.$.exposed)==null?void 0:a[s])!=null||((l=u.exposed)==null?void 0:l[s])!=null||u.$.setupState[s]!=null}callMethod(s,a){var l,u;const c=this.getFrameworkComponentInstance(),d=r.getFrameworkComponentInstance();if(d[s])return d[s].apply(c,a);{const h=((l=c.$.exposed)==null?void 0:l[s])||((u=c.exposed)==null?void 0:u[s])||c.$.setupState[s];return h==null?void 0:h.apply(c,a)}}addMethod(s,a){r[s]=a}processMethod(s,a){return s==="refresh"&&(this.getFrameworkComponentInstance().params=a[0]),this.hasMethod(s)?this.callMethod(s,a):s==="refresh"}createComponent(s){return n.createComponent(t,s)}}const r=new i;return r}createComponent(t,n){return Od.createAndMountComponent(t,n,this.parent,this.provides)}createMethodProxy(t,n,i){return function(){return t.hasMethod(n)?t.callMethod(n,arguments):(i&&ie(233,{methodName:n}),null)}}destroy(){this.parent=null}}class vde{constructor(){ru(this,"componentInstance"),ru(this,"element"),ru(this,"unmount")}getGui(){return this.element}destroy(){this.getFrameworkComponentInstance()&&typeof this.getFrameworkComponentInstance().destroy=="function"&&this.getFrameworkComponentInstance().destroy(),this.unmount()}getFrameworkComponentInstance(){return this.componentInstance}init(t){const{componentInstance:n,element:i,destroy:r}=this.createComponent(t);this.componentInstance=n,this.unmount=r,this.element=i.firstElementChild??i}}class Cde extends nR{constructor(t){super("vue"),ru(this,"parent"),this.parent=t}frameworkComponent(t,n){let i=Od.searchForComponentInstance(this.parent,t,10,!0)?t:null;if(!i&&n&&n[t]){const r=n[t];i=Od.searchForComponentInstance(this.parent,r,10,!0)?r:null}return i}isFrameworkComponent(t){return typeof t=="object"}}function bde(){return{gridOptions:{},modules:[],statusBar:void 0,sideBar:void 0,suppressContextMenu:void 0,preventDefaultOnContextMenu:void 0,allowContextMenuWithControlKey:void 0,columnMenu:void 0,suppressMenuHide:void 0,enableBrowserTooltips:void 0,tooltipTrigger:void 0,tooltipShowDelay:void 0,tooltipHideDelay:void 0,tooltipMouseTrack:void 0,tooltipShowMode:void 0,tooltipInteraction:void 0,popupParent:void 0,copyHeadersToClipboard:void 0,copyGroupHeadersToClipboard:void 0,clipboardDelimiter:void 0,suppressCopyRowsToClipboard:void 0,suppressCopySingleCellRanges:void 0,suppressLastEmptyLineOnPaste:void 0,suppressClipboardPaste:void 0,suppressClipboardApi:void 0,suppressCutToClipboard:void 0,columnDefs:void 0,defaultColDef:void 0,defaultColGroupDef:void 0,columnTypes:void 0,dataTypeDefinitions:void 0,maintainColumnOrder:void 0,enableStrictPivotColumnOrder:void 0,suppressFieldDotNotation:void 0,headerHeight:void 0,groupHeaderHeight:void 0,floatingFiltersHeight:void 0,pivotHeaderHeight:void 0,pivotGroupHeaderHeight:void 0,allowDragFromColumnsToolPanel:void 0,suppressMovableColumns:void 0,suppressColumnMoveAnimation:void 0,suppressMoveWhenColumnDragging:void 0,suppressDragLeaveHidesColumns:void 0,suppressGroupChangesColumnVisibility:void 0,suppressMakeColumnVisibleAfterUnGroup:void 0,suppressRowGroupHidesColumns:void 0,colResizeDefault:void 0,suppressAutoSize:void 0,autoSizePadding:void 0,skipHeaderOnAutoSize:void 0,autoSizeStrategy:void 0,components:void 0,editType:void 0,singleClickEdit:void 0,suppressClickEdit:void 0,readOnlyEdit:void 0,stopEditingWhenCellsLoseFocus:void 0,enterNavigatesVertically:void 0,enterNavigatesVerticallyAfterEdit:void 0,enableCellEditingOnBackspace:void 0,undoRedoCellEditing:void 0,undoRedoCellEditingLimit:void 0,defaultCsvExportParams:void 0,suppressCsvExport:void 0,defaultExcelExportParams:void 0,suppressExcelExport:void 0,excelStyles:void 0,findSearchValue:void 0,findOptions:void 0,quickFilterText:void 0,cacheQuickFilter:void 0,includeHiddenColumnsInQuickFilter:void 0,quickFilterParser:void 0,quickFilterMatcher:void 0,applyQuickFilterBeforePivotOrAgg:void 0,excludeChildrenWhenTreeDataFiltering:void 0,enableAdvancedFilter:void 0,alwaysPassFilter:void 0,includeHiddenColumnsInAdvancedFilter:void 0,advancedFilterParent:void 0,advancedFilterBuilderParams:void 0,suppressAdvancedFilterEval:void 0,suppressSetFilterByDefault:void 0,enableCharts:void 0,chartThemes:void 0,customChartThemes:void 0,chartThemeOverrides:void 0,chartToolPanelsDef:void 0,chartMenuItems:void 0,loadingCellRenderer:void 0,loadingCellRendererParams:void 0,loadingCellRendererSelector:void 0,localeText:void 0,masterDetail:void 0,keepDetailRows:void 0,keepDetailRowsCount:void 0,detailCellRenderer:void 0,detailCellRendererParams:void 0,detailRowHeight:void 0,detailRowAutoHeight:void 0,context:void 0,dragAndDropImageComponent:void 0,dragAndDropImageComponentParams:void 0,alignedGrids:void 0,tabIndex:void 0,rowBuffer:void 0,valueCache:void 0,valueCacheNeverExpires:void 0,enableCellExpressions:void 0,suppressTouch:void 0,suppressFocusAfterRefresh:void 0,suppressBrowserResizeObserver:void 0,suppressPropertyNamesCheck:void 0,suppressChangeDetection:void 0,debug:void 0,loading:void 0,overlayLoadingTemplate:void 0,loadingOverlayComponent:void 0,loadingOverlayComponentParams:void 0,suppressLoadingOverlay:void 0,overlayNoRowsTemplate:void 0,noRowsOverlayComponent:void 0,noRowsOverlayComponentParams:void 0,suppressNoRowsOverlay:void 0,pagination:void 0,paginationPageSize:void 0,paginationPageSizeSelector:void 0,paginationAutoPageSize:void 0,paginateChildRows:void 0,suppressPaginationPanel:void 0,pivotMode:void 0,pivotPanelShow:void 0,pivotMaxGeneratedColumns:void 0,pivotDefaultExpanded:void 0,pivotColumnGroupTotals:void 0,pivotRowTotals:void 0,pivotSuppressAutoColumn:void 0,suppressExpandablePivotGroups:void 0,functionsReadOnly:void 0,aggFuncs:void 0,suppressAggFuncInHeader:void 0,alwaysAggregateAtRootLevel:void 0,aggregateOnlyChangedColumns:void 0,suppressAggFilteredOnly:void 0,removePivotHeaderRowWhenSingleValueColumn:void 0,animateRows:void 0,cellFlashDuration:void 0,cellFadeDuration:void 0,allowShowChangeAfterFilter:void 0,domLayout:void 0,ensureDomOrder:void 0,enableCellSpan:void 0,enableRtl:void 0,suppressColumnVirtualisation:void 0,suppressMaxRenderedRowRestriction:void 0,suppressRowVirtualisation:void 0,rowDragManaged:void 0,suppressRowDrag:void 0,suppressMoveWhenRowDragging:void 0,rowDragEntireRow:void 0,rowDragMultiRow:void 0,rowDragText:void 0,fullWidthCellRenderer:void 0,fullWidthCellRendererParams:void 0,embedFullWidthRows:void 0,groupDisplayType:void 0,groupDefaultExpanded:void 0,autoGroupColumnDef:void 0,groupMaintainOrder:void 0,groupSelectsChildren:void 0,groupLockGroupColumns:void 0,groupAggFiltering:void 0,groupTotalRow:void 0,grandTotalRow:void 0,suppressStickyTotalRow:void 0,groupSuppressBlankHeader:void 0,groupSelectsFiltered:void 0,showOpenedGroup:void 0,groupHideParentOfSingleChild:void 0,groupRemoveSingleChildren:void 0,groupRemoveLowestSingleChildren:void 0,groupHideOpenParents:void 0,groupAllowUnbalanced:void 0,rowGroupPanelShow:void 0,groupRowRenderer:void 0,groupRowRendererParams:void 0,treeData:void 0,treeDataChildrenField:void 0,treeDataParentIdField:void 0,rowGroupPanelSuppressSort:void 0,suppressGroupRowsSticky:void 0,pinnedTopRowData:void 0,pinnedBottomRowData:void 0,rowModelType:void 0,rowData:void 0,asyncTransactionWaitMillis:void 0,suppressModelUpdateAfterUpdateTransaction:void 0,datasource:void 0,cacheOverflowSize:void 0,infiniteInitialRowCount:void 0,serverSideInitialRowCount:void 0,suppressServerSideFullWidthLoadingRow:void 0,cacheBlockSize:void 0,maxBlocksInCache:void 0,maxConcurrentDatasourceRequests:void 0,blockLoadDebounceMillis:void 0,purgeClosedRowNodes:void 0,serverSideDatasource:void 0,serverSideSortAllLevels:void 0,serverSideEnableClientSideSort:void 0,serverSideOnlyRefreshFilteredGroups:void 0,serverSidePivotResultFieldSeparator:void 0,viewportDatasource:void 0,viewportRowModelPageSize:void 0,viewportRowModelBufferSize:void 0,alwaysShowHorizontalScroll:void 0,alwaysShowVerticalScroll:void 0,debounceVerticalScrollbar:void 0,suppressHorizontalScroll:void 0,suppressScrollOnNewData:void 0,suppressScrollWhenPopupsAreOpen:void 0,suppressAnimationFrame:void 0,suppressMiddleClickScrolls:void 0,suppressPreventDefaultOnMouseWheel:void 0,scrollbarWidth:void 0,rowSelection:void 0,cellSelection:void 0,rowMultiSelectWithClick:void 0,suppressRowDeselection:void 0,suppressRowClickSelection:void 0,suppressCellFocus:void 0,suppressHeaderFocus:void 0,selectionColumnDef:void 0,rowNumbers:void 0,suppressMultiRangeSelection:void 0,enableCellTextSelection:void 0,enableRangeSelection:void 0,enableRangeHandle:void 0,enableFillHandle:void 0,fillHandleDirection:void 0,suppressClearOnFillReduction:void 0,sortingOrder:void 0,accentedSort:void 0,unSortIcon:void 0,suppressMultiSort:void 0,alwaysMultiSort:void 0,multiSortKey:void 0,suppressMaintainUnsortedOrder:void 0,icons:void 0,rowHeight:void 0,rowStyle:void 0,rowClass:void 0,rowClassRules:void 0,suppressRowHoverHighlight:void 0,suppressRowTransform:void 0,columnHoverHighlight:void 0,gridId:void 0,deltaSort:void 0,treeDataDisplayType:void 0,enableGroupEdit:void 0,initialState:void 0,theme:void 0,loadThemeGoogleFonts:void 0,themeCssLayer:void 0,styleNonce:void 0,themeStyleContainer:void 0,getContextMenuItems:void 0,getMainMenuItems:void 0,postProcessPopup:void 0,processUnpinnedColumns:void 0,processCellForClipboard:void 0,processHeaderForClipboard:void 0,processGroupHeaderForClipboard:void 0,processCellFromClipboard:void 0,sendToClipboard:void 0,processDataFromClipboard:void 0,isExternalFilterPresent:void 0,doesExternalFilterPass:void 0,getChartToolbarItems:void 0,createChartContainer:void 0,focusGridInnerElement:void 0,navigateToNextHeader:void 0,tabToNextHeader:void 0,navigateToNextCell:void 0,tabToNextCell:void 0,getLocaleText:void 0,getDocument:void 0,paginationNumberFormatter:void 0,getGroupRowAgg:void 0,isGroupOpenByDefault:void 0,initialGroupOrderComparator:void 0,processPivotResultColDef:void 0,processPivotResultColGroupDef:void 0,getDataPath:void 0,getChildCount:void 0,getServerSideGroupLevelParams:void 0,isServerSideGroupOpenByDefault:void 0,isApplyServerSideTransaction:void 0,isServerSideGroup:void 0,getServerSideGroupKey:void 0,getBusinessKeyForNode:void 0,getRowId:void 0,resetRowDataOnUpdate:void 0,processRowPostCreate:void 0,isRowSelectable:void 0,isRowMaster:void 0,fillOperation:void 0,postSortRows:void 0,getRowStyle:void 0,getRowClass:void 0,getRowHeight:void 0,isFullWidthRow:void 0,"onColumn-everything-changed":void 0,"onNew-columns-loaded":void 0,"onColumn-pivot-mode-changed":void 0,"onPivot-max-columns-exceeded":void 0,"onColumn-row-group-changed":void 0,"onExpand-or-collapse-all":void 0,"onColumn-pivot-changed":void 0,"onGrid-columns-changed":void 0,"onColumn-value-changed":void 0,"onColumn-moved":void 0,"onColumn-visible":void 0,"onColumn-pinned":void 0,"onColumn-group-opened":void 0,"onColumn-resized":void 0,"onDisplayed-columns-changed":void 0,"onVirtual-columns-changed":void 0,"onColumn-header-mouse-over":void 0,"onColumn-header-mouse-leave":void 0,"onColumn-header-clicked":void 0,"onColumn-header-context-menu":void 0,"onAsync-transactions-flushed":void 0,"onRow-group-opened":void 0,"onRow-data-updated":void 0,"onPinned-row-data-changed":void 0,"onRange-selection-changed":void 0,"onCell-selection-changed":void 0,"onChart-created":void 0,"onChart-range-selection-changed":void 0,"onChart-options-changed":void 0,"onChart-destroyed":void 0,"onTool-panel-visible-changed":void 0,"onTool-panel-size-changed":void 0,"onModel-updated":void 0,"onCut-start":void 0,"onCut-end":void 0,"onPaste-start":void 0,"onPaste-end":void 0,"onFill-start":void 0,"onFill-end":void 0,"onCell-selection-delete-start":void 0,"onCell-selection-delete-end":void 0,"onRange-delete-start":void 0,"onRange-delete-end":void 0,"onUndo-started":void 0,"onUndo-ended":void 0,"onRedo-started":void 0,"onRedo-ended":void 0,"onCell-clicked":void 0,"onCell-double-clicked":void 0,"onCell-mouse-down":void 0,"onCell-context-menu":void 0,"onCell-value-changed":void 0,"onCell-edit-request":void 0,"onRow-value-changed":void 0,"onHeader-focused":void 0,"onCell-focused":void 0,"onRow-selected":void 0,"onSelection-changed":void 0,"onTooltip-show":void 0,"onTooltip-hide":void 0,"onCell-key-down":void 0,"onCell-mouse-over":void 0,"onCell-mouse-out":void 0,"onFilter-changed":void 0,"onFilter-modified":void 0,"onFilter-opened":void 0,"onAdvanced-filter-builder-visible-changed":void 0,"onSort-changed":void 0,"onVirtual-row-removed":void 0,"onRow-clicked":void 0,"onRow-double-clicked":void 0,"onGrid-ready":void 0,"onGrid-pre-destroyed":void 0,"onGrid-size-changed":void 0,"onViewport-changed":void 0,"onFirst-data-rendered":void 0,"onDrag-started":void 0,"onDrag-stopped":void 0,"onDrag-cancelled":void 0,"onRow-editing-started":void 0,"onRow-editing-stopped":void 0,"onCell-editing-started":void 0,"onCell-editing-stopped":void 0,"onBody-scroll":void 0,"onBody-scroll-end":void 0,"onPagination-changed":void 0,"onComponent-state-changed":void 0,"onStore-refreshed":void 0,"onState-updated":void 0,"onColumn-menu-visible-changed":void 0,"onContext-menu-visible-changed":void 0,"onRow-drag-enter":void 0,"onRow-drag-move":void 0,"onRow-drag-leave":void 0,"onRow-drag-end":void 0,"onRow-drag-cancel":void 0,"onFind-changed":void 0}}const yde=(e,t)=>{let n;return()=>{const i=function(){e()};window.clearTimeout(n),n=window.setTimeout(i,t)}};function wde(e){return e&&e.constructor&&e.constructor.toString().substring(0,5)==="class"}function ic(e){const t=n=>wde(n)?Ew(n):Array.isArray(n)?n.map(i=>t(i)):zD(n)||HD(n)||VD(n)?t(Ew(n)):n;return t(e)}const Sde={ref:"root"},xde=yC({__name:"AgGridVue",props:xw(BD({gridOptions:{},modules:{},statusBar:{},sideBar:{type:[Object,String,Array,Boolean,null]},suppressContextMenu:{type:Boolean},preventDefaultOnContextMenu:{type:Boolean},allowContextMenuWithControlKey:{type:Boolean},columnMenu:{},suppressMenuHide:{type:Boolean},enableBrowserTooltips:{type:Boolean},tooltipTrigger:{},tooltipShowDelay:{},tooltipHideDelay:{},tooltipMouseTrack:{type:Boolean},tooltipShowMode:{},tooltipInteraction:{type:Boolean},popupParent:{},copyHeadersToClipboard:{type:Boolean},copyGroupHeadersToClipboard:{type:Boolean},clipboardDelimiter:{},suppressCopyRowsToClipboard:{type:Boolean},suppressCopySingleCellRanges:{type:Boolean},suppressLastEmptyLineOnPaste:{type:Boolean},suppressClipboardPaste:{type:Boolean},suppressClipboardApi:{type:Boolean},suppressCutToClipboard:{type:Boolean},columnDefs:{},defaultColDef:{},defaultColGroupDef:{},columnTypes:{},dataTypeDefinitions:{},maintainColumnOrder:{type:Boolean},enableStrictPivotColumnOrder:{type:Boolean},suppressFieldDotNotation:{type:Boolean},headerHeight:{},groupHeaderHeight:{},floatingFiltersHeight:{},pivotHeaderHeight:{},pivotGroupHeaderHeight:{},allowDragFromColumnsToolPanel:{type:Boolean},suppressMovableColumns:{type:Boolean},suppressColumnMoveAnimation:{type:Boolean},suppressMoveWhenColumnDragging:{type:Boolean},suppressDragLeaveHidesColumns:{type:Boolean},suppressGroupChangesColumnVisibility:{type:[Boolean,String]},suppressMakeColumnVisibleAfterUnGroup:{type:Boolean},suppressRowGroupHidesColumns:{type:Boolean},colResizeDefault:{},suppressAutoSize:{type:Boolean},autoSizePadding:{},skipHeaderOnAutoSize:{type:Boolean},autoSizeStrategy:{},components:{},editType:{},singleClickEdit:{type:Boolean},suppressClickEdit:{type:Boolean},readOnlyEdit:{type:Boolean},stopEditingWhenCellsLoseFocus:{type:Boolean},enterNavigatesVertically:{type:Boolean},enterNavigatesVerticallyAfterEdit:{type:Boolean},enableCellEditingOnBackspace:{type:Boolean},undoRedoCellEditing:{type:Boolean},undoRedoCellEditingLimit:{},defaultCsvExportParams:{},suppressCsvExport:{type:Boolean},defaultExcelExportParams:{},suppressExcelExport:{type:Boolean},excelStyles:{},findSearchValue:{},findOptions:{},quickFilterText:{},cacheQuickFilter:{type:Boolean},includeHiddenColumnsInQuickFilter:{type:Boolean},quickFilterParser:{type:Function},quickFilterMatcher:{type:Function},applyQuickFilterBeforePivotOrAgg:{type:Boolean},excludeChildrenWhenTreeDataFiltering:{type:Boolean},enableAdvancedFilter:{type:Boolean},alwaysPassFilter:{type:Function},includeHiddenColumnsInAdvancedFilter:{type:Boolean},advancedFilterParent:{},advancedFilterBuilderParams:{},suppressAdvancedFilterEval:{type:Boolean},suppressSetFilterByDefault:{type:Boolean},enableCharts:{type:Boolean},chartThemes:{},customChartThemes:{},chartThemeOverrides:{},chartToolPanelsDef:{},chartMenuItems:{type:[Array,Function]},loadingCellRenderer:{},loadingCellRendererParams:{},loadingCellRendererSelector:{type:Function},localeText:{},masterDetail:{type:Boolean},keepDetailRows:{type:Boolean},keepDetailRowsCount:{},detailCellRenderer:{},detailCellRendererParams:{},detailRowHeight:{},detailRowAutoHeight:{type:Boolean},context:{},dragAndDropImageComponent:{},dragAndDropImageComponentParams:{},alignedGrids:{type:[Array,Function]},tabIndex:{},rowBuffer:{},valueCache:{type:Boolean},valueCacheNeverExpires:{type:Boolean},enableCellExpressions:{type:Boolean},suppressTouch:{type:Boolean},suppressFocusAfterRefresh:{type:Boolean},suppressBrowserResizeObserver:{type:Boolean},suppressPropertyNamesCheck:{type:Boolean},suppressChangeDetection:{type:Boolean},debug:{type:Boolean},loading:{type:Boolean},overlayLoadingTemplate:{},loadingOverlayComponent:{},loadingOverlayComponentParams:{},suppressLoadingOverlay:{type:Boolean},overlayNoRowsTemplate:{},noRowsOverlayComponent:{},noRowsOverlayComponentParams:{},suppressNoRowsOverlay:{type:Boolean},pagination:{type:Boolean},paginationPageSize:{},paginationPageSizeSelector:{type:[Array,Boolean]},paginationAutoPageSize:{type:Boolean},paginateChildRows:{type:Boolean},suppressPaginationPanel:{type:Boolean},pivotMode:{type:Boolean},pivotPanelShow:{},pivotMaxGeneratedColumns:{},pivotDefaultExpanded:{},pivotColumnGroupTotals:{},pivotRowTotals:{},pivotSuppressAutoColumn:{type:Boolean},suppressExpandablePivotGroups:{type:Boolean},functionsReadOnly:{type:Boolean},aggFuncs:{},suppressAggFuncInHeader:{type:Boolean},alwaysAggregateAtRootLevel:{type:Boolean},aggregateOnlyChangedColumns:{type:Boolean},suppressAggFilteredOnly:{type:Boolean},removePivotHeaderRowWhenSingleValueColumn:{type:Boolean},animateRows:{type:Boolean},cellFlashDuration:{},cellFadeDuration:{},allowShowChangeAfterFilter:{type:Boolean},domLayout:{},ensureDomOrder:{type:Boolean},enableCellSpan:{type:Boolean},enableRtl:{type:Boolean},suppressColumnVirtualisation:{type:Boolean},suppressMaxRenderedRowRestriction:{type:Boolean},suppressRowVirtualisation:{type:Boolean},rowDragManaged:{type:Boolean},suppressRowDrag:{type:Boolean},suppressMoveWhenRowDragging:{type:Boolean},rowDragEntireRow:{type:Boolean},rowDragMultiRow:{type:Boolean},rowDragText:{type:Function},fullWidthCellRenderer:{},fullWidthCellRendererParams:{},embedFullWidthRows:{type:Boolean},groupDisplayType:{},groupDefaultExpanded:{},autoGroupColumnDef:{},groupMaintainOrder:{type:Boolean},groupSelectsChildren:{type:Boolean},groupLockGroupColumns:{},groupAggFiltering:{type:[Boolean,Function]},groupTotalRow:{type:[String,Function]},grandTotalRow:{},suppressStickyTotalRow:{type:[Boolean,String]},groupSuppressBlankHeader:{type:Boolean},groupSelectsFiltered:{type:Boolean},showOpenedGroup:{type:Boolean},groupHideParentOfSingleChild:{type:[Boolean,String]},groupRemoveSingleChildren:{type:Boolean},groupRemoveLowestSingleChildren:{type:Boolean},groupHideOpenParents:{type:Boolean},groupAllowUnbalanced:{type:Boolean},rowGroupPanelShow:{},groupRowRenderer:{},groupRowRendererParams:{},treeData:{type:Boolean},treeDataChildrenField:{},treeDataParentIdField:{},rowGroupPanelSuppressSort:{type:Boolean},suppressGroupRowsSticky:{type:Boolean},pinnedTopRowData:{},pinnedBottomRowData:{},rowModelType:{},rowData:{},asyncTransactionWaitMillis:{},suppressModelUpdateAfterUpdateTransaction:{type:Boolean},datasource:{},cacheOverflowSize:{},infiniteInitialRowCount:{},serverSideInitialRowCount:{},suppressServerSideFullWidthLoadingRow:{type:Boolean},cacheBlockSize:{},maxBlocksInCache:{},maxConcurrentDatasourceRequests:{},blockLoadDebounceMillis:{},purgeClosedRowNodes:{type:Boolean},serverSideDatasource:{},serverSideSortAllLevels:{type:Boolean},serverSideEnableClientSideSort:{type:Boolean},serverSideOnlyRefreshFilteredGroups:{type:Boolean},serverSidePivotResultFieldSeparator:{},viewportDatasource:{},viewportRowModelPageSize:{},viewportRowModelBufferSize:{},alwaysShowHorizontalScroll:{type:Boolean},alwaysShowVerticalScroll:{type:Boolean},debounceVerticalScrollbar:{type:Boolean},suppressHorizontalScroll:{type:Boolean},suppressScrollOnNewData:{type:Boolean},suppressScrollWhenPopupsAreOpen:{type:Boolean},suppressAnimationFrame:{type:Boolean},suppressMiddleClickScrolls:{type:Boolean},suppressPreventDefaultOnMouseWheel:{type:Boolean},scrollbarWidth:{},rowSelection:{},cellSelection:{type:[Boolean,Object]},rowMultiSelectWithClick:{type:Boolean},suppressRowDeselection:{type:Boolean},suppressRowClickSelection:{type:Boolean},suppressCellFocus:{type:Boolean},suppressHeaderFocus:{type:Boolean},selectionColumnDef:{},rowNumbers:{type:[Boolean,Object]},suppressMultiRangeSelection:{type:Boolean},enableCellTextSelection:{type:Boolean},enableRangeSelection:{type:Boolean},enableRangeHandle:{type:Boolean},enableFillHandle:{type:Boolean},fillHandleDirection:{},suppressClearOnFillReduction:{type:Boolean},sortingOrder:{},accentedSort:{type:Boolean},unSortIcon:{type:Boolean},suppressMultiSort:{type:Boolean},alwaysMultiSort:{type:Boolean},multiSortKey:{},suppressMaintainUnsortedOrder:{type:Boolean},icons:{},rowHeight:{},rowStyle:{},rowClass:{},rowClassRules:{},suppressRowHoverHighlight:{type:Boolean},suppressRowTransform:{type:Boolean},columnHoverHighlight:{type:Boolean},gridId:{},deltaSort:{type:Boolean},treeDataDisplayType:{},enableGroupEdit:{type:Boolean},initialState:{},theme:{},loadThemeGoogleFonts:{type:Boolean},themeCssLayer:{},styleNonce:{},themeStyleContainer:{},getContextMenuItems:{type:Function},getMainMenuItems:{type:Function},postProcessPopup:{type:Function},processUnpinnedColumns:{type:Function},processCellForClipboard:{type:Function},processHeaderForClipboard:{type:Function},processGroupHeaderForClipboard:{type:Function},processCellFromClipboard:{type:Function},sendToClipboard:{type:Function},processDataFromClipboard:{type:Function},isExternalFilterPresent:{type:Function},doesExternalFilterPass:{type:Function},getChartToolbarItems:{type:Function},createChartContainer:{type:Function},focusGridInnerElement:{type:Function},navigateToNextHeader:{type:Function},tabToNextHeader:{type:Function},navigateToNextCell:{type:Function},tabToNextCell:{type:Function},getLocaleText:{type:Function},getDocument:{type:Function},paginationNumberFormatter:{type:Function},getGroupRowAgg:{type:Function},isGroupOpenByDefault:{type:Function},initialGroupOrderComparator:{type:Function},processPivotResultColDef:{type:Function},processPivotResultColGroupDef:{type:Function},getDataPath:{type:Function},getChildCount:{type:Function},getServerSideGroupLevelParams:{type:Function},isServerSideGroupOpenByDefault:{type:Function},isApplyServerSideTransaction:{type:Function},isServerSideGroup:{type:Function},getServerSideGroupKey:{type:Function},getBusinessKeyForNode:{type:Function},getRowId:{type:Function},resetRowDataOnUpdate:{type:Boolean},processRowPostCreate:{type:Function},isRowSelectable:{type:Function},isRowMaster:{type:Function},fillOperation:{type:Function},postSortRows:{type:Function},getRowStyle:{type:Function},getRowClass:{type:Function},getRowHeight:{type:Function},isFullWidthRow:{type:Function},"onTool-panel-visible-changed":{},"onTool-panel-size-changed":{},"onColumn-menu-visible-changed":{},"onContext-menu-visible-changed":{},"onCut-start":{},"onCut-end":{},"onPaste-start":{},"onPaste-end":{},"onColumn-visible":{},"onColumn-pinned":{},"onColumn-resized":{},"onColumn-moved":{},"onColumn-value-changed":{},"onColumn-pivot-mode-changed":{},"onColumn-pivot-changed":{},"onColumn-group-opened":{},"onNew-columns-loaded":{},"onGrid-columns-changed":{},"onDisplayed-columns-changed":{},"onVirtual-columns-changed":{},"onColumn-everything-changed":{},"onColumn-header-mouse-over":{},"onColumn-header-mouse-leave":{},"onColumn-header-clicked":{},"onColumn-header-context-menu":{},"onComponent-state-changed":{},"onCell-value-changed":{},"onCell-edit-request":{},"onRow-value-changed":{},"onCell-editing-started":{},"onCell-editing-stopped":{},"onRow-editing-started":{},"onRow-editing-stopped":{},"onUndo-started":{},"onUndo-ended":{},"onRedo-started":{},"onRedo-ended":{},"onCell-selection-delete-start":{},"onCell-selection-delete-end":{},"onRange-delete-start":{},"onRange-delete-end":{},"onFill-start":{},"onFill-end":{},"onFilter-opened":{},"onFilter-changed":{},"onFilter-modified":{},"onAdvanced-filter-builder-visible-changed":{},"onFind-changed":{},"onChart-created":{},"onChart-range-selection-changed":{},"onChart-options-changed":{},"onChart-destroyed":{},"onCell-key-down":{},"onGrid-ready":{},"onGrid-pre-destroyed":{},"onFirst-data-rendered":{},"onGrid-size-changed":{},"onModel-updated":{},"onVirtual-row-removed":{},"onViewport-changed":{},"onBody-scroll":{},"onBody-scroll-end":{},"onDrag-started":{},"onDrag-stopped":{},"onDrag-cancelled":{},"onState-updated":{},"onPagination-changed":{},"onRow-drag-enter":{},"onRow-drag-move":{},"onRow-drag-leave":{},"onRow-drag-end":{},"onRow-drag-cancel":{},"onColumn-row-group-changed":{},"onRow-group-opened":{},"onExpand-or-collapse-all":{},"onPivot-max-columns-exceeded":{},"onPinned-row-data-changed":{},"onRow-data-updated":{},"onAsync-transactions-flushed":{},"onStore-refreshed":{},"onHeader-focused":{},"onCell-clicked":{},"onCell-double-clicked":{},"onCell-focused":{},"onCell-mouse-over":{},"onCell-mouse-out":{},"onCell-mouse-down":{},"onRow-clicked":{},"onRow-double-clicked":{},"onRow-selected":{},"onSelection-changed":{},"onCell-context-menu":{},"onRange-selection-changed":{},"onCell-selection-changed":{},"onTooltip-show":{},"onTooltip-hide":{},"onSort-changed":{}},bde()),{modelValue:{},modelModifiers:{}}),emits:xw(["update:modelValue"],["update:modelValue"]),setup(e,{expose:t,emit:n}){const i=e,r=ID("root"),o=Et(void 0),s=Et(!1),a=Et(!1),l=Et(!1),u=Et({}),c=Et(null),d=OD(i);fC.filter(F=>F!="gridOptions").forEach(F=>{_r(()=>d[F],(D,O)=>{(F==="rowData"&&!g.value||F!=="rowData")&&R(F,D),g.value=!1},{deep:!0})});const h=new Set(["rowDataUpdated","cellValueChanged","rowValueChanged"]),p=LD(e,"modelValue"),f=Et(!1),g=Et(!1),m=n;_r(p,(F,D)=>{s.value&&(g.value||(f.value=!0,R("rowData",ic(F),ic(D))),g.value=!1)},{deep:!0});const v=yde(()=>{g.value=!0,m("update:modelValue",x())},10),b=rc(),S=F=>{var D,O;l.value&&h.has(F)&&(O=(D=b==null?void 0:b.vnode)==null?void 0:D.props)!=null&&O["onUpdate:modelValue"]&&v()},y=()=>p.value||i.rowData||i.gridOptions.rowData,x=()=>{const F=[];return o==null||o.value.forEachLeafNode(D=>{F.push(D.data)}),F},E=F=>D=>{if(a.value)return;D==="gridReady"&&(l.value=!0);const O=qc.has(D);O&&!F||!O&&F||h.has(D)&&(f.value||S(D),f.value=!1)},R=(F,D,O)=>{if(s.value){let L=D.value||D;F==="rowData"&&L!=null&&(L=ic(L)),u.value[F]=L,c.value==null&&(c.value=window.setTimeout(()=>{c.value=null,sJ(u.value,o.value),u.value={}},0))}},T=()=>Object.create(rc().provides);return F3(()=>{k5.registerModules([rD]);const F=new mde(rc(),T()),D={globalListener:E(),globalSyncListener:E(!0),frameworkOverrides:new Cde(rc()),providedBeanInstances:{frameworkCompWrapper:F},modules:i.modules},O=wC(oJ(ic(i.gridOptions),i,[...fC,...RR.map(I=>Ky(I))])),L=y();L!==void 0&&(O.rowData=ic(L)),o.value=zoe(r.value,O,D),s.value=!0}),ND(()=>{var F;s.value&&((F=o==null?void 0:o.value)==null||F.destroy(),a.value=!0)}),t({api:o}),(F,D)=>(X(),ne("div",Sde,null,512))}});var Ede={selectAll:"(Select All)",selectAllSearchResults:"(Select All Search Results)",addCurrentSelectionToFilter:"Add current selection to filter",searchOoo:"Search...",blanks:"(Blanks)",noMatches:"No matches",filterOoo:"Filter...",equals:"Equals",notEqual:"Does not equal",blank:"Blank",notBlank:"Not blank",empty:"Choose one",lessThan:"Less than",greaterThan:"Greater than",lessThanOrEqual:"Less than or equal to",greaterThanOrEqual:"Greater than or equal to",inRange:"Between",inRangeStart:"From",inRangeEnd:"To",contains:"Contains",notContains:"Does not contain",startsWith:"Begins with",endsWith:"Ends with",dateFormatOoo:"yyyy-mm-dd",before:"Before",after:"After",andCondition:"AND",orCondition:"OR",applyFilter:"Apply",resetFilter:"Reset",clearFilter:"Clear",cancelFilter:"Cancel",textFilter:"Text Filter",numberFilter:"Number Filter",dateFilter:"Date Filter",setFilter:"Set Filter",groupFilterSelect:"Select field:",advancedFilterContains:"contains",advancedFilterNotContains:"does not contain",advancedFilterTextEquals:"equals",advancedFilterTextNotEqual:"does not equal",advancedFilterStartsWith:"begins with",advancedFilterEndsWith:"ends with",advancedFilterBlank:"is blank",advancedFilterNotBlank:"is not blank",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"is true",advancedFilterFalse:"is false",advancedFilterAnd:"AND",advancedFilterOr:"OR",advancedFilterApply:"Apply",advancedFilterBuilder:"Builder",advancedFilterValidationMissingColumn:"Column is missing",advancedFilterValidationMissingOption:"Option is missing",advancedFilterValidationMissingValue:"Value is missing",advancedFilterValidationInvalidColumn:"Column not found",advancedFilterValidationInvalidOption:"Option not found",advancedFilterValidationMissingQuote:"Value is missing an end quote",advancedFilterValidationNotANumber:"Value is not a number",advancedFilterValidationInvalidDate:"Value is not a valid date",advancedFilterValidationMissingCondition:"Condition is missing",advancedFilterValidationJoinOperatorMismatch:"Join operators within a condition must be the same",advancedFilterValidationInvalidJoinOperator:"Join operator not found",advancedFilterValidationMissingEndBracket:"Missing end bracket",advancedFilterValidationExtraEndBracket:"Too many end brackets",advancedFilterValidationMessage:"Expression has an error. ${variable} - ${variable}.",advancedFilterValidationMessageAtEnd:"Expression has an error. ${variable} at end of expression.",advancedFilterBuilderTitle:"Advanced Filter",advancedFilterBuilderApply:"Apply",advancedFilterBuilderCancel:"Cancel",advancedFilterBuilderAddButtonTooltip:"Add Filter or Group",advancedFilterBuilderRemoveButtonTooltip:"Remove",advancedFilterBuilderMoveUpButtonTooltip:"Move Up",advancedFilterBuilderMoveDownButtonTooltip:"Move Down",advancedFilterBuilderAddJoin:"Add Group",advancedFilterBuilderAddCondition:"Add Filter",advancedFilterBuilderSelectColumn:"Select a column",advancedFilterBuilderSelectOption:"Select an option",advancedFilterBuilderEnterValue:"Enter a value...",advancedFilterBuilderValidationAlreadyApplied:"Current filter already applied.",advancedFilterBuilderValidationIncomplete:"Not all conditions are complete.",advancedFilterBuilderValidationSelectColumn:"Must select a column.",advancedFilterBuilderValidationSelectOption:"Must select an option.",advancedFilterBuilderValidationEnterValue:"Must enter a value.",columns:"Columns",filters:"Filters",pivotMode:"Pivot Mode",groups:"Row Groups",rowGroupColumnsEmptyMessage:"Drag here to set row groups",values:"Values",valueColumnsEmptyMessage:"Drag here to aggregate",pivots:"Column Labels",pivotColumnsEmptyMessage:"Drag here to set column labels",group:"Group",rowDragRow:"row",rowDragRows:"rows",loadingOoo:"Loading...",loadingError:"ERR",noRowsToShow:"No Rows To Show",enabled:"Enabled",pinColumn:"Pin Column",pinLeft:"Pin Left",pinRight:"Pin Right",noPin:"No Pin",valueAggregation:"Value Aggregation",noAggregation:"None",autosizeThisColumn:"Autosize This Column",autosizeAllColumns:"Autosize All Columns",groupBy:"Group by",ungroupBy:"Un-Group by",ungroupAll:"Un-Group All",addToValues:"Add ${variable} to values",removeFromValues:"Remove ${variable} from values",addToLabels:"Add ${variable} to labels",removeFromLabels:"Remove ${variable} from labels",resetColumns:"Reset Columns",expandAll:"Expand All Row Groups",collapseAll:"Close All Row Groups",copy:"Copy",ctrlC:"Ctrl+C",ctrlX:"Ctrl+X",copyWithHeaders:"Copy With Headers",copyWithGroupHeaders:"Copy with Group Headers",cut:"Cut",paste:"Paste",ctrlV:"Ctrl+V",export:"Export",csvExport:"CSV Export",excelExport:"Excel Export",columnFilter:"Column Filter",columnChooser:"Choose Columns",chooseColumns:"Choose Columns",sortAscending:"Sort Ascending",sortDescending:"Sort Descending",sortUnSort:"Clear Sort",sum:"Sum",first:"First",last:"Last",min:"Min",max:"Max",none:"None",count:"Count",avg:"Average",filteredRows:"Filtered",selectedRows:"Selected",totalRows:"Total Rows",totalAndFilteredRows:"Rows",more:"More",to:"to",of:"of",page:"Page",pageLastRowUnknown:"?",nextPage:"Next Page",lastPage:"Last Page",firstPage:"First Page",previousPage:"Previous Page",pageSizeSelectorLabel:"Page Size:",footerTotal:"Total",statusBarLastRowUnknown:"?",pivotColumnGroupTotals:"Total",pivotChartAndPivotMode:"Pivot Chart & Pivot Mode",pivotChart:"Pivot Chart",chartRange:"Chart Range",columnChart:"Column",groupedColumn:"Grouped",stackedColumn:"Stacked",normalizedColumn:"100% Stacked",barChart:"Bar",groupedBar:"Grouped",stackedBar:"Stacked",normalizedBar:"100% Stacked",pieChart:"Pie",pie:"Pie",donut:"Donut",lineChart:"Line",stackedLine:"Stacked",normalizedLine:"100% Stacked",xyChart:"X Y (Scatter)",scatter:"Scatter",bubble:"Bubble",areaChart:"Area",area:"Area",stackedArea:"Stacked",normalizedArea:"100% Stacked",histogramChart:"Histogram",polarChart:"Polar",radarLine:"Radar Line",radarArea:"Radar Area",nightingale:"Nightingale",radialColumn:"Radial Column",radialBar:"Radial Bar",statisticalChart:"Statistical",boxPlot:"Box Plot",rangeBar:"Range Bar",rangeArea:"Range Area",hierarchicalChart:"Hierarchical",treemap:"Treemap",sunburst:"Sunburst",specializedChart:"Specialized",waterfall:"Waterfall",heatmap:"Heatmap",combinationChart:"Combination",columnLineCombo:"Column & Line",AreaColumnCombo:"Area & Column",pivotChartTitle:"Pivot Chart",rangeChartTitle:"Range Chart",settings:"Chart",data:"Set Up",format:"Customize",categories:"Categories",defaultCategory:"(None)",series:"Series",switchCategorySeries:"Switch Category / Series",categoryValues:"Category Values",seriesLabels:"Series Labels",aggregate:"Aggregate",xyValues:"X Y Values",paired:"Paired Mode",axis:"Axis",xAxis:"Horizontal Axis",yAxis:"Vertical Axis",polarAxis:"Polar Axis",radiusAxis:"Radius Axis",navigator:"Navigator",zoom:"Zoom",animation:"Animation",crosshair:"Crosshair",color:"Color",thickness:"Thickness",preferredLength:"Preferred Length",xType:"X Type",axisType:"Axis Type",automatic:"Automatic",category:"Category",number:"Number",time:"Time",timeFormat:"Time Format",autoRotate:"Auto Rotate",labelRotation:"Rotation",circle:"Circle",polygon:"Polygon",square:"Square",cross:"Cross",diamond:"Diamond",plus:"Plus",triangle:"Triangle",heart:"Heart",orientation:"Orientation",fixed:"Fixed",parallel:"Parallel",perpendicular:"Perpendicular",radiusAxisPosition:"Position",ticks:"Ticks",gridLines:"Grid Lines",width:"Width",height:"Height",length:"Length",padding:"Padding",spacing:"Spacing",chartStyle:"Chart Style",title:"Title",chartTitles:"Titles",chartTitle:"Chart Title",chartSubtitle:"Subtitle",horizontalAxisTitle:"Horizontal Axis Title",verticalAxisTitle:"Vertical Axis Title",polarAxisTitle:"Polar Axis Title",titlePlaceholder:"Chart Title",background:"Background",font:"Font",weight:"Weight",top:"Top",right:"Right",bottom:"Bottom",left:"Left",labels:"Labels",calloutLabels:"Callout Labels",sectorLabels:"Sector Labels",positionRatio:"Position Ratio",size:"Size",shape:"Shape",minSize:"Minimum Size",maxSize:"Maximum Size",legend:"Legend",position:"Position",markerSize:"Marker Size",markerStroke:"Marker Stroke",markerPadding:"Marker Padding",itemSpacing:"Item Spacing",itemPaddingX:"Item Padding X",itemPaddingY:"Item Padding Y",layoutHorizontalSpacing:"Horizontal Spacing",layoutVerticalSpacing:"Vertical Spacing",strokeWidth:"Stroke Width",offset:"Offset",offsets:"Offsets",tooltips:"Tooltips",callout:"Callout",markers:"Markers",shadow:"Shadow",blur:"Blur",xOffset:"X Offset",yOffset:"Y Offset",lineWidth:"Line Width",lineDash:"Line Dash",lineDashOffset:"Dash Offset",scrollingZoom:"Scrolling",scrollingStep:"Scrolling Step",selectingZoom:"Selecting",durationMillis:"Duration (ms)",crosshairLabel:"Label",crosshairSnap:"Snap to Node",normal:"Normal",bold:"Bold",italic:"Italic",boldItalic:"Bold Italic",predefined:"Predefined",fillOpacity:"Fill Opacity",strokeColor:"Line Color",strokeOpacity:"Line Opacity",miniChart:"Mini-Chart",histogramBinCount:"Bin count",connectorLine:"Connector Line",seriesItems:"Series Items",seriesItemType:"Item Type",seriesItemPositive:"Positive",seriesItemNegative:"Negative",seriesItemLabels:"Item Labels",columnGroup:"Column",barGroup:"Bar",pieGroup:"Pie",lineGroup:"Line",scatterGroup:"X Y (Scatter)",areaGroup:"Area",polarGroup:"Polar",statisticalGroup:"Statistical",hierarchicalGroup:"Hierarchical",specializedGroup:"Specialized",combinationGroup:"Combination",groupedColumnTooltip:"Grouped",stackedColumnTooltip:"Stacked",normalizedColumnTooltip:"100% Stacked",groupedBarTooltip:"Grouped",stackedBarTooltip:"Stacked",normalizedBarTooltip:"100% Stacked",pieTooltip:"Pie",donutTooltip:"Donut",lineTooltip:"Line",stackedLineTooltip:"Stacked",normalizedLineTooltip:"100% Stacked",groupedAreaTooltip:"Area",stackedAreaTooltip:"Stacked",normalizedAreaTooltip:"100% Stacked",scatterTooltip:"Scatter",bubbleTooltip:"Bubble",histogramTooltip:"Histogram",radialColumnTooltip:"Radial Column",radialBarTooltip:"Radial Bar",radarLineTooltip:"Radar Line",radarAreaTooltip:"Radar Area",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Range Bar",rangeAreaTooltip:"Range Area",boxPlotTooltip:"Box Plot",treemapTooltip:"Treemap",sunburstTooltip:"Sunburst",waterfallTooltip:"Waterfall",heatmapTooltip:"Heatmap",columnLineComboTooltip:"Column & Line",areaColumnComboTooltip:"Area & Column",customComboTooltip:"Custom Combination",innerRadius:"Inner Radius",startAngle:"Start Angle",endAngle:"End Angle",reverseDirection:"Reverse Direction",groupPadding:"Group Padding",seriesPadding:"Series Padding",tile:"Tile",whisker:"Whisker",cap:"Cap",capLengthRatio:"Length Ratio",labelPlacement:"Placement",inside:"Inside",outside:"Outside",noDataToChart:"No data available to be charted.",pivotChartRequiresPivotMode:"Pivot Chart requires Pivot Mode enabled.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Linked to Grid",chartUnlinkToolbarTooltip:"Unlinked from Grid",chartDownloadToolbarTooltip:"Download Chart",chartMenuToolbarTooltip:"Menu",chartEdit:"Edit Chart",chartAdvancedSettings:"Advanced Settings",chartLink:"Link to Grid",chartUnlink:"Unlink from Grid",chartDownload:"Download Chart",histogramFrequency:"Frequency",seriesChartType:"Series Chart Type",seriesType:"Series Type",secondaryAxis:"Secondary Axis",seriesAdd:"Add a series",categoryAdd:"Add a category",bar:"Bar",column:"Column",histogram:"Histogram",advancedSettings:"Advanced Settings",direction:"Direction",horizontal:"Horizontal",vertical:"Vertical",seriesGroupType:"Group Type",groupedSeriesGroupType:"Grouped",stackedSeriesGroupType:"Stacked",normalizedSeriesGroupType:"100% Stacked",legendEnabled:"Enabled",invalidColor:"Color value is invalid",groupedColumnFull:"Grouped Column",stackedColumnFull:"Stacked Column",normalizedColumnFull:"100% Stacked Column",groupedBarFull:"Grouped Bar",stackedBarFull:"Stacked Bar",normalizedBarFull:"100% Stacked Bar",stackedAreaFull:"Stacked Area",normalizedAreaFull:"100% Stacked Area",customCombo:"Custom Combination",funnel:"Funnel",coneFunnel:"Cone Funnel",pyramid:"Pyramid",funnelGroup:"Funnel",funnelTooltip:"Funnel",coneFunnelTooltip:"Cone Funnel",pyramidTooltip:"Pyramid",dropOff:"Drop-Off",stageLabels:"Stage Labels",reverse:"Reverse",ariaAdvancedFilterBuilderItem:"${variable}. Level ${variable}. Press ENTER to edit",ariaAdvancedFilterBuilderItemValidation:"${variable}. Level ${variable}. ${variable} Press ENTER to edit",ariaAdvancedFilterBuilderList:"Advanced Filter Builder List",ariaAdvancedFilterBuilderFilterItem:"Filter Condition",ariaAdvancedFilterBuilderGroupItem:"Filter Group",ariaAdvancedFilterBuilderColumn:"Column",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValueP:"Value",ariaAdvancedFilterBuilderJoinOperator:"Join Operator",ariaAdvancedFilterInput:"Advanced Filter Input",ariaChecked:"checked",ariaColumn:"Column",ariaColumnGroup:"Column Group",ariaColumnFiltered:"Column Filtered",ariaColumnSelectAll:"Toggle All Columns Visibility",ariaDateFilterInput:"Date Filter Input",ariaDefaultListName:"List",ariaFilterColumnsInput:"Filter Columns Input",ariaFilterFromValue:"Filter from value",ariaFilterInput:"Filter Input",ariaFilterList:"Filter List",ariaFilterToValue:"Filter to value",ariaFilterValue:"Filter Value",ariaFilterMenuOpen:"Open Filter Menu",ariaFilteringOperator:"Filtering Operator",ariaHidden:"hidden",ariaIndeterminate:"indeterminate",ariaInputEditor:"Input Editor",ariaMenuColumn:"Press ALT DOWN to open column menu",ariaFilterColumn:"Press CTRL ENTER to open filter",ariaRowDeselect:"Press SPACE to deselect this row",ariaHeaderSelection:"Column with Header Selection",ariaSelectAllCells:"Press Space to select all cells",ariaRowSelectAll:"Press Space to toggle all rows selection",ariaRowToggleSelection:"Press Space to toggle row selection",ariaRowSelect:"Press SPACE to select this row",ariaRowSelectionDisabled:"Row Selection is disabled for this row",ariaSearch:"Search",ariaSortableColumn:"Press ENTER to sort",ariaToggleVisibility:"Press SPACE to toggle visibility",ariaToggleCellValue:"Press SPACE to toggle cell value",ariaUnchecked:"unchecked",ariaVisible:"visible",ariaSearchFilterValues:"Search filter values",ariaPageSizeSelectorLabel:"Page Size",ariaChartMenuClose:"Close Chart Edit Menu",ariaChartSelected:"Selected",ariaSkeletonCellLoadingFailed:"Row failed to load",ariaSkeletonCellLoading:"Row data is loading",ariaRowGroupDropZonePanelLabel:"Row Groups",ariaValuesDropZonePanelLabel:"Values",ariaPivotDropZonePanelLabel:"Column Labels",ariaDropZoneColumnComponentDescription:"Press DELETE to remove",ariaDropZoneColumnValueItemDescription:"Press ENTER to change the aggregation type",ariaDropZoneColumnGroupItemDescription:"Press ENTER to sort",ariaDropZoneColumnComponentAggFuncSeparator:" of ",ariaDropZoneColumnComponentSortAscending:"ascending",ariaDropZoneColumnComponentSortDescending:"descending",ariaLabelDialog:"Dialog",ariaLabelColumnMenu:"Column Menu",ariaLabelColumnFilter:"Column Filter",ariaLabelCellEditor:"Cell Editor",ariaLabelSelectField:"Select Field",ariaLabelLoadingContextMenu:"Loading Context Menu",ariaLabelRichSelectField:"Rich Select Field",ariaLabelRichSelectToggleSelection:"Press SPACE to toggle selection",ariaLabelRichSelectDeselectAllItems:"Press DELETE to deselect all items",ariaLabelRichSelectDeleteSelection:"Press DELETE to deselect item",ariaLabelTooltip:"Tooltip",ariaLabelContextMenu:"Context Menu",ariaLabelSubMenu:"SubMenu",ariaLabelAggregationFunction:"Aggregation Function",ariaLabelAdvancedFilterAutocomplete:"Advanced Filter Autocomplete",ariaLabelAdvancedFilterBuilderAddField:"Advanced Filter Builder Add Field",ariaLabelAdvancedFilterBuilderColumnSelectField:"Advanced Filter Builder Column Select Field",ariaLabelAdvancedFilterBuilderOptionSelectField:"Advanced Filter Builder Option Select Field",ariaLabelAdvancedFilterBuilderJoinSelectField:"Advanced Filter Builder Join Operator Select Field",ariaColumnPanelList:"Column List",ariaFilterPanelList:"Filter List",thousandSeparator:",",decimalSeparator:".",true:"True",false:"False",invalidDate:"Invalid Date",invalidNumber:"Invalid Number",january:"January",february:"February",march:"March",april:"April",may:"May",june:"June",july:"July",august:"August",september:"September",october:"October",november:"November",december:"December",timeFormatSlashesDDMMYYYY:"DD/MM/YYYY",timeFormatSlashesMMDDYYYY:"MM/DD/YYYY",timeFormatSlashesDDMMYY:"DD/MM/YY",timeFormatSlashesMMDDYY:"MM/DD/YY",timeFormatDotsDDMYY:"DD.M.YY",timeFormatDotsMDDYY:"M.DD.YY",timeFormatDashesYYYYMMDD:"YYYY-MM-DD",timeFormatSpacesDDMMMMYYYY:"DD MMMM YYYY",timeFormatHHMMSS:"HH:MM:SS",timeFormatHHMMSSAmPm:"HH:MM:SS AM/PM"},kde={selectAll:"(Alles auswählen)",selectAllSearchResults:"(Alle Suchergebnisse auswählen)",addCurrentSelectionToFilter:"Aktuelle Auswahl zum Filter hinzufügen",searchOoo:"Suchen...",blanks:"(Leer)",noMatches:"Keine Übereinstimmungen",filterOoo:"Filter...",equals:"Gleich",notEqual:"Ungleich",blank:"Leer",notBlank:"Nicht leer",empty:"Wählen Sie eine",lessThan:"Weniger als",greaterThan:"Größer als",lessThanOrEqual:"Weniger als oder gleich",greaterThanOrEqual:"Größer als oder gleich",inRange:"Zwischen",inRangeStart:"Von",inRangeEnd:"Bis",contains:"Enthält",notContains:"Enthält nicht",startsWith:"Beginnt mit",endsWith:"Endet mit",dateFormatOoo:"yyyy-mm-dd",before:"Vor",after:"Nach",andCondition:"UND",orCondition:"ODER",applyFilter:"Anwenden",resetFilter:"Zurücksetzen",clearFilter:"Löschen",cancelFilter:"Abbrechen",textFilter:"Textfilter",numberFilter:"Zahlenfilter",dateFilter:"Datumsfilter",setFilter:"Satzfilter",groupFilterSelect:"Feld auswählen:",advancedFilterContains:"enthält",advancedFilterNotContains:"enthält-nicht",advancedFilterTextEquals:"gleich",advancedFilterTextNotEqual:"ungleich",advancedFilterStartsWith:"beginnt-mit",advancedFilterEndsWith:"endet-mit",advancedFilterBlank:"ist-leer",advancedFilterNotBlank:"ist-nicht-leer",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"ist-wahr",advancedFilterFalse:"ist-falsch",advancedFilterAnd:"UND",advancedFilterOr:"ODER",advancedFilterApply:"Anwenden",advancedFilterBuilder:"Ersteller",advancedFilterValidationMissingColumn:"Spalte fehlt",advancedFilterValidationMissingOption:"Option fehlt",advancedFilterValidationMissingValue:"Wert fehlt",advancedFilterValidationInvalidColumn:"Spalte nicht gefunden",advancedFilterValidationInvalidOption:"Option nicht gefunden",advancedFilterValidationMissingQuote:"Wert fehlt ein Schlusszeichen",advancedFilterValidationNotANumber:"Wert ist keine Nummer",advancedFilterValidationInvalidDate:"Wert ist kein gültiges Datum",advancedFilterValidationMissingCondition:"Bedingung fehlt",advancedFilterValidationJoinOperatorMismatch:"Verknüpfungsoperatoren innerhalb einer Bedingung müssen gleich sein",advancedFilterValidationInvalidJoinOperator:"Verknüpfungsoperator nicht gefunden",advancedFilterValidationMissingEndBracket:"Endklammer fehlt",advancedFilterValidationExtraEndBracket:"Zu viele Endklammern",advancedFilterValidationMessage:"Ausdruck enthält einen Fehler. ${variable} - ${variable}.",advancedFilterValidationMessageAtEnd:"Ausdruck enthält einen Fehler. ${variable} am Ende des Ausdrucks.",advancedFilterBuilderTitle:"Erweiterter Filter",advancedFilterBuilderApply:"Anwenden",advancedFilterBuilderCancel:"Abbrechen",advancedFilterBuilderAddButtonTooltip:"Filter oder Gruppe hinzufügen",advancedFilterBuilderRemoveButtonTooltip:"Entfernen",advancedFilterBuilderMoveUpButtonTooltip:"Nach oben bewegen",advancedFilterBuilderMoveDownButtonTooltip:"Nach unten bewegen",advancedFilterBuilderAddJoin:"Gruppe hinzufügen",advancedFilterBuilderAddCondition:"Filter hinzufügen",advancedFilterBuilderSelectColumn:"Eine Spalte auswählen",advancedFilterBuilderSelectOption:"Eine Option auswählen",advancedFilterBuilderEnterValue:"Einen Wert eingeben...",advancedFilterBuilderValidationAlreadyApplied:"Aktueller Filter bereits angewendet.",advancedFilterBuilderValidationIncomplete:"Nicht alle Bedingungen sind vollständig.",advancedFilterBuilderValidationSelectColumn:"Eine Spalte muss ausgewählt werden.",advancedFilterBuilderValidationSelectOption:"Eine Option muss ausgewählt werden.",advancedFilterBuilderValidationEnterValue:"Ein Wert muss eingegeben werden.",columns:"Spalten",filters:"Filter",pivotMode:"Pivot-Modus",groups:"Zeilengruppen",rowGroupColumnsEmptyMessage:"Ziehen Sie hierher, um Zeilengruppen festzulegen",values:"Werte",valueColumnsEmptyMessage:"Ziehen Sie hierher, um zu aggregieren",pivots:"Spaltenbezeichnungen",pivotColumnsEmptyMessage:"Ziehen Sie hierher, um Spaltenbezeichnungen festzulegen",group:"Gruppe",rowDragRow:"Reihe",rowDragRows:"Reihen",loadingOoo:"Wird geladen...",loadingError:"FEHLER",noRowsToShow:"Keine Zeilen zum Anzeigen",enabled:"Aktiviert",pinColumn:"Spalte anheften",pinLeft:"Links anheften",pinRight:"Rechts anheften",noPin:"Nicht anheften",valueAggregation:"Wertaggregation",noAggregation:"Keine",autosizeThisColumn:"Diese Spalte automatisch anpassen",autosizeAllColumns:"Alle Spalten automatisch anpassen",groupBy:"Gruppieren nach",ungroupBy:"Gruppierung aufheben nach",ungroupAll:"Alle Gruppierungen aufheben",addToValues:"Füge ${variable} zu Werten hinzu",removeFromValues:"Entferne ${variable} aus Werten",addToLabels:"Füge ${variable} zu Labels hinzu",removeFromLabels:"Entferne ${variable} aus Labels",resetColumns:"Spalten zurücksetzen",expandAll:"Alle Zeilengruppen erweitern",collapseAll:"Alle Zeilengruppen schließen",copy:"Kopieren",ctrlC:"Strg+C",ctrlX:"Strg+X",copyWithHeaders:"Mit Kopfzeilen kopieren",copyWithGroupHeaders:"Mit Gruppenkopfzeilen kopieren",cut:"Ausschneiden",paste:"Einfügen",ctrlV:"Strg+V",export:"Exportieren",csvExport:"CSV-Export",excelExport:"Excel-Export",columnFilter:"Spaltenfilter",columnChooser:"Spalten auswählen",chooseColumns:"Spalten auswählen",sortAscending:"Aufsteigend sortieren",sortDescending:"Absteigend sortieren",sortUnSort:"Sortierung aufheben",sum:"Summe",first:"Erste",last:"Letzte",min:"Min",max:"Max",none:"Keine",count:"Anzahl",avg:"Durchschnitt",filteredRows:"Gefiltert",selectedRows:"Ausgewählt",totalRows:"Gesamtanzahl Zeilen",totalAndFilteredRows:"Zeilen",more:"Mehr",to:"bis",of:"von",page:"Seite",pageLastRowUnknown:"?",nextPage:"Nächste Seite",lastPage:"Letzte Seite",firstPage:"Erste Seite",previousPage:"Vorherige Seite",pageSizeSelectorLabel:"Seitengröße:",footerTotal:"Gesamt",statusBarLastRowUnknown:"?",pivotColumnGroupTotals:"Gesamt",pivotChartAndPivotMode:"Pivot-Diagramm & Pivot-Modus",pivotChart:"Pivot-Diagramm",chartRange:"Diagrammbereich",columnChart:"Säule",groupedColumn:"Gruppiert",stackedColumn:"Gestapelt",normalizedColumn:"100% Gestapelt",barChart:"Balken",groupedBar:"Gruppiert",stackedBar:"Gestapelt",normalizedBar:"100% Gestapelt",pieChart:"Kreisdiagramm",pie:"Kreis",donut:"Donut",lineChart:"Linie",stackedLine:"Gestapelt",normalizedLine:"100% Gestapelt",xyChart:"X Y (Streudiagramm)",scatter:"Streu",bubble:"Blase",areaChart:"Fläche",area:"Fläche",stackedArea:"Gestapelt",normalizedArea:"100% Gestapelt",histogramChart:"Histogramm",polarChart:"Polar",radarLine:"Radarlinie",radarArea:"Radarfläche",nightingale:"Nachtigall",radialColumn:"Radiale Säule",radialBar:"Radialer Balken",statisticalChart:"Statistisch",boxPlot:"Box-Plot",rangeBar:"Bereichsbalken",rangeArea:"Bereichsfläche",hierarchicalChart:"Hierarchisch",treemap:"Baumkarte",sunburst:"Sonnenstrahl",specializedChart:"Spezialisiert",waterfall:"Wasserfall",heatmap:"Heatmap",combinationChart:"Kombination",columnLineCombo:"Säule & Linie",AreaColumnCombo:"Fläche & Säule",pivotChartTitle:"Pivot-Diagramm",rangeChartTitle:"Bereichsdiagramm",settings:"Diagramm",data:"Einrichten",format:"Anpassen",categories:"Kategorien",defaultCategory:"(Keine)",series:"Reihen",switchCategorySeries:"Kategorie / Serie wechseln",categoryValues:"Kategorie Werte",seriesLabels:"Serienbeschriftungen",aggregate:"Aggregieren",xyValues:"X Y Werte",paired:"Gekoppelter Modus",axis:"Achse",xAxis:"Horizontale Achse",yAxis:"Vertikale Achse",polarAxis:"Polare Achse",radiusAxis:"Radius-Achse",navigator:"Navigator",zoom:"Zoom",animation:"Animation",crosshair:"Fadenkreuz",color:"Farbe",thickness:"Dicke",preferredLength:"Bevorzugte Länge",xType:"X-Typ",axisType:"Achsentyp",automatic:"Automatisch",category:"Kategorie",number:"Zahl",time:"Zeit",timeFormat:"Zeit Format",autoRotate:"Automatisch Rotieren",labelRotation:"Drehung",circle:"Kreis",polygon:"Polygon",square:"Quadrat",cross:"Kreuz",diamond:"Diamant",plus:"Plus",triangle:"Dreieck",heart:"Herz",orientation:"Ausrichtung",fixed:"Fest",parallel:"Parallel",perpendicular:"Senkrecht",radiusAxisPosition:"Position",ticks:"Striche",gridLines:"Gitternetzlinien",width:"Breite",height:"Höhe",length:"Länge",padding:"Abstand",spacing:"Abstand",chartStyle:"Diagrammstil",title:"Titel",chartTitles:"Titel",chartTitle:"Diagrammtitel",chartSubtitle:"Untertitel",horizontalAxisTitle:"Titel der horizontalen Achse",verticalAxisTitle:"Titel der vertikalen Achse",polarAxisTitle:"Titel der Polarakse",titlePlaceholder:"Diagrammtitel",background:"Hintergrund",font:"Schriftart",weight:"Gewicht",top:"Oben",right:"Rechts",bottom:"Unten",left:"Links",labels:"Beschriftungen",calloutLabels:"Beschriftungen",sectorLabels:"Sektorbeschriftungen",positionRatio:"Positionsverhältnis",size:"Größe",shape:"Form",minSize:"Mindestgröße",maxSize:"Maximalgröße",legend:"Legende",position:"Position",markerSize:"Markierungsgröße",markerStroke:"Markierungsstrich",markerPadding:"Markierungsabstand",itemSpacing:"Elementabstand",itemPaddingX:"Elementabstand X",itemPaddingY:"Elementabstand Y",layoutHorizontalSpacing:"Horizontaler Abstand",layoutVerticalSpacing:"Vertikaler Abstand",strokeWidth:"Strichbreite",offset:"Versatz",offsets:"Versätze",tooltips:"Tooltips",callout:"Beschriftung",markers:"Markierungen",shadow:"Schatten",blur:"Unschärfe",xOffset:"X-Versatz",yOffset:"Y-Versatz",lineWidth:"Linienbreite",lineDash:"Linienstrich",lineDashOffset:"Strichversatz",scrollingZoom:"Scrollen",scrollingStep:"Scrollschritt",selectingZoom:"Auswählen",durationMillis:"Dauer (ms)",crosshairLabel:"Beschriftung",crosshairSnap:"An Knoten schnappen",normal:"Normal",bold:"Fett",italic:"Kursiv",boldItalic:"Fett Kursiv",predefined:"Vordefiniert",fillOpacity:"Füllopazität",strokeColor:"Linienfarbe",strokeOpacity:"Linienopazität",miniChart:"Mini-Diagramm",histogramBinCount:"Anzahl der Bins",connectorLine:"Verbindungslinie",seriesItems:"Serienartikel",seriesItemType:"Artikeltyp",seriesItemPositive:"Positiv",seriesItemNegative:"Negativ",seriesItemLabels:"Artikel Beschriftungen",columnGroup:"Spalte",barGroup:"Balken",pieGroup:"Kreis",lineGroup:"Linie",scatterGroup:"X Y (Streudiagramm)",areaGroup:"Bereich",polarGroup:"Polar",statisticalGroup:"Statistisch",hierarchicalGroup:"Hierarchisch",specializedGroup:"Spezialisiert",combinationGroup:"Kombination",groupedColumnTooltip:"Gruppiert",stackedColumnTooltip:"Gestapelt",normalizedColumnTooltip:"100% Gestapelt",groupedBarTooltip:"Gruppiert",stackedBarTooltip:"Gestapelt",normalizedBarTooltip:"100% Gestapelt",pieTooltip:"Kreis",donutTooltip:"Donut",lineTooltip:"Linie",stackedLineTooltip:"Gestapelt",normalizedLineTooltip:"100% Gestapelt",groupedAreaTooltip:"Bereich",stackedAreaTooltip:"Gestapelt",normalizedAreaTooltip:"100% Gestapelt",scatterTooltip:"Streudiagramm",bubbleTooltip:"Blase",histogramTooltip:"Histogramm",radialColumnTooltip:"Radiale Spalte",radialBarTooltip:"Radialer Balken",radarLineTooltip:"Radarlinie",radarAreaTooltip:"Radarbereich",nightingaleTooltip:"Nachtigall",rangeBarTooltip:"Bereichsbalken",rangeAreaTooltip:"Bereichsbereich",boxPlotTooltip:"Boxplot",treemapTooltip:"Baumkarte",sunburstTooltip:"Sunburst",waterfallTooltip:"Wasserfall",heatmapTooltip:"Heatmap",columnLineComboTooltip:"Spalte & Linie",areaColumnComboTooltip:"Bereich & Spalte",customComboTooltip:"Benutzerdefinierte Kombination",innerRadius:"Innerer Radius",startAngle:"Startwinkel",endAngle:"Endwinkel",reverseDirection:"Richtung umkehren",groupPadding:"Gruppenabstand",seriesPadding:"Serienabstand",tile:"Kachel",whisker:"Schnurrbart",cap:"Kappe",capLengthRatio:"Längenverhältnis",labelPlacement:"Platzierung",inside:"Innen",outside:"Außen",noDataToChart:"Keine Daten zum Chart vorhanden.",pivotChartRequiresPivotMode:"Pivot-Diagramm erfordert aktivierten Pivot-Modus.",chartSettingsToolbarTooltip:"Menü",chartLinkToolbarTooltip:"Mit Gitter verbunden",chartUnlinkToolbarTooltip:"Vom Gitter getrennt",chartDownloadToolbarTooltip:"Diagramm herunterladen",chartMenuToolbarTooltip:"Menü",chartEdit:"Diagramm bearbeiten",chartAdvancedSettings:"Erweiterte Einstellungen",chartLink:"Mit Gitter verknüpfen",chartUnlink:"Vom Gitter trennen",chartDownload:"Diagramm herunterladen",histogramFrequency:"Häufigkeit",seriesChartType:"Serien-Diagrammtyp",seriesType:"Serientyp",secondaryAxis:"Sekundäre Achse",seriesAdd:"Eine Serie hinzufügen",categoryAdd:"Eine Kategorie hinzufügen",bar:"Balken",column:"Spalte",histogram:"Histogramm",advancedSettings:"Erweiterte Einstellungen",direction:"Richtung",horizontal:"Horizontal",vertical:"Vertikal",seriesGroupType:"Gruppentyp",groupedSeriesGroupType:"Gruppiert",stackedSeriesGroupType:"Gestapelt",normalizedSeriesGroupType:"100% Gestapelt",legendEnabled:"Aktiviert",invalidColor:"Farbwert ist ungültig",groupedColumnFull:"Gruppierte Spalte",stackedColumnFull:"Gestapelte Spalte",normalizedColumnFull:"100% Gestapelte Spalte",groupedBarFull:"Gruppierter Balken",stackedBarFull:"Gestapelter Balken",normalizedBarFull:"100% Gestapelter Balken",stackedAreaFull:"Gestapelter Bereich",normalizedAreaFull:"100% Gestapelter Bereich",customCombo:"Benutzerdefinierte Kombination",funnel:"Trichter",coneFunnel:"Kegeltrichter",pyramid:"Pyramide",funnelGroup:"Trichter",funnelTooltip:"Trichter",coneFunnelTooltip:"Kegeltrichter",pyramidTooltip:"Pyramide",dropOff:"Abfall",stageLabels:"Phasenbeschriftungen",reverse:"Umkehren",ariaAdvancedFilterBuilderItem:"${variable}. Ebene ${variable}. Drücken Sie ENTER, um zu bearbeiten.",ariaAdvancedFilterBuilderItemValidation:"${variable}. Ebene ${variable}. ${variable} Drücken Sie ENTER, um zu bearbeiten.",ariaAdvancedFilterBuilderList:"Erweiterte Filter-Builder-Liste",ariaAdvancedFilterBuilderFilterItem:"Filterbedingung",ariaAdvancedFilterBuilderGroupItem:"Filtergruppe",ariaAdvancedFilterBuilderColumn:"Spalte",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValueP:"Wert",ariaAdvancedFilterBuilderJoinOperator:"Verknüpfungsoperator",ariaAdvancedFilterInput:"Erweiterter Filtereingang",ariaChecked:"geprüft",ariaColumn:"Spalte",ariaColumnGroup:"Spaltengruppe",ariaColumnFiltered:"Spalte gefiltert",ariaColumnSelectAll:"Alle Spalten ein-/ausblenden",ariaDateFilterInput:"Datum-Filtereingang",ariaDefaultListName:"Liste",ariaFilterColumnsInput:"Filterspalteneingang",ariaFilterFromValue:"Filter vom Wert",ariaFilterInput:"Filtereingang",ariaFilterList:"Filterliste",ariaFilterToValue:"Filter zum Wert",ariaFilterValue:"Filterwert",ariaFilterMenuOpen:"Filtermenü öffnen",ariaFilteringOperator:"Filteroperator",ariaHidden:"versteckt",ariaIndeterminate:"unbestimmt",ariaInputEditor:"Eingabeeditor",ariaMenuColumn:"Drücken Sie ALT NACH UNTEN, um das Spaltenmenü zu öffnen",ariaFilterColumn:"Drücken Sie STRG EINGABETASTE, um den Filter zu öffnen",ariaRowDeselect:"Drücken Sie LEERTASTE, um diese Zeile abzuwaehlen",ariaHeaderSelection:"Spalte mit Header-Auswahl",ariaSelectAllCells:"Drücken Sie die Leertaste, um alle Zellen auszuwählen",ariaRowSelectAll:"Drücken Sie LEERTASTE, um die Auswahl aller Zeilen umzuschalten",ariaRowToggleSelection:"Drücken Sie LEERTASTE, um die Zeilenauswahl umzuschalten",ariaRowSelect:"Drücken Sie LEERTASTE, um diese Zeile auszuwählen",ariaRowSelectionDisabled:"Zeilenauswahl ist für diese Zeile deaktiviert",ariaSearch:"Suche",ariaSortableColumn:"Drücken Sie EINGABETASTE, um zu sortieren",ariaToggleVisibility:"Drücken Sie LEERTASTE, um die Sichtbarkeit umzuschalten",ariaToggleCellValue:"Drücken Sie LEERTASTE, um den Zellenwert umzuschalten",ariaUnchecked:"ungeprüft",ariaVisible:"sichtbar",ariaSearchFilterValues:"Filterwerte suchen",ariaPageSizeSelectorLabel:"Seitengröße",ariaChartMenuClose:"Diagramm-Bearbeitungsmenü schließen",ariaChartSelected:"Ausgewählt",ariaSkeletonCellLoadingFailed:"Das Laden der Zeile ist fehlgeschlagen",ariaSkeletonCellLoading:"Zeilendaten werden geladen",ariaRowGroupDropZonePanelLabel:"Zeilengruppen",ariaValuesDropZonePanelLabel:"Werte",ariaPivotDropZonePanelLabel:"Spaltenbeschriftungen",ariaDropZoneColumnComponentDescription:"Drücken Sie DELETE, um zu entfernen",ariaDropZoneColumnValueItemDescription:"Drücken Sie ENTER, um den Aggregationstyp zu ändern",ariaDropZoneColumnGroupItemDescription:"Drücken Sie ENTER, um zu sortieren",ariaDropZoneColumnComponentAggFuncSeparator:" von ",ariaDropZoneColumnComponentSortAscending:"aufsteigend",ariaDropZoneColumnComponentSortDescending:"absteigend",ariaLabelDialog:"Dialog",ariaLabelColumnMenu:"Spaltenmenü",ariaLabelColumnFilter:"Spaltenfilter",ariaLabelCellEditor:"Zelleneditor",ariaLabelSelectField:"Feld auswählen",ariaLabelLoadingContextMenu:"Lade Kontextmenü",ariaLabelRichSelectField:"Rich-Select-Feld",ariaLabelRichSelectToggleSelection:"Drücken Sie die LEERTASTE, um die Auswahl umzuschalten",ariaLabelRichSelectDeselectAllItems:"Drücken Sie ENTFERNEN, um alle Elemente abzuwählen",ariaLabelRichSelectDeleteSelection:"Drücken Sie ENTFERNEN, um das Element abzuwählen",ariaLabelTooltip:"Tooltip",ariaLabelContextMenu:"Kontextmenü",ariaLabelSubMenu:"Untermenü",ariaLabelAggregationFunction:"Aggregationsfunktion",ariaLabelAdvancedFilterAutocomplete:"Erweiterte Filter-Autovervollständigung",ariaLabelAdvancedFilterBuilderAddField:"Erweiterte Filtererstellung Feld hinzufügen",ariaLabelAdvancedFilterBuilderColumnSelectField:"Erweiterte Filtererstellung Spaltenauswahlfeld",ariaLabelAdvancedFilterBuilderOptionSelectField:"Erweiterte Filtererstellung Optionsauswahlfeld",ariaLabelAdvancedFilterBuilderJoinSelectField:"Erweiterte Filtererstellung Verknüpfungsoperatore Auswahlfeld",ariaColumnPanelList:"Spaltenliste",ariaFilterPanelList:"Filterliste",thousandSeparator:".",decimalSeparator:",",true:"Wahr",false:"Falsch",invalidDate:"Ungültiges Datum",invalidNumber:"Ungültige Nummer",january:"Januar",february:"Februar",march:"März",april:"April",may:"Mai",june:"Juni",july:"Juli",august:"August",september:"September",october:"Oktober",november:"November",december:"Dezember",timeFormatSlashesDDMMYYYY:"TT/MM/JJJJ",timeFormatSlashesMMDDYYYY:"MM/TT/JJJJ",timeFormatSlashesDDMMYY:"TT/MM/JJ",timeFormatSlashesMMDDYY:"MM/TT/JJ",timeFormatDotsDDMYY:"TT.M.JJ",timeFormatDotsMDDYY:"M.TT.JJ",timeFormatDashesYYYYMMDD:"JJJJ-MM-TT",timeFormatSpacesDDMMMMYYYY:"TT MMMM JJJJ",timeFormatHHMMSS:"SS:MM:SS",timeFormatHHMMSSAmPm:"SS:MM:SS VM/NM"},sD={selectAll:"(Sélectionner tout)",selectAllSearchResults:"(Sélectionner tous les résultats de recherche)",addCurrentSelectionToFilter:"Ajouter la sélection actuelle au filtre",searchOoo:"Chercher...",blanks:"(Vides)",noMatches:"Aucune correspondance",filterOoo:"Filtrer...",equals:"Égal à",notEqual:"N'est pas égal à",blank:"Vide",notBlank:"Non vide",empty:"Choisissez-en un",lessThan:"Moins de",greaterThan:"Plus de",lessThanOrEqual:"Moins de ou égal à",greaterThanOrEqual:"Plus de ou égal à",inRange:"Entre",inRangeStart:"De",inRangeEnd:"À",contains:"Contient",notContains:"Ne contient pas",startsWith:"Commence par",endsWith:"Se termine par",dateFormatOoo:"yyyy-mm-dd",before:"Avant",after:"Après",andCondition:"ET",orCondition:"OU",applyFilter:"Appliquer",resetFilter:"Réinitialiser",clearFilter:"Effacer",cancelFilter:"Annuler",textFilter:"Filtre de texte",numberFilter:"Filtre numérique",dateFilter:"Filtre de date",setFilter:"Filtre de jeu",groupFilterSelect:"Sélectionner le champ :",advancedFilterContains:"contient",advancedFilterNotContains:"ne contient pas",advancedFilterTextEquals:"égal",advancedFilterTextNotEqual:"n'est pas égal",advancedFilterStartsWith:"commence par",advancedFilterEndsWith:"se termine par",advancedFilterBlank:"est vide",advancedFilterNotBlank:"n'est pas vide",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"est vrai",advancedFilterFalse:"est faux",advancedFilterAnd:"ET",advancedFilterOr:"OU",advancedFilterApply:"Appliquer",advancedFilterBuilder:"Constructeur",advancedFilterValidationMissingColumn:"La colonne est manquante",advancedFilterValidationMissingOption:"L'option est manquante",advancedFilterValidationMissingValue:"La valeur est manquante",advancedFilterValidationInvalidColumn:"Colonne non trouvée",advancedFilterValidationInvalidOption:"Option non trouvée",advancedFilterValidationMissingQuote:"Il manque une guillemet de fin à la valeur",advancedFilterValidationNotANumber:"La valeur n'est pas un nombre",advancedFilterValidationInvalidDate:"La valeur n'est pas une date valide",advancedFilterValidationMissingCondition:"La condition est manquante",advancedFilterValidationJoinOperatorMismatch:"Les opérateurs de jonction au sein d'une condition doivent être identiques",advancedFilterValidationInvalidJoinOperator:"Opérateur de jonction non trouvé",advancedFilterValidationMissingEndBracket:"Guillemet de fin manquante",advancedFilterValidationExtraEndBracket:"Trop de crochets de fin",advancedFilterValidationMessage:"L'expression contient une erreur. ${variable} - ${variable}.",advancedFilterValidationMessageAtEnd:"L'expression contient une erreur. ${variable} à la fin de l'expression.",advancedFilterBuilderTitle:"Filtre Avancé",advancedFilterBuilderApply:"Appliquer",advancedFilterBuilderCancel:"Annuler",advancedFilterBuilderAddButtonTooltip:"Ajouter un filtre ou un groupe",advancedFilterBuilderRemoveButtonTooltip:"Supprimer",advancedFilterBuilderMoveUpButtonTooltip:"Monter",advancedFilterBuilderMoveDownButtonTooltip:"Descendre",advancedFilterBuilderAddJoin:"Ajouter un groupe",advancedFilterBuilderAddCondition:"Ajouter un filtre",advancedFilterBuilderSelectColumn:"Sélectionner une colonne",advancedFilterBuilderSelectOption:"Sélectionner une option",advancedFilterBuilderEnterValue:"Entrer une valeur...",advancedFilterBuilderValidationAlreadyApplied:"Le filtre actuel est déjà appliqué.",advancedFilterBuilderValidationIncomplete:"Toutes les conditions ne sont pas remplies.",advancedFilterBuilderValidationSelectColumn:"Vous devez sélectionner une colonne.",advancedFilterBuilderValidationSelectOption:"Vous devez sélectionner une option.",advancedFilterBuilderValidationEnterValue:"Vous devez entrer une valeur.",columns:"Colonnes",filters:"Filtres",pivotMode:"Mode pivot",groups:"Groupes de lignes",rowGroupColumnsEmptyMessage:"Faites glisser ici pour définir les groupes de lignes",values:"Valeurs",valueColumnsEmptyMessage:"Faites glisser ici pour agréger",pivots:"Étiquettes de colonnes",pivotColumnsEmptyMessage:"Faites glisser ici pour définir les étiquettes de colonnes",group:"Groupe",rowDragRow:"rang",rowDragRows:"rangs",loadingOoo:"Chargement...",loadingError:"ERR",noRowsToShow:"Aucune ligne à afficher",enabled:"Activé",pinColumn:"Épingler la colonne",pinLeft:"Épingler à gauche",pinRight:"Épingler à droite",noPin:"Pas d'épingle",valueAggregation:"Agrégation de valeur",noAggregation:"Aucun",autosizeThisColumn:"Ajuster automatiquement cette colonne",autosizeAllColumns:"Ajuster automatiquement toutes les colonnes",groupBy:"Grouper par",ungroupBy:"Dégrouper par",ungroupAll:"Dégrouper tout",addToValues:"Ajouter ${variable} aux valeurs",removeFromValues:"Retirer ${variable} des valeurs",addToLabels:"Ajouter ${variable} aux étiquettes",removeFromLabels:"Retirer ${variable} des étiquettes",resetColumns:"Réinitialiser les colonnes",expandAll:"Développer tous les groupes de lignes",collapseAll:"Fermer tous les groupes de lignes",copy:"Copier",ctrlC:"Ctrl+C",ctrlX:"Ctrl+X",copyWithHeaders:"Copier avec en-têtes",copyWithGroupHeaders:"Copier avec en-têtes de groupe",cut:"Couper",paste:"Coller",ctrlV:"Ctrl+V",export:"Exporter",csvExport:"Export CSV",excelExport:"Export Excel",columnFilter:"Filtre de colonne",columnChooser:"Choisir les colonnes",chooseColumns:"Choisir les colonnes",sortAscending:"Trier par ordre croissant",sortDescending:"Trier par ordre décroissant",sortUnSort:"Effacer le tri",sum:"Somme",first:"Premier",last:"Dernier",min:"Min",max:"Max",none:"Aucun",count:"Nombre",avg:"Moyenne",filteredRows:"Filtré",selectedRows:"Sélectionné",totalRows:"Total des Lignes",totalAndFilteredRows:"Lignes",more:"Plus",to:"à",of:"de",page:"Page",pageLastRowUnknown:"?",nextPage:"Page Suivante",lastPage:"Dernière Page",firstPage:"Première Page",previousPage:"Page Précédente",pageSizeSelectorLabel:"Taille de la Page :",footerTotal:"Total",statusBarLastRowUnknown:"?",pivotColumnGroupTotals:"Total",pivotChartAndPivotMode:"Graphique pivot et mode pivot",pivotChart:"Graphique pivot",chartRange:"Plage de graphique",columnChart:"Colonne",groupedColumn:"Groupé",stackedColumn:"Empilé",normalizedColumn:"100% empilé",barChart:"Barre",groupedBar:"Groupé",stackedBar:"Empilé",normalizedBar:"100% empilé",pieChart:"Camembert",pie:"Camembert",donut:"Donut",lineChart:"Ligne",stackedLine:"Empilé",normalizedLine:"100% Empilé",xyChart:"X Y (Nuage de points)",scatter:"Nuage de points",bubble:"Bulle",areaChart:"Aire",area:"Aire",stackedArea:"Empilé",normalizedArea:"100% empilé",histogramChart:"Histogramme",polarChart:"Polaire",radarLine:"Ligne radar",radarArea:"Aire radar",nightingale:"Nightingale",radialColumn:"Colonne radiale",radialBar:"Barre radiale",statisticalChart:"Statistique",boxPlot:"Boîte à moustaches",rangeBar:"Barre de plage",rangeArea:"Aire de plage",hierarchicalChart:"Hiérarchique",treemap:"Arborescence",sunburst:"Rayonnement",specializedChart:"Spécialisé",waterfall:"Cascade",heatmap:"Carte thermique",combinationChart:"Combinaison",columnLineCombo:"Colonne et ligne",AreaColumnCombo:"Aire et colonne",pivotChartTitle:"Graphique croisé dynamique",rangeChartTitle:"Graphique en plage",settings:"Graphique",data:"Configurer",format:"Personnaliser",categories:"Catégories",defaultCategory:"(Aucun)",series:"Séries",switchCategorySeries:"Changer Catégorie / Séries",categoryValues:"Valeurs de catégorie",seriesLabels:"Étiquettes de séries",aggregate:"Agrégat",xyValues:"Valeurs X Y",paired:"Mode apparié",axis:"Axe",xAxis:"Axe horizontal",yAxis:"Axe vertical",polarAxis:"Axe polaire",radiusAxis:"Axe de rayon",navigator:"Navigateur",zoom:"Zoom",animation:"Animation",crosshair:"Réticule",color:"Couleur",thickness:"Épaisseur",preferredLength:"Longueur préférée",xType:"Type X",axisType:"Type d'axe",automatic:"Automatique",category:"Catégorie",number:"Nombre",time:"Temps",timeFormat:"Format de temps",autoRotate:"Rotation auto",labelRotation:"Rotation",circle:"Cercle",polygon:"Polygone",square:"Carré",cross:"Croix",diamond:"Diamant",plus:"Plus",triangle:"Triangle",heart:"Cœur",orientation:"Orientation",fixed:"Fixé",parallel:"Parallèle",perpendicular:"Perpendiculaire",radiusAxisPosition:"Position",ticks:"Graduations",gridLines:"Lignes de grille",width:"Largeur",height:"Hauteur",length:"Longueur",padding:"Rembourrage",spacing:"Espacement",chartStyle:"Style de graphique",title:"Titre",chartTitles:"Titres",chartTitle:"Titre du graphique",chartSubtitle:"Sous-titre",horizontalAxisTitle:"Titre de l'axe horizontal",verticalAxisTitle:"Titre de l'axe vertical",polarAxisTitle:"Titre de l'axe polaire",titlePlaceholder:"Titre du graphique",background:"Arrière-plan",font:"Police",weight:"Poids",top:"Haut",right:"Droite",bottom:"Bas",left:"Gauche",labels:"Étiquettes",calloutLabels:"Étiquettes d'appel",sectorLabels:"Étiquettes de secteur",positionRatio:"Ratio de position",size:"Taille",shape:"Forme",minSize:"Taille minimum",maxSize:"Taille maximum",legend:"Légende",position:"Position",markerSize:"Taille du marqueur",markerStroke:"Contour du marqueur",markerPadding:"Rembourrage du marqueur",itemSpacing:"Espacement des éléments",itemPaddingX:"Rembourrage d'élément X",itemPaddingY:"Rembourrage d'élément Y",layoutHorizontalSpacing:"Espacement horizontal",layoutVerticalSpacing:"Espacement vertical",strokeWidth:"Épaisseur du trait",offset:"Décalage",offsets:"Décalages",tooltips:"Info-bulles",callout:"Appel",markers:"Marqueurs",shadow:"Ombre",blur:"Flou",xOffset:"Décalage X",yOffset:"Décalage Y",lineWidth:"Épaisseur de la ligne",lineDash:"Tirets de la ligne",lineDashOffset:"Décalage des tirets",scrollingZoom:"Défilement",scrollingStep:"Étape de défilement",selectingZoom:"Sélection",durationMillis:"Durée (ms)",crosshairLabel:"Étiquette",crosshairSnap:"Accrocher au nœud",normal:"Normal",bold:"Gras",italic:"Italique",boldItalic:"Gras Italique",predefined:"Prédéfini",fillOpacity:"Opacité de remplissage",strokeColor:"Couleur du trait",strokeOpacity:"Opacité du trait",miniChart:"Mini-Graphique",histogramBinCount:"Nombre de bins",connectorLine:"Ligne de connexion",seriesItems:"Éléments de série",seriesItemType:"Type d'élément",seriesItemPositive:"Positif",seriesItemNegative:"Négatif",seriesItemLabels:"Étiquettes d'éléments",columnGroup:"Colonne",barGroup:"Barre",pieGroup:"Camembert",lineGroup:"Ligne",scatterGroup:"X Y (Nuage de points)",areaGroup:"Zone",polarGroup:"Polaire",statisticalGroup:"Statistique",hierarchicalGroup:"Hiérarchique",specializedGroup:"Spécialisé",combinationGroup:"Combinaison",groupedColumnTooltip:"Groupe",stackedColumnTooltip:"Empilé",normalizedColumnTooltip:"100% Empilé",groupedBarTooltip:"Groupe",stackedBarTooltip:"Empilé",normalizedBarTooltip:"100% Empilé",pieTooltip:"Camembert",donutTooltip:"Donut",lineTooltip:"Ligne",stackedLineTooltip:"Empilé",normalizedLineTooltip:"100% Empilé",groupedAreaTooltip:"Zone",stackedAreaTooltip:"Empilé",normalizedAreaTooltip:"100% Empilé",scatterTooltip:"Nuage de points",bubbleTooltip:"Bulle",histogramTooltip:"Histogramme",radialColumnTooltip:"Colonne radiale",radialBarTooltip:"Barre radiale",radarLineTooltip:"Ligne radar",radarAreaTooltip:"Zone radar",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Barre de plage",rangeAreaTooltip:"Zone de plage",boxPlotTooltip:"Boîte à moustaches",treemapTooltip:"Treemap",sunburstTooltip:"Rayon de soleil",waterfallTooltip:"Chute d'eau",heatmapTooltip:"Carte thermique",columnLineComboTooltip:"Colonne & Ligne",areaColumnComboTooltip:"Zone & Colonne",customComboTooltip:"Combinaison Personnalisée",innerRadius:"Rayon intérieur",startAngle:"Angle de départ",endAngle:"Angle de fin",reverseDirection:"Inverser la direction",groupPadding:"Rembourrage de groupe",seriesPadding:"Rembourrage de séries",tile:"Tuile",whisker:"Moustache",cap:"Capuchon",capLengthRatio:"Ratio de longueur",labelPlacement:"Placement",inside:"À l'intérieur",outside:"À l'extérieur",noDataToChart:"Aucune donnée disponible à afficher.",pivotChartRequiresPivotMode:"Le graphique croisé dynamique nécessite le mode croisé activé.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Lié à la grille",chartUnlinkToolbarTooltip:"Détaché de la grille",chartDownloadToolbarTooltip:"Télécharger le graphique",chartMenuToolbarTooltip:"Menu",chartEdit:"Modifier le graphique",chartAdvancedSettings:"Paramètres avancés",chartLink:"Lier à la grille",chartUnlink:"Détacher de la grille",chartDownload:"Télécharger le graphique",histogramFrequency:"Fréquence",seriesChartType:"Type de graphique de séries",seriesType:"Type de série",secondaryAxis:"Axe secondaire",seriesAdd:"Ajouter une série",categoryAdd:"Ajouter une catégorie",bar:"Barre",column:"Colonne",histogram:"Histogramme",advancedSettings:"Paramètres avancés",direction:"Direction",horizontal:"Horizontal",vertical:"Vertical",seriesGroupType:"Type de groupe",groupedSeriesGroupType:"Groupé",stackedSeriesGroupType:"Empilé",normalizedSeriesGroupType:"100% Empilé",legendEnabled:"Activé",invalidColor:"La valeur de couleur est invalide",groupedColumnFull:"Colonne groupée",stackedColumnFull:"Colonne empilée",normalizedColumnFull:"Colonne 100% empilée",groupedBarFull:"Barre groupée",stackedBarFull:"Barre empilée",normalizedBarFull:"Barre 100% empilée",stackedAreaFull:"Zone empilée",normalizedAreaFull:"Zone 100% empilée",customCombo:"Combinaison personnalisée",funnel:"Entonnoir",coneFunnel:"Entonnoir Cône",pyramid:"Pyramide",funnelGroup:"Entonnoir",funnelTooltip:"Entonnoir",coneFunnelTooltip:"Entonnoir Cône",pyramidTooltip:"Pyramide",dropOff:"Abandon",stageLabels:"Étiquettes de Stade",reverse:"Inverser",ariaAdvancedFilterBuilderItem:"${variable}. Niveau ${variable}. Appuyez sur ENTER pour éditer.",ariaAdvancedFilterBuilderItemValidation:"${variable}. Niveau ${variable}. ${variable} Appuyez sur ENTER pour éditer.",ariaAdvancedFilterBuilderList:"Liste de cadre de filtre avancé",ariaAdvancedFilterBuilderFilterItem:"Condition de filtre",ariaAdvancedFilterBuilderGroupItem:"Groupe de filtre",ariaAdvancedFilterBuilderColumn:"Colonne",ariaAdvancedFilterBuilderOption:"Option",ariaAdvancedFilterBuilderValueP:"Valeur",ariaAdvancedFilterBuilderJoinOperator:"Opérateur de jonction",ariaAdvancedFilterInput:"Entrée de filtre avancé",ariaChecked:"coché",ariaColumn:"Colonne",ariaColumnGroup:"Groupe de colonnes",ariaColumnFiltered:"Colonne filtrée",ariaColumnSelectAll:"Basculer la visibilité de toutes les colonnes",ariaDateFilterInput:"Entrée de filtre de date",ariaDefaultListName:"Liste",ariaFilterColumnsInput:"Entrée de filtre de colonnes",ariaFilterFromValue:"Filtrer depuis la valeur",ariaFilterInput:"Entrée de filtre",ariaFilterList:"Liste de filtres",ariaFilterToValue:"Filtrer jusqu'à la valeur",ariaFilterValue:"Valeur du filtre",ariaFilterMenuOpen:"Ouvrir le menu de filtre",ariaFilteringOperator:"Opérateur de filtrage",ariaHidden:"caché",ariaIndeterminate:"indéterminé",ariaInputEditor:"Éditeur d'entrée",ariaMenuColumn:"Appuyez sur ALT BAS pour ouvrir le menu de colonne",ariaFilterColumn:"Appuyez sur CTRL ENTER pour ouvrir le filtre",ariaRowDeselect:"Appuyez sur ESPACE pour désélectionner cette ligne",ariaHeaderSelection:"Colonne avec sélection d'en-tête",ariaSelectAllCells:"Appuyez sur Espace pour sélectionner toutes les cellules",ariaRowSelectAll:"Appuyez sur ESPACE pour basculer la sélection de toutes les lignes",ariaRowToggleSelection:"Appuyez sur ESPACE pour basculer la sélection de la ligne",ariaRowSelect:"Appuyez sur ESPACE pour sélectionner cette ligne",ariaRowSelectionDisabled:"La sélection de lignes est désactivée pour cette ligne",ariaSearch:"Rechercher",ariaSortableColumn:"Appuyez sur ENTER pour trier",ariaToggleVisibility:"Appuyez sur ESPACE pour basculer la visibilité",ariaToggleCellValue:"Appuyez sur ESPACE pour basculer la valeur de la cellule",ariaUnchecked:"non coché",ariaVisible:"visible",ariaSearchFilterValues:"Rechercher les valeurs de filtre",ariaPageSizeSelectorLabel:"Taille de page",ariaChartMenuClose:"Fermer le menu d'édition de graphique",ariaChartSelected:"Sélectionné",ariaSkeletonCellLoadingFailed:"Le chargement de la ligne a échoué",ariaSkeletonCellLoading:"Les données de la ligne sont en cours de chargement",ariaRowGroupDropZonePanelLabel:"Groupes de lignes",ariaValuesDropZonePanelLabel:"Valeurs",ariaPivotDropZonePanelLabel:"Étiquettes de colonnes",ariaDropZoneColumnComponentDescription:"Appuyez sur SUPPRIMER pour enlever",ariaDropZoneColumnValueItemDescription:"Appuyez sur ENTRÉE pour changer le type d'agrégation",ariaDropZoneColumnGroupItemDescription:"Appuyez sur ENTRÉE pour trier",ariaDropZoneColumnComponentAggFuncSeparator:" de ",ariaDropZoneColumnComponentSortAscending:"ascendant",ariaDropZoneColumnComponentSortDescending:"descendant",ariaLabelDialog:"Dialogue",ariaLabelColumnMenu:"Menu de colonne",ariaLabelColumnFilter:"Filtre de colonne",ariaLabelCellEditor:"Éditeur de cellule",ariaLabelSelectField:"Champ de sélection",ariaLabelLoadingContextMenu:"Chargement du menu contextuel",ariaLabelRichSelectField:"Champ de sélection enrichie",ariaLabelRichSelectToggleSelection:"Appuyez sur ESPACE pour basculer la sélection",ariaLabelRichSelectDeselectAllItems:"Appuyez sur SUPPRIMER pour désélectionner tous les éléments",ariaLabelRichSelectDeleteSelection:"Appuyez sur SUPPRIMER pour désélectionner l'élément",ariaLabelTooltip:"Info-bulle",ariaLabelContextMenu:"Menu contextuel",ariaLabelSubMenu:"Sous-menu",ariaLabelAggregationFunction:"Fonction d'agrégation",ariaLabelAdvancedFilterAutocomplete:"Filtre avancé auto-complétion",ariaLabelAdvancedFilterBuilderAddField:"Filtre avancé constructeur Ajouter un champ",ariaLabelAdvancedFilterBuilderColumnSelectField:"Filtre avancé constructeur Sélectionnez le champ de colonne",ariaLabelAdvancedFilterBuilderOptionSelectField:"Filtre avancé constructeur Sélectionnez le champ d'option",ariaLabelAdvancedFilterBuilderJoinSelectField:"Filtre avancé constructeur Sélectionnez le champ de l'opérateur de jointure",ariaColumnPanelList:"Liste des colonnes",ariaFilterPanelList:"Liste des filtres",thousandSeparator:",",decimalSeparator:".",true:"Vrai",false:"Faux",invalidDate:"Date invalide",invalidNumber:"Nombre invalide",january:"Janvier",february:"Février",march:"Mars",april:"Avril",may:"Mai",june:"Juin",july:"Juillet",august:"Août",september:"Septembre",october:"Octobre",november:"Novembre",december:"Décembre",timeFormatSlashesDDMMYYYY:"JJ/MM/AAAA",timeFormatSlashesMMDDYYYY:"MM/JJ/AAAA",timeFormatSlashesDDMMYY:"JJ/MM/AA",timeFormatSlashesMMDDYY:"MM/JJ/AA",timeFormatDotsDDMYY:"JJ.M.AA",timeFormatDotsMDDYY:"M.JJ.AA",timeFormatDashesYYYYMMDD:"AAAA-MM-JJ",timeFormatSpacesDDMMMMYYYY:"JJ MMMM AAAA",timeFormatHHMMSS:"HH:MM:SS",timeFormatHHMMSSAmPm:"HH:MM:SS AM/PM"},Fde={selectAll:"(Seleccionar todo)",selectAllSearchResults:"(Seleccionar todos los resultados de la búsqueda)",addCurrentSelectionToFilter:"Agregar selección actual al filtro",searchOoo:"Buscar...",blanks:"(Vacíos)",noMatches:"Sin coincidencias",filterOoo:"Filtro...",equals:"Igual a",notEqual:"No igual a",blank:"En blanco",notBlank:"No en blanco",empty:"Elige uno",lessThan:"Menos que",greaterThan:"Más que",lessThanOrEqual:"Menos o igual que",greaterThanOrEqual:"Más o igual que",inRange:"Entre",inRangeStart:"Desde",inRangeEnd:"Hasta",contains:"Contiene",notContains:"No contiene",startsWith:"Empieza con",endsWith:"Termina con",dateFormatOoo:"yyyy-mm-dd",before:"Antes",after:"Después",andCondition:"Y",orCondition:"O",applyFilter:"Aplicar",resetFilter:"Reiniciar",clearFilter:"Borrar",cancelFilter:"Cancelar",textFilter:"Filtro de Texto",numberFilter:"Filtro de Números",dateFilter:"Filtro de Fecha",setFilter:"Filtro de Conjunto",groupFilterSelect:"Seleccionar campo:",advancedFilterContains:"contiene",advancedFilterNotContains:"no contiene",advancedFilterTextEquals:"es igual a",advancedFilterTextNotEqual:"no es igual a",advancedFilterStartsWith:"comienza con",advancedFilterEndsWith:"termina con",advancedFilterBlank:"está en blanco",advancedFilterNotBlank:"no está en blanco",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"es verdadero",advancedFilterFalse:"es falso",advancedFilterAnd:"Y",advancedFilterOr:"O",advancedFilterApply:"Aplicar",advancedFilterBuilder:"Constructor",advancedFilterValidationMissingColumn:"Falta la columna",advancedFilterValidationMissingOption:"Falta la opción",advancedFilterValidationMissingValue:"Falta el valor",advancedFilterValidationInvalidColumn:"Columna no encontrada",advancedFilterValidationInvalidOption:"Opción no encontrada",advancedFilterValidationMissingQuote:"Falta una comilla de cierre",advancedFilterValidationNotANumber:"El valor no es un número",advancedFilterValidationInvalidDate:"El valor no es una fecha válida",advancedFilterValidationMissingCondition:"Falta la condición",advancedFilterValidationJoinOperatorMismatch:"Los operadores de unión dentro de una condición deben ser los mismos",advancedFilterValidationInvalidJoinOperator:"Operador de unión no encontrado",advancedFilterValidationMissingEndBracket:"Falta paréntesis de cierre",advancedFilterValidationExtraEndBracket:"Demasiados paréntesis de cierre",advancedFilterValidationMessage:"La expresión contiene un error. ${variable} - ${variable}.",advancedFilterValidationMessageAtEnd:"La expresión contiene un error. ${variable} al final de la expresión.",advancedFilterBuilderTitle:"Filtro Avanzado",advancedFilterBuilderApply:"Aplicar",advancedFilterBuilderCancel:"Cancelar",advancedFilterBuilderAddButtonTooltip:"Añadir filtro o grupo",advancedFilterBuilderRemoveButtonTooltip:"Eliminar",advancedFilterBuilderMoveUpButtonTooltip:"Mover arriba",advancedFilterBuilderMoveDownButtonTooltip:"Mover abajo",advancedFilterBuilderAddJoin:"Añadir Grupo",advancedFilterBuilderAddCondition:"Añadir Filtro",advancedFilterBuilderSelectColumn:"Selecciona una columna",advancedFilterBuilderSelectOption:"Selecciona una opción",advancedFilterBuilderEnterValue:"Introduce un valor...",advancedFilterBuilderValidationAlreadyApplied:"Filtro actual ya aplicado.",advancedFilterBuilderValidationIncomplete:"No todas las condiciones están completas.",advancedFilterBuilderValidationSelectColumn:"Debe seleccionar una columna.",advancedFilterBuilderValidationSelectOption:"Debe seleccionar una opción.",advancedFilterBuilderValidationEnterValue:"Debe introducir un valor.",columns:"Columnas",filters:"Filtros",pivotMode:"Modo Pivot",groups:"Grupos de Filas",rowGroupColumnsEmptyMessage:"Arrastre aquí para establecer los grupos de filas",values:"Valores",valueColumnsEmptyMessage:"Arrastre aquí para agregar",pivots:"Etiquetas de Columna",pivotColumnsEmptyMessage:"Arrastre aquí para establecer las etiquetas de columna",group:"Grupo",rowDragRow:"fila",rowDragRows:"filas",loadingOoo:"Cargando...",loadingError:"ERR",noRowsToShow:"No hay filas para mostrar",enabled:"Habilitado",pinColumn:"Fijar Columna",pinLeft:"Fijar a la Izquierda",pinRight:"Fijar a la Derecha",noPin:"No Fijar",valueAggregation:"Agregación de Valores",noAggregation:"Ninguna",autosizeThisColumn:"Autoajustar Esta Columna",autosizeAllColumns:"Autoajustar Todas las Columnas",groupBy:"Agrupar por",ungroupBy:"Desagrupar por",ungroupAll:"Desagrupar Todo",addToValues:"Añadir ${variable} a valores",removeFromValues:"Quitar ${variable} de valores",addToLabels:"Añadir ${variable} a etiquetas",removeFromLabels:"Quitar ${variable} de etiquetas",resetColumns:"Restablecer Columnas",expandAll:"Expandir Todos los Grupos de Filas",collapseAll:"Cerrar Todos los Grupos de Filas",copy:"Copiar",ctrlC:"Ctrl+C",ctrlX:"Ctrl+X",copyWithHeaders:"Copiar Con Encabezados",copyWithGroupHeaders:"Copiar Con Encabezados de Grupo",cut:"Cortar",paste:"Pegar",ctrlV:"Ctrl+V",export:"Exportar",csvExport:"Exportar CSV",excelExport:"Exportar Excel",columnFilter:"Filtrar Columna",columnChooser:"Elegir Columnas",chooseColumns:"Elegir columnas",sortAscending:"Ordenar Ascendente",sortDescending:"Ordenar Descendente",sortUnSort:"Limpiar Orden",sum:"Suma",first:"Primero",last:"Último",min:"Mínimo",max:"Máximo",none:"Ninguno",count:"Cuenta",avg:"Promedio",filteredRows:"Filtrados",selectedRows:"Seleccionados",totalRows:"Filas Totales",totalAndFilteredRows:"Filas",more:"Más",to:"a",of:"de",page:"Página",pageLastRowUnknown:"?",nextPage:"Siguiente Página",lastPage:"Última Página",firstPage:"Primera Página",previousPage:"Página Anterior",pageSizeSelectorLabel:"Tamaño de Página:",footerTotal:"Total",statusBarLastRowUnknown:"?",pivotColumnGroupTotals:"Total",pivotChartAndPivotMode:"Gráfico dinámico y modo dinámico",pivotChart:"Gráfico dinámico",chartRange:"Rango de gráfico",columnChart:"Columna",groupedColumn:"Agrupada",stackedColumn:"Apilada",normalizedColumn:"100% Apilada",barChart:"Barra",groupedBar:"Agrupada",stackedBar:"Apilada",normalizedBar:"100% Apilada",pieChart:"Circular",pie:"Circular",donut:"Rosquilla",lineChart:"Línea",stackedLine:"Apilado",normalizedLine:"100% Apilado",xyChart:"X Y (Dispersión)",scatter:"Dispersión",bubble:"Burbuja",areaChart:"Área",area:"Área",stackedArea:"Apilada",normalizedArea:"100% Apilada",histogramChart:"Histograma",polarChart:"Polar",radarLine:"Línea de radar",radarArea:"Área de radar",nightingale:"Nightingale",radialColumn:"Columna radial",radialBar:"Barra radial",statisticalChart:"Estadístico",boxPlot:"Gráfico de caja",rangeBar:"Barra de rango",rangeArea:"Área de rango",hierarchicalChart:"Jerárquico",treemap:"Mapa de árbol",sunburst:"Explosión solar",specializedChart:"Especializado",waterfall:"Cascada",heatmap:"Mapa de calor",combinationChart:"Combinación",columnLineCombo:"Columna y línea",AreaColumnCombo:"Área y columna",pivotChartTitle:"Gráfico de Pivote",rangeChartTitle:"Gráfico de Intervalo",settings:"Gráfico",data:"Configuración",format:"Personalizar",categories:"Categorías",defaultCategory:"(Ninguna)",series:"Series",switchCategorySeries:"Cambiar Categoría / Series",categoryValues:"Valores de Categoría",seriesLabels:"Etiquetas de Series",aggregate:"Agregado",xyValues:"Valores XY",paired:"Modo Pareado",axis:"Eje",xAxis:"Eje Horizontal",yAxis:"Eje Vertical",polarAxis:"Eje Polar",radiusAxis:"Eje de Radio",navigator:"Navegador",zoom:"Zoom",animation:"Animación",crosshair:"Retícula",color:"Color",thickness:"Espesor",preferredLength:"Longitud Preferida",xType:"Tipo X",axisType:"Tipo de Eje",automatic:"Automático",category:"Categoría",number:"Número",time:"Tiempo",timeFormat:"Formato de Tiempo",autoRotate:"Rotación Automática",labelRotation:"Rotación",circle:"Círculo",polygon:"Polígono",square:"Cuadrado",cross:"Cruz",diamond:"Diamante",plus:"Más",triangle:"Triángulo",heart:"Corazón",orientation:"Orientación",fixed:"Fijo",parallel:"Paralelo",perpendicular:"Perpendicular",radiusAxisPosition:"Posición",ticks:"Marcas",gridLines:"Líneas de Cuadrícula",width:"Ancho",height:"Altura",length:"Longitud",padding:"Relleno",spacing:"Espaciado",chartStyle:"Estilo de Gráfico",title:"Título",chartTitles:"Títulos",chartTitle:"Título del Gráfico",chartSubtitle:"Subtítulo",horizontalAxisTitle:"Título del Eje Horizontal",verticalAxisTitle:"Título del Eje Vertical",polarAxisTitle:"Título del Eje Polar",titlePlaceholder:"Título del Gráfico",background:"Fondo",font:"Fuente",weight:"Peso",top:"Superior",right:"Derecha",bottom:"Inferior",left:"Izquierda",labels:"Etiquetas",calloutLabels:"Etiquetas de Llamada",sectorLabels:"Etiquetas de Sector",positionRatio:"Relación de Posición",size:"Tamaño",shape:"Forma",minSize:"Tamaño Mínimo",maxSize:"Tamaño Máximo",legend:"Leyenda",position:"Posición",markerSize:"Tamaño del Marcador",markerStroke:"Trazo del Marcador",markerPadding:"Relleno del Marcador",itemSpacing:"Espaciado de Ítems",itemPaddingX:"Relleno X de Ítems",itemPaddingY:"Relleno Y de Ítems",layoutHorizontalSpacing:"Espaciado Horizontal",layoutVerticalSpacing:"Espaciado Vertical",strokeWidth:"Grosor del Trazo",offset:"Desplazamiento",offsets:"Desplazamientos",tooltips:"Información sobre herramientas",callout:"Llamada",markers:"Marcadores",shadow:"Sombra",blur:"Desenfoque",xOffset:"Desplazamiento X",yOffset:"Desplazamiento Y",lineWidth:"Ancho de Línea",lineDash:"Línea Discontinua",lineDashOffset:"Desplazamiento de Discontinuidad",scrollingZoom:"Desplazamiento",scrollingStep:"Paso de Desplazamiento",selectingZoom:"Seleccionando",durationMillis:"Duración (ms)",crosshairLabel:"Etiqueta",crosshairSnap:"Ajustar al Nodo",normal:"Normal",bold:"Negrita",italic:"Itálica",boldItalic:"Negrita Itálica",predefined:"Predefinido",fillOpacity:"Opacidad de Relleno",strokeColor:"Color de Línea",strokeOpacity:"Opacidad de Línea",miniChart:"Mini-Gráfico",histogramBinCount:"Conteo de Intervalos",connectorLine:"Línea Conectora",seriesItems:"Ítems de Series",seriesItemType:"Tipo de Ítem",seriesItemPositive:"Positivo",seriesItemNegative:"Negativo",seriesItemLabels:"Etiquetas de Ítems",columnGroup:"Columna",barGroup:"Barra",pieGroup:"Torta",lineGroup:"Línea",scatterGroup:"XY (Dispersión)",areaGroup:"Área",polarGroup:"Polar",statisticalGroup:"Estadístico",hierarchicalGroup:"Jerárquico",specializedGroup:"Especializado",combinationGroup:"Combinación",groupedColumnTooltip:"Agrupada",stackedColumnTooltip:"Apilada",normalizedColumnTooltip:"100% Apilada",groupedBarTooltip:"Agrupada",stackedBarTooltip:"Apilada",normalizedBarTooltip:"100% Apilada",pieTooltip:"Torta",donutTooltip:"Donut",lineTooltip:"Línea",stackedLineTooltip:"Apilado",normalizedLineTooltip:"Apilado 100%",groupedAreaTooltip:"Área",stackedAreaTooltip:"Apilada",normalizedAreaTooltip:"100% Apilada",scatterTooltip:"Dispersión",bubbleTooltip:"Burbuja",histogramTooltip:"Histograma",radialColumnTooltip:"Columna Radial",radialBarTooltip:"Barra Radial",radarLineTooltip:"Línea de Radar",radarAreaTooltip:"Área de Radar",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Barra de Intervalo",rangeAreaTooltip:"Área de Intervalo",boxPlotTooltip:"Diagrama de Cajas",treemapTooltip:"Mapa de Áreas",sunburstTooltip:"Estallido Solar",waterfallTooltip:"Cascada",heatmapTooltip:"Mapa de Calor",columnLineComboTooltip:"Columna y Línea",areaColumnComboTooltip:"Área y Columna",customComboTooltip:"Combinación Personalizada",innerRadius:"Radio Interno",startAngle:"Ángulo de Inicio",endAngle:"Ángulo Final",reverseDirection:"Dirección Inversa",groupPadding:"Relleno de Grupo",seriesPadding:"Relleno de Series",tile:"Mosaico",whisker:"Bigote",cap:"Tapón",capLengthRatio:"Relación de Longitud",labelPlacement:"Ubicación de Etiqueta",inside:"Dentro",outside:"Fuera",noDataToChart:"No hay datos disponibles para graficar.",pivotChartRequiresPivotMode:"El Gráfico de Pivote requiere el Modo de Pivote habilitado.",chartSettingsToolbarTooltip:"Menú",chartLinkToolbarTooltip:"Vinculado a la Cuadrícula",chartUnlinkToolbarTooltip:"Desvinculado de la Cuadrícula",chartDownloadToolbarTooltip:"Descargar Gráfico",chartMenuToolbarTooltip:"Menú",chartEdit:"Editar Gráfico",chartAdvancedSettings:"Configuración Avanzada",chartLink:"Vincular a la Cuadrícula",chartUnlink:"Desvincular de la Cuadrícula",chartDownload:"Descargar Gráfico",histogramFrequency:"Frecuencia",seriesChartType:"Tipo de Gráfico de Series",seriesType:"Tipo de Series",secondaryAxis:"Eje Secundario",seriesAdd:"Agregar una serie",categoryAdd:"Agregar una categoría",bar:"Barra",column:"Columna",histogram:"Histograma",advancedSettings:"Configuración Avanzada",direction:"Dirección",horizontal:"Horizontal",vertical:"Vertical",seriesGroupType:"Tipo de Grupo",groupedSeriesGroupType:"Agrupadas",stackedSeriesGroupType:"Apiladas",normalizedSeriesGroupType:"100% Apiladas",legendEnabled:"Habilitado",invalidColor:"El valor del color es inválido",groupedColumnFull:"Columna Agrupada",stackedColumnFull:"Columna Apilada",normalizedColumnFull:"Columna 100% Apilada",groupedBarFull:"Barra Agrupada",stackedBarFull:"Barra Apilada",normalizedBarFull:"Barra 100% Apilada",stackedAreaFull:"Área Apilada",normalizedAreaFull:"Área 100% Apilada",customCombo:"Combinación Personalizada",funnel:"Embudo",coneFunnel:"Embudo Cono",pyramid:"Pirámide",funnelGroup:"Embudo",funnelTooltip:"Embudo",coneFunnelTooltip:"Embudo Cono",pyramidTooltip:"Pirámide",dropOff:"Caída",stageLabels:"Etiquetas de Etapa",reverse:"Invertir",ariaAdvancedFilterBuilderItem:"${variable}. Nivel ${variable}. Presiona ENTER para editar.",ariaAdvancedFilterBuilderItemValidation:"${variable}. Nivel ${variable}. ${variable} Presiona ENTER para editar.",ariaAdvancedFilterBuilderList:"Lista de Constructor de Filtros Avanzados",ariaAdvancedFilterBuilderFilterItem:"Condición del Filtro",ariaAdvancedFilterBuilderGroupItem:"Grupo de Filtros",ariaAdvancedFilterBuilderColumn:"Columna",ariaAdvancedFilterBuilderOption:"Opción",ariaAdvancedFilterBuilderValueP:"Valor",ariaAdvancedFilterBuilderJoinOperator:"Operador de Unión",ariaAdvancedFilterInput:"Entrada de Filtro Avanzado",ariaChecked:"seleccionado",ariaColumn:"Columna",ariaColumnGroup:"Grupo de Columnas",ariaColumnFiltered:"Columna Filtrada",ariaColumnSelectAll:"Alternar visibilidad de todas las columnas",ariaDateFilterInput:"Entrada de Filtro de Fecha",ariaDefaultListName:"Lista",ariaFilterColumnsInput:"Entrada de Filtrado de Columnas",ariaFilterFromValue:"Filtrar desde valor",ariaFilterInput:"Entrada de Filtro",ariaFilterList:"Lista de Filtros",ariaFilterToValue:"Filtrar hasta valor",ariaFilterValue:"Valor del Filtro",ariaFilterMenuOpen:"Abrir Menú de Filtros",ariaFilteringOperator:"Operador de Filtrado",ariaHidden:"oculto",ariaIndeterminate:"indeterminado",ariaInputEditor:"Editor de Entrada",ariaMenuColumn:"Presiona ALT ABAJO para abrir el menú de la columna",ariaFilterColumn:"Presiona CTRL ENTER para abrir el filtro",ariaRowDeselect:"Presiona SPACE para anular la selección de esta fila",ariaHeaderSelection:"Columna con selección de encabezado",ariaSelectAllCells:"Presione espacio para seleccionar todas las celdas",ariaRowSelectAll:"Presiona SPACE para alternar la selección de todas las filas",ariaRowToggleSelection:"Presiona SPACE para alternar la selección de la fila",ariaRowSelect:"Presiona SPACE para seleccionar esta fila",ariaRowSelectionDisabled:"La selección de filas está deshabilitada para esta fila",ariaSearch:"Buscar",ariaSortableColumn:"Presiona ENTER para ordenar",ariaToggleVisibility:"Presiona SPACE para alternar la visibilidad",ariaToggleCellValue:"Presiona SPACE para alternar el valor de la celda",ariaUnchecked:"no seleccionado",ariaVisible:"visible",ariaSearchFilterValues:"Buscar valores de filtro",ariaPageSizeSelectorLabel:"Tamaño de Página",ariaChartMenuClose:"Cerrar Menú de Edición de Gráfica",ariaChartSelected:"Seleccionado",ariaSkeletonCellLoadingFailed:"Carga de fila fallida",ariaSkeletonCellLoading:"Cargando datos de la fila",ariaRowGroupDropZonePanelLabel:"Grupos de filas",ariaValuesDropZonePanelLabel:"Valores",ariaPivotDropZonePanelLabel:"Etiquetas de columna",ariaDropZoneColumnComponentDescription:"Presione DELETE para eliminar",ariaDropZoneColumnValueItemDescription:"Presione ENTER para cambiar el tipo de agregación",ariaDropZoneColumnGroupItemDescription:"Presione ENTER para ordenar",ariaDropZoneColumnComponentAggFuncSeparator:" de ",ariaDropZoneColumnComponentSortAscending:"ascendente",ariaDropZoneColumnComponentSortDescending:"descendente",ariaLabelDialog:"Diálogo",ariaLabelColumnMenu:"Menú de Columna",ariaLabelColumnFilter:"Filtro de Columna",ariaLabelCellEditor:"Editor de Celda",ariaLabelSelectField:"Seleccionar Campo",ariaLabelLoadingContextMenu:"Cargando menú contextual",ariaLabelRichSelectField:"Campo de selección enriquecido",ariaLabelRichSelectToggleSelection:"Presiona ESPACIO para alternar la selección",ariaLabelRichSelectDeselectAllItems:"Presiona SUPRIMIR para deseleccionar todos los elementos",ariaLabelRichSelectDeleteSelection:"Presiona SUPRIMIR para deseleccionar el elemento",ariaLabelTooltip:"Información sobre herramientas",ariaLabelContextMenu:"Menú contextual",ariaLabelSubMenu:"Submenú",ariaLabelAggregationFunction:"Función de agregación",ariaLabelAdvancedFilterAutocomplete:"Autocompletar filtro avanzado",ariaLabelAdvancedFilterBuilderAddField:"Agregar campo al generador de filtro avanzado",ariaLabelAdvancedFilterBuilderColumnSelectField:"Campo de selección de columna del generador de filtro avanzado",ariaLabelAdvancedFilterBuilderOptionSelectField:"Campo de selección de opción del generador de filtro avanzado",ariaLabelAdvancedFilterBuilderJoinSelectField:"Campo de selección de operador de unión del generador de filtro avanzado",ariaColumnPanelList:"Lista de columnas",ariaFilterPanelList:"Lista de filtros",thousandSeparator:",",decimalSeparator:".",true:"Verdadero",false:"Falso",invalidDate:"Fecha inválida",invalidNumber:"Número inválido",january:"Enero",february:"Febrero",march:"Marzo",april:"Abril",may:"Mayo",june:"Junio",july:"Julio",august:"Agosto",september:"Septiembre",october:"Octubre",november:"Noviembre",december:"Diciembre",timeFormatSlashesDDMMYYYY:"DD/MM/AAAA",timeFormatSlashesMMDDYYYY:"MM/DD/AAAA",timeFormatSlashesDDMMYY:"DD/MM/AA",timeFormatSlashesMMDDYY:"MM/DD/AA",timeFormatDotsDDMYY:"DD.M.AA",timeFormatDotsMDDYY:"M.DD.AA",timeFormatDashesYYYYMMDD:"AAAA-MM-DD",timeFormatSpacesDDMMMMYYYY:"DD MMMM AAAA",timeFormatHHMMSS:"HH:MM:SS",timeFormatHHMMSSAmPm:"HH:MM:SS AM/PM"},Tde={selectAll:"(Selecionar Todos)",selectAllSearchResults:"(Selecionar Todos os Resultados da Pesquisa)",addCurrentSelectionToFilter:"Adicionar seleção atual ao filtro",searchOoo:"Pesquisar...",blanks:"(Em Branco)",noMatches:"Sem correspondências",filterOoo:"Filtrar...",equals:"Igual",notEqual:"Diferente",blank:"Vazio",notBlank:"Não vazio",empty:"Escolher um",lessThan:"Menor que",greaterThan:"Maior que",lessThanOrEqual:"Menor ou igual a",greaterThanOrEqual:"Maior ou igual a",inRange:"Entre",inRangeStart:"De",inRangeEnd:"Até",contains:"Contém",notContains:"Não contém",startsWith:"Começa com",endsWith:"Termina com",dateFormatOoo:"yyyy-mm-dd",before:"Antes",after:"Depois",andCondition:"E",orCondition:"OU",applyFilter:"Aplicar",resetFilter:"Redefinir",clearFilter:"Limpar",cancelFilter:"Cancelar",textFilter:"Filtro de Texto",numberFilter:"Filtro de Número",dateFilter:"Filtro de Data",setFilter:"Filtro de Conjunto",groupFilterSelect:"Selecionar campo:",advancedFilterContains:"contém",advancedFilterNotContains:"não contém",advancedFilterTextEquals:"igual a",advancedFilterTextNotEqual:"diferente de",advancedFilterStartsWith:"começa com",advancedFilterEndsWith:"termina com",advancedFilterBlank:"está em branco",advancedFilterNotBlank:"não está em branco",advancedFilterEquals:"=",advancedFilterNotEqual:"!=",advancedFilterGreaterThan:">",advancedFilterGreaterThanOrEqual:">=",advancedFilterLessThan:"<",advancedFilterLessThanOrEqual:"<=",advancedFilterTrue:"é verdadeiro",advancedFilterFalse:"é falso",advancedFilterAnd:"E",advancedFilterOr:"OU",advancedFilterApply:"Aplicar",advancedFilterBuilder:"Construtor",advancedFilterValidationMissingColumn:"Coluna ausente",advancedFilterValidationMissingOption:"Opção ausente",advancedFilterValidationMissingValue:"Valor ausente",advancedFilterValidationInvalidColumn:"Coluna não encontrada",advancedFilterValidationInvalidOption:"Opção não encontrada",advancedFilterValidationMissingQuote:"Valor está sem a aspa final",advancedFilterValidationNotANumber:"Valor não é um número",advancedFilterValidationInvalidDate:"Valor não é uma data válida",advancedFilterValidationMissingCondition:"Condição ausente",advancedFilterValidationJoinOperatorMismatch:"Operadores de junção dentro de uma condição devem ser iguais",advancedFilterValidationInvalidJoinOperator:"Operador de junção não encontrado",advancedFilterValidationMissingEndBracket:"Falta parêntese de fechamento",advancedFilterValidationExtraEndBracket:"Parênteses de fechamento a mais",advancedFilterValidationMessage:"Expressão contém um erro. ${variable} - ${variable}.",advancedFilterValidationMessageAtEnd:"Expressão contém um erro. ${variable} no final da expressão.",advancedFilterBuilderTitle:"Filtro Avançado",advancedFilterBuilderApply:"Aplicar",advancedFilterBuilderCancel:"Cancelar",advancedFilterBuilderAddButtonTooltip:"Adicionar Filtro ou Grupo",advancedFilterBuilderRemoveButtonTooltip:"Remover",advancedFilterBuilderMoveUpButtonTooltip:"Mover para Cima",advancedFilterBuilderMoveDownButtonTooltip:"Mover para Baixo",advancedFilterBuilderAddJoin:"Adicionar Grupo",advancedFilterBuilderAddCondition:"Adicionar Filtro",advancedFilterBuilderSelectColumn:"Selecione uma coluna",advancedFilterBuilderSelectOption:"Selecione uma opção",advancedFilterBuilderEnterValue:"Insira um valor...",advancedFilterBuilderValidationAlreadyApplied:"Filtro atual já aplicado.",advancedFilterBuilderValidationIncomplete:"Nem todas as condições estão completas.",advancedFilterBuilderValidationSelectColumn:"Deve selecionar uma coluna.",advancedFilterBuilderValidationSelectOption:"Deve selecionar uma opção.",advancedFilterBuilderValidationEnterValue:"Deve inserir um valor.",columns:"Colunas",filters:"Filtros",pivotMode:"Modo de Pivot",groups:"Grupos de Linhas",rowGroupColumnsEmptyMessage:"Arraste aqui para definir grupos de linhas",values:"Valores",valueColumnsEmptyMessage:"Arraste aqui para agregar",pivots:"Rótulos de Coluna",pivotColumnsEmptyMessage:"Arraste aqui para definir rótulos de coluna",group:"Grupo",rowDragRow:"linha",rowDragRows:"linhas",loadingOoo:"Carregando...",loadingError:"ERR",noRowsToShow:"Sem linhas para mostrar",enabled:"Ativado",pinColumn:"Fixar Coluna",pinLeft:"Fixar à Esquerda",pinRight:"Fixar à Direita",noPin:"Não Fixar",valueAggregation:"Agregação de Valores",noAggregation:"Nenhum",autosizeThisColumn:"Ajustar Tamanho desta Coluna",autosizeAllColumns:"Ajustar Tamanho de Todas as Colunas",groupBy:"Agrupar por",ungroupBy:"Desagrupar por",ungroupAll:"Desagrupar Tudo",addToValues:"Adicionar ${variable} aos valores",removeFromValues:"Remover ${variable} dos valores",addToLabels:"Adicionar ${variable} aos rótulos",removeFromLabels:"Remover ${variable} dos rótulos",resetColumns:"Redefinir Colunas",expandAll:"Expandir Todos os Grupos de Linhas",collapseAll:"Fechar Todos os Grupos de Linhas",copy:"Copiar",ctrlC:"Ctrl+C",ctrlX:"Ctrl+X",copyWithHeaders:"Copiar Com Cabeçalhos",copyWithGroupHeaders:"Copiar com Cabeçalhos de Grupo",cut:"Cortar",paste:"Colar",ctrlV:"Ctrl+V",export:"Exportar",csvExport:"Exportação CSV",excelExport:"Exportação Excel",columnFilter:"Filtro de Coluna",columnChooser:"Escolher Colunas",chooseColumns:"Escolher Colunas",sortAscending:"Ordenar Ascendente",sortDescending:"Ordenar Descendente",sortUnSort:"Limpar Ordenação",sum:"Soma",first:"Primeiro",last:"Último",min:"Min",max:"Máx",none:"Nenhum",count:"Contagem",avg:"Média",filteredRows:"Filtrados",selectedRows:"Selecionados",totalRows:"Total de Linhas",totalAndFilteredRows:"Linhas",more:"Mais",to:"para",of:"de",page:"Página",pageLastRowUnknown:"?",nextPage:"Próxima Página",lastPage:"Última Página",firstPage:"Primeira Página",previousPage:"Página Anterior",pageSizeSelectorLabel:"Tamanho da Página:",footerTotal:"Total",statusBarLastRowUnknown:"?",pivotColumnGroupTotals:"Total",pivotChartAndPivotMode:"Gráfico de Pivô e Modo Pivô",pivotChart:"Gráfico de Pivô",chartRange:"Intervalo do Gráfico",columnChart:"Coluna",groupedColumn:"Agrupadas",stackedColumn:"Empilhadas",normalizedColumn:"100% Empilhadas",barChart:"Barra",groupedBar:"Agrupadas",stackedBar:"Empilhadas",normalizedBar:"100% Empilhadas",pieChart:"Pizza",pie:"Pizza",donut:"Rosca",lineChart:"Linha",stackedLine:"Empilhada",normalizedLine:"100% Empilhada",xyChart:"X Y (Dispersão)",scatter:"Dispersão",bubble:"Bolhas",areaChart:"Área",area:"Área",stackedArea:"Empilhadas",normalizedArea:"100% Empilhadas",histogramChart:"Histograma",polarChart:"Polar",radarLine:"Linha de Radar",radarArea:"Área de Radar",nightingale:"Nightingale",radialColumn:"Coluna Radial",radialBar:"Barra Radial",statisticalChart:"Estatístico",boxPlot:"Gráfico de Caixa",rangeBar:"Barra de Intervalo",rangeArea:"Área de Intervalo",hierarchicalChart:"Hierárquico",treemap:"Mapa de Árvore",sunburst:"Explosão Solar",specializedChart:"Especializado",waterfall:"Cascata",heatmap:"Mapa de Calor",combinationChart:"Combinação",columnLineCombo:"Coluna e Linha",AreaColumnCombo:"Área e Coluna",pivotChartTitle:"Gráfico Pivô",rangeChartTitle:"Gráfico de Intervalo",settings:"Gráfico",data:"Configuração",format:"Personalizar",categories:"Categorias",defaultCategory:"(Nenhum)",series:"Séries",switchCategorySeries:"Alternar Categoria / Série",categoryValues:"Valores de Categoria",seriesLabels:"Rótulos de Série",aggregate:"Agrupar",xyValues:"Valores X Y",paired:"Modo Pareado",axis:"Eixo",xAxis:"Eixo Horizontal",yAxis:"Eixo Vertical",polarAxis:"Eixo Polar",radiusAxis:"Eixo de Raio",navigator:"Navegador",zoom:"Zoom",animation:"Animação",crosshair:"Mira",color:"Cor",thickness:"Espessura",preferredLength:"Comprimento Preferido",xType:"Tipo X",axisType:"Tipo de Eixo",automatic:"Automático",category:"Categoria",number:"Número",time:"Tempo",timeFormat:"Formato de Tempo",autoRotate:"Rotação Automática",labelRotation:"Rotação",circle:"Círculo",polygon:"Polígono",square:"Quadrado",cross:"Cruz",diamond:"Diamante",plus:"Mais",triangle:"Triângulo",heart:"Coração",orientation:"Orientação",fixed:"Fixo",parallel:"Paralelo",perpendicular:"Perpendicular",radiusAxisPosition:"Posição",ticks:"Marcas",gridLines:"Linhas de Grade",width:"Largura",height:"Altura",length:"Comprimento",padding:"Preenchimento",spacing:"Espaçamento",chartStyle:"Estilo do Gráfico",title:"Título",chartTitles:"Títulos",chartTitle:"Título do Gráfico",chartSubtitle:"Subtítulo",horizontalAxisTitle:"Título do Eixo Horizontal",verticalAxisTitle:"Título do Eixo Vertical",polarAxisTitle:"Título do Eixo Polar",titlePlaceholder:"Título do Gráfico",background:"Fundo",font:"Fonte",weight:"Espessura",top:"Topo",right:"Direita",bottom:"Inferior",left:"Esquerda",labels:"Rótulos",calloutLabels:"Rótulos de Destaque",sectorLabels:"Rótulos de Setor",positionRatio:"Relação de Posição",size:"Tamanho",shape:"Forma",minSize:"Tamanho Mínimo",maxSize:"Tamanho Máximo",legend:"Legenda",position:"Posição",markerSize:"Tamanho do Marcador",markerStroke:"Contorno do Marcador",markerPadding:"Preenchimento do Marcador",itemSpacing:"Espaçamento de Itens",itemPaddingX:"Preenchimento do Item X",itemPaddingY:"Preenchimento do Item Y",layoutHorizontalSpacing:"Espaçamento Horizontal",layoutVerticalSpacing:"Espaçamento Vertical",strokeWidth:"Espessura da Linha",offset:"Deslocamento",offsets:"Deslocamentos",tooltips:"Dicas de Ferramenta",callout:"Destaque",markers:"Marcadores",shadow:"Sombra",blur:"Desfoque",xOffset:"Deslocamento X",yOffset:"Deslocamento Y",lineWidth:"Largura da Linha",lineDash:"Tracejado da Linha",lineDashOffset:"Deslocamento do Tracejado",scrollingZoom:"Rolagem",scrollingStep:"Passo da Rolagem",selectingZoom:"Selecionando",durationMillis:"Duração (ms)",crosshairLabel:"Rótulo",crosshairSnap:"Ajustar ao Nó",normal:"Normal",bold:"Negrito",italic:"Itálico",boldItalic:"Negrito Itálico",predefined:"Predefinido",fillOpacity:"Opacidade do Preenchimento",strokeColor:"Cor da Linha",strokeOpacity:"Opacidade da Linha",miniChart:"Mini Gráfico",histogramBinCount:"Contagem de Blocos",connectorLine:"Linha Conectora",seriesItems:"Itens da Série",seriesItemType:"Tipo de Item",seriesItemPositive:"Positivo",seriesItemNegative:"Negativo",seriesItemLabels:"Rótulos de Itens",columnGroup:"Coluna",barGroup:"Barra",pieGroup:"Pizza",lineGroup:"Linha",scatterGroup:"X Y (Dispersão)",areaGroup:"Área",polarGroup:"Polar",statisticalGroup:"Estatístico",hierarchicalGroup:"Hierárquico",specializedGroup:"Especializado",combinationGroup:"Combinação",groupedColumnTooltip:"Agrupado",stackedColumnTooltip:"Empilhado",normalizedColumnTooltip:"100% Empilhado",groupedBarTooltip:"Agrupado",stackedBarTooltip:"Empilhado",normalizedBarTooltip:"100% Empilhado",pieTooltip:"Pizza",donutTooltip:"Rosquinha",lineTooltip:"Linha",stackedLineTooltip:"Empilhado",normalizedLineTooltip:"100% Empilhado",groupedAreaTooltip:"Área",stackedAreaTooltip:"Empilhada",normalizedAreaTooltip:"100% Empilhada",scatterTooltip:"Dispersão",bubbleTooltip:"Bolha",histogramTooltip:"Histograma",radialColumnTooltip:"Coluna Radial",radialBarTooltip:"Barra Radial",radarLineTooltip:"Linha de Radar",radarAreaTooltip:"Área de Radar",nightingaleTooltip:"Nightingale",rangeBarTooltip:"Barra de Intervalo",rangeAreaTooltip:"Área de Intervalo",boxPlotTooltip:"Diagrama de Caixa",treemapTooltip:"Mapa de Árvore",sunburstTooltip:"Explosão Solar",waterfallTooltip:"Cascata",heatmapTooltip:"Mapa de Calor",columnLineComboTooltip:"Coluna & Linha",areaColumnComboTooltip:"Área & Coluna",customComboTooltip:"Combinação Personalizada",innerRadius:"Raio Interno",startAngle:"Ângulo Inicial",endAngle:"Ângulo Final",reverseDirection:"Reverter Direção",groupPadding:"Preenchimento do Grupo",seriesPadding:"Preenchimento da Série",tile:"Ladrilho",whisker:"Bigode",cap:"Tampa",capLengthRatio:"Relação de Comprimento",labelPlacement:"Posicionamento",inside:"Dentro",outside:"Fora",noDataToChart:"Sem dados disponíveis para gráfico.",pivotChartRequiresPivotMode:"Gráfico Pivô requer o Modo Pivô habilitado.",chartSettingsToolbarTooltip:"Menu",chartLinkToolbarTooltip:"Vinculado à Grade",chartUnlinkToolbarTooltip:"Desvinculado da Grade",chartDownloadToolbarTooltip:"Baixar Gráfico",chartMenuToolbarTooltip:"Menu",chartEdit:"Editar Gráfico",chartAdvancedSettings:"Configurações Avançadas",chartLink:"Vincular à Grade",chartUnlink:"Desvincular da Grade",chartDownload:"Baixar Gráfico",histogramFrequency:"Frequência",seriesChartType:"Tipo de Gráfico da Série",seriesType:"Tipo de Série",secondaryAxis:"Eixo Secundário",seriesAdd:"Adicionar uma série",categoryAdd:"Adicionar uma categoria",bar:"Barra",column:"Coluna",histogram:"Histograma",advancedSettings:"Configurações Avançadas",direction:"Direção",horizontal:"Horizontal",vertical:"Vertical",seriesGroupType:"Tipo de Grupo",groupedSeriesGroupType:"Agrupado",stackedSeriesGroupType:"Empilhado",normalizedSeriesGroupType:"100% Empilhado",legendEnabled:"Habilitado",invalidColor:"O valor da cor é inválido",groupedColumnFull:"Coluna Agrupada",stackedColumnFull:"Coluna Empilhada",normalizedColumnFull:"Coluna 100% Empilhada",groupedBarFull:"Barra Agrupada",stackedBarFull:"Barra Empilhada",normalizedBarFull:"Barra 100% Empilhada",stackedAreaFull:"Área Empilhada",normalizedAreaFull:"Área 100% Empilhada",customCombo:"Combinação Personalizada",funnel:"Funil",coneFunnel:"Funil de Cone",pyramid:"Pirâmide",funnelGroup:"Funil",funnelTooltip:"Funil",coneFunnelTooltip:"Funil de Cone",pyramidTooltip:"Pirâmide",dropOff:"Desistência",stageLabels:"Rótulos de Etapa",reverse:"Reverter",ariaAdvancedFilterBuilderItem:"${variable}. Nível ${variable}. Pressione ENTER para editar.",ariaAdvancedFilterBuilderItemValidation:"${variable}. Nível ${variable}. ${variable} Pressione ENTER para editar.",ariaAdvancedFilterBuilderList:"Lista de Construtores de Filtro Avançado",ariaAdvancedFilterBuilderFilterItem:"Condição do Filtro",ariaAdvancedFilterBuilderGroupItem:"Grupo de Filtro",ariaAdvancedFilterBuilderColumn:"Coluna",ariaAdvancedFilterBuilderOption:"Opção",ariaAdvancedFilterBuilderValueP:"Valor",ariaAdvancedFilterBuilderJoinOperator:"Operador de Junção",ariaAdvancedFilterInput:"Entrada de Filtro Avançado",ariaChecked:"marcado",ariaColumn:"Coluna",ariaColumnGroup:"Grupo de Colunas",ariaColumnFiltered:"Coluna Filtrada",ariaColumnSelectAll:"Alternar visibilidade de todas as colunas",ariaDateFilterInput:"Entrada de Filtro de Data",ariaDefaultListName:"Lista",ariaFilterColumnsInput:"Entrada de Filtro de Colunas",ariaFilterFromValue:"Filtrar a partir do valor",ariaFilterInput:"Entrada de Filtro",ariaFilterList:"Lista de Filtros",ariaFilterToValue:"Filtrar até o valor",ariaFilterValue:"Valor do Filtro",ariaFilterMenuOpen:"Abrir Menu de Filtro",ariaFilteringOperator:"Operador de Filtragem",ariaHidden:"oculto",ariaIndeterminate:"indeterminado",ariaInputEditor:"Editor de Entrada",ariaMenuColumn:"Pressione ALT para baixo para abrir o menu da coluna",ariaFilterColumn:"Pressione CTRL ENTER para abrir o filtro",ariaRowDeselect:"Pressione ESPAÇO para desmarcar esta linha",ariaHeaderSelection:"Coluna com seleção de cabeçalho",ariaSelectAllCells:"Pressione Espaço para selecionar todas as células",ariaRowSelectAll:"Pressione Espaço para alternar a seleção de todas as linhas",ariaRowToggleSelection:"Pressione Espaço para alternar a seleção da linha",ariaRowSelect:"Pressione ESPAÇO para selecionar esta linha",ariaRowSelectionDisabled:"A seleção de linhas está desativada para esta linha",ariaSearch:"Buscar",ariaSortableColumn:"Pressione ENTER para ordenar",ariaToggleVisibility:"Pressione ESPAÇO para alternar visibilidade",ariaToggleCellValue:"Pressione ESPAÇO para alternar o valor da célula",ariaUnchecked:"desmarcado",ariaVisible:"visível",ariaSearchFilterValues:"Buscar valores do filtro",ariaPageSizeSelectorLabel:"Tamanho da Página",ariaChartMenuClose:"Fechar Menu de Edição de Gráfico",ariaChartSelected:"Selecionado",ariaSkeletonCellLoadingFailed:"Falha ao carregar a linha",ariaSkeletonCellLoading:"Os dados da linha estão carregando",ariaRowGroupDropZonePanelLabel:"Grupos de Linhas",ariaValuesDropZonePanelLabel:"Valores",ariaPivotDropZonePanelLabel:"Rótulos de Colunas",ariaDropZoneColumnComponentDescription:"Pressione DELETE para remover",ariaDropZoneColumnValueItemDescription:"Pressione ENTER para mudar o tipo de agregação",ariaDropZoneColumnGroupItemDescription:"Pressione ENTER para classificar",ariaDropZoneColumnComponentAggFuncSeparator:" de ",ariaDropZoneColumnComponentSortAscending:"ascendente",ariaDropZoneColumnComponentSortDescending:"descendente",ariaLabelDialog:"Diálogo",ariaLabelColumnMenu:"Menu da Coluna",ariaLabelColumnFilter:"Filtro da Coluna",ariaLabelCellEditor:"Editor de Célula",ariaLabelSelectField:"Selecionar Campo",ariaLabelLoadingContextMenu:"Carregando Menu de Contexto",ariaLabelRichSelectField:"Campo de Seleção Rico",ariaLabelRichSelectToggleSelection:"Pressione ESPAÇO para alternar a seleção",ariaLabelRichSelectDeselectAllItems:"Pressione DELETE para desmarcar todos os itens",ariaLabelRichSelectDeleteSelection:"Pressione DELETE para desmarcar item",ariaLabelTooltip:"Dica",ariaLabelContextMenu:"Menu de Contexto",ariaLabelSubMenu:"Submenu",ariaLabelAggregationFunction:"Função de Agregação",ariaLabelAdvancedFilterAutocomplete:"Autocompletar Filtro Avançado",ariaLabelAdvancedFilterBuilderAddField:"Construtor de Filtro Avançado Adicionar Campo",ariaLabelAdvancedFilterBuilderColumnSelectField:"Construtor de Filtro Avançado Selecionar Campo da Coluna",ariaLabelAdvancedFilterBuilderOptionSelectField:"Construtor de Filtro Avançado Selecionar Campo da Opção",ariaLabelAdvancedFilterBuilderJoinSelectField:"Construtor de Filtro Avançado Selecionar Operador de Junção",ariaColumnPanelList:"Lista de Colunas",ariaFilterPanelList:"Lista de Filtros",thousandSeparator:".",decimalSeparator:",",true:"Verdadeiro",false:"Falso",invalidDate:"Data Inválida",invalidNumber:"Número Inválido",january:"Janeiro",february:"Fevereiro",march:"Março",april:"Abril",may:"Maio",june:"Junho",july:"Julho",august:"Agosto",september:"Setembro",october:"Outubro",november:"Novembro",december:"Dezembro",timeFormatSlashesDDMMYYYY:"DD/MM/YYYY",timeFormatSlashesMMDDYYYY:"MM/DD/YYYY",timeFormatSlashesDDMMYY:"DD/MM/YY",timeFormatSlashesMMDDYY:"MM/DD/YY",timeFormatDotsDDMYY:"DD.M.AA",timeFormatDotsMDDYY:"M.DD.AA",timeFormatDashesYYYYMMDD:"AAAA-MM-DD",timeFormatSpacesDDMMMMYYYY:"DD MMMM AAAA",timeFormatHHMMSS:"HH:MM:SS",timeFormatHHMMSSAmPm:"HH:MM:SS AM/PM"};const Ade={name:"ImageCellRenderer",props:{params:{type:Object,required:!0}},methods:{onButtonClicked(){this.params.trigger({actionName:this.params.name,id:this.params.node.id,index:this.params.node.sourceRowIndex,displayIndex:this.params.node.rowIndex,row:this.params.data})}}},Rde={class:"btn-container"};function Dde(e,t,n,i,r,o){return X(),ne("div",Rde,[De("button",{onClick:t[0]||(t[0]=Cc((...s)=>o.onButtonClicked&&o.onButtonClicked(...s),["stop"])),class:st(["datagrid-btn",n.params.withFont?"with-font":"without-font"])},jo(n.params.label),3)])}const Mde=nn(Ade,[["render",Dde],["__scopeId","data-v-5806b64d"]]),Pde={name:"ImageCellRenderer",props:{params:{type:Object,required:!0}}},Ide={class:"image-cell"},Ode=["src"];function Lde(e,t,n,i,r,o){var s;return X(),ne("div",Ide,[(s=n.params)!=null&&s.value?(X(),ne("img",{key:0,src:n.params.value,style:Yt({width:n.params.width,height:n.params.height})},null,12,Ode)):ye("",!0)])}const Nde=nn(Pde,[["render",Lde],["__scopeId","data-v-4d7c3962"]]),Bde={name:"WewebCellRenderer",props:{params:{type:Object,required:!0}}},zde={class:"ww-cell-renderer"};function Hde(e,t,n,i,r,o){const s=It("wwElement"),a=It("wwLayoutItemContext");return X(),ne("div",zde,[lt(a,{"is-repeat":"",index:n.params.node.sourceRowIndex,data:{value:n.params.value,row:n.params.data}},{default:Fn(()=>[lt(s,Yn(n.params.containerId,{class:"ww-cell-renderer-flexbox"}),null,16)]),_:1},8,["index","data"])])}const Vde=nn(Bde,[["render",Hde],["__scopeId","data-v-7d4660b9"]]);console.log("AG Grid version:",sD);k5.registerModules([pde]);const _de={components:{AgGridVue:xde,ActionCellRenderer:Mde,ImageCellRenderer:Nde,WewebCellRenderer:Vde},props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},emits:["trigger-event","update:content:effect"],setup(e,t){const{resolveMappingFormula:n}=wwLib.wwFormula.useFormula(),i=_D(null),{value:r,setValue:o}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"selectedRows",type:"array",defaultValue:[],readonly:!0}),{value:s,setValue:a}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"filters",type:"object",defaultValue:{},readonly:!0}),{value:l,setValue:u}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"sort",type:"object",defaultValue:{},readonly:!0}),c=g=>{i.value=g.api};return D3(()=>{i.value&&(e.content.initialFilters&&i.value.setFilterModel(e.content.initialFilters),e.content.initialSort&&i.value.applyColumnState({state:e.content.initialSort||[],defaultState:{sort:null}}))}),{resolveMappingFormula:n,onGridReady:c,onRowSelected:g=>{const m=g.node.isSelected()?"rowSelected":"rowDeselected";t.emit("trigger-event",{name:m,event:{row:g.data}})},onSelectionChanged:g=>{if(!i.value)return;const m=i.value.getSelectedRows()||[];o(m)},gridApi:i,onFilterChanged:g=>{if(!i.value)return;const m=i.value.getFilterModel();JSON.stringify(m||{})!==JSON.stringify(s.value||{})&&(a(m),t.emit("trigger-event",{name:"filterChanged",event:m}))},onSortChanged:g=>{var v,b,S;if(!i.value)return;const m=i.value.getState();JSON.stringify(((v=m.sort)==null?void 0:v.sortModel)||[])!==JSON.stringify(l.value||[])&&(u(((b=m.sort)==null?void 0:b.sortModel)||[]),t.emit("trigger-event",{name:"sortChanged",event:((S=m.sort)==null?void 0:S.sortModel)||[]}))},localeText:Z(()=>{switch(e.content.lang){case"fr":return sD;case"de":return kde;case"es":return Fde;case"pt":return Tde;case"custom":return{...Ede,...e.content.localeText||{}}}})}},computed:{rowData(){const e=wwLib.wwUtils.getDataFromCollection(this.content.rowData);return Array.isArray(e)?e??[]:[]},defaultColDef(){return{editable:!1,resizable:this.content.resizableColumns}},columnDefs(){return this.content.columns.map(e=>{var s,a,l;const t=!e.minWidth||e.minWidth==="auto"?null:(s=wwLib.wwUtils.getLengthUnit(e.minWidth))==null?void 0:s[0],n=!e.maxWidth||e.maxWidth==="auto"?null:(a=wwLib.wwUtils.getLengthUnit(e.maxWidth))==null?void 0:a[0],i=!e.width||e.width==="auto"||e.widthAlgo==="flex"?null:(l=wwLib.wwUtils.getLengthUnit(e.width))==null?void 0:l[0],r=e.widthAlgo==="flex"?e.flex??1:null,o={minWidth:t,maxWidth:n,pinned:e.pinned==="none"?!1:e.pinned,width:i,flex:r,hide:!!e.hide};switch(e.cellDataType){case"action":return{...o,headerName:e.headerName,cellRenderer:"ActionCellRenderer",cellRendererParams:{name:e.actionName,label:e.actionLabel,trigger:this.onActionTrigger,withFont:!!this.content.actionFont},sortable:!1,filter:!1};case"custom":return{...o,headerName:e.headerName,field:e.field,cellRenderer:"WewebCellRenderer",cellRendererParams:{containerId:e.containerId},sortable:e.sortable,filter:e.filter};case"image":return{...o,headerName:e.headerName,field:e.field,cellRenderer:"ImageCellRenderer",cellRendererParams:{width:e.imageWidth,height:e.imageHeight}};default:{const u={...o,headerName:e.headerName,field:e.field,sortable:e.sortable,filter:e.filter,editable:e.editable};return e.useCustomLabel&&(u.valueFormatter=c=>this.resolveMappingFormula(e.displayLabelFormula,c.value)),u}}})},rowSelection(){return this.content.rowSelection==="multiple"?{mode:"multiRow",checkboxes:!this.content.disableCheckboxes,headerCheckbox:!this.content.disableCheckboxes,selectAll:this.content.selectAll||"all",enableClickSelection:this.content.enableClickSelection}:this.content.rowSelection==="single"?{mode:"singleRow",checkboxes:!this.content.disableCheckboxes,enableClickSelection:this.content.enableClickSelection}:{mode:"singleRow",checkboxes:!1,isRowSelectable:()=>!1,enableClickSelection:this.content.enableClickSelection}},style(){return this.content.layout==="auto"?{}:{height:this.content.height||"400px"}},cssVars(){return{"--ww-data-grid_action-backgroundColor":this.content.actionBackgroundColor,"--ww-data-grid_action-color":this.content.actionColor,"--ww-data-grid_action-padding":this.content.actionPadding,"--ww-data-grid_action-border":this.content.actionBorder,"--ww-data-grid_action-borderRadius":this.content.actionBorderRadius,...this.content.actionFont?{"--ww-data-grid_action-font":this.content.actionFont}:{"--ww-data-grid_action-fontSize":this.content.actionFontSize,"--ww-data-grid_action-fontFamily":this.content.actionFontFamily,"--ww-data-grid_action-fontWeight":this.content.actionFontWeight,"--ww-data-grid_action-fontStyle":this.content.actionFontStyle,"--ww-data-grid_action-lineHeight":this.content.actionLineHeight}}},theme(){var e;return xR.withParams({headerBackgroundColor:this.content.headerBackgroundColor,headerTextColor:this.content.headerTextColor,headerFontSize:this.content.headerFontSize,headerFontFamily:this.content.headerFontFamily,headerFontWeight:this.content.headerFontWeight,borderColor:this.content.borderColor,cellTextColor:this.content.cellColor,cellFontFamily:this.content.cellFontFamily,dataFontSize:this.content.cellFontSize,oddRowBackgroundColor:this.content.rowAlternateColor,backgroundColor:this.content.rowBackgroundColor,rowHoverColor:this.content.rowHoverColor,selectedRowBackgroundColor:this.content.selectedRowBackgroundColor,rowVerticalPaddingScale:this.content.rowVerticalPaddingScale||1,menuBackgroundColor:this.content.menuBackgroundColor,menuTextColor:this.content.menuTextColor,columnHoverColor:this.content.columnHoverColor,foregroundColor:this.content.textColor,checkboxCheckedBackgroundColor:this.content.selectionCheckboxColor,rangeSelectionBorderColor:this.content.cellSelectionBorderColor,checkboxUncheckedBorderColor:this.content.checkboxUncheckedBorderColor,focusShadow:(e=this.content.focusShadow)!=null&&e.length?this.content.focusShadow:void 0,wrapperBorderRadius:this.content.wrapperBorderRadius})},isEditing(){return!1}},methods:{getRowId(e){return this.resolveMappingFormula(this.content.idFormula,e.data)},onActionTrigger(e){this.$emit("trigger-event",{name:"action",event:e})},onCellValueChanged(e){this.$emit("trigger-event",{name:"cellValueChanged",event:{oldValue:e.oldValue,newValue:e.newValue,columnId:e.column.getColId(),row:e.data}})},onRowClicked(e){this.$emit("trigger-event",{name:"rowClicked",event:{row:e.data,id:e.node.id,index:e.node.sourceRowIndex,displayIndex:e.rowIndex}})}}};function Gde(e,t,n,i,r,o){const s=It("ag-grid-vue");return X(),ne("div",{class:st(["ww-datagrid",{editing:o.isEditing}]),style:Yt(o.cssVars)},[lt(s,{rowData:o.rowData,columnDefs:o.columnDefs,defaultColDef:o.defaultColDef,domLayout:n.content.layout==="auto"?"autoHeight":"normal",style:Yt(o.style),rowSelection:o.rowSelection,"selection-column-def":{pinned:!0},theme:o.theme,getRowId:o.getRowId,pagination:n.content.pagination,paginationPageSize:n.content.paginationPageSize||10,paginationPageSizeSelector:!1,suppressMovableColumns:!n.content.movableColumns,columnHoverHighlight:n.content.columnHoverHighlight,"locale-text":i.localeText,enableCellTextSelection:"",ensureDomOrder:"",onGridReady:i.onGridReady,onRowSelected:i.onRowSelected,onSelectionChanged:i.onSelectionChanged,onCellValueChanged:o.onCellValueChanged,onFilterChanged:i.onFilterChanged,onSortChanged:i.onSortChanged,onRowClicked:o.onRowClicked},null,8,["rowData","columnDefs","defaultColDef","domLayout","style","rowSelection","theme","getRowId","pagination","paginationPageSize","suppressMovableColumns","columnHoverHighlight","locale-text","onGridReady","onRowSelected","onSelectionChanged","onCellValueChanged","onFilterChanged","onSortChanged","onRowClicked"])],6)}const Wde=nn(_de,[["render",Gde],["__scopeId","data-v-32054b63"]]);function ia(e){return typeof e=="string"||e instanceof String}function g3(e){var t;return typeof e=="object"&&e!=null&&(e==null||(t=e.constructor)==null?void 0:t.name)==="Object"}function aD(e,t){return Array.isArray(t)?aD(e,(n,i)=>t.includes(i)):Object.entries(e).reduce((n,i)=>{let[r,o]=i;return t(o,r)&&(n[r]=o),n},{})}const Re={NONE:"NONE",LEFT:"LEFT",FORCE_LEFT:"FORCE_LEFT",RIGHT:"RIGHT",FORCE_RIGHT:"FORCE_RIGHT"};function $de(e){switch(e){case Re.LEFT:return Re.FORCE_LEFT;case Re.RIGHT:return Re.FORCE_RIGHT;default:return e}}function Mv(e){return e.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")}function b0(e,t){if(t===e)return!0;const n=Array.isArray(t),i=Array.isArray(e);let r;if(n&&i){if(t.length!=e.length)return!1;for(r=0;r<t.length;r++)if(!b0(t[r],e[r]))return!1;return!0}if(n!=i)return!1;if(t&&e&&typeof t=="object"&&typeof e=="object"){const o=t instanceof Date,s=e instanceof Date;if(o&&s)return t.getTime()==e.getTime();if(o!=s)return!1;const a=t instanceof RegExp,l=e instanceof RegExp;if(a&&l)return t.toString()==e.toString();if(a!=l)return!1;const u=Object.keys(t);for(r=0;r<u.length;r++)if(!Object.prototype.hasOwnProperty.call(e,u[r]))return!1;for(r=0;r<u.length;r++)if(!b0(e[u[r]],t[u[r]]))return!1;return!0}else if(t&&e&&typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();return!1}class Ude{constructor(t){for(Object.assign(this,t);this.value.slice(0,this.startChangePos)!==this.oldValue.slice(0,this.startChangePos);)--this.oldSelection.start;if(this.insertedCount)for(;this.value.slice(this.cursorPos)!==this.oldValue.slice(this.oldSelection.end);)this.value.length-this.cursorPos<this.oldValue.length-this.oldSelection.end?++this.oldSelection.end:++this.cursorPos}get startChangePos(){return Math.min(this.cursorPos,this.oldSelection.start)}get insertedCount(){return this.cursorPos-this.startChangePos}get inserted(){return this.value.substr(this.startChangePos,this.insertedCount)}get removedCount(){return Math.max(this.oldSelection.end-this.startChangePos||this.oldValue.length-this.value.length,0)}get removed(){return this.oldValue.substr(this.startChangePos,this.removedCount)}get head(){return this.value.substring(0,this.startChangePos)}get tail(){return this.value.substring(this.startChangePos+this.insertedCount)}get removeDirection(){return!this.removedCount||this.insertedCount?Re.NONE:(this.oldSelection.end===this.cursorPos||this.oldSelection.start===this.cursorPos)&&this.oldSelection.end===this.oldSelection.start?Re.RIGHT:Re.LEFT}}function Ke(e,t){return new Ke.InputMask(e,t)}function lD(e){if(e==null)throw new Error("mask property should be defined");return e instanceof RegExp?Ke.MaskedRegExp:ia(e)?Ke.MaskedPattern:e===Date?Ke.MaskedDate:e===Number?Ke.MaskedNumber:Array.isArray(e)||e===Array?Ke.MaskedDynamic:Ke.Masked&&e.prototype instanceof Ke.Masked?e:Ke.Masked&&e instanceof Ke.Masked?e.constructor:e instanceof Function?Ke.MaskedFunction:(console.warn("Mask not found for mask",e),Ke.Masked)}function Ld(e){if(!e)throw new Error("Options in not defined");if(Ke.Masked){if(e.prototype instanceof Ke.Masked)return{mask:e};const{mask:t=void 0,...n}=e instanceof Ke.Masked?{mask:e}:g3(e)&&e.mask instanceof Ke.Masked?e:{};if(t){const i=t.mask;return{...aD(t,(r,o)=>!o.startsWith("_")),mask:t.constructor,_mask:i,...n}}}return g3(e)?{...e}:{mask:e}}function ms(e){if(Ke.Masked&&e instanceof Ke.Masked)return e;const t=Ld(e),n=lD(t.mask);if(!n)throw new Error("Masked class is not found for provided mask "+t.mask+", appropriate module needs to be imported manually before creating mask.");return t.mask===n&&delete t.mask,t._mask&&(t.mask=t._mask,delete t._mask),new n(t)}Ke.createMask=ms;class Cw{get selectionStart(){let t;try{t=this._unsafeSelectionStart}catch{}return t??this.value.length}get selectionEnd(){let t;try{t=this._unsafeSelectionEnd}catch{}return t??this.value.length}select(t,n){if(!(t==null||n==null||t===this.selectionStart&&n===this.selectionEnd))try{this._unsafeSelect(t,n)}catch{}}get isActive(){return!1}}Ke.MaskElement=Cw;const m3=90,jde=89;class Mg extends Cw{constructor(t){super(),this.input=t,this._onKeydown=this._onKeydown.bind(this),this._onInput=this._onInput.bind(this),this._onBeforeinput=this._onBeforeinput.bind(this),this._onCompositionEnd=this._onCompositionEnd.bind(this)}get rootElement(){var t,n,i;return(t=(n=(i=this.input).getRootNode)==null?void 0:n.call(i))!=null?t:document}get isActive(){return this.input===this.rootElement.activeElement}bindEvents(t){this.input.addEventListener("keydown",this._onKeydown),this.input.addEventListener("input",this._onInput),this.input.addEventListener("beforeinput",this._onBeforeinput),this.input.addEventListener("compositionend",this._onCompositionEnd),this.input.addEventListener("drop",t.drop),this.input.addEventListener("click",t.click),this.input.addEventListener("focus",t.focus),this.input.addEventListener("blur",t.commit),this._handlers=t}_onKeydown(t){if(this._handlers.redo&&(t.keyCode===m3&&t.shiftKey&&(t.metaKey||t.ctrlKey)||t.keyCode===jde&&t.ctrlKey))return t.preventDefault(),this._handlers.redo(t);if(this._handlers.undo&&t.keyCode===m3&&(t.metaKey||t.ctrlKey))return t.preventDefault(),this._handlers.undo(t);t.isComposing||this._handlers.selectionChange(t)}_onBeforeinput(t){if(t.inputType==="historyUndo"&&this._handlers.undo)return t.preventDefault(),this._handlers.undo(t);if(t.inputType==="historyRedo"&&this._handlers.redo)return t.preventDefault(),this._handlers.redo(t)}_onCompositionEnd(t){this._handlers.input(t)}_onInput(t){t.isComposing||this._handlers.input(t)}unbindEvents(){this.input.removeEventListener("keydown",this._onKeydown),this.input.removeEventListener("input",this._onInput),this.input.removeEventListener("beforeinput",this._onBeforeinput),this.input.removeEventListener("compositionend",this._onCompositionEnd),this.input.removeEventListener("drop",this._handlers.drop),this.input.removeEventListener("click",this._handlers.click),this.input.removeEventListener("focus",this._handlers.focus),this.input.removeEventListener("blur",this._handlers.commit),this._handlers={}}}Ke.HTMLMaskElement=Mg;class qde extends Mg{constructor(t){super(t),this.input=t}get _unsafeSelectionStart(){return this.input.selectionStart!=null?this.input.selectionStart:this.value.length}get _unsafeSelectionEnd(){return this.input.selectionEnd}_unsafeSelect(t,n){this.input.setSelectionRange(t,n)}get value(){return this.input.value}set value(t){this.input.value=t}}Ke.HTMLMaskElement=Mg;class uD extends Mg{get _unsafeSelectionStart(){const t=this.rootElement,n=t.getSelection&&t.getSelection(),i=n&&n.anchorOffset,r=n&&n.focusOffset;return r==null||i==null||i<r?i:r}get _unsafeSelectionEnd(){const t=this.rootElement,n=t.getSelection&&t.getSelection(),i=n&&n.anchorOffset,r=n&&n.focusOffset;return r==null||i==null||i>r?i:r}_unsafeSelect(t,n){if(!this.rootElement.createRange)return;const i=this.rootElement.createRange();i.setStart(this.input.firstChild||this.input,t),i.setEnd(this.input.lastChild||this.input,n);const r=this.rootElement,o=r.getSelection&&r.getSelection();o&&(o.removeAllRanges(),o.addRange(i))}get value(){return this.input.textContent||""}set value(t){this.input.textContent=t}}Ke.HTMLContenteditableMaskElement=uD;class Pg{constructor(){this.states=[],this.currentIndex=0}get currentState(){return this.states[this.currentIndex]}get isEmpty(){return this.states.length===0}push(t){this.currentIndex<this.states.length-1&&(this.states.length=this.currentIndex+1),this.states.push(t),this.states.length>Pg.MAX_LENGTH&&this.states.shift(),this.currentIndex=this.states.length-1}go(t){return this.currentIndex=Math.min(Math.max(this.currentIndex+t,0),this.states.length-1),this.currentState}undo(){return this.go(-1)}redo(){return this.go(1)}clear(){this.states.length=0,this.currentIndex=0}}Pg.MAX_LENGTH=100;class Kde{constructor(t,n){this.el=t instanceof Cw?t:t.isContentEditable&&t.tagName!=="INPUT"&&t.tagName!=="TEXTAREA"?new uD(t):new qde(t),this.masked=ms(n),this._listeners={},this._value="",this._unmaskedValue="",this._rawInputValue="",this.history=new Pg,this._saveSelection=this._saveSelection.bind(this),this._onInput=this._onInput.bind(this),this._onChange=this._onChange.bind(this),this._onDrop=this._onDrop.bind(this),this._onFocus=this._onFocus.bind(this),this._onClick=this._onClick.bind(this),this._onUndo=this._onUndo.bind(this),this._onRedo=this._onRedo.bind(this),this.alignCursor=this.alignCursor.bind(this),this.alignCursorFriendly=this.alignCursorFriendly.bind(this),this._bindEvents(),this.updateValue(),this._onChange()}maskEquals(t){var n;return t==null||((n=this.masked)==null?void 0:n.maskEquals(t))}get mask(){return this.masked.mask}set mask(t){if(this.maskEquals(t))return;if(!(t instanceof Ke.Masked)&&this.masked.constructor===lD(t)){this.masked.updateOptions({mask:t});return}const n=t instanceof Ke.Masked?t:ms({mask:t});n.unmaskedValue=this.masked.unmaskedValue,this.masked=n}get value(){return this._value}set value(t){this.value!==t&&(this.masked.value=t,this.updateControl("auto"))}get unmaskedValue(){return this._unmaskedValue}set unmaskedValue(t){this.unmaskedValue!==t&&(this.masked.unmaskedValue=t,this.updateControl("auto"))}get rawInputValue(){return this._rawInputValue}set rawInputValue(t){this.rawInputValue!==t&&(this.masked.rawInputValue=t,this.updateControl(),this.alignCursor())}get typedValue(){return this.masked.typedValue}set typedValue(t){this.masked.typedValueEquals(t)||(this.masked.typedValue=t,this.updateControl("auto"))}get displayValue(){return this.masked.displayValue}_bindEvents(){this.el.bindEvents({selectionChange:this._saveSelection,input:this._onInput,drop:this._onDrop,click:this._onClick,focus:this._onFocus,commit:this._onChange,undo:this._onUndo,redo:this._onRedo})}_unbindEvents(){this.el&&this.el.unbindEvents()}_fireEvent(t,n){const i=this._listeners[t];i&&i.forEach(r=>r(n))}get selectionStart(){return this._cursorChanging?this._changingCursorPos:this.el.selectionStart}get cursorPos(){return this._cursorChanging?this._changingCursorPos:this.el.selectionEnd}set cursorPos(t){!this.el||!this.el.isActive||(this.el.select(t,t),this._saveSelection())}_saveSelection(){this.displayValue!==this.el.value&&console.warn("Element value was changed outside of mask. Syncronize mask using `mask.updateValue()` to work properly."),this._selection={start:this.selectionStart,end:this.cursorPos}}updateValue(){this.masked.value=this.el.value,this._value=this.masked.value,this._unmaskedValue=this.masked.unmaskedValue,this._rawInputValue=this.masked.rawInputValue}updateControl(t){const n=this.masked.unmaskedValue,i=this.masked.value,r=this.masked.rawInputValue,o=this.displayValue,s=this.unmaskedValue!==n||this.value!==i||this._rawInputValue!==r;this._unmaskedValue=n,this._value=i,this._rawInputValue=r,this.el.value!==o&&(this.el.value=o),t==="auto"?this.alignCursor():t!=null&&(this.cursorPos=t),s&&this._fireChangeEvents(),!this._historyChanging&&(s||this.history.isEmpty)&&this.history.push({unmaskedValue:n,selection:{start:this.selectionStart,end:this.cursorPos}})}updateOptions(t){const{mask:n,...i}=t,r=!this.maskEquals(n),o=this.masked.optionsIsChanged(i);r&&(this.mask=n),o&&this.masked.updateOptions(i),(r||o)&&this.updateControl()}updateCursor(t){t!=null&&(this.cursorPos=t,this._delayUpdateCursor(t))}_delayUpdateCursor(t){this._abortUpdateCursor(),this._changingCursorPos=t,this._cursorChanging=setTimeout(()=>{this.el&&(this.cursorPos=this._changingCursorPos,this._abortUpdateCursor())},10)}_fireChangeEvents(){this._fireEvent("accept",this._inputEvent),this.masked.isComplete&&this._fireEvent("complete",this._inputEvent)}_abortUpdateCursor(){this._cursorChanging&&(clearTimeout(this._cursorChanging),delete this._cursorChanging)}alignCursor(){this.cursorPos=this.masked.nearestInputPos(this.masked.nearestInputPos(this.cursorPos,Re.LEFT))}alignCursorFriendly(){this.selectionStart===this.cursorPos&&this.alignCursor()}on(t,n){return this._listeners[t]||(this._listeners[t]=[]),this._listeners[t].push(n),this}off(t,n){if(!this._listeners[t])return this;if(!n)return delete this._listeners[t],this;const i=this._listeners[t].indexOf(n);return i>=0&&this._listeners[t].splice(i,1),this}_onInput(t){this._inputEvent=t,this._abortUpdateCursor();const n=new Ude({value:this.el.value,cursorPos:this.cursorPos,oldValue:this.displayValue,oldSelection:this._selection}),i=this.masked.rawInputValue,r=this.masked.splice(n.startChangePos,n.removed.length,n.inserted,n.removeDirection,{input:!0,raw:!0}).offset,o=i===this.masked.rawInputValue?n.removeDirection:Re.NONE;let s=this.masked.nearestInputPos(n.startChangePos+r,o);o!==Re.NONE&&(s=this.masked.nearestInputPos(s,Re.NONE)),this.updateControl(s),delete this._inputEvent}_onChange(){this.displayValue!==this.el.value&&this.updateValue(),this.masked.doCommit(),this.updateControl(),this._saveSelection()}_onDrop(t){t.preventDefault(),t.stopPropagation()}_onFocus(t){this.alignCursorFriendly()}_onClick(t){this.alignCursorFriendly()}_onUndo(){this._applyHistoryState(this.history.undo())}_onRedo(){this._applyHistoryState(this.history.redo())}_applyHistoryState(t){t&&(this._historyChanging=!0,this.unmaskedValue=t.unmaskedValue,this.el.select(t.selection.start,t.selection.end),this._saveSelection(),this._historyChanging=!1)}destroy(){this._unbindEvents(),this._listeners.length=0,delete this.el}}Ke.InputMask=Kde;class nt{static normalize(t){return Array.isArray(t)?t:[t,new nt]}constructor(t){Object.assign(this,{inserted:"",rawInserted:"",tailShift:0,skip:!1},t)}aggregate(t){return this.inserted+=t.inserted,this.rawInserted+=t.rawInserted,this.tailShift+=t.tailShift,this.skip=this.skip||t.skip,this}get offset(){return this.tailShift+this.inserted.length}get consumed(){return!!this.rawInserted||this.skip}equals(t){return this.inserted===t.inserted&&this.tailShift===t.tailShift&&this.rawInserted===t.rawInserted&&this.skip===t.skip}}Ke.ChangeDetails=nt;class co{constructor(t,n,i){t===void 0&&(t=""),n===void 0&&(n=0),this.value=t,this.from=n,this.stop=i}toString(){return this.value}extend(t){this.value+=String(t)}appendTo(t){return t.append(this.toString(),{tail:!0}).aggregate(t._appendPlaceholder())}get state(){return{value:this.value,from:this.from,stop:this.stop}}set state(t){Object.assign(this,t)}unshift(t){if(!this.value.length||t!=null&&this.from>=t)return"";const n=this.value[0];return this.value=this.value.slice(1),n}shift(){if(!this.value.length)return"";const t=this.value[this.value.length-1];return this.value=this.value.slice(0,-1),t}}class ai{constructor(t){this._value="",this._update({...ai.DEFAULTS,...t}),this._initialized=!0}updateOptions(t){this.optionsIsChanged(t)&&this.withValueRefresh(this._update.bind(this,t))}_update(t){Object.assign(this,t)}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value}reset(){this._value=""}get value(){return this._value}set value(t){this.resolve(t,{input:!0})}resolve(t,n){n===void 0&&(n={input:!0}),this.reset(),this.append(t,n,""),this.doCommit()}get unmaskedValue(){return this.value}set unmaskedValue(t){this.resolve(t,{})}get typedValue(){return this.parse?this.parse(this.value,this):this.unmaskedValue}set typedValue(t){this.format?this.value=this.format(t,this):this.unmaskedValue=String(t)}get rawInputValue(){return this.extractInput(0,this.displayValue.length,{raw:!0})}set rawInputValue(t){this.resolve(t,{raw:!0})}get displayValue(){return this.value}get isComplete(){return!0}get isFilled(){return this.isComplete}nearestInputPos(t,n){return t}totalInputPositions(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),Math.min(this.displayValue.length,n-t)}extractInput(t,n,i){return t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),this.displayValue.slice(t,n)}extractTail(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),new co(this.extractInput(t,n),t)}appendTail(t){return ia(t)&&(t=new co(String(t))),t.appendTo(this)}_appendCharRaw(t,n){return t?(this._value+=t,new nt({inserted:t,rawInserted:t})):new nt}_appendChar(t,n,i){n===void 0&&(n={});const r=this.state;let o;if([t,o]=this.doPrepareChar(t,n),t&&(o=o.aggregate(this._appendCharRaw(t,n)),!o.rawInserted&&this.autofix==="pad")){const s=this.state;this.state=r;let a=this.pad(n);const l=this._appendCharRaw(t,n);a=a.aggregate(l),l.rawInserted||a.equals(o)?o=a:this.state=s}if(o.inserted){let s,a=this.doValidate(n)!==!1;if(a&&i!=null){const l=this.state;if(this.overwrite===!0){s=i.state;for(let c=0;c<o.rawInserted.length;++c)i.unshift(this.displayValue.length-o.tailShift)}let u=this.appendTail(i);if(a=u.rawInserted.length===i.toString().length,!(a&&u.inserted)&&this.overwrite==="shift"){this.state=l,s=i.state;for(let c=0;c<o.rawInserted.length;++c)i.shift();u=this.appendTail(i),a=u.rawInserted.length===i.toString().length}a&&u.inserted&&(this.state=l)}a||(o=new nt,this.state=r,i&&s&&(i.state=s))}return o}_appendPlaceholder(){return new nt}_appendEager(){return new nt}append(t,n,i){if(!ia(t))throw new Error("value should be string");const r=ia(i)?new co(String(i)):i;n!=null&&n.tail&&(n._beforeTailState=this.state);let o;[t,o]=this.doPrepare(t,n);for(let s=0;s<t.length;++s){const a=this._appendChar(t[s],n,r);if(!a.rawInserted&&!this.doSkipInvalid(t[s],n,r))break;o.aggregate(a)}return(this.eager===!0||this.eager==="append")&&n!=null&&n.input&&t&&o.aggregate(this._appendEager()),r!=null&&(o.tailShift+=this.appendTail(r).tailShift),o}remove(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),this._value=this.displayValue.slice(0,t)+this.displayValue.slice(n),new nt}withValueRefresh(t){if(this._refreshing||!this._initialized)return t();this._refreshing=!0;const n=this.rawInputValue,i=this.value,r=t();return this.rawInputValue=n,this.value&&this.value!==i&&i.indexOf(this.value)===0&&(this.append(i.slice(this.displayValue.length),{},""),this.doCommit()),delete this._refreshing,r}runIsolated(t){if(this._isolated||!this._initialized)return t(this);this._isolated=!0;const n=this.state,i=t(this);return this.state=n,delete this._isolated,i}doSkipInvalid(t,n,i){return!!this.skipInvalid}doPrepare(t,n){return n===void 0&&(n={}),nt.normalize(this.prepare?this.prepare(t,this,n):t)}doPrepareChar(t,n){return n===void 0&&(n={}),nt.normalize(this.prepareChar?this.prepareChar(t,this,n):t)}doValidate(t){return(!this.validate||this.validate(this.value,this,t))&&(!this.parent||this.parent.doValidate(t))}doCommit(){this.commit&&this.commit(this.value,this)}splice(t,n,i,r,o){i===void 0&&(i=""),r===void 0&&(r=Re.NONE),o===void 0&&(o={input:!0});const s=t+n,a=this.extractTail(s),l=this.eager===!0||this.eager==="remove";let u;l&&(r=$de(r),u=this.extractInput(0,s,{raw:!0}));let c=t;const d=new nt;if(r!==Re.NONE&&(c=this.nearestInputPos(t,n>1&&t!==0&&!l?Re.NONE:r),d.tailShift=c-t),d.aggregate(this.remove(c)),l&&r!==Re.NONE&&u===this.rawInputValue)if(r===Re.FORCE_LEFT){let h;for(;u===this.rawInputValue&&(h=this.displayValue.length);)d.aggregate(new nt({tailShift:-1})).aggregate(this.remove(h-1))}else r===Re.FORCE_RIGHT&&a.unshift();return d.aggregate(this.append(i,o,a))}maskEquals(t){return this.mask===t}optionsIsChanged(t){return!b0(this,t)}typedValueEquals(t){const n=this.typedValue;return t===n||ai.EMPTY_VALUES.includes(t)&&ai.EMPTY_VALUES.includes(n)||(this.format?this.format(t,this)===this.format(this.typedValue,this):!1)}pad(t){return new nt}}ai.DEFAULTS={skipInvalid:!0};ai.EMPTY_VALUES=[void 0,null,""];Ke.Masked=ai;class Na{constructor(t,n){t===void 0&&(t=[]),n===void 0&&(n=0),this.chunks=t,this.from=n}toString(){return this.chunks.map(String).join("")}extend(t){if(!String(t))return;t=ia(t)?new co(String(t)):t;const n=this.chunks[this.chunks.length-1],i=n&&(n.stop===t.stop||t.stop==null)&&t.from===n.from+n.toString().length;if(t instanceof co)i?n.extend(t.toString()):this.chunks.push(t);else if(t instanceof Na){if(t.stop==null){let r;for(;t.chunks.length&&t.chunks[0].stop==null;)r=t.chunks.shift(),r.from+=t.from,this.extend(r)}t.toString()&&(t.stop=t.blockIndex,this.chunks.push(t))}}appendTo(t){if(!(t instanceof Ke.MaskedPattern))return new co(this.toString()).appendTo(t);const n=new nt;for(let i=0;i<this.chunks.length;++i){const r=this.chunks[i],o=t._mapPosToBlock(t.displayValue.length),s=r.stop;let a;if(s!=null&&(!o||o.index<=s)&&((r instanceof Na||t._stops.indexOf(s)>=0)&&n.aggregate(t._appendPlaceholder(s)),a=r instanceof Na&&t._blocks[s]),a){const l=a.appendTail(r);n.aggregate(l);const u=r.toString().slice(l.rawInserted.length);u&&n.aggregate(t.append(u,{tail:!0}))}else n.aggregate(t.append(r.toString(),{tail:!0}))}return n}get state(){return{chunks:this.chunks.map(t=>t.state),from:this.from,stop:this.stop,blockIndex:this.blockIndex}}set state(t){const{chunks:n,...i}=t;Object.assign(this,i),this.chunks=n.map(r=>{const o="chunks"in r?new Na:new co;return o.state=r,o})}unshift(t){if(!this.chunks.length||t!=null&&this.from>=t)return"";const n=t!=null?t-this.from:t;let i=0;for(;i<this.chunks.length;){const r=this.chunks[i],o=r.unshift(n);if(r.toString()){if(!o)break;++i}else this.chunks.splice(i,1);if(o)return o}return""}shift(){if(!this.chunks.length)return"";let t=this.chunks.length-1;for(;0<=t;){const n=this.chunks[t],i=n.shift();if(n.toString()){if(!i)break;--t}else this.chunks.splice(t,1);if(i)return i}return""}}class Yde{constructor(t,n){this.masked=t,this._log=[];const{offset:i,index:r}=t._mapPosToBlock(n)||(n<0?{index:0,offset:0}:{index:this.masked._blocks.length,offset:0});this.offset=i,this.index=r,this.ok=!1}get block(){return this.masked._blocks[this.index]}get pos(){return this.masked._blockStartPos(this.index)+this.offset}get state(){return{index:this.index,offset:this.offset,ok:this.ok}}set state(t){Object.assign(this,t)}pushState(){this._log.push(this.state)}popState(){const t=this._log.pop();return t&&(this.state=t),t}bindBlock(){this.block||(this.index<0&&(this.index=0,this.offset=0),this.index>=this.masked._blocks.length&&(this.index=this.masked._blocks.length-1,this.offset=this.block.displayValue.length))}_pushLeft(t){for(this.pushState(),this.bindBlock();0<=this.index;--this.index,this.offset=((n=this.block)==null?void 0:n.displayValue.length)||0){var n;if(t())return this.ok=!0}return this.ok=!1}_pushRight(t){for(this.pushState(),this.bindBlock();this.index<this.masked._blocks.length;++this.index,this.offset=0)if(t())return this.ok=!0;return this.ok=!1}pushLeftBeforeFilled(){return this._pushLeft(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Re.FORCE_LEFT),this.offset!==0))return!0})}pushLeftBeforeInput(){return this._pushLeft(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Re.LEFT),!0})}pushLeftBeforeRequired(){return this._pushLeft(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Re.LEFT),!0})}pushRightBeforeFilled(){return this._pushRight(()=>{if(!(this.block.isFixed||!this.block.value)&&(this.offset=this.block.nearestInputPos(this.offset,Re.FORCE_RIGHT),this.offset!==this.block.value.length))return!0})}pushRightBeforeInput(){return this._pushRight(()=>{if(!this.block.isFixed)return this.offset=this.block.nearestInputPos(this.offset,Re.NONE),!0})}pushRightBeforeRequired(){return this._pushRight(()=>{if(!(this.block.isFixed||this.block.isOptional&&!this.block.value))return this.offset=this.block.nearestInputPos(this.offset,Re.NONE),!0})}}class cD{constructor(t){Object.assign(this,t),this._value="",this.isFixed=!0}get value(){return this._value}get unmaskedValue(){return this.isUnmasking?this.value:""}get rawInputValue(){return this._isRawInput?this.value:""}get displayValue(){return this.value}reset(){this._isRawInput=!1,this._value=""}remove(t,n){return t===void 0&&(t=0),n===void 0&&(n=this._value.length),this._value=this._value.slice(0,t)+this._value.slice(n),this._value||(this._isRawInput=!1),new nt}nearestInputPos(t,n){n===void 0&&(n=Re.NONE);const i=0,r=this._value.length;switch(n){case Re.LEFT:case Re.FORCE_LEFT:return i;case Re.NONE:case Re.RIGHT:case Re.FORCE_RIGHT:default:return r}}totalInputPositions(t,n){return t===void 0&&(t=0),n===void 0&&(n=this._value.length),this._isRawInput?n-t:0}extractInput(t,n,i){return t===void 0&&(t=0),n===void 0&&(n=this._value.length),i===void 0&&(i={}),i.raw&&this._isRawInput&&this._value.slice(t,n)||""}get isComplete(){return!0}get isFilled(){return!!this._value}_appendChar(t,n){if(n===void 0&&(n={}),this.isFilled)return new nt;const i=this.eager===!0||this.eager==="append",o=this.char===t&&(this.isUnmasking||n.input||n.raw)&&(!n.raw||!i)&&!n.tail,s=new nt({inserted:this.char,rawInserted:o?this.char:""});return this._value=this.char,this._isRawInput=o&&(n.raw||n.input),s}_appendEager(){return this._appendChar(this.char,{tail:!0})}_appendPlaceholder(){const t=new nt;return this.isFilled||(this._value=t.inserted=this.char),t}extractTail(){return new co("")}appendTail(t){return ia(t)&&(t=new co(String(t))),t.appendTo(this)}append(t,n,i){const r=this._appendChar(t[0],n);return i!=null&&(r.tailShift+=this.appendTail(i).tailShift),r}doCommit(){}get state(){return{_value:this._value,_rawInputValue:this.rawInputValue}}set state(t){this._value=t._value,this._isRawInput=!!t._rawInputValue}pad(t){return this._appendPlaceholder()}}class y0{constructor(t){const{parent:n,isOptional:i,placeholderChar:r,displayChar:o,lazy:s,eager:a,...l}=t;this.masked=ms(l),Object.assign(this,{parent:n,isOptional:i,placeholderChar:r,displayChar:o,lazy:s,eager:a})}reset(){this.isFilled=!1,this.masked.reset()}remove(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.value.length),t===0&&n>=1?(this.isFilled=!1,this.masked.remove(t,n)):new nt}get value(){return this.masked.value||(this.isFilled&&!this.isOptional?this.placeholderChar:"")}get unmaskedValue(){return this.masked.unmaskedValue}get rawInputValue(){return this.masked.rawInputValue}get displayValue(){return this.masked.value&&this.displayChar||this.value}get isComplete(){return!!this.masked.value||this.isOptional}_appendChar(t,n){if(n===void 0&&(n={}),this.isFilled)return new nt;const i=this.masked.state;let r=this.masked._appendChar(t,this.currentMaskFlags(n));return r.inserted&&this.doValidate(n)===!1&&(r=new nt,this.masked.state=i),!r.inserted&&!this.isOptional&&!this.lazy&&!n.input&&(r.inserted=this.placeholderChar),r.skip=!r.inserted&&!this.isOptional,this.isFilled=!!r.inserted,r}append(t,n,i){return this.masked.append(t,this.currentMaskFlags(n),i)}_appendPlaceholder(){return this.isFilled||this.isOptional?new nt:(this.isFilled=!0,new nt({inserted:this.placeholderChar}))}_appendEager(){return new nt}extractTail(t,n){return this.masked.extractTail(t,n)}appendTail(t){return this.masked.appendTail(t)}extractInput(t,n,i){return t===void 0&&(t=0),n===void 0&&(n=this.value.length),this.masked.extractInput(t,n,i)}nearestInputPos(t,n){n===void 0&&(n=Re.NONE);const i=0,r=this.value.length,o=Math.min(Math.max(t,i),r);switch(n){case Re.LEFT:case Re.FORCE_LEFT:return this.isComplete?o:i;case Re.RIGHT:case Re.FORCE_RIGHT:return this.isComplete?o:r;case Re.NONE:default:return o}}totalInputPositions(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.value.length),this.value.slice(t,n).length}doValidate(t){return this.masked.doValidate(this.currentMaskFlags(t))&&(!this.parent||this.parent.doValidate(this.currentMaskFlags(t)))}doCommit(){this.masked.doCommit()}get state(){return{_value:this.value,_rawInputValue:this.rawInputValue,masked:this.masked.state,isFilled:this.isFilled}}set state(t){this.masked.state=t.masked,this.isFilled=t.isFilled}currentMaskFlags(t){var n;return{...t,_beforeTailState:(t==null||(n=t._beforeTailState)==null?void 0:n.masked)||(t==null?void 0:t._beforeTailState)}}pad(t){return new nt}}y0.DEFAULT_DEFINITIONS={0:/\d/,a:/[\u0041-\u005A\u0061-\u007A\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,"*":/./};class Xde extends ai{updateOptions(t){super.updateOptions(t)}_update(t){const n=t.mask;n&&(t.validate=i=>i.search(n)>=0),super._update(t)}}Ke.MaskedRegExp=Xde;class li extends ai{constructor(t){super({...li.DEFAULTS,...t,definitions:Object.assign({},y0.DEFAULT_DEFINITIONS,t==null?void 0:t.definitions)})}updateOptions(t){super.updateOptions(t)}_update(t){t.definitions=Object.assign({},this.definitions,t.definitions),super._update(t),this._rebuildMask()}_rebuildMask(){const t=this.definitions;this._blocks=[],this.exposeBlock=void 0,this._stops=[],this._maskedBlocks={};const n=this.mask;if(!n||!t)return;let i=!1,r=!1;for(let o=0;o<n.length;++o){if(this.blocks){const u=n.slice(o),c=Object.keys(this.blocks).filter(h=>u.indexOf(h)===0);c.sort((h,p)=>p.length-h.length);const d=c[0];if(d){const{expose:h,repeat:p,...f}=Ld(this.blocks[d]),g={lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,overwrite:this.overwrite,autofix:this.autofix,...f,repeat:p,parent:this},m=p!=null?new Ke.RepeatBlock(g):ms(g);m&&(this._blocks.push(m),h&&(this.exposeBlock=m),this._maskedBlocks[d]||(this._maskedBlocks[d]=[]),this._maskedBlocks[d].push(this._blocks.length-1)),o+=d.length-1;continue}}let s=n[o],a=s in t;if(s===li.STOP_CHAR){this._stops.push(this._blocks.length);continue}if(s==="{"||s==="}"){i=!i;continue}if(s==="["||s==="]"){r=!r;continue}if(s===li.ESCAPE_CHAR){if(++o,s=n[o],!s)break;a=!1}const l=a?new y0({isOptional:r,lazy:this.lazy,eager:this.eager,placeholderChar:this.placeholderChar,displayChar:this.displayChar,...Ld(t[s]),parent:this}):new cD({char:s,eager:this.eager,isUnmasking:i});this._blocks.push(l)}}get state(){return{...super.state,_blocks:this._blocks.map(t=>t.state)}}set state(t){if(!t){this.reset();return}const{_blocks:n,...i}=t;this._blocks.forEach((r,o)=>r.state=n[o]),super.state=i}reset(){super.reset(),this._blocks.forEach(t=>t.reset())}get isComplete(){return this.exposeBlock?this.exposeBlock.isComplete:this._blocks.every(t=>t.isComplete)}get isFilled(){return this._blocks.every(t=>t.isFilled)}get isFixed(){return this._blocks.every(t=>t.isFixed)}get isOptional(){return this._blocks.every(t=>t.isOptional)}doCommit(){this._blocks.forEach(t=>t.doCommit()),super.doCommit()}get unmaskedValue(){return this.exposeBlock?this.exposeBlock.unmaskedValue:this._blocks.reduce((t,n)=>t+=n.unmaskedValue,"")}set unmaskedValue(t){if(this.exposeBlock){const n=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.unmaskedValue=t,this.appendTail(n),this.doCommit()}else super.unmaskedValue=t}get value(){return this.exposeBlock?this.exposeBlock.value:this._blocks.reduce((t,n)=>t+=n.value,"")}set value(t){if(this.exposeBlock){const n=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.value=t,this.appendTail(n),this.doCommit()}else super.value=t}get typedValue(){return this.exposeBlock?this.exposeBlock.typedValue:super.typedValue}set typedValue(t){if(this.exposeBlock){const n=this.extractTail(this._blockStartPos(this._blocks.indexOf(this.exposeBlock))+this.exposeBlock.displayValue.length);this.exposeBlock.typedValue=t,this.appendTail(n),this.doCommit()}else super.typedValue=t}get displayValue(){return this._blocks.reduce((t,n)=>t+=n.displayValue,"")}appendTail(t){return super.appendTail(t).aggregate(this._appendPlaceholder())}_appendEager(){var t;const n=new nt;let i=(t=this._mapPosToBlock(this.displayValue.length))==null?void 0:t.index;if(i==null)return n;this._blocks[i].isFilled&&++i;for(let r=i;r<this._blocks.length;++r){const o=this._blocks[r]._appendEager();if(!o.inserted)break;n.aggregate(o)}return n}_appendCharRaw(t,n){n===void 0&&(n={});const i=this._mapPosToBlock(this.displayValue.length),r=new nt;if(!i)return r;for(let s=i.index,a;a=this._blocks[s];++s){var o;const l=a._appendChar(t,{...n,_beforeTailState:(o=n._beforeTailState)==null||(o=o._blocks)==null?void 0:o[s]});if(r.aggregate(l),l.consumed)break}return r}extractTail(t,n){t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length);const i=new Na;return t===n||this._forEachBlocksInRange(t,n,(r,o,s,a)=>{const l=r.extractTail(s,a);l.stop=this._findStopBefore(o),l.from=this._blockStartPos(o),l instanceof Na&&(l.blockIndex=o),i.extend(l)}),i}extractInput(t,n,i){if(t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),i===void 0&&(i={}),t===n)return"";let r="";return this._forEachBlocksInRange(t,n,(o,s,a,l)=>{r+=o.extractInput(a,l,i)}),r}_findStopBefore(t){let n;for(let i=0;i<this._stops.length;++i){const r=this._stops[i];if(r<=t)n=r;else break}return n}_appendPlaceholder(t){const n=new nt;if(this.lazy&&t==null)return n;const i=this._mapPosToBlock(this.displayValue.length);if(!i)return n;const r=i.index,o=t??this._blocks.length;return this._blocks.slice(r,o).forEach(s=>{if(!s.lazy||t!=null){var a;n.aggregate(s._appendPlaceholder((a=s._blocks)==null?void 0:a.length))}}),n}_mapPosToBlock(t){let n="";for(let i=0;i<this._blocks.length;++i){const r=this._blocks[i],o=n.length;if(n+=r.displayValue,t<=n.length)return{index:i,offset:t-o}}}_blockStartPos(t){return this._blocks.slice(0,t).reduce((n,i)=>n+=i.displayValue.length,0)}_forEachBlocksInRange(t,n,i){n===void 0&&(n=this.displayValue.length);const r=this._mapPosToBlock(t);if(r){const o=this._mapPosToBlock(n),s=o&&r.index===o.index,a=r.offset,l=o&&s?o.offset:this._blocks[r.index].displayValue.length;if(i(this._blocks[r.index],r.index,a,l),o&&!s){for(let u=r.index+1;u<o.index;++u)i(this._blocks[u],u,0,this._blocks[u].displayValue.length);i(this._blocks[o.index],o.index,0,o.offset)}}}remove(t,n){t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length);const i=super.remove(t,n);return this._forEachBlocksInRange(t,n,(r,o,s,a)=>{i.aggregate(r.remove(s,a))}),i}nearestInputPos(t,n){if(n===void 0&&(n=Re.NONE),!this._blocks.length)return 0;const i=new Yde(this,t);if(n===Re.NONE)return i.pushRightBeforeInput()||(i.popState(),i.pushLeftBeforeInput())?i.pos:this.displayValue.length;if(n===Re.LEFT||n===Re.FORCE_LEFT){if(n===Re.LEFT){if(i.pushRightBeforeFilled(),i.ok&&i.pos===t)return t;i.popState()}if(i.pushLeftBeforeInput(),i.pushLeftBeforeRequired(),i.pushLeftBeforeFilled(),n===Re.LEFT){if(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.ok&&i.pos<=t||(i.popState(),i.ok&&i.pos<=t))return i.pos;i.popState()}return i.ok?i.pos:n===Re.FORCE_LEFT?0:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:0)}return n===Re.RIGHT||n===Re.FORCE_RIGHT?(i.pushRightBeforeInput(),i.pushRightBeforeRequired(),i.pushRightBeforeFilled()?i.pos:n===Re.FORCE_RIGHT?this.displayValue.length:(i.popState(),i.ok||(i.popState(),i.ok)?i.pos:this.nearestInputPos(t,Re.LEFT))):t}totalInputPositions(t,n){t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length);let i=0;return this._forEachBlocksInRange(t,n,(r,o,s,a)=>{i+=r.totalInputPositions(s,a)}),i}maskedBlock(t){return this.maskedBlocks(t)[0]}maskedBlocks(t){const n=this._maskedBlocks[t];return n?n.map(i=>this._blocks[i]):[]}pad(t){const n=new nt;return this._forEachBlocksInRange(0,this.displayValue.length,i=>n.aggregate(i.pad(t))),n}}li.DEFAULTS={...ai.DEFAULTS,lazy:!0,placeholderChar:"_"};li.STOP_CHAR="`";li.ESCAPE_CHAR="\\";li.InputDefinition=y0;li.FixedDefinition=cD;Ke.MaskedPattern=li;class Op extends li{get _matchFrom(){return this.maxLength-String(this.from).length}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){const{to:n=this.to||0,from:i=this.from||0,maxLength:r=this.maxLength||0,autofix:o=this.autofix,...s}=t;this.to=n,this.from=i,this.maxLength=Math.max(String(n).length,r),this.autofix=o;const a=String(this.from).padStart(this.maxLength,"0"),l=String(this.to).padStart(this.maxLength,"0");let u=0;for(;u<l.length&&l[u]===a[u];)++u;s.mask=l.slice(0,u).replace(/0/g,"\\0")+"0".repeat(this.maxLength-u),super._update(s)}get isComplete(){return super.isComplete&&!!this.value}boundaries(t){let n="",i="";const[,r,o]=t.match(/^(\D*)(\d*)(\D*)/)||[];return o&&(n="0".repeat(r.length)+o,i="9".repeat(r.length)+o),n=n.padEnd(this.maxLength,"0"),i=i.padEnd(this.maxLength,"9"),[n,i]}doPrepareChar(t,n){n===void 0&&(n={});let i;return[t,i]=super.doPrepareChar(t.replace(/\D/g,""),n),t||(i.skip=!this.isComplete),[t,i]}_appendCharRaw(t,n){if(n===void 0&&(n={}),!this.autofix||this.value.length+1>this.maxLength)return super._appendCharRaw(t,n);const i=String(this.from).padStart(this.maxLength,"0"),r=String(this.to).padStart(this.maxLength,"0"),[o,s]=this.boundaries(this.value+t);return Number(s)<this.from?super._appendCharRaw(i[this.value.length],n):Number(o)>this.to?!n.tail&&this.autofix==="pad"&&this.value.length+1<this.maxLength?super._appendCharRaw(i[this.value.length],n).aggregate(this._appendCharRaw(t,n)):super._appendCharRaw(r[this.value.length],n):super._appendCharRaw(t,n)}doValidate(t){const n=this.value;if(n.search(/[^0]/)===-1&&n.length<=this._matchFrom)return!0;const[r,o]=this.boundaries(n);return this.from<=Number(o)&&Number(r)<=this.to&&super.doValidate(t)}pad(t){const n=new nt;if(this.value.length===this.maxLength)return n;const i=this.value,r=this.maxLength-this.value.length;if(r){this.reset();for(let o=0;o<r;++o)n.aggregate(super._appendCharRaw("0",t));i.split("").forEach(o=>this._appendCharRaw(o))}return n}}Ke.MaskedRange=Op;const Jde="d{.}`m{.}`Y";class Go extends li{static extractPatternOptions(t){const{mask:n,pattern:i,...r}=t;return{...r,mask:ia(n)?n:i}}constructor(t){super(Go.extractPatternOptions({...Go.DEFAULTS,...t}))}updateOptions(t){super.updateOptions(t)}_update(t){const{mask:n,pattern:i,blocks:r,...o}={...Go.DEFAULTS,...t},s=Object.assign({},Go.GET_DEFAULT_BLOCKS());t.min&&(s.Y.from=t.min.getFullYear()),t.max&&(s.Y.to=t.max.getFullYear()),t.min&&t.max&&s.Y.from===s.Y.to&&(s.m.from=t.min.getMonth()+1,s.m.to=t.max.getMonth()+1,s.m.from===s.m.to&&(s.d.from=t.min.getDate(),s.d.to=t.max.getDate())),Object.assign(s,this.blocks,r),super._update({...o,mask:ia(n)?n:i,blocks:s})}doValidate(t){const n=this.date;return super.doValidate(t)&&(!this.isComplete||this.isDateExist(this.value)&&n!=null&&(this.min==null||this.min<=n)&&(this.max==null||n<=this.max))}isDateExist(t){return this.format(this.parse(t,this),this).indexOf(t)>=0}get date(){return this.typedValue}set date(t){this.typedValue=t}get typedValue(){return this.isComplete?super.typedValue:null}set typedValue(t){super.typedValue=t}maskEquals(t){return t===Date||super.maskEquals(t)}optionsIsChanged(t){return super.optionsIsChanged(Go.extractPatternOptions(t))}}Go.GET_DEFAULT_BLOCKS=()=>({d:{mask:Op,from:1,to:31,maxLength:2},m:{mask:Op,from:1,to:12,maxLength:2},Y:{mask:Op,from:1900,to:9999}});Go.DEFAULTS={...li.DEFAULTS,mask:Date,pattern:Jde,format:(e,t)=>{if(!e)return"";const n=String(e.getDate()).padStart(2,"0"),i=String(e.getMonth()+1).padStart(2,"0"),r=e.getFullYear();return[n,i,r].join(".")},parse:(e,t)=>{const[n,i,r]=e.split(".").map(Number);return new Date(r,i-1,n)}};Ke.MaskedDate=Go;class Ig extends ai{constructor(t){super({...Ig.DEFAULTS,...t}),this.currentMask=void 0}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),"mask"in t&&(this.exposeMask=void 0,this.compiledMasks=Array.isArray(t.mask)?t.mask.map(n=>{const{expose:i,...r}=Ld(n),o=ms({overwrite:this._overwrite,eager:this._eager,skipInvalid:this._skipInvalid,...r});return i&&(this.exposeMask=o),o}):[])}_appendCharRaw(t,n){n===void 0&&(n={});const i=this._applyDispatch(t,n);return this.currentMask&&i.aggregate(this.currentMask._appendChar(t,this.currentMaskFlags(n))),i}_applyDispatch(t,n,i){t===void 0&&(t=""),n===void 0&&(n={}),i===void 0&&(i="");const r=n.tail&&n._beforeTailState!=null?n._beforeTailState._value:this.value,o=this.rawInputValue,s=n.tail&&n._beforeTailState!=null?n._beforeTailState._rawInputValue:o,a=o.slice(s.length),l=this.currentMask,u=new nt,c=l==null?void 0:l.state;return this.currentMask=this.doDispatch(t,{...n},i),this.currentMask&&(this.currentMask!==l?(this.currentMask.reset(),s&&(this.currentMask.append(s,{raw:!0}),u.tailShift=this.currentMask.value.length-r.length),a&&(u.tailShift+=this.currentMask.append(a,{raw:!0,tail:!0}).tailShift)):c&&(this.currentMask.state=c)),u}_appendPlaceholder(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendPlaceholder()),t}_appendEager(){const t=this._applyDispatch();return this.currentMask&&t.aggregate(this.currentMask._appendEager()),t}appendTail(t){const n=new nt;return t&&n.aggregate(this._applyDispatch("",{},t)),n.aggregate(this.currentMask?this.currentMask.appendTail(t):super.appendTail(t))}currentMaskFlags(t){var n,i;return{...t,_beforeTailState:((n=t._beforeTailState)==null?void 0:n.currentMaskRef)===this.currentMask&&((i=t._beforeTailState)==null?void 0:i.currentMask)||t._beforeTailState}}doDispatch(t,n,i){return n===void 0&&(n={}),i===void 0&&(i=""),this.dispatch(t,this,n,i)}doValidate(t){return super.doValidate(t)&&(!this.currentMask||this.currentMask.doValidate(this.currentMaskFlags(t)))}doPrepare(t,n){n===void 0&&(n={});let[i,r]=super.doPrepare(t,n);if(this.currentMask){let o;[i,o]=super.doPrepare(i,this.currentMaskFlags(n)),r=r.aggregate(o)}return[i,r]}doPrepareChar(t,n){n===void 0&&(n={});let[i,r]=super.doPrepareChar(t,n);if(this.currentMask){let o;[i,o]=super.doPrepareChar(i,this.currentMaskFlags(n)),r=r.aggregate(o)}return[i,r]}reset(){var t;(t=this.currentMask)==null||t.reset(),this.compiledMasks.forEach(n=>n.reset())}get value(){return this.exposeMask?this.exposeMask.value:this.currentMask?this.currentMask.value:""}set value(t){this.exposeMask?(this.exposeMask.value=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.value=t}get unmaskedValue(){return this.exposeMask?this.exposeMask.unmaskedValue:this.currentMask?this.currentMask.unmaskedValue:""}set unmaskedValue(t){this.exposeMask?(this.exposeMask.unmaskedValue=t,this.currentMask=this.exposeMask,this._applyDispatch()):super.unmaskedValue=t}get typedValue(){return this.exposeMask?this.exposeMask.typedValue:this.currentMask?this.currentMask.typedValue:""}set typedValue(t){if(this.exposeMask){this.exposeMask.typedValue=t,this.currentMask=this.exposeMask,this._applyDispatch();return}let n=String(t);this.currentMask&&(this.currentMask.typedValue=t,n=this.currentMask.unmaskedValue),this.unmaskedValue=n}get displayValue(){return this.currentMask?this.currentMask.displayValue:""}get isComplete(){var t;return!!((t=this.currentMask)!=null&&t.isComplete)}get isFilled(){var t;return!!((t=this.currentMask)!=null&&t.isFilled)}remove(t,n){const i=new nt;return this.currentMask&&i.aggregate(this.currentMask.remove(t,n)).aggregate(this._applyDispatch()),i}get state(){var t;return{...super.state,_rawInputValue:this.rawInputValue,compiledMasks:this.compiledMasks.map(n=>n.state),currentMaskRef:this.currentMask,currentMask:(t=this.currentMask)==null?void 0:t.state}}set state(t){const{compiledMasks:n,currentMaskRef:i,currentMask:r,...o}=t;n&&this.compiledMasks.forEach((s,a)=>s.state=n[a]),i!=null&&(this.currentMask=i,this.currentMask.state=r),super.state=o}extractInput(t,n,i){return this.currentMask?this.currentMask.extractInput(t,n,i):""}extractTail(t,n){return this.currentMask?this.currentMask.extractTail(t,n):super.extractTail(t,n)}doCommit(){this.currentMask&&this.currentMask.doCommit(),super.doCommit()}nearestInputPos(t,n){return this.currentMask?this.currentMask.nearestInputPos(t,n):super.nearestInputPos(t,n)}get overwrite(){return this.currentMask?this.currentMask.overwrite:this._overwrite}set overwrite(t){this._overwrite=t}get eager(){return this.currentMask?this.currentMask.eager:this._eager}set eager(t){this._eager=t}get skipInvalid(){return this.currentMask?this.currentMask.skipInvalid:this._skipInvalid}set skipInvalid(t){this._skipInvalid=t}get autofix(){return this.currentMask?this.currentMask.autofix:this._autofix}set autofix(t){this._autofix=t}maskEquals(t){return Array.isArray(t)?this.compiledMasks.every((n,i)=>{if(!t[i])return;const{mask:r,...o}=t[i];return b0(n,o)&&n.maskEquals(r)}):super.maskEquals(t)}typedValueEquals(t){var n;return!!((n=this.currentMask)!=null&&n.typedValueEquals(t))}}Ig.DEFAULTS={...ai.DEFAULTS,dispatch:(e,t,n,i)=>{if(!t.compiledMasks.length)return;const r=t.rawInputValue,o=t.compiledMasks.map((s,a)=>{const l=t.currentMask===s,u=l?s.displayValue.length:s.nearestInputPos(s.displayValue.length,Re.FORCE_LEFT);return s.rawInputValue!==r?(s.reset(),s.append(r,{raw:!0})):l||s.remove(u),s.append(e,t.currentMaskFlags(n)),s.appendTail(i),{index:a,weight:s.rawInputValue.length,totalInputPositions:s.totalInputPositions(0,Math.max(u,s.nearestInputPos(s.displayValue.length,Re.FORCE_LEFT)))}});return o.sort((s,a)=>a.weight-s.weight||a.totalInputPositions-s.totalInputPositions),t.compiledMasks[o[0].index]}};Ke.MaskedDynamic=Ig;class Og extends li{constructor(t){super({...Og.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){const{enum:n,...i}=t;if(n){const r=n.map(a=>a.length),o=Math.min(...r),s=Math.max(...r)-o;i.mask="*".repeat(o),s&&(i.mask+="["+"*".repeat(s)+"]"),this.enum=n}super._update(i)}_appendCharRaw(t,n){n===void 0&&(n={});const i=Math.min(this.nearestInputPos(0,Re.FORCE_RIGHT),this.value.length),r=this.enum.filter(o=>this.matchValue(o,this.unmaskedValue+t,i));if(r.length){r.length===1&&this._forEachBlocksInRange(0,this.value.length,(s,a)=>{const l=r[0][a];a>=this.value.length||l===s.value||(s.reset(),s._appendChar(l,n))});const o=super._appendCharRaw(r[0][this.value.length],n);return r.length===1&&r[0].slice(this.unmaskedValue.length).split("").forEach(s=>o.aggregate(super._appendCharRaw(s))),o}return new nt({skip:!this.isComplete})}extractTail(t,n){return t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),new co("",t)}remove(t,n){if(t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),t===n)return new nt;const i=Math.min(super.nearestInputPos(0,Re.FORCE_RIGHT),this.value.length);let r;for(r=t;r>=0&&!(this.enum.filter(a=>this.matchValue(a,this.value.slice(i,r),i)).length>1);--r);const o=super.remove(r,n);return o.tailShift+=r-t,o}get isComplete(){return this.enum.indexOf(this.value)>=0}}Og.DEFAULTS={...li.DEFAULTS,matchValue:(e,t,n)=>e.indexOf(t,n)===n};Ke.MaskedEnum=Og;class Zde extends ai{updateOptions(t){super.updateOptions(t)}_update(t){super._update({...t,validate:t.mask})}}Ke.MaskedFunction=Zde;var dD;class qi extends ai{constructor(t){super({...qi.DEFAULTS,...t})}updateOptions(t){super.updateOptions(t)}_update(t){super._update(t),this._updateRegExps()}_updateRegExps(){const t="^"+(this.allowNegative?"[+|\\-]?":""),n="\\d*",i=(this.scale?"("+Mv(this.radix)+"\\d{0,"+this.scale+"})?":"")+"$";this._numberRegExp=new RegExp(t+n+i),this._mapToRadixRegExp=new RegExp("["+this.mapToRadix.map(Mv).join("")+"]","g"),this._thousandsSeparatorRegExp=new RegExp(Mv(this.thousandsSeparator),"g")}_removeThousandsSeparators(t){return t.replace(this._thousandsSeparatorRegExp,"")}_insertThousandsSeparators(t){const n=t.split(this.radix);return n[0]=n[0].replace(/\B(?=(\d{3})+(?!\d))/g,this.thousandsSeparator),n.join(this.radix)}doPrepareChar(t,n){n===void 0&&(n={});const[i,r]=super.doPrepareChar(this._removeThousandsSeparators(this.scale&&this.mapToRadix.length&&(n.input&&n.raw||!n.input&&!n.raw)?t.replace(this._mapToRadixRegExp,this.radix):t),n);return t&&!i&&(r.skip=!0),i&&!this.allowPositive&&!this.value&&i!=="-"&&r.aggregate(this._appendChar("-")),[i,r]}_separatorsCount(t,n){n===void 0&&(n=!1);let i=0;for(let r=0;r<t;++r)this._value.indexOf(this.thousandsSeparator,r)===r&&(++i,n&&(t+=this.thousandsSeparator.length));return i}_separatorsCountFromSlice(t){return t===void 0&&(t=this._value),this._separatorsCount(this._removeThousandsSeparators(t).length,!0)}extractInput(t,n,i){return t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),[t,n]=this._adjustRangeWithSeparators(t,n),this._removeThousandsSeparators(super.extractInput(t,n,i))}_appendCharRaw(t,n){n===void 0&&(n={});const i=n.tail&&n._beforeTailState?n._beforeTailState._value:this._value,r=this._separatorsCountFromSlice(i);this._value=this._removeThousandsSeparators(this.value);const o=this._value;this._value+=t;const s=this.number;let a=!isNaN(s),l=!1;if(a){let h;this.min!=null&&this.min<0&&this.number<this.min&&(h=this.min),this.max!=null&&this.max>0&&this.number>this.max&&(h=this.max),h!=null&&(this.autofix?(this._value=this.format(h,this).replace(qi.UNMASKED_RADIX,this.radix),l||(l=o===this._value&&!n.tail)):a=!1),a&&(a=!!this._value.match(this._numberRegExp))}let u;a?u=new nt({inserted:this._value.slice(o.length),rawInserted:l?"":t,skip:l}):(this._value=o,u=new nt),this._value=this._insertThousandsSeparators(this._value);const c=n.tail&&n._beforeTailState?n._beforeTailState._value:this._value,d=this._separatorsCountFromSlice(c);return u.tailShift+=(d-r)*this.thousandsSeparator.length,u}_findSeparatorAround(t){if(this.thousandsSeparator){const n=t-this.thousandsSeparator.length+1,i=this.value.indexOf(this.thousandsSeparator,n);if(i<=t)return i}return-1}_adjustRangeWithSeparators(t,n){const i=this._findSeparatorAround(t);i>=0&&(t=i);const r=this._findSeparatorAround(n);return r>=0&&(n=r+this.thousandsSeparator.length),[t,n]}remove(t,n){t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length),[t,n]=this._adjustRangeWithSeparators(t,n);const i=this.value.slice(0,t),r=this.value.slice(n),o=this._separatorsCount(i.length);this._value=this._insertThousandsSeparators(this._removeThousandsSeparators(i+r));const s=this._separatorsCountFromSlice(i);return new nt({tailShift:(s-o)*this.thousandsSeparator.length})}nearestInputPos(t,n){if(!this.thousandsSeparator)return t;switch(n){case Re.NONE:case Re.LEFT:case Re.FORCE_LEFT:{const i=this._findSeparatorAround(t-1);if(i>=0){const r=i+this.thousandsSeparator.length;if(t<r||this.value.length<=r||n===Re.FORCE_LEFT)return i}break}case Re.RIGHT:case Re.FORCE_RIGHT:{const i=this._findSeparatorAround(t);if(i>=0)return i+this.thousandsSeparator.length}}return t}doCommit(){if(this.value){const t=this.number;let n=t;this.min!=null&&(n=Math.max(n,this.min)),this.max!=null&&(n=Math.min(n,this.max)),n!==t&&(this.unmaskedValue=this.format(n,this));let i=this.value;this.normalizeZeros&&(i=this._normalizeZeros(i)),this.padFractionalZeros&&this.scale>0&&(i=this._padFractionalZeros(i)),this._value=i}super.doCommit()}_normalizeZeros(t){const n=this._removeThousandsSeparators(t).split(this.radix);return n[0]=n[0].replace(/^(\D*)(0*)(\d*)/,(i,r,o,s)=>r+s),t.length&&!/\d$/.test(n[0])&&(n[0]=n[0]+"0"),n.length>1&&(n[1]=n[1].replace(/0*$/,""),n[1].length||(n.length=1)),this._insertThousandsSeparators(n.join(this.radix))}_padFractionalZeros(t){if(!t)return t;const n=t.split(this.radix);return n.length<2&&n.push(""),n[1]=n[1].padEnd(this.scale,"0"),n.join(this.radix)}doSkipInvalid(t,n,i){n===void 0&&(n={});const r=this.scale===0&&t!==this.thousandsSeparator&&(t===this.radix||t===qi.UNMASKED_RADIX||this.mapToRadix.includes(t));return super.doSkipInvalid(t,n,i)&&!r}get unmaskedValue(){return this._removeThousandsSeparators(this._normalizeZeros(this.value)).replace(this.radix,qi.UNMASKED_RADIX)}set unmaskedValue(t){super.unmaskedValue=t}get typedValue(){return this.parse(this.unmaskedValue,this)}set typedValue(t){this.rawInputValue=this.format(t,this).replace(qi.UNMASKED_RADIX,this.radix)}get number(){return this.typedValue}set number(t){this.typedValue=t}get allowNegative(){return this.min!=null&&this.min<0||this.max!=null&&this.max<0}get allowPositive(){return this.min!=null&&this.min>0||this.max!=null&&this.max>0}typedValueEquals(t){return(super.typedValueEquals(t)||qi.EMPTY_VALUES.includes(t)&&qi.EMPTY_VALUES.includes(this.typedValue))&&!(t===0&&this.value==="")}}dD=qi;qi.UNMASKED_RADIX=".";qi.EMPTY_VALUES=[...ai.EMPTY_VALUES,0];qi.DEFAULTS={...ai.DEFAULTS,mask:Number,radix:",",thousandsSeparator:"",mapToRadix:[dD.UNMASKED_RADIX],min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,scale:2,normalizeZeros:!0,padFractionalZeros:!1,parse:Number,format:e=>e.toLocaleString("en-US",{useGrouping:!1,maximumFractionDigits:20})};Ke.MaskedNumber=qi;const CC={MASKED:"value",UNMASKED:"unmaskedValue",TYPED:"typedValue"};function hD(e,t,n){t===void 0&&(t=CC.MASKED),n===void 0&&(n=CC.MASKED);const i=ms(e);return r=>i.runIsolated(o=>(o[t]=r,o[n]))}function Qde(e,t,n,i){return hD(t,n,i)(e)}Ke.PIPE_TYPE=CC;Ke.createPipe=hD;Ke.pipe=Qde;class ehe extends li{get repeatFrom(){var t;return(t=Array.isArray(this.repeat)?this.repeat[0]:this.repeat===1/0?0:this.repeat)!=null?t:0}get repeatTo(){var t;return(t=Array.isArray(this.repeat)?this.repeat[1]:this.repeat)!=null?t:1/0}constructor(t){super(t)}updateOptions(t){super.updateOptions(t)}_update(t){var n,i,r;const{repeat:o,...s}=Ld(t);this._blockOpts=Object.assign({},this._blockOpts,s);const a=ms(this._blockOpts);this.repeat=(n=(i=o??a.repeat)!=null?i:this.repeat)!=null?n:1/0,super._update({mask:"m".repeat(Math.max(this.repeatTo===1/0&&((r=this._blocks)==null?void 0:r.length)||0,this.repeatFrom)),blocks:{m:a},eager:a.eager,overwrite:a.overwrite,skipInvalid:a.skipInvalid,lazy:a.lazy,placeholderChar:a.placeholderChar,displayChar:a.displayChar})}_allocateBlock(t){if(t<this._blocks.length)return this._blocks[t];if(this.repeatTo===1/0||this._blocks.length<this.repeatTo)return this._blocks.push(ms(this._blockOpts)),this.mask+="m",this._blocks[this._blocks.length-1]}_appendCharRaw(t,n){n===void 0&&(n={});const i=new nt;for(let l=(r=(o=this._mapPosToBlock(this.displayValue.length))==null?void 0:o.index)!=null?r:Math.max(this._blocks.length-1,0),u,c;u=(s=this._blocks[l])!=null?s:c=!c&&this._allocateBlock(l);++l){var r,o,s,a;const d=u._appendChar(t,{...n,_beforeTailState:(a=n._beforeTailState)==null||(a=a._blocks)==null?void 0:a[l]});if(d.skip&&c){this._blocks.pop(),this.mask=this.mask.slice(1);break}if(i.aggregate(d),d.consumed)break}return i}_trimEmptyTail(t,n){var i,r;t===void 0&&(t=0);const o=Math.max(((i=this._mapPosToBlock(t))==null?void 0:i.index)||0,this.repeatFrom,0);let s;n!=null&&(s=(r=this._mapPosToBlock(n))==null?void 0:r.index),s==null&&(s=this._blocks.length-1);let a=0;for(let l=s;o<=l&&!this._blocks[l].unmaskedValue;--l,++a);a&&(this._blocks.splice(s-a+1,a),this.mask=this.mask.slice(a))}reset(){super.reset(),this._trimEmptyTail()}remove(t,n){t===void 0&&(t=0),n===void 0&&(n=this.displayValue.length);const i=super.remove(t,n);return this._trimEmptyTail(t,n),i}totalInputPositions(t,n){return t===void 0&&(t=0),n==null&&this.repeatTo===1/0?1/0:super.totalInputPositions(t,n)}get state(){return super.state}set state(t){this._blocks.length=t._blocks.length,this.mask=this.mask.slice(0,this._blocks.length),super.state=t}}Ke.RepeatBlock=ehe;try{globalThis.IMask=Ke}catch{}const v3=["padding","border","borderLeft","borderRight","borderTop","borderBottom","borderRadius","background","boxShadow","cursor"],the={inheritAttrs:!1,props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event","add-state","remove-state","update:content:effect"],setup(e,{emit:t}){const n=Z(()=>Object.keys(e.wwElementState.props).includes("type")?e.wwElementState.props.type:e.content.type),{value:i,setValue:r}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:Z(()=>["decimal","number"].includes(n.value)?"number":"string"),defaultValue:e.content.value===void 0?"":e.content.value}),{setValue:o}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"raw value",type:Z(()=>["decimal","number"].includes(n.value)?"number":"string"),defaultValue:e.content.value===void 0?"":e.content.value}),s=Et(null),a=ra("componentState",{}),l=ra("_wwForm:useForm",()=>{}),u=Z(()=>e.content.fieldName),c=Z(()=>e.content.validation),d=Z(()=>e.content.customValidation),h=Z(()=>e.content.required),{createElement:p}=wwLib.wwElement.useCreate();return l(i,{fieldName:u,validation:c,customValidation:d,required:h,initialValue:Z(()=>e.content.value)},{elementState:e.wwElementState,emit:t,sidepanelFormPath:"form",setValue:r}),{variableValue:i,setValue:r,setUnmaskedValue:o,type:n,input:s,state:a,createElement:p}},data(){return{mask:null,paddingLeft:"0px",placeholderPosition:{top:"0px",left:"0px"},isFocused:!1,isHovered:!1,noTransition:!1,isMounted:!1,isDebouncing:!1,wasAccepted:!1,wasCompleted:!1,componentKey:0}},computed:{isEditing(){return!1},value(){return this.variableValue},formattedValue(){return this.mask?this.mask.value:this.value!==void 0&&this.value!==null?String(this.value):""},delay(){return wwLib.wwUtils.getLengthUnit(this.content.debounceDelay)[0]},rootBinding(){var i;const e={...this.$attrs.style||{}};v3.forEach(r=>{delete e[r]});let t={};for(const r in this.$attrs)(((i=this.state)==null?void 0:i.attributes)||[]).some(o=>o.name===r)||(t[r]=this.$attrs[r]);const n={...t,style:e};return delete n.id,delete n.class,n},placeholderSyle(){var n,i,r,o;const e=`all ${this.noTransition?"0ms":this.content.transition} ${this.content.timingFunction}`,t=this.content.placeholderPosition==="outside"?{top:"-"+this.content.positioningAjustment,left:this.placeholderPosition.left,transform:`translate3d(0, -100%, 0) scale(${this.content.placeholderScaling})`,transformOrigin:"left",transition:e}:{top:this.content.positioningAjustment,left:this.placeholderPosition.left,transform:`translate3d(0, 0%, 0) scale(${this.content.placeholderScaling})`,transformOrigin:"left",transition:e};return this.content.forceAnimation&&this.isEditing||this.value&&this.value!==0||(t.cursor=((i=(n=this.$attrs)==null?void 0:n.style)==null?void 0:i.cursor)||"text",this.isDebouncing)||this.content.animationTrigger==="focus"&&this.isFocused?t:{top:this.placeholderPosition.top,left:this.placeholderPosition.left,userSelect:"none",transform:"translate3d(0, 0%, 0) scale(1)",transformOrigin:"left",transition:e,cursor:((o=(r=this.$attrs)==null?void 0:r.style)==null?void 0:o.cursor)||"text"}},style(){const e={...wwLib.wwUtils.getTextStyleFromContent(this.content),"--placeholder-color":this.content.placeholderColor};return delete e.whiteSpaceCollapse,delete e.whiteSpace,v3.forEach(t=>{var n,i,r,o;(i=(n=this.$attrs)==null?void 0:n.style)!=null&&i[t]&&(e[t]=(o=(r=this.$attrs)==null?void 0:r.style)==null?void 0:o[t])}),e},inputType(){return this.content?this.content.type==="password"?this.content.displayPassword?"text":"password":this.content.type:"text"},isReadonly(){return this.wwElementState.props.readonly===void 0?this.content.readonly:this.wwElementState.props.readonly},isAdvancedPlaceholder(){return this.content.advancedPlaceholder&&!this.isReadonly},maskOptions(){const e=`${this.content.placeholderChar}`;return{mask:this.content.pattern,...this.content.placeholderVisible&&e.length?{placeholderChar:e,lazy:!1}:{}}},inputBinding(){var t;return{...(((t=this.state)==null?void 0:t.attributes)||[]).reduce((n,i)=>(n[i.name]=i.value,n),{}),...this.wwElementState.props.attributes||{}}}},watch:{maskOptions:{deep:!0,handler(){this.initIMask()}},"content.placeholderVisible"(){this.initIMask()},"content.placeholderChar"(){this.initIMask()},isEditing(){this.initIMask()},value(e,t){this.mask&&e!==void 0&&e!==null?this.$nextTick(()=>{const n=String(e);this.mask.value!==n&&(this.mask.value=n),this.input&&this.input.value!==this.mask.value&&(this.input.value=this.mask.value)}):this.mask&&(this.mask.value="",this.input&&(this.input.value=""))},"content.value"(e){if(e!==this.value){if(this.setValue(e),this.mask){const t=e!=null?String(e):"";this.mask.value!==t&&(this.mask.value=t),this.setUnmaskedValue(this.mask.unmaskedValue),this.$nextTick(()=>{this.input&&this.input.value!==this.mask.value&&(this.input.value=this.mask.value)})}this.$emit("trigger-event",{name:"initValueChange",event:{value:e}})}},isReadonly:{immediate:!0,handler(e){e?this.$emit("add-state","readonly"):this.$emit("remove-state","readonly"),this.$nextTick(()=>{this.handleObserver()})}},"content.type"(){this.$nextTick(()=>{this.handleObserver()})},input(){this.$nextTick(()=>{this.handleObserver()})},"content.advancedPlaceholder":{async handler(e){this.$nextTick(()=>{this.handleObserver()})}}},beforeUnmount(){this.resizeObserverContent&&this.resizeObserverContent.disconnect(),this.resizeObserverBorder&&this.resizeObserverBorder.disconnect(),wwLib.getFrontDocument().removeEventListener("keyup",this.onKeyEnter),this.mask&&this.mask.destroy()},mounted(){this.isMounted=!0,this.handleObserver(),wwLib.getFrontDocument().addEventListener("keyup",this.onKeyEnter),this.initIMask()},methods:{async initIMask(){if(this.mask&&this.mask.destroy(),this.componentKey++,await M3(),!this.input)return;this.mask=Ke(this.input,this.maskOptions);const e=this.mask.updateValue.bind(this.mask);if(this.mask.updateValue=()=>{e(),this.input&&this.input.value!==this.mask.value&&(this.input.value=this.mask.value)},this.mask.on("accept",t=>this.handleDebounce(t,"accept")),this.mask.on("complete",t=>this.handleDebounce(t,"complete")),this.value!==void 0&&this.value!==null){const t=String(this.value);this.mask.value=t,this.input&&(this.input.value=this.mask.value),this.setUnmaskedValue(this.mask.unmaskedValue)}else this.mask.value="",this.input&&(this.input.value=""),this.setUnmaskedValue("")},onInputChange(e){if(this.wasAccepted=!1,this.wasCompleted=!1,this.mask&&e.target&&e.target.value!==void 0){this.mask.value=e.target.value;const t=this.mask.value;t!==this.value&&(this.setValue(t),this.setUnmaskedValue(this.mask.unmaskedValue))}setTimeout(()=>{this.checkForRejection(e)},100)},checkForRejection(e){!this.wasAccepted&&!this.wasCompleted&&this.onCharacterReject(e)},handleDebounce(e,t){this.wasAccepted=!1,this.wasCompleted=!1;const n=e&&e.target?e.target.value:this.mask.value;this.setValue(n),this.setUnmaskedValue(this.mask.unmaskedValue),t==="accept"?this.wasAccepted=!0:t==="complete"&&(this.wasCompleted=!0),this.content.debounce?(this.isDebouncing=!0,this.debounce&&clearTimeout(this.debounce),this.debounce=setTimeout(()=>{this.dispatchInputEvents(n,e||{},t),this.isDebouncing=!1},this.delay)):this.dispatchInputEvents(n,e||{},t)},onCharacterReject(e){!e||e.key==="Enter"||this.$emit("trigger-event",{name:"characterReject",event:{domEvent:e,value:this.value,character:e.data||null}})},dispatchInputEvents(e,t,n){n==="complete"?this.$emit("trigger-event",{name:"maskComplete",event:{domEvent:t,value:e}}):n==="accept"&&(this.$emit("trigger-event",{name:"characterAccept",event:{domEvent:t,value:e,character:t&&t.data?t.data:null}}),this.$emit("trigger-event",{name:"change",event:{domEvent:t,value:e}}))},onKeyEnter(e){e.key==="Enter"&&this.isFocused&&this.$emit("trigger-event",{name:"onEnterKey",event:{value:this.value}})},handleObserver(){if(!this.isMounted)return;this.resizeObserverContent&&this.resizeObserverContent.disconnect(),this.resizeObserverBorder&&this.resizeObserverBorder.disconnect();const e=this.$refs.input;e&&(this.resizeObserverContent=new ResizeObserver(()=>{this.updatePosition(e)}),this.resizeObserverBorder=new ResizeObserver(()=>{this.updatePosition(e)}),this.resizeObserverContent.observe(e,{box:"content-box"}),this.resizeObserverBorder.observe(e,{box:"border-box"}))},updatePosition(e){const t=this.$refs.placeholder;if(!e||!t||this.isReadonly)return;this.noTransition=!0;const n=e.clientHeight/2-t.clientHeight/2;this.placeholderPosition.top=n+"px",this.placeholderPosition.left=e.style.paddingLeft,setTimeout(()=>{this.noTransition=!1},wwLib.wwUtils.getLengthUnit(this.content.transition)[0])},onMouseEnter(){if(this.isHovered=!0,this.mask&&this.value){const e=this.mask.value,t=this.value.toString().replace(/\s+/g,"");e.replace(/\s+/g,"")===t&&e!==this.value&&this.$nextTick(()=>{this.mask.updateValue(),this.input.value=this.mask.value})}},onMouseLeave(){this.isHovered=!1,this.mask&&this.value&&this.input&&this.mask.value!==this.input.value&&this.$nextTick(()=>{this.mask.updateValue(),this.input.value=this.mask.value})},onFocus(){this.isFocused=!0,this.$emit("trigger-event",{name:"focus",event:null}),this.$emit("add-state","focus"),this.mask&&this.value&&this.$nextTick(()=>{const e=this.mask.value;e!==this.input.value&&(this.input.value=e)})},onBlur(){if(this.isFocused=!1,this.$emit("trigger-event",{name:"blur",event:null}),this.$emit("remove-state","focus"),this.mask&&this.input){const e=this.input.value;e!==this.value&&this.mask.masked.isComplete&&(this.setValue(e),this.setUnmaskedValue(this.mask.unmaskedValue),this.$emit("trigger-event",{name:"change",event:{value:e}}))}},focusInput(){if(this.isReadonly)return;const e=this.$refs.input;e&&e.focus()}}},nhe=["id","value","name","readonly","required","placeholder"];function ihe(e,t,n,i,r,o){const s=It("wwElement",!0);return X(),ne("div",Yn({class:["ww-input-basic",{editing:o.isEditing}]},o.rootBinding),[(X(),ne("input",Yn({ref:"input",key:r.componentKey,id:e.$attrs.id,value:o.formattedValue,class:["ww-input-basic__input",e.$attrs.class]},o.inputBinding,{type:"text",name:n.wwElementState.name,readonly:n.content.readonly,required:n.content.required,placeholder:o.isAdvancedPlaceholder?"":e.wwLang.getText(n.content.placeholder),style:o.style,onBlur:t[0]||(t[0]=(...a)=>o.onBlur&&o.onBlur(...a)),onFocus:t[1]||(t[1]=(...a)=>o.onFocus&&o.onFocus(...a)),onInput:t[2]||(t[2]=(...a)=>o.onInputChange&&o.onInputChange(...a)),onMouseenter:t[3]||(t[3]=(...a)=>o.onMouseEnter&&o.onMouseEnter(...a)),onMouseleave:t[4]||(t[4]=(...a)=>o.onMouseLeave&&o.onMouseLeave(...a))}),null,16,nhe)),o.isAdvancedPlaceholder?(X(),ne("div",{key:0,ref:"placeholder",class:"ww-input-basic__placeholder",style:Yt(o.placeholderSyle),onClick:t[5]||(t[5]=(...a)=>o.focusInput&&o.focusInput(...a))},[lt(s,Yn({style:{pointerevents:"none"}},n.content.placeholderElement,{states:o.value.length?["active"]:[],"ww-props":{text:e.wwLang.getText(n.content.placeholder)||"Placeholder"}}),null,16,["states","ww-props"])],4)):ye("",!0)],16)}const rhe=nn(the,[["render",ihe],["__scopeId","data-v-63eab387"]]);Ft.component("wwobject-18998884-a757-4a87-80fe-44f129cf0962",nM);Ft.component("wwobject-1b1e2173-9b78-42cc-a8ee-a6167caea340",GD);Ft.component("wwobject-1ba25bdf-dee9-4e0e-a0b8-b3f3128c3b65",aM);Ft.component("wwobject-3a7d6379-12d3-4387-98ff-b332bb492a63",WD);Ft.component("wwobject-53401515-b694-4c79-a88d-abeecb1de562",vM);Ft.component("wwobject-57831abf-83ad-49ad-ba97-3bd30b035710",s8);Ft.component("wwobject-59dca300-db78-42e4-a7a6-0cbf22d3cc82",$D);Ft.component("wwobject-5a88036f-22ea-4f8d-b4a5-bc226ef95061",YP);Ft.component("wwobject-6047b8df-81b7-45a7-a6b3-7355fb2fa3cd",QP);Ft.component("wwobject-6145eb60-0af8-4e52-bcc6-dc0f6743654e",ZD);Ft.component("wwobject-6dee3327-9afa-4b44-bade-bdb547cdb18b",iI);Ft.component("wwobject-6f8796b1-8273-498d-95fc-7013b7c63214",aI);Ft.component("wwobject-70a53858-53ca-40a5-ad88-c1cd33b5cc9f",hI);Ft.component("wwobject-83d890fb-84f9-4386-b459-fb4be89a8e15",UD);Ft.component("wwobject-92156ca5-cc58-460e-b0b8-0bb722311488",QD);Ft.component("wwobject-97a63460-5c25-4d74-ac1f-86693c2e4a08",mI);Ft.component("wwobject-9ecb2cfc-cef7-4be8-b736-3e17a3b7e9ff",jD);Ft.component("wwobject-a6cb6a4d-6af7-4cd6-b530-a15d9ec64488",SI);Ft.component("wwobject-a823467c-bdc7-4cec-a38c-71875c4c214a",y9);Ft.component("wwobject-aa29a661-07ce-484e-8abb-456186211282",E9);Ft.component("wwobject-b783dc65-d528-4f74-8c14-e27c934c39b1",qD);Ft.component("wwobject-bf59c8e7-14c9-4c03-a739-8bd7d14031a4",dX);Ft.component("wwobject-c6c0c00e-49fd-4cb9-bd78-5bc09945721e",KD);Ft.component("wwobject-d2eeb897-ad95-49e4-8394-fe3f5c9a81fb",Wde);Ft.component("wwobject-d7904e9d-fc9a-4d80-9e32-728e097879ad",YD);Ft.component("wwobject-deb10a01-5eef-4aa1-9017-1b51c2ad6fd0",XD);Ft.component("wwobject-e2962a22-03b3-4421-b85e-906177d2303f",rhe);Ft.component("section-99586bd3-2b15-4d6b-a025-6a50d07ca845",JD);
