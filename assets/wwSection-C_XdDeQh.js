import{_ as ce,r as Z,b as Y,o as B,w as Oe,d as de,e as Ke,V as vt,m as H,ay as se,W as Zt,j as b,k as et,l as Ae,az as De,q as fe,a6 as Ee,an as Re,ak as qn,i as k,a0 as tt,g as z,as as Hn,p as Ce,c as le,a1 as Yt,Y as Wn,au as bt,F as Xn,n as Ve,a4 as nt,$ as Zn,a5 as Me,Z as Yn}from"./main-NMbsWZXH.js";const Jn={center:"center",right:"flex-end",left:"flex-start",justify:"center"},Qn={props:{content:{type:Object,required:!0},wwFrontState:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content","update:content:effect","change-menu-visibility","change-borders-style","add-state","remove-state","trigger-event"],setup(e){const{hasLink:t,tag:n,properties:r}=wwLib.wwElement.useLink({isDisabled:b(()=>e.content.disabled)});return{hasLink:t,linkTag:n,properties:r}},data(){return{isReallyFocused:!1,isReallyActive:!1}},computed:{buttonStyle(){return{justifyContent:Jn[this.content["_ww-text_textAlign"]]||"center"}},isEditing(){return!1},tag(){return this.isEditing?"div":this.hasLink?this.linkTag:this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?"button":"div"},buttonType(){return this.isEditing||this.hasLink?"":this.content.buttonType==="submit"||this.content.buttonType==="reset"||this.content.buttonType==="button"?this.content.buttonType:""},text(){return this.wwElementState.props.text},isFocused(){return this.isReallyFocused},isActive(){return this.isReallyActive}},watch:{"content.disabled":{immediate:!0,handler(e){e?this.$emit("add-state","disabled"):this.$emit("remove-state","disabled")}},isReallyFocused(e,t){e&&!t?this.$emit("trigger-event",{name:"focus"}):!e&&t&&this.$emit("trigger-event",{name:"blur"})},isFocused:{immediate:!0,handler(e){e?this.$emit("add-state","focus"):this.$emit("remove-state","focus")}},isActive:{immediate:!0,handler(e){e?this.$emit("add-state","active"):this.$emit("remove-state","active")}}},methods:{onBlur(){this.isReallyFocused=!1},onActivate(e){this.isReallyActive=!0;const t=e.type;this.$emit("trigger-event",{name:t,event:e})},onDeactivate(e){this.isReallyActive=!1;const t=e.type;this.$emit("trigger-event",{name:t,event:e})},onTouchActivate(){this.isReallyActive=!0},onTouchDeactivate(){this.isReallyActive=!1},onMouseActivate(){this.isReallyActive=!0},onMouseDeactivate(){this.isReallyActive=!1},onKeyActivate(){this.isReallyActive=!0},onKeyDeactivate(){this.isReallyActive=!1},onKeyDown(e){this.$emit("trigger-event",{name:"keydown",event:e})},onKeyUp(e){this.$emit("trigger-event",{name:"keyup",event:e})}}};function er(e,t,n,r,i,a){const o=Z("wwElement",!0),l=Z("wwText");return B(),Y(Zt(a.tag),H({class:["ww-button",{button:a.tag,"-link":r.hasLink&&!a.isEditing,active:a.isActive}],type:a.buttonType,style:a.buttonStyle,"data-ww-flag":"btn-"+n.content.buttonType,disabled:n.content.disabled},r.properties,{onFocus:t[0]||(t[0]=f=>i.isReallyFocused=!0),onBlur:t[1]||(t[1]=f=>a.onBlur(f)),onMousedown:a.onMouseActivate,onMouseup:a.onMouseDeactivate,onMouseleave:a.onMouseDeactivate,onTouchstart:a.onTouchActivate,onTouchend:a.onTouchDeactivate,onTouchcancel:a.onTouchDeactivate,onKeydown:[se(a.onKeyActivate,["enter"]),se(a.onKeyActivate,["space"]),a.onKeyDown],onKeyup:[se(a.onKeyDeactivate,["enter"]),se(a.onKeyDeactivate,["space"]),a.onKeyUp]}),{default:Oe(()=>[n.content.hasLeftIcon&&n.content.leftIcon?(B(),Y(o,vt(H({key:0},n.content.leftIcon)),null,16)):de("",!0),Ke(l,{tag:"span",text:a.text},null,8,["text"]),n.content.hasRightIcon&&n.content.rightIcon?(B(),Y(o,vt(H({key:1},n.content.rightIcon)),null,16)):de("",!0)]),_:1},16,["class","type","style","data-ww-flag","disabled","onMousedown","onMouseup","onMouseleave","onTouchstart","onTouchend","onTouchcancel","onKeydown","onKeyup"])}const bc=ce(Qn,[["render",er],["__scopeId","data-v-cbcbcea4"]]),tr={props:{content:{type:Object,required:!0}},setup(){const{hasLink:e,properties:t,tag:n}=wwLib.wwElement.useLink();return{hasLink:e,properties:t,tag:n}},computed:{style(){return{color:this.content.color,fontSize:`${this.content.fontSize}px`}},isEditing(){return!1}}};function nr(e,t,n,r,i,a){return B(),Y(Zt(r.tag),H(r.properties,{class:["ww-icon",{"-link":r.hasLink&&!a.isEditing}],style:a.style}),{default:Oe(()=>[et("div",{class:Ae([n.content.icon]),"aria-hidden":"true"},null,2)]),_:1},16,["style","class"])}const hc=ce(tr,[["render",nr],["__scopeId","data-v-fc4fe703"]]);var Jt=typeof De=="object"&&De&&De.Object===Object&&De,rr=typeof self=="object"&&self&&self.Object===Object&&self,W=Jt||rr||Function("return this")(),G=W.Symbol,Qt=Object.prototype,ar=Qt.hasOwnProperty,ir=Qt.toString,xe=G?G.toStringTag:void 0;function or(e){var t=ar.call(e,xe),n=e[xe];try{e[xe]=void 0;var r=!0}catch{}var i=ir.call(e);return r&&(t?e[xe]=n:delete e[xe]),i}var lr=Object.prototype,cr=lr.toString;function ur(e){return cr.call(e)}var sr="[object Null]",fr="[object Undefined]",ht=G?G.toStringTag:void 0;function ge(e){return e==null?e===void 0?fr:sr:ht&&ht in Object(e)?or(e):ur(e)}function re(e){return e!=null&&typeof e=="object"}var dr="[object Symbol]";function ze(e){return typeof e=="symbol"||re(e)&&ge(e)==dr}function en(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var ae=Array.isArray,pt=G?G.prototype:void 0,wt=pt?pt.toString:void 0;function tn(e){if(typeof e=="string")return e;if(ae(e))return en(e,tn)+"";if(ze(e))return wt?wt.call(e):"";var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}var mr=/\s/;function yr(e){for(var t=e.length;t--&&mr.test(e.charAt(t)););return t}var gr=/^\s+/;function vr(e){return e&&e.slice(0,yr(e)+1).replace(gr,"")}function me(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var _t=NaN,br=/^[-+]0x[0-9a-f]+$/i,hr=/^0b[01]+$/i,pr=/^0o[0-7]+$/i,wr=parseInt;function St(e){if(typeof e=="number")return e;if(ze(e))return _t;if(me(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=me(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=vr(e);var n=hr.test(e);return n||pr.test(e)?wr(e.slice(2),n?2:8):br.test(e)?_t:+e}function _r(e){return e}var Sr="[object AsyncFunction]",Tr="[object Function]",xr="[object GeneratorFunction]",Er="[object Proxy]";function nn(e){if(!me(e))return!1;var t=ge(e);return t==Tr||t==xr||t==Sr||t==Er}var Ze=W["__core-js_shared__"],Tt=(function(){var e=/[^.]+$/.exec(Ze&&Ze.keys&&Ze.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function Or(e){return!!Tt&&Tt in e}var Cr=Function.prototype,Ir=Cr.toString;function ve(e){if(e!=null){try{return Ir.call(e)}catch{}try{return e+""}catch{}}return""}var Ar=/[\\^$.*+?()[\]{}|]/g,jr=/^\[object .+?Constructor\]$/,Pr=Function.prototype,Fr=Object.prototype,Dr=Pr.toString,Lr=Fr.hasOwnProperty,$r=RegExp("^"+Dr.call(Lr).replace(Ar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rr(e){if(!me(e)||Or(e))return!1;var t=nn(e)?$r:jr;return t.test(ve(e))}function Vr(e,t){return e==null?void 0:e[t]}function be(e,t){var n=Vr(e,t);return Rr(n)?n:void 0}var rt=be(W,"WeakMap");function Mr(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var kr=800,Br=16,Nr=Date.now;function Ur(e){var t=0,n=0;return function(){var r=Nr(),i=Br-(r-n);if(n=r,i>0){if(++t>=kr)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function Kr(e){return function(){return e}}var ke=(function(){try{var e=be(Object,"defineProperty");return e({},"",{}),e}catch{}})(),zr=ke?function(e,t){return ke(e,"toString",{configurable:!0,enumerable:!1,value:Kr(t),writable:!0})}:_r,Gr=Ur(zr);function qr(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}var Hr=9007199254740991,Wr=/^(?:0|[1-9]\d*)$/;function Xr(e,t){var n=typeof e;return t=t??Hr,!!t&&(n=="number"||n!="symbol"&&Wr.test(e))&&e>-1&&e%1==0&&e<t}function rn(e,t,n){t=="__proto__"&&ke?ke(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function lt(e,t){return e===t||e!==e&&t!==t}var Zr=Object.prototype,Yr=Zr.hasOwnProperty;function an(e,t,n){var r=e[t];(!(Yr.call(e,t)&&lt(r,n))||n===void 0&&!(t in e))&&rn(e,t,n)}function Jr(e,t,n,r){var i=!n;n||(n={});for(var a=-1,o=t.length;++a<o;){var l=t[a],f=void 0;f===void 0&&(f=e[l]),i?rn(n,l,f):an(n,l,f)}return n}var xt=Math.max;function Qr(e,t,n){return t=xt(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=xt(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var l=Array(t+1);++i<t;)l[i]=r[i];return l[t]=n(o),Mr(e,this,l)}}var ea=9007199254740991;function on(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ea}function ln(e){return e!=null&&on(e.length)&&!nn(e)}var ta=Object.prototype;function cn(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ta;return e===n}function na(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var ra="[object Arguments]";function Et(e){return re(e)&&ge(e)==ra}var un=Object.prototype,aa=un.hasOwnProperty,ia=un.propertyIsEnumerable,sn=Et((function(){return arguments})())?Et:function(e){return re(e)&&aa.call(e,"callee")&&!ia.call(e,"callee")};function oa(){return!1}var fn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ot=fn&&typeof module=="object"&&module&&!module.nodeType&&module,la=Ot&&Ot.exports===fn,Ct=la?W.Buffer:void 0,ca=Ct?Ct.isBuffer:void 0,Be=ca||oa,ua="[object Arguments]",sa="[object Array]",fa="[object Boolean]",da="[object Date]",ma="[object Error]",ya="[object Function]",ga="[object Map]",va="[object Number]",ba="[object Object]",ha="[object RegExp]",pa="[object Set]",wa="[object String]",_a="[object WeakMap]",Sa="[object ArrayBuffer]",Ta="[object DataView]",xa="[object Float32Array]",Ea="[object Float64Array]",Oa="[object Int8Array]",Ca="[object Int16Array]",Ia="[object Int32Array]",Aa="[object Uint8Array]",ja="[object Uint8ClampedArray]",Pa="[object Uint16Array]",Fa="[object Uint32Array]",D={};D[xa]=D[Ea]=D[Oa]=D[Ca]=D[Ia]=D[Aa]=D[ja]=D[Pa]=D[Fa]=!0;D[ua]=D[sa]=D[Sa]=D[fa]=D[Ta]=D[da]=D[ma]=D[ya]=D[ga]=D[va]=D[ba]=D[ha]=D[pa]=D[wa]=D[_a]=!1;function Da(e){return re(e)&&on(e.length)&&!!D[ge(e)]}function ct(e){return function(t){return e(t)}}var dn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ie=dn&&typeof module=="object"&&module&&!module.nodeType&&module,La=Ie&&Ie.exports===dn,Ye=La&&Jt.process,we=(function(){try{var e=Ie&&Ie.require&&Ie.require("util").types;return e||Ye&&Ye.binding&&Ye.binding("util")}catch{}})(),It=we&&we.isTypedArray,mn=It?ct(It):Da,$a=Object.prototype,Ra=$a.hasOwnProperty;function yn(e,t){var n=ae(e),r=!n&&sn(e),i=!n&&!r&&Be(e),a=!n&&!r&&!i&&mn(e),o=n||r||i||a,l=o?na(e.length,String):[],f=l.length;for(var c in e)(t||Ra.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Xr(c,f)))&&l.push(c);return l}function gn(e,t){return function(n){return e(t(n))}}var Va=gn(Object.keys,Object),Ma=Object.prototype,ka=Ma.hasOwnProperty;function Ba(e){if(!cn(e))return Va(e);var t=[];for(var n in Object(e))ka.call(e,n)&&n!="constructor"&&t.push(n);return t}function Na(e){return ln(e)?yn(e):Ba(e)}function Ua(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var Ka=Object.prototype,za=Ka.hasOwnProperty;function Ga(e){if(!me(e))return Ua(e);var t=cn(e),n=[];for(var r in e)r=="constructor"&&(t||!za.call(e,r))||n.push(r);return n}function qa(e){return ln(e)?yn(e,!0):Ga(e)}var Ha=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Wa=/^\w*$/;function Xa(e,t){if(ae(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ze(e)?!0:Wa.test(e)||!Ha.test(e)||t!=null&&e in Object(t)}var je=be(Object,"create");function Za(){this.__data__=je?je(null):{},this.size=0}function Ya(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Ja="__lodash_hash_undefined__",Qa=Object.prototype,ei=Qa.hasOwnProperty;function ti(e){var t=this.__data__;if(je){var n=t[e];return n===Ja?void 0:n}return ei.call(t,e)?t[e]:void 0}var ni=Object.prototype,ri=ni.hasOwnProperty;function ai(e){var t=this.__data__;return je?t[e]!==void 0:ri.call(t,e)}var ii="__lodash_hash_undefined__";function oi(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=je&&t===void 0?ii:t,this}function ye(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ye.prototype.clear=Za;ye.prototype.delete=Ya;ye.prototype.get=ti;ye.prototype.has=ai;ye.prototype.set=oi;function li(){this.__data__=[],this.size=0}function Ge(e,t){for(var n=e.length;n--;)if(lt(e[n][0],t))return n;return-1}var ci=Array.prototype,ui=ci.splice;function si(e){var t=this.__data__,n=Ge(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():ui.call(t,n,1),--this.size,!0}function fi(e){var t=this.__data__,n=Ge(t,e);return n<0?void 0:t[n][1]}function di(e){return Ge(this.__data__,e)>-1}function mi(e,t){var n=this.__data__,r=Ge(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function ie(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ie.prototype.clear=li;ie.prototype.delete=si;ie.prototype.get=fi;ie.prototype.has=di;ie.prototype.set=mi;var Pe=be(W,"Map");function yi(){this.size=0,this.__data__={hash:new ye,map:new(Pe||ie),string:new ye}}function gi(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function qe(e,t){var n=e.__data__;return gi(t)?n[typeof t=="string"?"string":"hash"]:n.map}function vi(e){var t=qe(this,e).delete(e);return this.size-=t?1:0,t}function bi(e){return qe(this,e).get(e)}function hi(e){return qe(this,e).has(e)}function pi(e,t){var n=qe(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function oe(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}oe.prototype.clear=yi;oe.prototype.delete=vi;oe.prototype.get=bi;oe.prototype.has=hi;oe.prototype.set=pi;var wi="Expected a function";function ut(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(wi);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(ut.Cache||oe),n}ut.Cache=oe;var _i=500;function Si(e){var t=ut(e,function(r){return n.size===_i&&n.clear(),r}),n=t.cache;return t}var Ti=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xi=/\\(\\)?/g,Ei=Si(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Ti,function(n,r,i,a){t.push(i?a.replace(xi,"$1"):r||n)}),t});function Oi(e){return e==null?"":tn(e)}function st(e,t){return ae(e)?e:Xa(e,t)?[e]:Ei(Oi(e))}function vn(e){if(typeof e=="string"||ze(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t}function Ci(e,t){t=st(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[vn(t[n++])];return n&&n==r?e:void 0}function ft(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var At=G?G.isConcatSpreadable:void 0;function Ii(e){return ae(e)||sn(e)||!!(At&&e&&e[At])}function Ai(e,t,n,r,i){var a=-1,o=e.length;for(n||(n=Ii),i||(i=[]);++a<o;){var l=e[a];n(l)?ft(i,l):i[i.length]=l}return i}function ji(e){var t=e==null?0:e.length;return t?Ai(e):[]}function Pi(e){return Gr(Qr(e,void 0,ji),e+"")}var bn=gn(Object.getPrototypeOf,Object),Fi="[object Object]",Di=Function.prototype,Li=Object.prototype,hn=Di.toString,$i=Li.hasOwnProperty,Ri=hn.call(Object);function Vi(e){if(!re(e)||ge(e)!=Fi)return!1;var t=bn(e);if(t===null)return!0;var n=$i.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&hn.call(n)==Ri}function Mi(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}function ki(){this.__data__=new ie,this.size=0}function Bi(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ni(e){return this.__data__.get(e)}function Ui(e){return this.__data__.has(e)}var Ki=200;function zi(e,t){var n=this.__data__;if(n instanceof ie){var r=n.__data__;if(!Pe||r.length<Ki-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new oe(r)}return n.set(e,t),this.size=n.size,this}function ne(e){var t=this.__data__=new ie(e);this.size=t.size}ne.prototype.clear=ki;ne.prototype.delete=Bi;ne.prototype.get=Ni;ne.prototype.has=Ui;ne.prototype.set=zi;var pn=typeof exports=="object"&&exports&&!exports.nodeType&&exports,jt=pn&&typeof module=="object"&&module&&!module.nodeType&&module,Gi=jt&&jt.exports===pn,Pt=Gi?W.Buffer:void 0;Pt&&Pt.allocUnsafe;function qi(e,t){return e.slice()}function Hi(e,t){for(var n=-1,r=e==null?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}function wn(){return[]}var Wi=Object.prototype,Xi=Wi.propertyIsEnumerable,Ft=Object.getOwnPropertySymbols,_n=Ft?function(e){return e==null?[]:(e=Object(e),Hi(Ft(e),function(t){return Xi.call(e,t)}))}:wn,Zi=Object.getOwnPropertySymbols,Yi=Zi?function(e){for(var t=[];e;)ft(t,_n(e)),e=bn(e);return t}:wn;function Sn(e,t,n){var r=t(e);return ae(e)?r:ft(r,n(e))}function Dt(e){return Sn(e,Na,_n)}function Tn(e){return Sn(e,qa,Yi)}var at=be(W,"DataView"),it=be(W,"Promise"),ot=be(W,"Set"),Lt="[object Map]",Ji="[object Object]",$t="[object Promise]",Rt="[object Set]",Vt="[object WeakMap]",Mt="[object DataView]",Qi=ve(at),eo=ve(Pe),to=ve(it),no=ve(ot),ro=ve(rt),q=ge;(at&&q(new at(new ArrayBuffer(1)))!=Mt||Pe&&q(new Pe)!=Lt||it&&q(it.resolve())!=$t||ot&&q(new ot)!=Rt||rt&&q(new rt)!=Vt)&&(q=function(e){var t=ge(e),n=t==Ji?e.constructor:void 0,r=n?ve(n):"";if(r)switch(r){case Qi:return Mt;case eo:return Lt;case to:return $t;case no:return Rt;case ro:return Vt}return t});var ao=Object.prototype,io=ao.hasOwnProperty;function oo(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&io.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var Ne=W.Uint8Array;function dt(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function lo(e,t){var n=dt(e.buffer);return new e.constructor(n,e.byteOffset,e.byteLength)}var co=/\w*$/;function uo(e){var t=new e.constructor(e.source,co.exec(e));return t.lastIndex=e.lastIndex,t}var kt=G?G.prototype:void 0,Bt=kt?kt.valueOf:void 0;function so(e){return Bt?Object(Bt.call(e)):{}}function fo(e,t){var n=dt(e.buffer);return new e.constructor(n,e.byteOffset,e.length)}var mo="[object Boolean]",yo="[object Date]",go="[object Map]",vo="[object Number]",bo="[object RegExp]",ho="[object Set]",po="[object String]",wo="[object Symbol]",_o="[object ArrayBuffer]",So="[object DataView]",To="[object Float32Array]",xo="[object Float64Array]",Eo="[object Int8Array]",Oo="[object Int16Array]",Co="[object Int32Array]",Io="[object Uint8Array]",Ao="[object Uint8ClampedArray]",jo="[object Uint16Array]",Po="[object Uint32Array]";function Fo(e,t,n){var r=e.constructor;switch(t){case _o:return dt(e);case mo:case yo:return new r(+e);case So:return lo(e);case To:case xo:case Eo:case Oo:case Co:case Io:case Ao:case jo:case Po:return fo(e);case go:return new r;case vo:case po:return new r(e);case bo:return uo(e);case ho:return new r;case wo:return so(e)}}var Do="[object Map]";function Lo(e){return re(e)&&q(e)==Do}var Nt=we&&we.isMap,$o=Nt?ct(Nt):Lo,Ro="[object Set]";function Vo(e){return re(e)&&q(e)==Ro}var Ut=we&&we.isSet,Mo=Ut?ct(Ut):Vo,xn="[object Arguments]",ko="[object Array]",Bo="[object Boolean]",No="[object Date]",Uo="[object Error]",En="[object Function]",Ko="[object GeneratorFunction]",zo="[object Map]",Go="[object Number]",On="[object Object]",qo="[object RegExp]",Ho="[object Set]",Wo="[object String]",Xo="[object Symbol]",Zo="[object WeakMap]",Yo="[object ArrayBuffer]",Jo="[object DataView]",Qo="[object Float32Array]",el="[object Float64Array]",tl="[object Int8Array]",nl="[object Int16Array]",rl="[object Int32Array]",al="[object Uint8Array]",il="[object Uint8ClampedArray]",ol="[object Uint16Array]",ll="[object Uint32Array]",P={};P[xn]=P[ko]=P[Yo]=P[Jo]=P[Bo]=P[No]=P[Qo]=P[el]=P[tl]=P[nl]=P[rl]=P[zo]=P[Go]=P[On]=P[qo]=P[Ho]=P[Wo]=P[Xo]=P[al]=P[il]=P[ol]=P[ll]=!0;P[Uo]=P[En]=P[Zo]=!1;function $e(e,t,n,r,i,a){var o;if(n&&(o=i?n(e,r,i,a):n(e)),o!==void 0)return o;if(!me(e))return e;var l=ae(e);if(l)o=oo(e);else{var f=q(e),c=f==En||f==Ko;if(Be(e))return qi(e);if(f==On||f==xn||c&&!i)o={};else{if(!P[f])return i?e:{};o=Fo(e,f)}}a||(a=new ne);var g=a.get(e);if(g)return g;a.set(e,o),Mo(e)?e.forEach(function(y){o.add($e(y,t,n,y,e,a))}):$o(e)&&e.forEach(function(y,d){o.set(d,$e(y,t,n,d,e,a))});var s=Tn,u=l?void 0:s(e);return qr(u||e,function(y,d){u&&(d=y,y=e[d]),an(o,d,$e(y,t,n,d,e,a))}),o}var cl="__lodash_hash_undefined__";function ul(e){return this.__data__.set(e,cl),this}function sl(e){return this.__data__.has(e)}function Ue(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new oe;++t<n;)this.add(e[t])}Ue.prototype.add=Ue.prototype.push=ul;Ue.prototype.has=sl;function fl(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function dl(e,t){return e.has(t)}var ml=1,yl=2;function Cn(e,t,n,r,i,a){var o=n&ml,l=e.length,f=t.length;if(l!=f&&!(o&&f>l))return!1;var c=a.get(e),g=a.get(t);if(c&&g)return c==t&&g==e;var s=-1,u=!0,y=n&yl?new Ue:void 0;for(a.set(e,t),a.set(t,e);++s<l;){var d=e[s],v=t[s];if(r)var I=o?r(v,d,s,t,e,a):r(d,v,s,e,t,a);if(I!==void 0){if(I)continue;u=!1;break}if(y){if(!fl(t,function(j,O){if(!dl(y,O)&&(d===j||i(d,j,n,r,a)))return y.push(O)})){u=!1;break}}else if(!(d===v||i(d,v,n,r,a))){u=!1;break}}return a.delete(e),a.delete(t),u}function gl(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function vl(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var bl=1,hl=2,pl="[object Boolean]",wl="[object Date]",_l="[object Error]",Sl="[object Map]",Tl="[object Number]",xl="[object RegExp]",El="[object Set]",Ol="[object String]",Cl="[object Symbol]",Il="[object ArrayBuffer]",Al="[object DataView]",Kt=G?G.prototype:void 0,Je=Kt?Kt.valueOf:void 0;function jl(e,t,n,r,i,a,o){switch(n){case Al:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Il:return!(e.byteLength!=t.byteLength||!a(new Ne(e),new Ne(t)));case pl:case wl:case Tl:return lt(+e,+t);case _l:return e.name==t.name&&e.message==t.message;case xl:case Ol:return e==t+"";case Sl:var l=gl;case El:var f=r&bl;if(l||(l=vl),e.size!=t.size&&!f)return!1;var c=o.get(e);if(c)return c==t;r|=hl,o.set(e,t);var g=Cn(l(e),l(t),r,i,a,o);return o.delete(e),g;case Cl:if(Je)return Je.call(e)==Je.call(t)}return!1}var Pl=1,Fl=Object.prototype,Dl=Fl.hasOwnProperty;function Ll(e,t,n,r,i,a){var o=n&Pl,l=Dt(e),f=l.length,c=Dt(t),g=c.length;if(f!=g&&!o)return!1;for(var s=f;s--;){var u=l[s];if(!(o?u in t:Dl.call(t,u)))return!1}var y=a.get(e),d=a.get(t);if(y&&d)return y==t&&d==e;var v=!0;a.set(e,t),a.set(t,e);for(var I=o;++s<f;){u=l[s];var j=e[u],O=t[u];if(r)var w=o?r(O,j,u,t,e,a):r(j,O,u,e,t,a);if(!(w===void 0?j===O||i(j,O,n,r,a):w)){v=!1;break}I||(I=u=="constructor")}if(v&&!I){var F=e.constructor,A=t.constructor;F!=A&&"constructor"in e&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof A=="function"&&A instanceof A)&&(v=!1)}return a.delete(e),a.delete(t),v}var $l=1,zt="[object Arguments]",Gt="[object Array]",Le="[object Object]",Rl=Object.prototype,qt=Rl.hasOwnProperty;function Vl(e,t,n,r,i,a){var o=ae(e),l=ae(t),f=o?Gt:q(e),c=l?Gt:q(t);f=f==zt?Le:f,c=c==zt?Le:c;var g=f==Le,s=c==Le,u=f==c;if(u&&Be(e)){if(!Be(t))return!1;o=!0,g=!1}if(u&&!g)return a||(a=new ne),o||mn(e)?Cn(e,t,n,r,i,a):jl(e,t,f,n,r,i,a);if(!(n&$l)){var y=g&&qt.call(e,"__wrapped__"),d=s&&qt.call(t,"__wrapped__");if(y||d){var v=y?e.value():e,I=d?t.value():t;return a||(a=new ne),i(v,I,n,r,a)}}return u?(a||(a=new ne),Ll(e,t,n,r,i,a)):!1}function In(e,t,n,r,i){return e===t?!0:e==null||t==null||!re(e)&&!re(t)?e!==e&&t!==t:Vl(e,t,n,r,In,i)}var Qe=function(){return W.Date.now()},Ml="Expected a function",kl=Math.max,Bl=Math.min;function Ht(e,t,n){var r,i,a,o,l,f,c=0,g=!1,s=!1,u=!0;if(typeof e!="function")throw new TypeError(Ml);t=St(t)||0,me(n)&&(g=!!n.leading,s="maxWait"in n,a=s?kl(St(n.maxWait)||0,t):a,u="trailing"in n?!!n.trailing:u);function y(x){var _=r,h=i;return r=i=void 0,c=x,o=e.apply(h,_),o}function d(x){return c=x,l=setTimeout(j,t),g?y(x):o}function v(x){var _=x-f,h=x-c,E=t-_;return s?Bl(E,a-h):E}function I(x){var _=x-f,h=x-c;return f===void 0||_>=t||_<0||s&&h>=a}function j(){var x=Qe();if(I(x))return O(x);l=setTimeout(j,v(x))}function O(x){return l=void 0,u&&r?y(x):(r=i=void 0,o)}function w(){l!==void 0&&clearTimeout(l),c=0,r=f=i=l=void 0}function F(){return l===void 0?o:O(Qe())}function A(){var x=Qe(),_=I(x);if(r=arguments,i=this,f=x,_){if(l===void 0)return d(f);if(s)return clearTimeout(l),l=setTimeout(j,t),y(f)}return l===void 0&&(l=setTimeout(j,t)),o}return A.cancel=w,A.flush=F,A}function Nl(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}function Ul(e,t){return t.length<2?e:Ci(e,Mi(t,0,-1))}function An(e,t){return In(e,t)}function Kl(e,t){return t=st(t,e),e=Ul(e,t),e==null||delete e[vn(Nl(t))]}function zl(e){return Vi(e)?void 0:e}var Gl=1,ql=2,Hl=4,Wl=Pi(function(e,t){var n={};if(e==null)return n;var r=!1;t=en(t,function(a){return a=st(a,e),r||(r=a.length>1),a}),Jr(e,Tn(e),n),r&&(n=$e(n,Gl|ql|Hl,zl));for(var i=t.length;i--;)Kl(n,t[i]);return n});function Xl(e){return e==null?!0:typeof e=="number"?Number.isNaN(e):typeof e=="string"?e.length===0:typeof e=="boolean"?e===!1:Array.isArray(e)?e.length===0:e instanceof Set||e instanceof Map?e.size===0:typeof e=="object"?Object.keys(e).length===0:!1}function Zl(e,{fieldName:t,validation:n,customValidation:r=Re(!1),required:i=Re(!1),initialValue:a=void 0},{elementState:o,emit:l,sidepanelFormPath:f="form",setValue:c=null}){const g=fe("_wwForm:info",null),s=fe("_wwForm:registerInput",()=>{}),u=fe("_wwForm:unregisterInput",()=>{}),y=fe("_wwForm:updateInput",()=>{}),d=wwLib.wwUtils.getUid(),v=b(()=>(t==null?void 0:t.value)||o.name);function I(h){c?c(h):e.value=h}s(d,{[v.value]:{value:e.value,isValid:!i.value&&!r.value?!0:null,pending:!1,forceValidateField:_,updateValue:I,initialValue:Ee(a)}}),qn(a)&&k(a,h=>{y(d,E=>{E[v.value]&&(E[v.value].initialValue=h)})});const{resolveFormula:j}=wwLib.wwFormula.useFormula(),O=(h,E,S,m)=>{var ue;const L=S&&m?(ue=j(m))==null?void 0:ue.value:!0,C=!Xl(h);return E?S&&m?C&&L:C:L};function w(h){y(d,E=>{if(!E[v.value]){console.warn("Field name not available, is the AI generating ?");return}E[v.value].isValid=h,E[v.value].pending=!1})}let F=Ht(w,g.debounceDelay.value);k(()=>g.debounceDelay.value,()=>{F.flush(),F=Ht(w,g.debounceDelay.value)});let A=!0;const x=b(()=>{const h=O(e.value,i.value,r.value,n.value);return A?(A=!1,null):h});k(x,h=>{g.validationType.value==="change"&&(y(d,E=>{if(!E[v.value]){console.warn("Field name not available, is the AI generating ?");return}E[v.value].pending=!0}),F(h))}),k(()=>g.validationType.value,h=>{h==="change"?w(O(e.value,i==null?void 0:i.value,r==null?void 0:r.value,n==null?void 0:n.value)):h==="submit"&&w(!0)}),tt(()=>{F.cancel()});function _(){F.cancel();const h=O(e.value,i==null?void 0:i.value,r==null?void 0:r.value,n==null?void 0:n.value);return w(h),h}return k(e,(h,E)=>{An(h,E)||y(d,S=>{S[v.value].value=h})},{deep:!0}),k(v,(h,E)=>{y(d,S=>{const m=S[E];delete S[E],S[h]=m})}),tt(()=>{u(d)}),{selectForm:Yl}}function Yl(e,t){}function Jl(){const e=Re(!1),t=Re(!1),n=z({});return{formState:Hn({isSubmitting:b(()=>e.value),isSubmitted:b(()=>t.value),isValid:b(()=>{const l=Object.values(n.value);return l.some(f=>f===null)?null:!l.some(f=>!f)})}),setFormState:l=>{"isSubmitting"in l&&(e.value=l.isSubmitting),"isSubmitted"in l&&(t.value=l.isSubmitted)},updateInputValidity:(l,f)=>{(typeof f=="boolean"||f===null)&&(n.value[l]=f)},removeInputValidity:l=>{delete n.value[l]}}}function Ql({emit:e,forceValidateAllFields:t,formInputs:n,formName:r}){return{handleSubmit:async a=>{try{const o=t();if(o.isValid){const l=Object.fromEntries(Object.entries((n==null?void 0:n.value)||{}).map(([f,c])=>[f,c.value]));e("trigger-event",{name:"submit",event:a})}else{const f=o.invalidFields.map(c=>c.name).join(", ");e("trigger-event",{name:"submit-validation-error",event:a})}}catch(o){console.error("Form submission error",o)}}}}function ec({updateInputValidity:e,removeInputValidity:t}){const n=z({}),r=b(()=>Object.fromEntries(Array.from(Object.values(n.value)).filter(c=>c&&typeof c=="object").map(c=>Object.entries(c)[0]).filter(([c,g])=>c!=="null"&&g!==null).map(([c,g])=>[c,Wl(g,["forceValidateField","updateValue","pending","initialValue"])])));function i(c,g){n.value[c]=g;const[,s]=Object.entries(g)[0];e(c,s.isValid??null)}function a(c,g){var u,y;const s=n.value[c];s&&(g(s),e(c,((y=(u=Object.values(n.value[c]))==null?void 0:u[0])==null?void 0:y.isValid)??null))}function o(c){delete n.value[c],t(c)}k(n,()=>{for(const[c,g]of Object.entries(n.value)){const[,s]=Object.entries(g)[0];"isValid"in s&&e(c,s.isValid)}},{deep:!0,immediate:!0}),Ce("_wwForm:registerInput",i),Ce("_wwForm:unregisterInput",o),Ce("_wwForm:updateInput",a);function l(){const c={},g=[];for(const[u,y]of Object.entries(n.value))for(const[d,v]of Object.entries(y))if("forceValidateField"in v){const I=v.forceValidateField();c[u+d]=I,I||g.push({id:u,name:d,value:v.value,isValid:I,error:v.error||v.validationMessage||"Validation failed"})}return{isValid:Object.values(c).every(Boolean),invalidFields:g,validityMap:c}}function f(c={}){c||(c={});for(const[g,s]of Object.entries(n.value))for(const[u,y]of Object.entries(s))y&&typeof y=="object"&&a(g,d=>{if(d[u]){let v;c[u]!==void 0?v=c[u]:d[u].initialValue!==void 0?v=d[u].initialValue:Array.isArray(d[u].value)?v=[]:typeof d[u].value=="object"&&d[u].value!==null?v={}:typeof d[u].value=="boolean"?v=!1:typeof d[u].value=="number"?v=0:v="",d[u].value=v,d[u].updateValue&&d[u].updateValue(v),d[u].isValid=null,d[u].pending=!1}})}return{inputsMap:n,formInputs:r,updateInput:a,forceValidateAllFields:l,resetInputs:f}}const tc={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["trigger-event"],setup(e,{emit:t}){const n=b(()=>!1),r=b(()=>!1),i=z(null),a=z(null),o=b(()=>e.wwElementState.name),l=b(()=>e.content.validation),f=b(()=>{if(!e.content.debounceDelay)return 0;const S=wwLib.wwUtils.getLengthUnit(e.content.debounceDelay)[0]||0;return S<1?0:S}),{formState:c,setFormState:g,updateInputValidity:s,removeInputValidity:u}=Jl(),{formInputs:y,forceValidateAllFields:d,resetInputs:v}=ec({updateInputValidity:s,removeInputValidity:u}),I=b(()=>c.isValid.value),j=z({});function O(){for(const S of Object.keys(j.value))S in y.value||delete j.value[S];for(const[S,{value:m}]of Object.entries(y.value))An(j.value[S],m)||(j.value[S]=m)}k(y,S=>{O()},{deep:!0});const{handleSubmit:w}=Ql({forceValidateAllFields:d,formState:{value:c,setFormState:g},emit:t,isValid:I,updateFormData:O,validationType:l,formInputs:y,formName:o});function F(S,m){g({isSubmitting:!!S,isSubmitted:!!m})}function A(S={}){v(S),g({isSubmitting:!1,isSubmitted:!1}),O()}const{setValue:x}=wwLib.wwVariable.useComponentVariable({uid:e.wwElementState.uid,name:"form",type:"object",defaultValue:{}}),_=b(()=>({formData:j.value,fields:y.value,isSubmitting:c.isSubmitting.value,isSubmitted:c.isSubmitted.value,isValid:I.value})),h={setFormState:{method:F,editor:{label:"Set form state",elementName:"Form",description:"Set isSubmitting and isSubmitted",args:[{name:"isSubmitting",type:"boolean"},{name:"isSubmitted",type:"boolean"}]}},submitForm:{method:w,editor:{label:"Submit form",elementName:"Form",description:"Submit the form",args:[]}},resetForm:{method:A,editor:{label:"Reset form",elementName:"Form",description:"Reset the form fields to their initial values",args:[{name:"initialValues",type:"object",description:"Optional object with initial values for specific fields",required:!1}]}}};return k(_,S=>x(S),{deep:!0,immediate:!0}),Ce("_wwForm:info",{uid:e.wwElementState.uid,componentId:a.value,name:o,validationType:l,debounceDelay:f}),Ce("_wwForm:useForm",Zl),wwLib.wwElement.useRegisterElementLocalContext("form",_,h,`### Form local informations

#### inputs
Object containing all form inputs. Each input contains:
- \`value\`: Input's current value
- \`isValid\`: Boolean indicating if input passes validation (optional)`),Wn(()=>{var S;a.value=(S=i==null?void 0:i.value)==null?void 0:S.getAttribute("data-ww-component-id")}),{formRef:i,isEditing:n,isSelected:r,formName:o,handleSubmit:w,formState:c,_setFormState:F,resetForm:A}}},nc=["name","autocomplete","aria-busy","aria-invalid"];function rc(e,t,n,r,i,a){const o=Z("wwLayout");return B(),le("form",{ref:"formRef",name:r.formName,autocomplete:n.content.autocomplete,class:Ae(["ww-form-container",{editing:r.isEditing,selected:r.isSelected}]),"aria-busy":r.formState.isSubmitting,"aria-invalid":!r.formState.isValid,"data-ww-flag":"form-container",onSubmit:t[0]||(t[0]=Yt((...l)=>r.handleSubmit&&r.handleSubmit(...l),["prevent"]))},[Ke(o,{class:"ww-form-container__content",path:"formContent","ww-responsive":"wwLayout"})],42,nc)}const pc=ce(tc,[["render",rc],["__scopeId","data-v-8d6bab0c"]]),ac={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update:content:effect","update:content","element-event"],setup(){const{hasLink:e,tag:t,properties:n}=wwLib.wwElement.useLink(),r=wwLib.wwElement.useBackgroundVideo();return{hasLink:e,properties:n,backgroundVideo:r,tag:t}},computed:{children(){return!this.content.children||!Array.isArray(this.content.children)?[]:this.content.children},isFixed(){return this.wwElementState.props.isFixed},noDropzone(){return this.wwElementState.props.noDropzone},isEditing(){return!1}},methods:{onElementClick(e){let t=e.currentTarget.dataset.wwFlexboxIndex,n=parseInt(t);isNaN(n)&&(n=0),this.$emit("element-event",{type:"click",index:n})}}};function ic(e,t,n,r,i,a){const o=Z("wwSimpleLayout"),l=Z("wwBackgroundVideo"),f=Z("wwElement",!0),c=Z("wwLayout");return a.noDropzone?(B(),Y(o,H({key:0,tag:r.tag,class:"ww-flexbox","ww-responsive":"wwLayoutSlot"},r.properties,{class:{"-link":r.hasLink&&!a.isEditing}}),{default:Oe(()=>[bt(e.$slots,"default",{},void 0,!0)]),_:3},16,["tag","class"])):(B(),Y(c,H({key:1,class:"ww-flexbox",path:"children",direction:n.content.direction,"disable-edit":a.isFixed,"ww-responsive":"wwLayout",tag:r.tag},r.properties,{class:{"-link":r.hasLink&&!a.isEditing}}),{header:Oe(()=>[r.backgroundVideo?(B(),Y(l,{key:0,video:r.backgroundVideo},null,8,["video"])):de("",!0),a.noDropzone?de("",!0):bt(e.$slots,"default",{key:1},void 0,!0)]),default:Oe(({item:g,index:s,itemStyle:u})=>[Ke(f,H(g,{"extra-style":u,class:"ww-flexbox__object","ww-responsive":`wwobject-${s}`,"data-ww-flexbox-index":s,onClick:a.onElementClick}),null,16,["extra-style","ww-responsive","data-ww-flexbox-index","onClick"])]),_:3},16,["direction","disable-edit","tag","class"]))}const wc=ce(ac,[["render",ic],["__scopeId","data-v-14f7a5a5"]]);function oc(){function e(r,i){switch(r){case"fade":return"fade-transition";case"slide-in":switch(i){default:return"slide-in-left-transition";case"left":return"slide-in-left-transition";case"right":return"slide-in-right-transition";case"top":return"slide-in-top-transition";case"bottom":return"slide-in-bottom-transition"}case"zoom":return"zoom-transition";default:return""}}function t(r,i,a,o){const l={position:"fixed"};switch(r){case"left":l.left=0,l["--align-items"]="flex-start";break;case"right":l.right=0,l["--align-items"]="flex-end";break;case"custom":l.left=a,l["--align-items"]="flex-start";break;default:l.left="50%",l["--translate-x"]="-50%",l["--align-items"]="center";break}switch(i){case"top":l.top=0,l["--justify-content"]="flex-start";break;case"bottom":l.bottom=0,l["--justify-content"]="flex-end";break;case"custom":l.top=o,l["--justify-content"]="flex-start";break;default:l.top="50%",l["--translate-y"]="-50%",l["--justify-content"]="center";break}return l}function n(r){const i={position:"fixed"};switch(r){case"left":Object.assign(i,{height:"100dvh",top:0,bottom:0,left:0});break;case"right":Object.assign(i,{height:"100dvh",top:0,bottom:0,right:0});break;case"top":Object.assign(i,{width:"100dvw",top:0,left:0,right:0,"--content-flow":"column"});break;case"bottom":Object.assign(i,{width:"100dvw",bottom:0,left:0,right:0,"--content-flow":"column"});break}return i}return{getModalStyle:t,getSheetStyle:n,getTransitionName:e}}const mt={props:{content:{type:Object,required:!0},uid:{type:String,required:!0}},events:[],setup(e,{emit:t}){const n=fe("_wwPopupStacked",!1),r=b(()=>!1),{getModalStyle:i,getSheetStyle:a}=oc();nt(()=>{e.content.preventScroll&&!r.value&&!Ee(n)?wwLib.getFrontDocument().documentElement.classList.add("ww-dialog-open"):wwLib.getFrontDocument().documentElement.classList.remove("ww-dialog-open")});const o=b(()=>e.content.animationDuration+"ms"),l=b(()=>e.content.animationEasing),f=b(()=>{let s={};switch(e.content.type){case"modal":s=i(e.content.sideModal,e.content.align,e.content.customPositionX,e.content.customPositionY);break;case"sheet":s=a(e.content.sideSheet);break}return s}),c=fe("_wwLocalContext",null);function g(s){var u,y,d;r.value||s.key==="Escape"&&e.content.escClose&&((d=(y=(u=Ee(c))==null?void 0:u.methods)==null?void 0:y.popup)==null||d.close.method())}return nt(()=>{e.content.escClose&&!n?wwLib.getFrontDocument().addEventListener("keydown",g):wwLib.getFrontDocument().removeEventListener("keydown",g)}),tt(()=>{wwLib.getFrontDocument().removeEventListener("keydown",g),wwLib.getFrontDocument().documentElement.classList.remove("ww-dialog-open")}),{dialogStyle:f,animationClasses:b(()=>({"fade-animation":e.content.animation==="fade","zoomin-animation":e.content.animation==="zoom","slideDown-animation":e.content.animation==="slide-in"&&e.content.slideInDirection==="bottom","slideUp-animation":e.content.animation==="slide-in"&&e.content.slideInDirection==="top","slideLeft-animation":e.content.animation==="slide-in"&&e.content.slideInDirection==="left","slideRight-animation":e.content.animation==="slide-in"&&e.content.slideInDirection==="right"})),animationDuration:o,animationEasing:l,onRootClick:()=>{var s,u,y;r.value||e.content.overlay&&e.content.overlayClickCloses&&((y=(u=(s=Ee(c))==null?void 0:s.methods)==null?void 0:u.popup)==null||y.close.method())},onCloseInterceptorClick:s=>{var u,y,d;r.value||(s.stopPropagation(),e.content.clickOutsideCloses&&((d=(y=(u=Ee(c))==null?void 0:u.methods)==null?void 0:y.popup)==null||d.close.method()))},onInterceptorClick:s=>{r.value||e.content.preventInteractionsOutside&&(s.stopPropagation(),s.preventDefault())},isEditing:r,isStacked:n}}},Wt=()=>{Zn(e=>({"7e2415f7":e.content.overlayBackgroundColor,"1fa8899b":e.animationDuration,"6267cef2":e.animationEasing}))},Xt=mt.setup;mt.setup=Xt?(e,t)=>(Wt(),Xt(e,t)):Wt;function lc(e,t,n,r,i,a){const o=Z("wwLayout");return r.isStacked?(B(),Y(o,{key:1,path:"children",role:"dialog"})):(B(),le("div",{key:0,class:Ae(["ww-dialog",[{overlay:n.content.overlay,"no-overlay":!n.content.overlay,transform:!n.content.overlay,"-modal":n.content.type==="modal","-editing":r.isEditing},!n.content.overlay&&r.animationClasses]]),style:Ve(!n.content.overlay&&r.dialogStyle),onClick:t[1]||(t[1]=Yt((...l)=>r.onRootClick&&r.onRootClick(...l),["self"]))},[n.content.overlay?de("",!0):(B(),le(Xn,{key:0},[n.content.clickOutsideCloses?(B(),le("div",{key:0,onClick:t[0]||(t[0]=(...l)=>r.onCloseInterceptorClick&&r.onCloseInterceptorClick(...l)),class:"interceptor"})):de("",!0)],64)),Ke(o,{path:"children",class:Ae(["content",[{transform:n.content.overlay,"-modal":n.content.type==="modal"},n.content.overlay&&r.animationClasses]]),role:"dialog",style:Ve(n.content.overlay&&r.dialogStyle)},null,8,["style","class"])],6))}const _c=ce(mt,[["render",lc],["__scopeId","data-v-605c1e6a"]]),cc={props:{content:{type:Object,required:!0},wwElementState:{type:Object,required:!0}},emits:["update-content","update:content:effect"],setup(){const{hasLink:e,tag:t,properties:n}=wwLib.wwElement.useLink();return{hasLink:e,linkTag:t,properties:n}},computed:{tag(){return this.hasLink?this.linkTag:this.content.tag},text(){return this.wwElementState.props.text},isEditing(){return!1}},methods:{}};function uc(e,t,n,r,i,a){const o=Z("wwText");return B(),Y(o,H({tag:a.tag,text:a.text},r.properties,{class:{"-link":r.hasLink&&!a.isEditing}}),null,16,["tag","text","class"])}const Sc=ce(cc,[["render",uc],["__scopeId","data-v-7b4f8102"]]);function sc(e,t){const n=z(!1),r=z(!1),i=z(null);let a=null;const o=z(""),l=b(()=>Object.keys(e.wwElementState.props).includes("type")?e.wwElementState.props.type:e.content.type);function f(m){if(l.value!=="decimal")return m;if(m==null||m==="")return"";const L=`${m}`.replace(",","."),C=e.content.precision,ue=C.includes(".")?C.split(".")[1].length:0;return Number(L).toFixed(ue)}function c(m){return m===""||m===null||m===void 0?"":l.value==="decimal"||l.value==="number"?isNaN(parseFloat(m))?m:parseFloat(m):m}const g=b(()=>{const m=e.content.value===void 0?"":e.content.value;return l.value==="decimal"||l.value==="number"?c(m):m}),{value:s,setValue:u}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"value",type:b(()=>["decimal","number","currency"].includes(l.value)?"number":"string"),defaultValue:g});k(s,m=>{Me(()=>{o.value=s.value}),n.value||(o.value=l.value==="decimal"?f(m):String(m??""))},{immediate:!0}),k(g,()=>{u(g.value)});const y=b(()=>e.content?e.content.type==="password"?e.content.displayPassword?"text":"password":e.content.type==="decimal"?"number":e.content.type:"text"),d=b(()=>e.wwElementState.props.readonly===void 0?e.content.readonly:e.wwElementState.props.readonly),v=b(()=>{const m={...wwLib.wwUtils.getTextStyleFromContent(e.content),"--placeholder-color":e.content.placeholderColor};return delete m.whiteSpaceCollapse,delete m.whiteSpace,m}),I=b(()=>l.value==="date"?e.content.minDate:e.content.min),j=b(()=>l.value==="date"?e.content.maxDate:e.content.max),O=b(()=>["decimal","number"].includes(l.value)?e.content.step:l.value==="time"&&e.content.timePrecision||1),w=b(()=>!n.value&&y.value==="number"?"any":O.value),F=b(()=>wwLib.wwUtils.getLengthUnit(e.content.debounceDelay)[0]);function A(m){if(l.value==="decimal"&&o.value!==""){const L=c(o.value),C=f(L);o.value=C,u(parseFloat(C)),L!==s.value&&t("trigger-event",{name:"change",event:{domEvent:m,value:L}})}}function x(m){const L=m.target.value;o.value=L;let C;if(y.value==="number"&&(L===0||L&&L.length))try{C=parseFloat(L),isNaN(C)&&(C=L)}catch{C=L}else C=L;C!==s.value&&(u(C),e.content.debounce?(r.value=!0,a&&clearTimeout(a),a=setTimeout(()=>{t("trigger-event",{name:"change",event:{domEvent:m,value:C}}),t("element-event",{type:"change",value:{domEvent:m,value:C}}),r.value=!1},F.value)):(t("trigger-event",{name:"change",event:{domEvent:m,value:C}}),t("element-event",{type:"change",value:{domEvent:m,value:C}})))}function _(m){A(m),n.value=!1}function h(){d.value||i.value&&i.value.focus()}function E(){i.value&&i.value.select()}k(n,(m,L)=>{m&&!L?t("trigger-event",{name:"focus"}):!m&&L&&t("trigger-event",{name:"blur"})});const S=b(()=>n.value);return k(S,m=>{t(m?"add-state":"remove-state","focus")},{immediate:!0}),k(d,m=>{t(m?"add-state":"remove-state","readonly")},{immediate:!0}),{inputRef:i,variableValue:s,displayValue:o,isReallyFocused:n,isDebouncing:r,type:l,step:O,inputType:y,isReadonly:d,style:v,min:I,max:j,stepAttribute:w,handleManualInput:x,focusInput:h,selectInput:E,onBlur:_,isFocused:S,setValue:u}}function fc(e,{variableValue:t}={}){const n=b(()=>e.content.type==="currency"),r=b(()=>e.content.type==="currency"&&e.content.currencyShowSymbol),i=b(()=>e.content.currencySymbol||"$"),a=b(()=>e.content.currencySymbolPosition||"prefix"),o=b(()=>e.content.currencyDecimalPlaces??2),l=b(()=>e.content.currencyDecimalSeparator||"."),f=b(()=>e.content.currencyThousandsSeparator??","),c=z(null),g=z(""),{value:s,setValue:u}=wwLib.wwVariable.useComponentVariable({uid:e.uid,name:"formatted value",isActive:n}),y=b(()=>({left:a.value==="prefix"?e.content.currencySymbolPadding??"0px":"auto",right:a.value==="suffix"?e.content.currencySymbolPadding??"0px":"auto",fontSize:e.content.currencySymbolFontSize||"inherit",color:e.content.currencySymbolColor||"inherit"})),d=()=>{if(!t.value)return"";const w=O(t.value);s.value!==w&&u(w)},v=()=>{if(!t.value)return"";const w=O(t.value);s.value!==w&&u(w)},I=async()=>{await Me(),r.value&&c.value&&(g.value={[`padding-${a.value==="prefix"?"left":"right"}`]:`${e.content.currencySymbolPadding}`})},j=(w,F)=>{if(!w)return"";let A=w.replace(/\D/g,"");if(!F)return A;let x="";for(let _=0;_<A.length;_++)_>0&&(A.length-_)%3===0&&(x+=F),x+=A[_];return x},O=(w,F={})=>{const{padZeros:A=!0,includeSymbol:x=!0}=F;if(w==null||w==="")return"";let _=w.toString();const h=i.value;a.value==="prefix"&&_.startsWith(h)?_=_.substring(h.length):a.value==="suffix"&&_.endsWith(h)&&(_=_.substring(0,_.length-h.length));let E=-1;l.value&&_.includes(l.value)?E=_.lastIndexOf(l.value):E=Math.max(_.lastIndexOf("."),_.lastIndexOf(","));let S="",m="";E>=0?(S=_.substring(0,E),m=_.substring(E+1),m=m.replace(/\D/g,""),A?m=m.padEnd(o.value,"0").substring(0,o.value):m=m.substring(0,o.value)):(S=_,m=A?"0".repeat(o.value):"");const L=S.replace(/\D/g,"");S=j(L,f.value);let C=S;return(m||E>=0&&!A||A&&o.value>0)&&(C+=l.value+m),x&&r.value&&i.value&&(a.value==="prefix"?C=i.value+C:C=C+i.value),C};return k([r,()=>e.content.currencySymbol,()=>e.content.currencySymbolPosition,()=>e.content.currencySymbolPadding],async()=>{n.value&&await I()}),k([()=>e.content.currencyDecimalPlaces,()=>e.content.currencyDecimalSeparator,()=>e.content.currencyThousandsSeparator],async()=>{if(n.value){const w=O(t.value);s.value!==w&&u(w)}}),nt(async()=>{if(n.value){const w=O(t.value);s.value!==w&&u(w),await Me(),await I()}},{immediate:!0}),{isCurrencyType:n,showCurrencySymbol:r,currencySymbol:i,symbolPosition:a,decimalPlaces:o,decimalSeparator:l,thousandsSeparator:f,currencySymbolRef:c,currencyInputStyle:g,currencySymbolStyle:y,updateCurrencyInputStyle:I,onCurrencyBlur:d,onCurrencyFocus:v,formattedCurrencyValue:s,formatCurrency:O}}const dc={props:{content:{type:Object,required:!0},uid:{type:String,required:!0},wwElementState:{type:Object,required:!0}},emits:["element-event","trigger-event","add-state","remove-state","update:content:effect","update:sidepanel-content"],setup(e,{emit:t}){const n=b(()=>!1),{inputRef:r,variableValue:i,displayValue:a,isReallyFocused:o,isDebouncing:l,type:f,step:c,inputType:g,isReadonly:s,style:u,min:y,max:d,stepAttribute:v,handleManualInput:I,focusInput:j,selectInput:O,onBlur:w,setValue:F}=sc(e,t),A=b(()=>wwLib.wwUtils.getLengthUnit(e.content.debounceDelay)[0]),{showCurrencySymbol:x,currencySymbol:_,currencySymbolRef:h,currencySymbolStyle:E,currencyInputStyle:S,symbolPosition:m,onCurrencyBlur:L,onCurrencyFocus:C,formattedCurrencyValue:ue,formatCurrency:jn}=fc(e,{variableValue:i}),U=z("");let Fe=!1,He=null;k([()=>e.content.type,()=>e.content.value,i],([p,V,$],[X,R,M])=>{const N=V??$,T=V!==R&&V!==void 0&&V!==null;if(p==="currency"&&(!Fe||T))if(N!=null&&N!==""){const J=jn(N,{padZeros:!0,includeSymbol:!1});U.value!==J&&(U.value=J),T&&(Fe=!1)}else U.value!==""&&(U.value="")},{immediate:!0});function Pn(p){const V=e.content.currencyDecimalSeparator||".",$=e.content.currencyDecimalPlaces??2;if(!([8,9,27,13,46].indexOf(p.keyCode)!==-1||p.keyCode===65&&p.ctrlKey===!0||p.keyCode===67&&p.ctrlKey===!0||p.keyCode===86&&p.ctrlKey===!0||p.keyCode===88&&p.ctrlKey===!0||p.keyCode>=35&&p.keyCode<=40)&&!(p.key===V&&!p.target.value.includes(V))){if(/^[0-9]$/.test(p.key)){const X=p.target.value,R=p.target.selectionStart,M=X.indexOf(V);if(M>=0&&R>M&&X.substring(M+1).length>=$){p.preventDefault();return}return}p.preventDefault()}}function Fn(p){if(e.content.type!=="currency")return;Fe=!1;const $=p.target.value,X=e.content.currencyDecimalSeparator||".",R=e.content.currencyDecimalPlaces??2;if($&&R>0){const M=$.split(X),N=M[0];let T=M[1]||"";T.length<R&&(T=T.padEnd(R,"0"));const J=N+X+T;U.value!==J&&(U.value=J)}w(p)}function Dn(p){Fe=!0;const V=p.target,$=V.value,X=V.selectionStart,R=e.content.currencyThousandsSeparator??",",M=e.content.currencyDecimalSeparator||".",N=e.content.currencyDecimalPlaces??2;if($===U.value)return;R===M&&console.warn("⚠️ Warning: Thousands separator and decimal separator are the same:",R);let T=$,J=!1;const zn=new RegExp(`[^\\d\\.,\\s'${R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}${M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}]`,"g");T=T.replace(zn,"");const Gn=[",","."];let We=null;for(const K of Gn)if(K!==R&&T.includes(K)){We=K,J=!0;break}if(J&&We){const K=T.lastIndexOf(We);K!==-1&&(T=T.substring(0,K)+"."+T.substring(K+1))}if(R)if(J){const K=T.lastIndexOf(".");if(K!==-1){const Te=T.substring(0,K),pe=T.substring(K+1);let te;R==="."?te=Te.replace(/\./g,""):te=Te.replace(new RegExp(`\\${R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`,"g"),""),pe||$.endsWith(M)?T=te+"."+pe:T=te}}else R==="."&&T.includes(".")?T=T.replace(/\./g,""):T=T.replace(new RegExp(`\\${R.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}`,"g"),"");let Xe=T.split("."),_e=Xe[0]||"",he=Xe[1]||"";he.length>N&&(he=he.substring(0,N));const yt=_e+(he?"."+he:""),Se=yt===""?"":parseFloat(yt)||0;_e&&R&&(_e=_e.replace(/\B(?=(\d{3})+(?!\d))/g,R));let Q=_e;(Xe.length>1||$.includes(M))&&(Q+=M+he),$.length,Q.length;let ee;if(X>=$.length)ee=Q.length;else{const Te=$.substring(0,X).replace(new RegExp(`[^\\d${M.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}]`,"g"),"");let pe=0;ee=0;for(let te=0;te<Q.length;te++){const gt=Q[te];if(/\d/.test(gt)||gt===M)if(pe<Te.length)pe++,ee=te+1;else break}pe<Te.length&&(ee=Q.length)}ee=Math.min(Q.length,Math.max(0,ee)),F(Se),U.value!==Q&&(U.value=Q),Me(()=>{V.selectionStart!==ee&&V.setSelectionRange(ee,ee)}),e.content.debounce?(l.value=!0,He&&clearTimeout(He),He=setTimeout(()=>{t("trigger-event",{name:"change",event:{domEvent:p,value:Se}}),t("element-event",{type:"change",value:{domEvent:p,value:Se}}),l.value=!1},A.value)):(t("trigger-event",{name:"change",event:{domEvent:p,value:Se}}),t("element-event",{type:"change",value:{domEvent:p,value:Se}}))}const Ln=fe("_wwForm:useForm",()=>{}),$n=b(()=>e.content.fieldName),Rn=b(()=>e.content.validation),Vn=b(()=>e.content.customValidation),Mn=b(()=>e.content.required);Ln(i,{fieldName:$n,validation:Rn,customValidation:Vn,required:Mn,initialValue:b(()=>e.content.value)},{elementState:e.wwElementState,emit:t,sidepanelFormPath:"form",setValue:F});const kn=b(()=>({...e.wwElementState.props.attributes,key:"ww-input-basic-"+c.value,value:e.content.type==="currency"?U.value:a.value,type:g.value,name:e.wwElementState.name,readonly:s.value||n.value,required:e.content.required,autocomplete:e.content.autocomplete?"on":"off",placeholder:wwLib.wwLang.getText(e.content.placeholder),style:u.value,min:y.value,max:d.value,step:v.value})),Bn=b(()=>({...e.wwElementState.props.attributes,value:a.value,type:e.content.type,name:e.wwElementState.name,readonly:s.value||n.value,required:e.content.required,placeholder:wwLib.wwLang.getText(e.content.placeholder),rows:e.content.rows,style:[u.value,{resize:e.content.resize?"":"none"}]})),Nn=b(()=>({hideArrows:e.content.hideArrows&&g.value==="number","date-placeholder":e.content.type==="date"&&!i.value,"-readonly":s.value,editing:n.value}));function Un(){t("trigger-event",{name:"onEnterKey",event:{value:i.value}})}function Kn(p){if(e.content.type==="color"&&(s.value||n.value))return p.preventDefault(),p.stopPropagation(),!1}return k(()=>e.content.value,p=>{t("trigger-event",{name:"initValueChange",event:{value:p}})}),k([()=>e.content.currencyThousandsSeparator,()=>e.content.currencyDecimalSeparator,()=>e.content.currencyDecimalPlaces],()=>{if(e.content.type==="currency"&&U.value){const p=e.content.currencyThousandsSeparator??",",V=e.content.currencyDecimalSeparator||".",$=e.content.currencyDecimalPlaces??2;if(p===V){console.warn("⚠️ Warning: Thousands separator and decimal separator are the same:",p);return}let M=(i.value||0).toString().split("."),N=M[0]||"",T=M[1]||"";N&&p&&(N=N.replace(/\B(?=(\d{3})+(?!\d))/g,p)),$>0&&(T.length<$?T=T.padEnd($,"0"):T.length>$&&(T=T.substring(0,$)),(T||M.length>1)&&(N+=V+T)),U.value!==N&&(U.value=N)}}),{inputRef:r,isReallyFocused:o,isDebouncing:l,type:f,step:c,inputType:g,isReadonly:s,style:u,isEditing:n,min:y,max:d,stepAttribute:v,handleManualInput:I,focusInput:j,selectInput:O,onBlur:w,inputBindings:kn,textareaBindings:Bn,inputClasses:Nn,onEnter:Un,handleColorInputClick:Kn,handleCurrencyInput:Dn,handleCurrencyKeydown:Pn,handleCurrencyBlur:Fn,currencyDisplayValue:U,showCurrencySymbol:x,currencySymbolStyle:E,currencySymbol:_,currencySymbolRef:h,currencyInputStyle:S,onCurrencyBlur:L,onCurrencyFocus:C,formattedCurrencyValue:ue,symbolPosition:m}}};function mc(e,t,n,r,i,a){return n.content.type=="currency"?(B(),le("div",{key:0,onClick:t[5]||(t[5]=(...o)=>r.focusInput&&r.focusInput(...o))},[et("div",{class:Ae(["input-currency-wrapper",{"has-currency-symbol":r.showCurrencySymbol}]),style:Ve({"flex-direction":`${r.symbolPosition=="prefix"?"row":"row-reverse"}`})},[r.showCurrencySymbol?(B(),le("span",{key:0,ref:"currencySymbolRef",class:"currency-symbol",style:Ve([r.currencySymbolStyle,{padding:r.style.padding}])},Yn(r.currencySymbol),5)):de("",!0),et("input",H({ref:"inputRef"},r.inputBindings,{class:["ww-input-basic currency-type",[r.inputClasses]],style:r.showCurrencySymbol?r.currencyInputStyle:{},type:"text",onInput:t[0]||(t[0]=(...o)=>r.handleCurrencyInput&&r.handleCurrencyInput(...o)),onKeydown:t[1]||(t[1]=(...o)=>r.handleCurrencyKeydown&&r.handleCurrencyKeydown(...o)),onBlur:t[2]||(t[2]=o=>{r.isReallyFocused=!1,r.handleCurrencyBlur(o),r.onCurrencyBlur()}),onFocus:t[3]||(t[3]=()=>{r.isReallyFocused=!0,r.onCurrencyFocus()}),onKeyup:t[4]||(t[4]=se((...o)=>r.onEnter&&r.onEnter(...o),["enter"]))}),null,16)],6)])):n.content.type=="textarea"?(B(),le("textarea",H({key:1,ref:"inputRef"},r.textareaBindings,{class:["ww-input-basic",{editing:r.isEditing}],onInput:t[6]||(t[6]=(...o)=>r.handleManualInput&&r.handleManualInput(...o)),onFocus:t[7]||(t[7]=o=>r.isReallyFocused=!0),onBlur:t[8]||(t[8]=(...o)=>r.onBlur&&r.onBlur(...o)),onKeyup:t[9]||(t[9]=se((...o)=>r.onEnter&&r.onEnter(...o),["enter"]))}),null,16)):(B(),le("input",H({key:2,ref:"inputRef"},r.inputBindings,{class:["ww-input-basic",[r.inputClasses]],onInput:t[10]||(t[10]=(...o)=>r.handleManualInput&&r.handleManualInput(...o)),onBlur:t[11]||(t[11]=(...o)=>r.onBlur&&r.onBlur(...o)),onFocus:t[12]||(t[12]=o=>r.isReallyFocused=!0),onClick:t[13]||(t[13]=(...o)=>r.handleColorInputClick&&r.handleColorInputClick(...o)),onKeyup:t[14]||(t[14]=se((...o)=>r.onEnter&&r.onEnter(...o),["enter"]))}),null,16))}const Tc=ce(dc,[["render",mc],["__scopeId","data-v-71f82519"]]),yc={props:{content:{type:Object,required:!0}}};function gc(e,t,n,r,i,a){const o=Z("wwLayout");return B(),Y(o,{path:"wwObjects",class:"section-base"})}const xc=ce(yc,[["render",gc],["__scopeId","data-v-8a232652"]]);export{hc as a,pc as b,wc as c,_c as d,bc as e,Sc as f,Tc as g,xc as s};
